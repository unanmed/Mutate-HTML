import{r as it,d as Ke,i as Zv,o as fn,a as mt,c as Ft,b as G,e as fe,F as yi,_ as ml,p as Cs,f as Os,g as H,h as ty,j as ey,w as Vn,k as Lt,l as ss,u as W,n as kt,t as pt,S as ny,m as un,C as ry,M as gl,q as Rs,B as vl,s as iy,v as cn,x as yl,y as oy,z as sy,P as ay,L as _l,R as uy,A as cy,D as ly,E as wl,G as fy,H as bl,I as xl,J as hy,K as dy,N as py,O as my,Q as gy}from"./antdv.e26d9f6e.js";function xb(){import("data:text/javascript,")}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerpolicy&&(c.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?c.credentials="include":u.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(u){if(u.ep)return;u.ep=!0;const c=n(u);fetch(u.href,c)}})();function El(r,o){return function(){return r.apply(o,arguments)}}const{toString:Tl}=Object.prototype,{getPrototypeOf:js}=Object,Fs=(r=>o=>{const n=Tl.call(o);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ye=r=>(r=r.toLowerCase(),o=>Fs(o)===r),ki=r=>o=>typeof o===r,{isArray:Tr}=Array,ws=ki("undefined");function vy(r){return r!==null&&!ws(r)&&r.constructor!==null&&!ws(r.constructor)&&Xn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Al=Ye("ArrayBuffer");function yy(r){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(r):o=r&&r.buffer&&Al(r.buffer),o}const _y=ki("string"),Xn=ki("function"),Sl=ki("number"),kl=r=>r!==null&&typeof r=="object",wy=r=>r===!0||r===!1,_i=r=>{if(Fs(r)!=="object")return!1;const o=js(r);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},by=Ye("Date"),xy=Ye("File"),Ey=Ye("Blob"),Ty=Ye("FileList"),Ay=r=>kl(r)&&Xn(r.pipe),Sy=r=>{const o="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||Tl.call(r)===o||Xn(r.toString)&&r.toString()===o)},ky=Ye("URLSearchParams"),Cy=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ci(r,o,{allOwnKeys:n=!1}={}){if(r===null||typeof r>"u")return;let s,u;if(typeof r!="object"&&(r=[r]),Tr(r))for(s=0,u=r.length;s<u;s++)o.call(null,r[s],s,r);else{const c=n?Object.getOwnPropertyNames(r):Object.keys(r),f=c.length;let m;for(s=0;s<f;s++)m=c[s],o.call(null,r[m],m,r)}}function bs(){const r={},o=(n,s)=>{_i(r[s])&&_i(n)?r[s]=bs(r[s],n):_i(n)?r[s]=bs({},n):Tr(n)?r[s]=n.slice():r[s]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Ci(arguments[n],o);return r}const Oy=(r,o,n,{allOwnKeys:s}={})=>(Ci(o,(u,c)=>{n&&Xn(u)?r[c]=El(u,n):r[c]=u},{allOwnKeys:s}),r),Ry=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),jy=(r,o,n,s)=>{r.prototype=Object.create(o.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:o.prototype}),n&&Object.assign(r.prototype,n)},Fy=(r,o,n,s)=>{let u,c,f;const m={};if(o=o||{},r==null)return o;do{for(u=Object.getOwnPropertyNames(r),c=u.length;c-- >0;)f=u[c],(!s||s(f,r,o))&&!m[f]&&(o[f]=r[f],m[f]=!0);r=n!==!1&&js(r)}while(r&&(!n||n(r,o))&&r!==Object.prototype);return o},By=(r,o,n)=>{r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=o.length;const s=r.indexOf(o,n);return s!==-1&&s===n},Py=r=>{if(!r)return null;if(Tr(r))return r;let o=r.length;if(!Sl(o))return null;const n=new Array(o);for(;o-- >0;)n[o]=r[o];return n},Dy=(r=>o=>r&&o instanceof r)(typeof Uint8Array<"u"&&js(Uint8Array)),$y=(r,o)=>{const s=(r&&r[Symbol.iterator]).call(r);let u;for(;(u=s.next())&&!u.done;){const c=u.value;o.call(r,c[0],c[1])}},Iy=(r,o)=>{let n;const s=[];for(;(n=r.exec(o))!==null;)s.push(n);return s},Ny=Ye("HTMLFormElement"),My=r=>r.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,s,u){return s.toUpperCase()+u}),Ac=(({hasOwnProperty:r})=>(o,n)=>r.call(o,n))(Object.prototype),Ly=Ye("RegExp"),Cl=(r,o)=>{const n=Object.getOwnPropertyDescriptors(r),s={};Ci(n,(u,c)=>{o(u,c,r)!==!1&&(s[c]=u)}),Object.defineProperties(r,s)},Uy=r=>{Cl(r,(o,n)=>{const s=r[n];if(!!Xn(s)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not read-only method '"+n+"'")})}})},zy=(r,o)=>{const n={},s=u=>{u.forEach(c=>{n[c]=!0})};return Tr(r)?s(r):s(String(r).split(o)),n},Wy=()=>{},Hy=(r,o)=>(r=+r,Number.isFinite(r)?r:o),O={isArray:Tr,isArrayBuffer:Al,isBuffer:vy,isFormData:Sy,isArrayBufferView:yy,isString:_y,isNumber:Sl,isBoolean:wy,isObject:kl,isPlainObject:_i,isUndefined:ws,isDate:by,isFile:xy,isBlob:Ey,isRegExp:Ly,isFunction:Xn,isStream:Ay,isURLSearchParams:ky,isTypedArray:Dy,isFileList:Ty,forEach:Ci,merge:bs,extend:Oy,trim:Cy,stripBOM:Ry,inherits:jy,toFlatObject:Fy,kindOf:Fs,kindOfTest:Ye,endsWith:By,toArray:Py,forEachEntry:$y,matchAll:Iy,isHTMLForm:Ny,hasOwnProperty:Ac,hasOwnProp:Ac,reduceDescriptors:Cl,freezeMethods:Uy,toObjectSet:zy,toCamelCase:My,noop:Wy,toFiniteNumber:Hy};function lt(r,o,n,s,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",o&&(this.code=o),n&&(this.config=n),s&&(this.request=s),u&&(this.response=u)}O.inherits(lt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ol=lt.prototype,Rl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Rl[r]={value:r}});Object.defineProperties(lt,Rl);Object.defineProperty(Ol,"isAxiosError",{value:!0});lt.from=(r,o,n,s,u,c)=>{const f=Object.create(Ol);return O.toFlatObject(r,f,function(v){return v!==Error.prototype},m=>m!=="isAxiosError"),lt.call(f,r.message,o,n,s,u),f.cause=r,f.name=r.name,c&&Object.assign(f,c),f};var Vy=typeof self=="object"?self.FormData:window.FormData;function xs(r){return O.isPlainObject(r)||O.isArray(r)}function jl(r){return O.endsWith(r,"[]")?r.slice(0,-2):r}function Sc(r,o,n){return r?r.concat(o).map(function(u,c){return u=jl(u),!n&&c?"["+u+"]":u}).join(n?".":""):o}function qy(r){return O.isArray(r)&&!r.some(xs)}const Jy=O.toFlatObject(O,{},null,function(o){return/^is[A-Z]/.test(o)});function Ky(r){return r&&O.isFunction(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator]}function Oi(r,o,n){if(!O.isObject(r))throw new TypeError("target must be an object");o=o||new(Vy||FormData),n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function($,M){return!O.isUndefined(M[$])});const s=n.metaTokens,u=n.visitor||x,c=n.dots,f=n.indexes,v=(n.Blob||typeof Blob<"u"&&Blob)&&Ky(o);if(!O.isFunction(u))throw new TypeError("visitor must be a function");function p(F){if(F===null)return"";if(O.isDate(F))return F.toISOString();if(!v&&O.isBlob(F))throw new lt("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(F)||O.isTypedArray(F)?v&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function x(F,$,M){let P=F;if(F&&!M&&typeof F=="object"){if(O.endsWith($,"{}"))$=s?$:$.slice(0,-2),F=JSON.stringify(F);else if(O.isArray(F)&&qy(F)||O.isFileList(F)||O.endsWith($,"[]")&&(P=O.toArray(F)))return $=jl($),P.forEach(function(D,bt){!O.isUndefined(D)&&o.append(f===!0?Sc([$],bt,c):f===null?$:$+"[]",p(D))}),!1}return xs(F)?!0:(o.append(Sc(M,$,c),p(F)),!1)}const _=[],S=Object.assign(Jy,{defaultVisitor:x,convertValue:p,isVisitable:xs});function B(F,$){if(!O.isUndefined(F)){if(_.indexOf(F)!==-1)throw Error("Circular reference detected in "+$.join("."));_.push(F),O.forEach(F,function(P,R){(!O.isUndefined(P)&&u.call(o,P,O.isString(R)?R.trim():R,$,S))===!0&&B(P,$?$.concat(R):[R])}),_.pop()}}if(!O.isObject(r))throw new TypeError("data must be an object");return B(r),o}function kc(r){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return o[s]})}function Bs(r,o){this._pairs=[],r&&Oi(r,this,o)}const Fl=Bs.prototype;Fl.append=function(o,n){this._pairs.push([o,n])};Fl.toString=function(o){const n=o?function(s){return o.call(this,s,kc)}:kc;return this._pairs.map(function(u){return n(u[0])+"="+n(u[1])},"").join("&")};function Yy(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Bl(r,o,n){if(!o)return r;const s=r.indexOf("#");s!==-1&&(r=r.slice(0,s));const u=n&&n.encode||Yy,c=O.isURLSearchParams(o)?o.toString():new Bs(o,n).toString(u);return c&&(r+=(r.indexOf("?")===-1?"?":"&")+c),r}class Cc{constructor(){this.handlers=[]}use(o,n,s){return this.handlers.push({fulfilled:o,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){O.forEach(this.handlers,function(s){s!==null&&o(s)})}}const Pl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xy=typeof URLSearchParams<"u"?URLSearchParams:Bs,Gy=FormData,Qy=(()=>{let r;return typeof navigator<"u"&&((r=navigator.product)==="ReactNative"||r==="NativeScript"||r==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Je={isBrowser:!0,classes:{URLSearchParams:Xy,FormData:Gy,Blob},isStandardBrowserEnv:Qy,protocols:["http","https","file","blob","url","data"]};function Zy(r,o){return Oi(r,new Je.classes.URLSearchParams,Object.assign({visitor:function(n,s,u,c){return Je.isNode&&O.isBuffer(n)?(this.append(s,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},o))}function t1(r){return O.matchAll(/\w+|\[(\w*)]/g,r).map(o=>o[0]==="[]"?"":o[1]||o[0])}function e1(r){const o={},n=Object.keys(r);let s;const u=n.length;let c;for(s=0;s<u;s++)c=n[s],o[c]=r[c];return o}function Dl(r){function o(n,s,u,c){let f=n[c++];const m=Number.isFinite(+f),v=c>=n.length;return f=!f&&O.isArray(u)?u.length:f,v?(O.hasOwnProp(u,f)?u[f]=[u[f],s]:u[f]=s,!m):((!u[f]||!O.isObject(u[f]))&&(u[f]=[]),o(n,s,u[f],c)&&O.isArray(u[f])&&(u[f]=e1(u[f])),!m)}if(O.isFormData(r)&&O.isFunction(r.entries)){const n={};return O.forEachEntry(r,(s,u)=>{o(t1(s),u,n,0)}),n}return null}function n1(r,o,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?r(n):o(new lt("Request failed with status code "+n.status,[lt.ERR_BAD_REQUEST,lt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const r1=Je.isStandardBrowserEnv?function(){return{write:function(n,s,u,c,f,m){const v=[];v.push(n+"="+encodeURIComponent(s)),O.isNumber(u)&&v.push("expires="+new Date(u).toGMTString()),O.isString(c)&&v.push("path="+c),O.isString(f)&&v.push("domain="+f),m===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(n){const s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function i1(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function o1(r,o){return o?r.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):r}function $l(r,o){return r&&!i1(o)?o1(r,o):o}const s1=Je.isStandardBrowserEnv?function(){const o=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function u(c){let f=c;return o&&(n.setAttribute("href",f),f=n.href),n.setAttribute("href",f),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=u(window.location.href),function(f){const m=O.isString(f)?u(f):f;return m.protocol===s.protocol&&m.host===s.host}}():function(){return function(){return!0}}();function Ar(r,o,n){lt.call(this,r==null?"canceled":r,lt.ERR_CANCELED,o,n),this.name="CanceledError"}O.inherits(Ar,lt,{__CANCEL__:!0});function a1(r){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return o&&o[1]||""}const u1=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),c1=r=>{const o={};let n,s,u;return r&&r.split(`
`).forEach(function(f){u=f.indexOf(":"),n=f.substring(0,u).trim().toLowerCase(),s=f.substring(u+1).trim(),!(!n||o[n]&&u1[n])&&(n==="set-cookie"?o[n]?o[n].push(s):o[n]=[s]:o[n]=o[n]?o[n]+", "+s:s)}),o},Oc=Symbol("internals"),Il=Symbol("defaults");function xr(r){return r&&String(r).trim().toLowerCase()}function vi(r){return r===!1||r==null?r:String(r)}function l1(r){const o=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(r);)o[s[1]]=s[2];return o}function Rc(r,o,n,s){if(O.isFunction(s))return s.call(this,o,n);if(!!O.isString(o)){if(O.isString(s))return o.indexOf(s)!==-1;if(O.isRegExp(s))return s.test(o)}}function f1(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,n,s)=>n.toUpperCase()+s)}function h1(r,o){const n=O.toCamelCase(" "+o);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+n,{value:function(u,c,f){return this[s].call(this,o,u,c,f)},configurable:!0})})}function _r(r,o){o=o.toLowerCase();const n=Object.keys(r);let s=n.length,u;for(;s-- >0;)if(u=n[s],o===u.toLowerCase())return u;return null}function we(r,o){r&&this.set(r),this[Il]=o||null}Object.assign(we.prototype,{set:function(r,o,n){const s=this;function u(c,f,m){const v=xr(f);if(!v)throw new Error("header name must be a non-empty string");const p=_r(s,v);p&&m!==!0&&(s[p]===!1||m===!1)||(O.isArray(c)?c=c.map(vi):c=vi(c),s[p||f]=c)}return O.isPlainObject(r)?O.forEach(r,(c,f)=>{u(c,f,o)}):u(o,r,n),this},get:function(r,o){if(r=xr(r),!r)return;const n=_r(this,r);if(n){const s=this[n];if(!o)return s;if(o===!0)return l1(s);if(O.isFunction(o))return o.call(this,s,n);if(O.isRegExp(o))return o.exec(s);throw new TypeError("parser must be boolean|regexp|function")}},has:function(r,o){if(r=xr(r),r){const n=_r(this,r);return!!(n&&(!o||Rc(this,this[n],n,o)))}return!1},delete:function(r,o){const n=this;let s=!1;function u(c){if(c=xr(c),c){const f=_r(n,c);f&&(!o||Rc(n,n[f],f,o))&&(delete n[f],s=!0)}}return O.isArray(r)?r.forEach(u):u(r),s},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(r){const o=this,n={};return O.forEach(this,(s,u)=>{const c=_r(n,u);if(c){o[c]=vi(s),delete o[u];return}const f=r?f1(u):String(u).trim();f!==u&&delete o[u],o[f]=vi(s),n[f]=!0}),this},toJSON:function(){const r=Object.create(null);return O.forEach(Object.assign({},this[Il]||null,this),(o,n)=>{o==null||o===!1||(r[n]=O.isArray(o)?o.join(", "):o)}),r}});Object.assign(we,{from:function(r){return O.isString(r)?new this(c1(r)):r instanceof this?r:new this(r)},accessor:function(r){const n=(this[Oc]=this[Oc]={accessors:{}}).accessors,s=this.prototype;function u(c){const f=xr(c);n[f]||(h1(s,c),n[f]=!0)}return O.isArray(r)?r.forEach(u):u(r),this}});we.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);O.freezeMethods(we.prototype);O.freezeMethods(we);function d1(r,o){r=r||10;const n=new Array(r),s=new Array(r);let u=0,c=0,f;return o=o!==void 0?o:1e3,function(v){const p=Date.now(),x=s[c];f||(f=p),n[u]=v,s[u]=p;let _=c,S=0;for(;_!==u;)S+=n[_++],_=_%r;if(u=(u+1)%r,u===c&&(c=(c+1)%r),p-f<o)return;const B=x&&p-x;return B?Math.round(S*1e3/B):void 0}}function jc(r,o){let n=0;const s=d1(50,250);return u=>{const c=u.loaded,f=u.lengthComputable?u.total:void 0,m=c-n,v=s(m),p=c<=f;n=c;const x={loaded:c,total:f,progress:f?c/f:void 0,bytes:m,rate:v||void 0,estimated:v&&f&&p?(f-c)/v:void 0};x[o?"download":"upload"]=!0,r(x)}}function Fc(r){return new Promise(function(n,s){let u=r.data;const c=we.from(r.headers).normalize(),f=r.responseType;let m;function v(){r.cancelToken&&r.cancelToken.unsubscribe(m),r.signal&&r.signal.removeEventListener("abort",m)}O.isFormData(u)&&Je.isStandardBrowserEnv&&c.setContentType(!1);let p=new XMLHttpRequest;if(r.auth){const B=r.auth.username||"",F=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";c.set("Authorization","Basic "+btoa(B+":"+F))}const x=$l(r.baseURL,r.url);p.open(r.method.toUpperCase(),Bl(x,r.params,r.paramsSerializer),!0),p.timeout=r.timeout;function _(){if(!p)return;const B=we.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),$={data:!f||f==="text"||f==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:B,config:r,request:p};n1(function(P){n(P),v()},function(P){s(P),v()},$),p=null}if("onloadend"in p?p.onloadend=_:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(_)},p.onabort=function(){!p||(s(new lt("Request aborted",lt.ECONNABORTED,r,p)),p=null)},p.onerror=function(){s(new lt("Network Error",lt.ERR_NETWORK,r,p)),p=null},p.ontimeout=function(){let F=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const $=r.transitional||Pl;r.timeoutErrorMessage&&(F=r.timeoutErrorMessage),s(new lt(F,$.clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,r,p)),p=null},Je.isStandardBrowserEnv){const B=(r.withCredentials||s1(x))&&r.xsrfCookieName&&r1.read(r.xsrfCookieName);B&&c.set(r.xsrfHeaderName,B)}u===void 0&&c.setContentType(null),"setRequestHeader"in p&&O.forEach(c.toJSON(),function(F,$){p.setRequestHeader($,F)}),O.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),f&&f!=="json"&&(p.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&p.addEventListener("progress",jc(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",jc(r.onUploadProgress)),(r.cancelToken||r.signal)&&(m=B=>{!p||(s(!B||B.type?new Ar(null,r,p):B),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(m),r.signal&&(r.signal.aborted?m():r.signal.addEventListener("abort",m)));const S=a1(x);if(S&&Je.protocols.indexOf(S)===-1){s(new lt("Unsupported protocol "+S+":",lt.ERR_BAD_REQUEST,r));return}p.send(u||null)})}const Bc={http:Fc,xhr:Fc},Pc={getAdapter:r=>{if(O.isString(r)){const o=Bc[r];if(!r)throw Error(O.hasOwnProp(r)?`Adapter '${r}' is not available in the build`:`Can not resolve adapter '${r}'`);return o}if(!O.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Bc},p1={"Content-Type":"application/x-www-form-urlencoded"};function m1(){let r;return typeof XMLHttpRequest<"u"?r=Pc.getAdapter("xhr"):typeof process<"u"&&O.kindOf(process)==="process"&&(r=Pc.getAdapter("http")),r}function g1(r,o,n){if(O.isString(r))try{return(o||JSON.parse)(r),O.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(r)}const Gn={transitional:Pl,adapter:m1(),transformRequest:[function(o,n){const s=n.getContentType()||"",u=s.indexOf("application/json")>-1,c=O.isObject(o);if(c&&O.isHTMLForm(o)&&(o=new FormData(o)),O.isFormData(o))return u&&u?JSON.stringify(Dl(o)):o;if(O.isArrayBuffer(o)||O.isBuffer(o)||O.isStream(o)||O.isFile(o)||O.isBlob(o))return o;if(O.isArrayBufferView(o))return o.buffer;if(O.isURLSearchParams(o))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let m;if(c){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Zy(o,this.formSerializer).toString();if((m=O.isFileList(o))||s.indexOf("multipart/form-data")>-1){const v=this.env&&this.env.FormData;return Oi(m?{"files[]":o}:o,v&&new v,this.formSerializer)}}return c||u?(n.setContentType("application/json",!1),g1(o)):o}],transformResponse:[function(o){const n=this.transitional||Gn.transitional,s=n&&n.forcedJSONParsing,u=this.responseType==="json";if(o&&O.isString(o)&&(s&&!this.responseType||u)){const f=!(n&&n.silentJSONParsing)&&u;try{return JSON.parse(o)}catch(m){if(f)throw m.name==="SyntaxError"?lt.from(m,lt.ERR_BAD_RESPONSE,this,null,this.response):m}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Je.classes.FormData,Blob:Je.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};O.forEach(["delete","get","head"],function(o){Gn.headers[o]={}});O.forEach(["post","put","patch"],function(o){Gn.headers[o]=O.merge(p1)});function as(r,o){const n=this||Gn,s=o||n,u=we.from(s.headers);let c=s.data;return O.forEach(r,function(m){c=m.call(n,c,u.normalize(),o?o.status:void 0)}),u.normalize(),c}function Nl(r){return!!(r&&r.__CANCEL__)}function us(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Ar}function Dc(r){return us(r),r.headers=we.from(r.headers),r.data=as.call(r,r.transformRequest),(r.adapter||Gn.adapter)(r).then(function(s){return us(r),s.data=as.call(r,r.transformResponse,s),s.headers=we.from(s.headers),s},function(s){return Nl(s)||(us(r),s&&s.response&&(s.response.data=as.call(r,r.transformResponse,s.response),s.response.headers=we.from(s.response.headers))),Promise.reject(s)})}function Er(r,o){o=o||{};const n={};function s(p,x){return O.isPlainObject(p)&&O.isPlainObject(x)?O.merge(p,x):O.isPlainObject(x)?O.merge({},x):O.isArray(x)?x.slice():x}function u(p){if(O.isUndefined(o[p])){if(!O.isUndefined(r[p]))return s(void 0,r[p])}else return s(r[p],o[p])}function c(p){if(!O.isUndefined(o[p]))return s(void 0,o[p])}function f(p){if(O.isUndefined(o[p])){if(!O.isUndefined(r[p]))return s(void 0,r[p])}else return s(void 0,o[p])}function m(p){if(p in o)return s(r[p],o[p]);if(p in r)return s(void 0,r[p])}const v={url:c,method:c,data:c,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:m};return O.forEach(Object.keys(r).concat(Object.keys(o)),function(x){const _=v[x]||u,S=_(x);O.isUndefined(S)&&_!==m||(n[x]=S)}),n}const Ml="1.1.2",Ps={};["object","boolean","number","function","string","symbol"].forEach((r,o)=>{Ps[r]=function(s){return typeof s===r||"a"+(o<1?"n ":" ")+r}});const $c={};Ps.transitional=function(o,n,s){function u(c,f){return"[Axios v"+Ml+"] Transitional option '"+c+"'"+f+(s?". "+s:"")}return(c,f,m)=>{if(o===!1)throw new lt(u(f," has been removed"+(n?" in "+n:"")),lt.ERR_DEPRECATED);return n&&!$c[f]&&($c[f]=!0,console.warn(u(f," has been deprecated since v"+n+" and will be removed in the near future"))),o?o(c,f,m):!0}};function v1(r,o,n){if(typeof r!="object")throw new lt("options must be an object",lt.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let u=s.length;for(;u-- >0;){const c=s[u],f=o[c];if(f){const m=r[c],v=m===void 0||f(m,c,r);if(v!==!0)throw new lt("option "+c+" must be "+v,lt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new lt("Unknown option "+c,lt.ERR_BAD_OPTION)}}const Ll={assertOptions:v1,validators:Ps},Un=Ll.validators;class En{constructor(o){this.defaults=o,this.interceptors={request:new Cc,response:new Cc}}request(o,n){typeof o=="string"?(n=n||{},n.url=o):n=o||{},n=Er(this.defaults,n);const s=n.transitional;s!==void 0&&Ll.assertOptions(s,{silentJSONParsing:Un.transitional(Un.boolean),forcedJSONParsing:Un.transitional(Un.boolean),clarifyTimeoutError:Un.transitional(Un.boolean)},!1),n.method=(n.method||this.defaults.method||"get").toLowerCase();const u=n.headers&&O.merge(n.headers.common,n.headers[n.method]);u&&O.forEach(["delete","get","head","post","put","patch","common"],function(B){delete n.headers[B]}),n.headers=new we(n.headers,u);const c=[];let f=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(n)===!1||(f=f&&B.synchronous,c.unshift(B.fulfilled,B.rejected))});const m=[];this.interceptors.response.forEach(function(B){m.push(B.fulfilled,B.rejected)});let v,p=0,x;if(!f){const S=[Dc.bind(this),void 0];for(S.unshift.apply(S,c),S.push.apply(S,m),x=S.length,v=Promise.resolve(n);p<x;)v=v.then(S[p++],S[p++]);return v}x=c.length;let _=n;for(p=0;p<x;){const S=c[p++],B=c[p++];try{_=S(_)}catch(F){B.call(this,F);break}}try{v=Dc.call(this,_)}catch(S){return Promise.reject(S)}for(p=0,x=m.length;p<x;)v=v.then(m[p++],m[p++]);return v}getUri(o){o=Er(this.defaults,o);const n=$l(o.baseURL,o.url);return Bl(n,o.params,o.paramsSerializer)}}O.forEach(["delete","get","head","options"],function(o){En.prototype[o]=function(n,s){return this.request(Er(s||{},{method:o,url:n,data:(s||{}).data}))}});O.forEach(["post","put","patch"],function(o){function n(s){return function(c,f,m){return this.request(Er(m||{},{method:o,headers:s?{"Content-Type":"multipart/form-data"}:{},url:c,data:f}))}}En.prototype[o]=n(),En.prototype[o+"Form"]=n(!0)});class Ds{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const s=this;this.promise.then(u=>{if(!s._listeners)return;let c=s._listeners.length;for(;c-- >0;)s._listeners[c](u);s._listeners=null}),this.promise.then=u=>{let c;const f=new Promise(m=>{s.subscribe(m),c=m}).then(u);return f.cancel=function(){s.unsubscribe(c)},f},o(function(c,f,m){s.reason||(s.reason=new Ar(c,f,m),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const n=this._listeners.indexOf(o);n!==-1&&this._listeners.splice(n,1)}static source(){let o;return{token:new Ds(function(u){o=u}),cancel:o}}}function y1(r){return function(n){return r.apply(null,n)}}function _1(r){return O.isObject(r)&&r.isAxiosError===!0}function Ul(r){const o=new En(r),n=El(En.prototype.request,o);return O.extend(n,En.prototype,o,{allOwnKeys:!0}),O.extend(n,o,null,{allOwnKeys:!0}),n.create=function(u){return Ul(Er(r,u))},n}const Wt=Ul(Gn);Wt.Axios=En;Wt.CanceledError=Ar;Wt.CancelToken=Ds;Wt.isCancel=Nl;Wt.VERSION=Ml;Wt.toFormData=Oi;Wt.AxiosError=lt;Wt.Cancel=Wt.CanceledError;Wt.all=function(o){return Promise.all(o)};Wt.spread=y1;Wt.isAxiosError=_1;Wt.formToJSON=r=>Dl(O.isHTMLForm(r)?new FormData(r):r);var w1=Object.defineProperty,b1=(r,o,n)=>o in r?w1(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,E=(r,o,n)=>(b1(r,typeof o!="symbol"?o+"":o,n),n),wr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function x1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Es={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(r,o){(function(){var n,s="4.17.21",u=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",m="Invalid `variable` option passed into `_.template`",v="__lodash_hash_undefined__",p=500,x="__lodash_placeholder__",_=1,S=2,B=4,F=1,$=2,M=1,P=2,R=4,D=8,bt=16,ht=32,Ct=64,Tt=128,at=256,yt=512,L=30,et="...",Ot=800,z=16,nt=1,Rt=2,Vt=3,ct=1/0,_t=9007199254740991,qt=17976931348623157e292,Pe=0/0,Q=4294967295,re=Q-1,be=Q>>>1,An=[["ary",Tt],["bind",M],["bindKey",P],["curry",D],["curryRight",bt],["flip",yt],["partial",ht],["partialRight",Ct],["rearg",at]],Re="[object Arguments]",De="[object Array]",$i="[object AsyncFunction]",hn="[object Boolean]",dn="[object Date]",Ii="[object DOMException]",Sr="[object Error]",kr="[object Function]",Ks="[object GeneratorFunction]",xe="[object Map]",Zn="[object Number]",gf="[object Null]",$e="[object Object]",Ys="[object Promise]",vf="[object Proxy]",tr="[object RegExp]",Ee="[object Set]",er="[object String]",Cr="[object Symbol]",yf="[object Undefined]",nr="[object WeakMap]",_f="[object WeakSet]",rr="[object ArrayBuffer]",Sn="[object DataView]",Ni="[object Float32Array]",Mi="[object Float64Array]",Li="[object Int8Array]",Ui="[object Int16Array]",zi="[object Int32Array]",Wi="[object Uint8Array]",Hi="[object Uint8ClampedArray]",Vi="[object Uint16Array]",qi="[object Uint32Array]",wf=/\b__p \+= '';/g,bf=/\b(__p \+=) '' \+/g,xf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Xs=/&(?:amp|lt|gt|quot|#39);/g,Gs=/[&<>"']/g,Ef=RegExp(Xs.source),Tf=RegExp(Gs.source),Af=/<%-([\s\S]+?)%>/g,Sf=/<%([\s\S]+?)%>/g,Qs=/<%=([\s\S]+?)%>/g,kf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cf=/^\w*$/,Of=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ji=/[\\^$.*+?()[\]{}|]/g,Rf=RegExp(Ji.source),Ki=/^\s+/,jf=/\s/,Ff=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Bf=/\{\n\/\* \[wrapped with (.+)\] \*/,Pf=/,? & /,Df=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$f=/[()=,{}\[\]\/\s]/,If=/\\(\\)?/g,Nf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Zs=/\w*$/,Mf=/^[-+]0x[0-9a-f]+$/i,Lf=/^0b[01]+$/i,Uf=/^\[object .+?Constructor\]$/,zf=/^0o[0-7]+$/i,Wf=/^(?:0|[1-9]\d*)$/,Hf=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Or=/($^)/,Vf=/['\n\r\u2028\u2029\\]/g,Rr="\\ud800-\\udfff",qf="\\u0300-\\u036f",Jf="\\ufe20-\\ufe2f",Kf="\\u20d0-\\u20ff",ta=qf+Jf+Kf,ea="\\u2700-\\u27bf",na="a-z\\xdf-\\xf6\\xf8-\\xff",Yf="\\xac\\xb1\\xd7\\xf7",Xf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Gf="\\u2000-\\u206f",Qf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ra="A-Z\\xc0-\\xd6\\xd8-\\xde",ia="\\ufe0e\\ufe0f",oa=Yf+Xf+Gf+Qf,Yi="['\u2019]",Zf="["+Rr+"]",sa="["+oa+"]",jr="["+ta+"]",aa="\\d+",th="["+ea+"]",ua="["+na+"]",ca="[^"+Rr+oa+aa+ea+na+ra+"]",Xi="\\ud83c[\\udffb-\\udfff]",eh="(?:"+jr+"|"+Xi+")",la="[^"+Rr+"]",Gi="(?:\\ud83c[\\udde6-\\uddff]){2}",Qi="[\\ud800-\\udbff][\\udc00-\\udfff]",kn="["+ra+"]",fa="\\u200d",ha="(?:"+ua+"|"+ca+")",nh="(?:"+kn+"|"+ca+")",da="(?:"+Yi+"(?:d|ll|m|re|s|t|ve))?",pa="(?:"+Yi+"(?:D|LL|M|RE|S|T|VE))?",ma=eh+"?",ga="["+ia+"]?",rh="(?:"+fa+"(?:"+[la,Gi,Qi].join("|")+")"+ga+ma+")*",ih="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",oh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",va=ga+ma+rh,sh="(?:"+[th,Gi,Qi].join("|")+")"+va,ah="(?:"+[la+jr+"?",jr,Gi,Qi,Zf].join("|")+")",uh=RegExp(Yi,"g"),ch=RegExp(jr,"g"),Zi=RegExp(Xi+"(?="+Xi+")|"+ah+va,"g"),lh=RegExp([kn+"?"+ua+"+"+da+"(?="+[sa,kn,"$"].join("|")+")",nh+"+"+pa+"(?="+[sa,kn+ha,"$"].join("|")+")",kn+"?"+ha+"+"+da,kn+"+"+pa,oh,ih,aa,sh].join("|"),"g"),fh=RegExp("["+fa+Rr+ta+ia+"]"),hh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,dh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ph=-1,Et={};Et[Ni]=Et[Mi]=Et[Li]=Et[Ui]=Et[zi]=Et[Wi]=Et[Hi]=Et[Vi]=Et[qi]=!0,Et[Re]=Et[De]=Et[rr]=Et[hn]=Et[Sn]=Et[dn]=Et[Sr]=Et[kr]=Et[xe]=Et[Zn]=Et[$e]=Et[tr]=Et[Ee]=Et[er]=Et[nr]=!1;var xt={};xt[Re]=xt[De]=xt[rr]=xt[Sn]=xt[hn]=xt[dn]=xt[Ni]=xt[Mi]=xt[Li]=xt[Ui]=xt[zi]=xt[xe]=xt[Zn]=xt[$e]=xt[tr]=xt[Ee]=xt[er]=xt[Cr]=xt[Wi]=xt[Hi]=xt[Vi]=xt[qi]=!0,xt[Sr]=xt[kr]=xt[nr]=!1;var mh={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},gh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},vh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},yh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},_h=parseFloat,wh=parseInt,ya=typeof wr=="object"&&wr&&wr.Object===Object&&wr,bh=typeof self=="object"&&self&&self.Object===Object&&self,Ut=ya||bh||Function("return this")(),to=o&&!o.nodeType&&o,pn=to&&!0&&r&&!r.nodeType&&r,_a=pn&&pn.exports===to,eo=_a&&ya.process,he=function(){try{var w=pn&&pn.require&&pn.require("util").types;return w||eo&&eo.binding&&eo.binding("util")}catch(A){}}(),wa=he&&he.isArrayBuffer,ba=he&&he.isDate,xa=he&&he.isMap,Ea=he&&he.isRegExp,Ta=he&&he.isSet,Aa=he&&he.isTypedArray;function ie(w,A,T){switch(T.length){case 0:return w.call(A);case 1:return w.call(A,T[0]);case 2:return w.call(A,T[0],T[1]);case 3:return w.call(A,T[0],T[1],T[2])}return w.apply(A,T)}function xh(w,A,T,N){for(var K=-1,ft=w==null?0:w.length;++K<ft;){var $t=w[K];A(N,$t,T($t),w)}return N}function de(w,A){for(var T=-1,N=w==null?0:w.length;++T<N&&A(w[T],T,w)!==!1;);return w}function Eh(w,A){for(var T=w==null?0:w.length;T--&&A(w[T],T,w)!==!1;);return w}function Sa(w,A){for(var T=-1,N=w==null?0:w.length;++T<N;)if(!A(w[T],T,w))return!1;return!0}function Ge(w,A){for(var T=-1,N=w==null?0:w.length,K=0,ft=[];++T<N;){var $t=w[T];A($t,T,w)&&(ft[K++]=$t)}return ft}function Fr(w,A){var T=w==null?0:w.length;return!!T&&Cn(w,A,0)>-1}function no(w,A,T){for(var N=-1,K=w==null?0:w.length;++N<K;)if(T(A,w[N]))return!0;return!1}function At(w,A){for(var T=-1,N=w==null?0:w.length,K=Array(N);++T<N;)K[T]=A(w[T],T,w);return K}function Qe(w,A){for(var T=-1,N=A.length,K=w.length;++T<N;)w[K+T]=A[T];return w}function ro(w,A,T,N){var K=-1,ft=w==null?0:w.length;for(N&&ft&&(T=w[++K]);++K<ft;)T=A(T,w[K],K,w);return T}function Th(w,A,T,N){var K=w==null?0:w.length;for(N&&K&&(T=w[--K]);K--;)T=A(T,w[K],K,w);return T}function io(w,A){for(var T=-1,N=w==null?0:w.length;++T<N;)if(A(w[T],T,w))return!0;return!1}var Ah=oo("length");function Sh(w){return w.split("")}function kh(w){return w.match(Df)||[]}function ka(w,A,T){var N;return T(w,function(K,ft,$t){if(A(K,ft,$t))return N=ft,!1}),N}function Br(w,A,T,N){for(var K=w.length,ft=T+(N?1:-1);N?ft--:++ft<K;)if(A(w[ft],ft,w))return ft;return-1}function Cn(w,A,T){return A===A?Mh(w,A,T):Br(w,Ca,T)}function Ch(w,A,T,N){for(var K=T-1,ft=w.length;++K<ft;)if(N(w[K],A))return K;return-1}function Ca(w){return w!==w}function Oa(w,A){var T=w==null?0:w.length;return T?ao(w,A)/T:Pe}function oo(w){return function(A){return A==null?n:A[w]}}function so(w){return function(A){return w==null?n:w[A]}}function Ra(w,A,T,N,K){return K(w,function(ft,$t,wt){T=N?(N=!1,ft):A(T,ft,$t,wt)}),T}function Oh(w,A){var T=w.length;for(w.sort(A);T--;)w[T]=w[T].value;return w}function ao(w,A){for(var T,N=-1,K=w.length;++N<K;){var ft=A(w[N]);ft!==n&&(T=T===n?ft:T+ft)}return T}function uo(w,A){for(var T=-1,N=Array(w);++T<w;)N[T]=A(T);return N}function Rh(w,A){return At(A,function(T){return[T,w[T]]})}function ja(w){return w&&w.slice(0,Da(w)+1).replace(Ki,"")}function oe(w){return function(A){return w(A)}}function co(w,A){return At(A,function(T){return w[T]})}function ir(w,A){return w.has(A)}function Fa(w,A){for(var T=-1,N=w.length;++T<N&&Cn(A,w[T],0)>-1;);return T}function Ba(w,A){for(var T=w.length;T--&&Cn(A,w[T],0)>-1;);return T}function jh(w,A){for(var T=w.length,N=0;T--;)w[T]===A&&++N;return N}var Fh=so(mh),Bh=so(gh);function Ph(w){return"\\"+yh[w]}function Dh(w,A){return w==null?n:w[A]}function On(w){return fh.test(w)}function $h(w){return hh.test(w)}function Ih(w){for(var A,T=[];!(A=w.next()).done;)T.push(A.value);return T}function lo(w){var A=-1,T=Array(w.size);return w.forEach(function(N,K){T[++A]=[K,N]}),T}function Pa(w,A){return function(T){return w(A(T))}}function Ze(w,A){for(var T=-1,N=w.length,K=0,ft=[];++T<N;){var $t=w[T];($t===A||$t===x)&&(w[T]=x,ft[K++]=T)}return ft}function Pr(w){var A=-1,T=Array(w.size);return w.forEach(function(N){T[++A]=N}),T}function Nh(w){var A=-1,T=Array(w.size);return w.forEach(function(N){T[++A]=[N,N]}),T}function Mh(w,A,T){for(var N=T-1,K=w.length;++N<K;)if(w[N]===A)return N;return-1}function Lh(w,A,T){for(var N=T+1;N--;)if(w[N]===A)return N;return N}function Rn(w){return On(w)?zh(w):Ah(w)}function Te(w){return On(w)?Wh(w):Sh(w)}function Da(w){for(var A=w.length;A--&&jf.test(w.charAt(A)););return A}var Uh=so(vh);function zh(w){for(var A=Zi.lastIndex=0;Zi.test(w);)++A;return A}function Wh(w){return w.match(Zi)||[]}function Hh(w){return w.match(lh)||[]}var Vh=function w(A){A=A==null?Ut:jn.defaults(Ut.Object(),A,jn.pick(Ut,dh));var T=A.Array,N=A.Date,K=A.Error,ft=A.Function,$t=A.Math,wt=A.Object,fo=A.RegExp,qh=A.String,pe=A.TypeError,Dr=T.prototype,Jh=ft.prototype,Fn=wt.prototype,$r=A["__core-js_shared__"],Ir=Jh.toString,gt=Fn.hasOwnProperty,Kh=0,$a=function(){var t=/[^.]+$/.exec($r&&$r.keys&&$r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Nr=Fn.toString,Yh=Ir.call(wt),Xh=Ut._,Gh=fo("^"+Ir.call(gt).replace(Ji,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mr=_a?A.Buffer:n,tn=A.Symbol,Lr=A.Uint8Array,Ia=Mr?Mr.allocUnsafe:n,Ur=Pa(wt.getPrototypeOf,wt),Na=wt.create,Ma=Fn.propertyIsEnumerable,zr=Dr.splice,La=tn?tn.isConcatSpreadable:n,or=tn?tn.iterator:n,mn=tn?tn.toStringTag:n,Wr=function(){try{var t=wn(wt,"defineProperty");return t({},"",{}),t}catch(e){}}(),Qh=A.clearTimeout!==Ut.clearTimeout&&A.clearTimeout,Zh=N&&N.now!==Ut.Date.now&&N.now,td=A.setTimeout!==Ut.setTimeout&&A.setTimeout,Hr=$t.ceil,Vr=$t.floor,ho=wt.getOwnPropertySymbols,ed=Mr?Mr.isBuffer:n,Ua=A.isFinite,nd=Dr.join,rd=Pa(wt.keys,wt),It=$t.max,Jt=$t.min,id=N.now,od=A.parseInt,za=$t.random,sd=Dr.reverse,po=wn(A,"DataView"),sr=wn(A,"Map"),mo=wn(A,"Promise"),Bn=wn(A,"Set"),ar=wn(A,"WeakMap"),ur=wn(wt,"create"),qr=ar&&new ar,Pn={},ad=bn(po),ud=bn(sr),cd=bn(mo),ld=bn(Bn),fd=bn(ar),Jr=tn?tn.prototype:n,cr=Jr?Jr.valueOf:n,Wa=Jr?Jr.toString:n;function h(t){if(jt(t)&&!Y(t)&&!(t instanceof st)){if(t instanceof me)return t;if(gt.call(t,"__wrapped__"))return Hu(t)}return new me(t)}var Dn=function(){function t(){}return function(e){if(!St(e))return{};if(Na)return Na(e);t.prototype=e;var i=new t;return t.prototype=n,i}}();function Kr(){}function me(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}h.templateSettings={escape:Af,evaluate:Sf,interpolate:Qs,variable:"",imports:{_:h}},h.prototype=Kr.prototype,h.prototype.constructor=h,me.prototype=Dn(Kr.prototype),me.prototype.constructor=me;function st(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function hd(){var t=new st(this.__wrapped__);return t.__actions__=Qt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Qt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Qt(this.__views__),t}function dd(){if(this.__filtered__){var t=new st(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function pd(){var t=this.__wrapped__.value(),e=this.__dir__,i=Y(t),a=e<0,l=i?t.length:0,d=Sp(0,l,this.__views__),g=d.start,y=d.end,b=y-g,k=a?y:g-1,C=this.__iteratees__,j=C.length,I=0,U=Jt(b,this.__takeCount__);if(!i||!a&&l==b&&U==b)return du(t,this.__actions__);var q=[];t:for(;b--&&I<U;){k+=e;for(var tt=-1,J=t[k];++tt<j;){var ot=C[tt],ut=ot.iteratee,ue=ot.type,Gt=ut(J);if(ue==Rt)J=Gt;else if(!Gt){if(ue==nt)continue t;break t}}q[I++]=J}return q}st.prototype=Dn(Kr.prototype),st.prototype.constructor=st;function gn(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var a=t[e];this.set(a[0],a[1])}}function md(){this.__data__=ur?ur(null):{},this.size=0}function gd(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function vd(t){var e=this.__data__;if(ur){var i=e[t];return i===v?n:i}return gt.call(e,t)?e[t]:n}function yd(t){var e=this.__data__;return ur?e[t]!==n:gt.call(e,t)}function _d(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=ur&&e===n?v:e,this}gn.prototype.clear=md,gn.prototype.delete=gd,gn.prototype.get=vd,gn.prototype.has=yd,gn.prototype.set=_d;function Ie(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var a=t[e];this.set(a[0],a[1])}}function wd(){this.__data__=[],this.size=0}function bd(t){var e=this.__data__,i=Yr(e,t);if(i<0)return!1;var a=e.length-1;return i==a?e.pop():zr.call(e,i,1),--this.size,!0}function xd(t){var e=this.__data__,i=Yr(e,t);return i<0?n:e[i][1]}function Ed(t){return Yr(this.__data__,t)>-1}function Td(t,e){var i=this.__data__,a=Yr(i,t);return a<0?(++this.size,i.push([t,e])):i[a][1]=e,this}Ie.prototype.clear=wd,Ie.prototype.delete=bd,Ie.prototype.get=xd,Ie.prototype.has=Ed,Ie.prototype.set=Td;function Ne(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var a=t[e];this.set(a[0],a[1])}}function Ad(){this.size=0,this.__data__={hash:new gn,map:new(sr||Ie),string:new gn}}function Sd(t){var e=ai(this,t).delete(t);return this.size-=e?1:0,e}function kd(t){return ai(this,t).get(t)}function Cd(t){return ai(this,t).has(t)}function Od(t,e){var i=ai(this,t),a=i.size;return i.set(t,e),this.size+=i.size==a?0:1,this}Ne.prototype.clear=Ad,Ne.prototype.delete=Sd,Ne.prototype.get=kd,Ne.prototype.has=Cd,Ne.prototype.set=Od;function vn(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new Ne;++e<i;)this.add(t[e])}function Rd(t){return this.__data__.set(t,v),this}function jd(t){return this.__data__.has(t)}vn.prototype.add=vn.prototype.push=Rd,vn.prototype.has=jd;function Ae(t){var e=this.__data__=new Ie(t);this.size=e.size}function Fd(){this.__data__=new Ie,this.size=0}function Bd(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function Pd(t){return this.__data__.get(t)}function Dd(t){return this.__data__.has(t)}function $d(t,e){var i=this.__data__;if(i instanceof Ie){var a=i.__data__;if(!sr||a.length<u-1)return a.push([t,e]),this.size=++i.size,this;i=this.__data__=new Ne(a)}return i.set(t,e),this.size=i.size,this}Ae.prototype.clear=Fd,Ae.prototype.delete=Bd,Ae.prototype.get=Pd,Ae.prototype.has=Dd,Ae.prototype.set=$d;function Ha(t,e){var i=Y(t),a=!i&&xn(t),l=!i&&!a&&sn(t),d=!i&&!a&&!l&&Mn(t),g=i||a||l||d,y=g?uo(t.length,qh):[],b=y.length;for(var k in t)(e||gt.call(t,k))&&!(g&&(k=="length"||l&&(k=="offset"||k=="parent")||d&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||ze(k,b)))&&y.push(k);return y}function Va(t){var e=t.length;return e?t[So(0,e-1)]:n}function Id(t,e){return ui(Qt(t),yn(e,0,t.length))}function Nd(t){return ui(Qt(t))}function go(t,e,i){(i!==n&&!Se(t[e],i)||i===n&&!(e in t))&&Me(t,e,i)}function lr(t,e,i){var a=t[e];(!(gt.call(t,e)&&Se(a,i))||i===n&&!(e in t))&&Me(t,e,i)}function Yr(t,e){for(var i=t.length;i--;)if(Se(t[i][0],e))return i;return-1}function Md(t,e,i,a){return en(t,function(l,d,g){e(a,l,i(l),g)}),a}function qa(t,e){return t&&Fe(e,Nt(e),t)}function Ld(t,e){return t&&Fe(e,te(e),t)}function Me(t,e,i){e=="__proto__"&&Wr?Wr(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function vo(t,e){for(var i=-1,a=e.length,l=T(a),d=t==null;++i<a;)l[i]=d?n:Go(t,e[i]);return l}function yn(t,e,i){return t===t&&(i!==n&&(t=t<=i?t:i),e!==n&&(t=t>=e?t:e)),t}function ge(t,e,i,a,l,d){var g,y=e&_,b=e&S,k=e&B;if(i&&(g=l?i(t,a,l,d):i(t)),g!==n)return g;if(!St(t))return t;var C=Y(t);if(C){if(g=Cp(t),!y)return Qt(t,g)}else{var j=Kt(t),I=j==kr||j==Ks;if(sn(t))return gu(t,y);if(j==$e||j==Re||I&&!l){if(g=b||I?{}:Du(t),!y)return b?vp(t,Ld(g,t)):gp(t,qa(g,t))}else{if(!xt[j])return l?t:{};g=Op(t,j,y)}}d||(d=new Ae);var U=d.get(t);if(U)return U;d.set(t,g),lc(t)?t.forEach(function(J){g.add(ge(J,e,i,J,t,d))}):uc(t)&&t.forEach(function(J,ot){g.set(ot,ge(J,e,i,ot,t,d))});var q=k?b?Io:$o:b?te:Nt,tt=C?n:q(t);return de(tt||t,function(J,ot){tt&&(ot=J,J=t[ot]),lr(g,ot,ge(J,e,i,ot,t,d))}),g}function Ud(t){var e=Nt(t);return function(i){return Ja(i,t,e)}}function Ja(t,e,i){var a=i.length;if(t==null)return!a;for(t=wt(t);a--;){var l=i[a],d=e[l],g=t[l];if(g===n&&!(l in t)||!d(g))return!1}return!0}function Ka(t,e,i){if(typeof t!="function")throw new pe(f);return vr(function(){t.apply(n,i)},e)}function fr(t,e,i,a){var l=-1,d=Fr,g=!0,y=t.length,b=[],k=e.length;if(!y)return b;i&&(e=At(e,oe(i))),a?(d=no,g=!1):e.length>=u&&(d=ir,g=!1,e=new vn(e));t:for(;++l<y;){var C=t[l],j=i==null?C:i(C);if(C=a||C!==0?C:0,g&&j===j){for(var I=k;I--;)if(e[I]===j)continue t;b.push(C)}else d(e,j,a)||b.push(C)}return b}var en=bu(je),Ya=bu(_o,!0);function zd(t,e){var i=!0;return en(t,function(a,l,d){return i=!!e(a,l,d),i}),i}function Xr(t,e,i){for(var a=-1,l=t.length;++a<l;){var d=t[a],g=e(d);if(g!=null&&(y===n?g===g&&!ae(g):i(g,y)))var y=g,b=d}return b}function Wd(t,e,i,a){var l=t.length;for(i=Z(i),i<0&&(i=-i>l?0:l+i),a=a===n||a>l?l:Z(a),a<0&&(a+=l),a=i>a?0:hc(a);i<a;)t[i++]=e;return t}function Xa(t,e){var i=[];return en(t,function(a,l,d){e(a,l,d)&&i.push(a)}),i}function zt(t,e,i,a,l){var d=-1,g=t.length;for(i||(i=jp),l||(l=[]);++d<g;){var y=t[d];e>0&&i(y)?e>1?zt(y,e-1,i,a,l):Qe(l,y):a||(l[l.length]=y)}return l}var yo=xu(),Ga=xu(!0);function je(t,e){return t&&yo(t,e,Nt)}function _o(t,e){return t&&Ga(t,e,Nt)}function Gr(t,e){return Ge(e,function(i){return We(t[i])})}function _n(t,e){e=rn(e,t);for(var i=0,a=e.length;t!=null&&i<a;)t=t[Be(e[i++])];return i&&i==a?t:n}function Qa(t,e,i){var a=e(t);return Y(t)?a:Qe(a,i(t))}function Yt(t){return t==null?t===n?yf:gf:mn&&mn in wt(t)?Ap(t):Np(t)}function wo(t,e){return t>e}function Hd(t,e){return t!=null&&gt.call(t,e)}function Vd(t,e){return t!=null&&e in wt(t)}function qd(t,e,i){return t>=Jt(e,i)&&t<It(e,i)}function bo(t,e,i){for(var a=i?no:Fr,l=t[0].length,d=t.length,g=d,y=T(d),b=1/0,k=[];g--;){var C=t[g];g&&e&&(C=At(C,oe(e))),b=Jt(C.length,b),y[g]=!i&&(e||l>=120&&C.length>=120)?new vn(g&&C):n}C=t[0];var j=-1,I=y[0];t:for(;++j<l&&k.length<b;){var U=C[j],q=e?e(U):U;if(U=i||U!==0?U:0,!(I?ir(I,q):a(k,q,i))){for(g=d;--g;){var tt=y[g];if(!(tt?ir(tt,q):a(t[g],q,i)))continue t}I&&I.push(q),k.push(U)}}return k}function Jd(t,e,i,a){return je(t,function(l,d,g){e(a,i(l),d,g)}),a}function hr(t,e,i){e=rn(e,t),t=Mu(t,e);var a=t==null?t:t[Be(ye(e))];return a==null?n:ie(a,t,i)}function Za(t){return jt(t)&&Yt(t)==Re}function Kd(t){return jt(t)&&Yt(t)==rr}function Yd(t){return jt(t)&&Yt(t)==dn}function dr(t,e,i,a,l){return t===e?!0:t==null||e==null||!jt(t)&&!jt(e)?t!==t&&e!==e:Xd(t,e,i,a,dr,l)}function Xd(t,e,i,a,l,d){var g=Y(t),y=Y(e),b=g?De:Kt(t),k=y?De:Kt(e);b=b==Re?$e:b,k=k==Re?$e:k;var C=b==$e,j=k==$e,I=b==k;if(I&&sn(t)){if(!sn(e))return!1;g=!0,C=!1}if(I&&!C)return d||(d=new Ae),g||Mn(t)?Fu(t,e,i,a,l,d):Ep(t,e,b,i,a,l,d);if(!(i&F)){var U=C&&gt.call(t,"__wrapped__"),q=j&&gt.call(e,"__wrapped__");if(U||q){var tt=U?t.value():t,J=q?e.value():e;return d||(d=new Ae),l(tt,J,i,a,d)}}return I?(d||(d=new Ae),Tp(t,e,i,a,l,d)):!1}function Gd(t){return jt(t)&&Kt(t)==xe}function xo(t,e,i,a){var l=i.length,d=l,g=!a;if(t==null)return!d;for(t=wt(t);l--;){var y=i[l];if(g&&y[2]?y[1]!==t[y[0]]:!(y[0]in t))return!1}for(;++l<d;){y=i[l];var b=y[0],k=t[b],C=y[1];if(g&&y[2]){if(k===n&&!(b in t))return!1}else{var j=new Ae;if(a)var I=a(k,C,b,t,e,j);if(!(I===n?dr(C,k,F|$,a,j):I))return!1}}return!0}function tu(t){if(!St(t)||Bp(t))return!1;var e=We(t)?Gh:Uf;return e.test(bn(t))}function Qd(t){return jt(t)&&Yt(t)==tr}function Zd(t){return jt(t)&&Kt(t)==Ee}function tp(t){return jt(t)&&pi(t.length)&&!!Et[Yt(t)]}function eu(t){return typeof t=="function"?t:t==null?ee:typeof t=="object"?Y(t)?iu(t[0],t[1]):ru(t):Ec(t)}function Eo(t){if(!gr(t))return rd(t);var e=[];for(var i in wt(t))gt.call(t,i)&&i!="constructor"&&e.push(i);return e}function ep(t){if(!St(t))return Ip(t);var e=gr(t),i=[];for(var a in t)a=="constructor"&&(e||!gt.call(t,a))||i.push(a);return i}function To(t,e){return t<e}function nu(t,e){var i=-1,a=Zt(t)?T(t.length):[];return en(t,function(l,d,g){a[++i]=e(l,d,g)}),a}function ru(t){var e=Mo(t);return e.length==1&&e[0][2]?Iu(e[0][0],e[0][1]):function(i){return i===t||xo(i,t,e)}}function iu(t,e){return Uo(t)&&$u(e)?Iu(Be(t),e):function(i){var a=Go(i,t);return a===n&&a===e?Qo(i,t):dr(e,a,F|$)}}function Qr(t,e,i,a,l){t!==e&&yo(e,function(d,g){if(l||(l=new Ae),St(d))np(t,e,g,i,Qr,a,l);else{var y=a?a(Wo(t,g),d,g+"",t,e,l):n;y===n&&(y=d),go(t,g,y)}},te)}function np(t,e,i,a,l,d,g){var y=Wo(t,i),b=Wo(e,i),k=g.get(b);if(k){go(t,i,k);return}var C=d?d(y,b,i+"",t,e,g):n,j=C===n;if(j){var I=Y(b),U=!I&&sn(b),q=!I&&!U&&Mn(b);C=b,I||U||q?Y(y)?C=y:Bt(y)?C=Qt(y):U?(j=!1,C=gu(b,!0)):q?(j=!1,C=vu(b,!0)):C=[]:yr(b)||xn(b)?(C=y,xn(y)?C=dc(y):(!St(y)||We(y))&&(C=Du(b))):j=!1}j&&(g.set(b,C),l(C,b,a,d,g),g.delete(b)),go(t,i,C)}function ou(t,e){var i=t.length;if(i)return e+=e<0?i:0,ze(e,i)?t[e]:n}function su(t,e,i){e.length?e=At(e,function(d){return Y(d)?function(g){return _n(g,d.length===1?d[0]:d)}:d}):e=[ee];var a=-1;e=At(e,oe(V()));var l=nu(t,function(d,g,y){var b=At(e,function(k){return k(d)});return{criteria:b,index:++a,value:d}});return Oh(l,function(d,g){return mp(d,g,i)})}function rp(t,e){return au(t,e,function(i,a){return Qo(t,a)})}function au(t,e,i){for(var a=-1,l=e.length,d={};++a<l;){var g=e[a],y=_n(t,g);i(y,g)&&pr(d,rn(g,t),y)}return d}function ip(t){return function(e){return _n(e,t)}}function Ao(t,e,i,a){var l=a?Ch:Cn,d=-1,g=e.length,y=t;for(t===e&&(e=Qt(e)),i&&(y=At(t,oe(i)));++d<g;)for(var b=0,k=e[d],C=i?i(k):k;(b=l(y,C,b,a))>-1;)y!==t&&zr.call(y,b,1),zr.call(t,b,1);return t}function uu(t,e){for(var i=t?e.length:0,a=i-1;i--;){var l=e[i];if(i==a||l!==d){var d=l;ze(l)?zr.call(t,l,1):Oo(t,l)}}return t}function So(t,e){return t+Vr(za()*(e-t+1))}function op(t,e,i,a){for(var l=-1,d=It(Hr((e-t)/(i||1)),0),g=T(d);d--;)g[a?d:++l]=t,t+=i;return g}function ko(t,e){var i="";if(!t||e<1||e>_t)return i;do e%2&&(i+=t),e=Vr(e/2),e&&(t+=t);while(e);return i}function rt(t,e){return Ho(Nu(t,e,ee),t+"")}function sp(t){return Va(Ln(t))}function ap(t,e){var i=Ln(t);return ui(i,yn(e,0,i.length))}function pr(t,e,i,a){if(!St(t))return t;e=rn(e,t);for(var l=-1,d=e.length,g=d-1,y=t;y!=null&&++l<d;){var b=Be(e[l]),k=i;if(b==="__proto__"||b==="constructor"||b==="prototype")return t;if(l!=g){var C=y[b];k=a?a(C,b,y):n,k===n&&(k=St(C)?C:ze(e[l+1])?[]:{})}lr(y,b,k),y=y[b]}return t}var cu=qr?function(t,e){return qr.set(t,e),t}:ee,up=Wr?function(t,e){return Wr(t,"toString",{configurable:!0,enumerable:!1,value:ts(e),writable:!0})}:ee;function cp(t){return ui(Ln(t))}function ve(t,e,i){var a=-1,l=t.length;e<0&&(e=-e>l?0:l+e),i=i>l?l:i,i<0&&(i+=l),l=e>i?0:i-e>>>0,e>>>=0;for(var d=T(l);++a<l;)d[a]=t[a+e];return d}function lp(t,e){var i;return en(t,function(a,l,d){return i=e(a,l,d),!i}),!!i}function Zr(t,e,i){var a=0,l=t==null?a:t.length;if(typeof e=="number"&&e===e&&l<=be){for(;a<l;){var d=a+l>>>1,g=t[d];g!==null&&!ae(g)&&(i?g<=e:g<e)?a=d+1:l=d}return l}return Co(t,e,ee,i)}function Co(t,e,i,a){var l=0,d=t==null?0:t.length;if(d===0)return 0;e=i(e);for(var g=e!==e,y=e===null,b=ae(e),k=e===n;l<d;){var C=Vr((l+d)/2),j=i(t[C]),I=j!==n,U=j===null,q=j===j,tt=ae(j);if(g)var J=a||q;else k?J=q&&(a||I):y?J=q&&I&&(a||!U):b?J=q&&I&&!U&&(a||!tt):U||tt?J=!1:J=a?j<=e:j<e;J?l=C+1:d=C}return Jt(d,re)}function lu(t,e){for(var i=-1,a=t.length,l=0,d=[];++i<a;){var g=t[i],y=e?e(g):g;if(!i||!Se(y,b)){var b=y;d[l++]=g===0?0:g}}return d}function fu(t){return typeof t=="number"?t:ae(t)?Pe:+t}function se(t){if(typeof t=="string")return t;if(Y(t))return At(t,se)+"";if(ae(t))return Wa?Wa.call(t):"";var e=t+"";return e=="0"&&1/t==-ct?"-0":e}function nn(t,e,i){var a=-1,l=Fr,d=t.length,g=!0,y=[],b=y;if(i)g=!1,l=no;else if(d>=u){var k=e?null:bp(t);if(k)return Pr(k);g=!1,l=ir,b=new vn}else b=e?[]:y;t:for(;++a<d;){var C=t[a],j=e?e(C):C;if(C=i||C!==0?C:0,g&&j===j){for(var I=b.length;I--;)if(b[I]===j)continue t;e&&b.push(j),y.push(C)}else l(b,j,i)||(b!==y&&b.push(j),y.push(C))}return y}function Oo(t,e){return e=rn(e,t),t=Mu(t,e),t==null||delete t[Be(ye(e))]}function hu(t,e,i,a){return pr(t,e,i(_n(t,e)),a)}function ti(t,e,i,a){for(var l=t.length,d=a?l:-1;(a?d--:++d<l)&&e(t[d],d,t););return i?ve(t,a?0:d,a?d+1:l):ve(t,a?d+1:0,a?l:d)}function du(t,e){var i=t;return i instanceof st&&(i=i.value()),ro(e,function(a,l){return l.func.apply(l.thisArg,Qe([a],l.args))},i)}function Ro(t,e,i){var a=t.length;if(a<2)return a?nn(t[0]):[];for(var l=-1,d=T(a);++l<a;)for(var g=t[l],y=-1;++y<a;)y!=l&&(d[l]=fr(d[l]||g,t[y],e,i));return nn(zt(d,1),e,i)}function pu(t,e,i){for(var a=-1,l=t.length,d=e.length,g={};++a<l;){var y=a<d?e[a]:n;i(g,t[a],y)}return g}function jo(t){return Bt(t)?t:[]}function Fo(t){return typeof t=="function"?t:ee}function rn(t,e){return Y(t)?t:Uo(t,e)?[t]:Wu(dt(t))}var fp=rt;function on(t,e,i){var a=t.length;return i=i===n?a:i,!e&&i>=a?t:ve(t,e,i)}var mu=Qh||function(t){return Ut.clearTimeout(t)};function gu(t,e){if(e)return t.slice();var i=t.length,a=Ia?Ia(i):new t.constructor(i);return t.copy(a),a}function Bo(t){var e=new t.constructor(t.byteLength);return new Lr(e).set(new Lr(t)),e}function hp(t,e){var i=e?Bo(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}function dp(t){var e=new t.constructor(t.source,Zs.exec(t));return e.lastIndex=t.lastIndex,e}function pp(t){return cr?wt(cr.call(t)):{}}function vu(t,e){var i=e?Bo(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function yu(t,e){if(t!==e){var i=t!==n,a=t===null,l=t===t,d=ae(t),g=e!==n,y=e===null,b=e===e,k=ae(e);if(!y&&!k&&!d&&t>e||d&&g&&b&&!y&&!k||a&&g&&b||!i&&b||!l)return 1;if(!a&&!d&&!k&&t<e||k&&i&&l&&!a&&!d||y&&i&&l||!g&&l||!b)return-1}return 0}function mp(t,e,i){for(var a=-1,l=t.criteria,d=e.criteria,g=l.length,y=i.length;++a<g;){var b=yu(l[a],d[a]);if(b){if(a>=y)return b;var k=i[a];return b*(k=="desc"?-1:1)}}return t.index-e.index}function _u(t,e,i,a){for(var l=-1,d=t.length,g=i.length,y=-1,b=e.length,k=It(d-g,0),C=T(b+k),j=!a;++y<b;)C[y]=e[y];for(;++l<g;)(j||l<d)&&(C[i[l]]=t[l]);for(;k--;)C[y++]=t[l++];return C}function wu(t,e,i,a){for(var l=-1,d=t.length,g=-1,y=i.length,b=-1,k=e.length,C=It(d-y,0),j=T(C+k),I=!a;++l<C;)j[l]=t[l];for(var U=l;++b<k;)j[U+b]=e[b];for(;++g<y;)(I||l<d)&&(j[U+i[g]]=t[l++]);return j}function Qt(t,e){var i=-1,a=t.length;for(e||(e=T(a));++i<a;)e[i]=t[i];return e}function Fe(t,e,i,a){var l=!i;i||(i={});for(var d=-1,g=e.length;++d<g;){var y=e[d],b=a?a(i[y],t[y],y,i,t):n;b===n&&(b=t[y]),l?Me(i,y,b):lr(i,y,b)}return i}function gp(t,e){return Fe(t,Lo(t),e)}function vp(t,e){return Fe(t,Bu(t),e)}function ei(t,e){return function(i,a){var l=Y(i)?xh:Md,d=e?e():{};return l(i,t,V(a,2),d)}}function $n(t){return rt(function(e,i){var a=-1,l=i.length,d=l>1?i[l-1]:n,g=l>2?i[2]:n;for(d=t.length>3&&typeof d=="function"?(l--,d):n,g&&Xt(i[0],i[1],g)&&(d=l<3?n:d,l=1),e=wt(e);++a<l;){var y=i[a];y&&t(e,y,a,d)}return e})}function bu(t,e){return function(i,a){if(i==null)return i;if(!Zt(i))return t(i,a);for(var l=i.length,d=e?l:-1,g=wt(i);(e?d--:++d<l)&&a(g[d],d,g)!==!1;);return i}}function xu(t){return function(e,i,a){for(var l=-1,d=wt(e),g=a(e),y=g.length;y--;){var b=g[t?y:++l];if(i(d[b],b,d)===!1)break}return e}}function yp(t,e,i){var a=e&M,l=mr(t);function d(){var g=this&&this!==Ut&&this instanceof d?l:t;return g.apply(a?i:this,arguments)}return d}function Eu(t){return function(e){e=dt(e);var i=On(e)?Te(e):n,a=i?i[0]:e.charAt(0),l=i?on(i,1).join(""):e.slice(1);return a[t]()+l}}function In(t){return function(e){return ro(bc(wc(e).replace(uh,"")),t,"")}}function mr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Dn(t.prototype),a=t.apply(i,e);return St(a)?a:i}}function _p(t,e,i){var a=mr(t);function l(){for(var d=arguments.length,g=T(d),y=d,b=Nn(l);y--;)g[y]=arguments[y];var k=d<3&&g[0]!==b&&g[d-1]!==b?[]:Ze(g,b);if(d-=k.length,d<i)return Cu(t,e,ni,l.placeholder,n,g,k,n,n,i-d);var C=this&&this!==Ut&&this instanceof l?a:t;return ie(C,this,g)}return l}function Tu(t){return function(e,i,a){var l=wt(e);if(!Zt(e)){var d=V(i,3);e=Nt(e),i=function(y){return d(l[y],y,l)}}var g=t(e,i,a);return g>-1?l[d?e[g]:g]:n}}function Au(t){return Ue(function(e){var i=e.length,a=i,l=me.prototype.thru;for(t&&e.reverse();a--;){var d=e[a];if(typeof d!="function")throw new pe(f);if(l&&!g&&si(d)=="wrapper")var g=new me([],!0)}for(a=g?a:i;++a<i;){d=e[a];var y=si(d),b=y=="wrapper"?No(d):n;b&&zo(b[0])&&b[1]==(Tt|D|ht|at)&&!b[4].length&&b[9]==1?g=g[si(b[0])].apply(g,b[3]):g=d.length==1&&zo(d)?g[y]():g.thru(d)}return function(){var k=arguments,C=k[0];if(g&&k.length==1&&Y(C))return g.plant(C).value();for(var j=0,I=i?e[j].apply(this,k):C;++j<i;)I=e[j].call(this,I);return I}})}function ni(t,e,i,a,l,d,g,y,b,k){var C=e&Tt,j=e&M,I=e&P,U=e&(D|bt),q=e&yt,tt=I?n:mr(t);function J(){for(var ot=arguments.length,ut=T(ot),ue=ot;ue--;)ut[ue]=arguments[ue];if(U)var Gt=Nn(J),ce=jh(ut,Gt);if(a&&(ut=_u(ut,a,l,U)),d&&(ut=wu(ut,d,g,U)),ot-=ce,U&&ot<k){var Pt=Ze(ut,Gt);return Cu(t,e,ni,J.placeholder,i,ut,Pt,y,b,k-ot)}var ke=j?i:this,Ve=I?ke[t]:t;return ot=ut.length,y?ut=Mp(ut,y):q&&ot>1&&ut.reverse(),C&&b<ot&&(ut.length=b),this&&this!==Ut&&this instanceof J&&(Ve=tt||mr(Ve)),Ve.apply(ke,ut)}return J}function Su(t,e){return function(i,a){return Jd(i,t,e(a),{})}}function ri(t,e){return function(i,a){var l;if(i===n&&a===n)return e;if(i!==n&&(l=i),a!==n){if(l===n)return a;typeof i=="string"||typeof a=="string"?(i=se(i),a=se(a)):(i=fu(i),a=fu(a)),l=t(i,a)}return l}}function Po(t){return Ue(function(e){return e=At(e,oe(V())),rt(function(i){var a=this;return t(e,function(l){return ie(l,a,i)})})})}function ii(t,e){e=e===n?" ":se(e);var i=e.length;if(i<2)return i?ko(e,t):e;var a=ko(e,Hr(t/Rn(e)));return On(e)?on(Te(a),0,t).join(""):a.slice(0,t)}function wp(t,e,i,a){var l=e&M,d=mr(t);function g(){for(var y=-1,b=arguments.length,k=-1,C=a.length,j=T(C+b),I=this&&this!==Ut&&this instanceof g?d:t;++k<C;)j[k]=a[k];for(;b--;)j[k++]=arguments[++y];return ie(I,l?i:this,j)}return g}function ku(t){return function(e,i,a){return a&&typeof a!="number"&&Xt(e,i,a)&&(i=a=n),e=He(e),i===n?(i=e,e=0):i=He(i),a=a===n?e<i?1:-1:He(a),op(e,i,a,t)}}function oi(t){return function(e,i){return typeof e=="string"&&typeof i=="string"||(e=_e(e),i=_e(i)),t(e,i)}}function Cu(t,e,i,a,l,d,g,y,b,k){var C=e&D,j=C?g:n,I=C?n:g,U=C?d:n,q=C?n:d;e|=C?ht:Ct,e&=~(C?Ct:ht),e&R||(e&=~(M|P));var tt=[t,e,l,U,j,q,I,y,b,k],J=i.apply(n,tt);return zo(t)&&Lu(J,tt),J.placeholder=a,Uu(J,t,e)}function Do(t){var e=$t[t];return function(i,a){if(i=_e(i),a=a==null?0:Jt(Z(a),292),a&&Ua(i)){var l=(dt(i)+"e").split("e"),d=e(l[0]+"e"+(+l[1]+a));return l=(dt(d)+"e").split("e"),+(l[0]+"e"+(+l[1]-a))}return e(i)}}var bp=Bn&&1/Pr(new Bn([,-0]))[1]==ct?function(t){return new Bn(t)}:rs;function Ou(t){return function(e){var i=Kt(e);return i==xe?lo(e):i==Ee?Nh(e):Rh(e,t(e))}}function Le(t,e,i,a,l,d,g,y){var b=e&P;if(!b&&typeof t!="function")throw new pe(f);var k=a?a.length:0;if(k||(e&=~(ht|Ct),a=l=n),g=g===n?g:It(Z(g),0),y=y===n?y:Z(y),k-=l?l.length:0,e&Ct){var C=a,j=l;a=l=n}var I=b?n:No(t),U=[t,e,i,a,l,C,j,d,g,y];if(I&&$p(U,I),t=U[0],e=U[1],i=U[2],a=U[3],l=U[4],y=U[9]=U[9]===n?b?0:t.length:It(U[9]-k,0),!y&&e&(D|bt)&&(e&=~(D|bt)),!e||e==M)var q=yp(t,e,i);else e==D||e==bt?q=_p(t,e,y):(e==ht||e==(M|ht))&&!l.length?q=wp(t,e,i,a):q=ni.apply(n,U);var tt=I?cu:Lu;return Uu(tt(q,U),t,e)}function Ru(t,e,i,a){return t===n||Se(t,Fn[i])&&!gt.call(a,i)?e:t}function ju(t,e,i,a,l,d){return St(t)&&St(e)&&(d.set(e,t),Qr(t,e,n,ju,d),d.delete(e)),t}function xp(t){return yr(t)?n:t}function Fu(t,e,i,a,l,d){var g=i&F,y=t.length,b=e.length;if(y!=b&&!(g&&b>y))return!1;var k=d.get(t),C=d.get(e);if(k&&C)return k==e&&C==t;var j=-1,I=!0,U=i&$?new vn:n;for(d.set(t,e),d.set(e,t);++j<y;){var q=t[j],tt=e[j];if(a)var J=g?a(tt,q,j,e,t,d):a(q,tt,j,t,e,d);if(J!==n){if(J)continue;I=!1;break}if(U){if(!io(e,function(ot,ut){if(!ir(U,ut)&&(q===ot||l(q,ot,i,a,d)))return U.push(ut)})){I=!1;break}}else if(!(q===tt||l(q,tt,i,a,d))){I=!1;break}}return d.delete(t),d.delete(e),I}function Ep(t,e,i,a,l,d,g){switch(i){case Sn:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case rr:return!(t.byteLength!=e.byteLength||!d(new Lr(t),new Lr(e)));case hn:case dn:case Zn:return Se(+t,+e);case Sr:return t.name==e.name&&t.message==e.message;case tr:case er:return t==e+"";case xe:var y=lo;case Ee:var b=a&F;if(y||(y=Pr),t.size!=e.size&&!b)return!1;var k=g.get(t);if(k)return k==e;a|=$,g.set(t,e);var C=Fu(y(t),y(e),a,l,d,g);return g.delete(t),C;case Cr:if(cr)return cr.call(t)==cr.call(e)}return!1}function Tp(t,e,i,a,l,d){var g=i&F,y=$o(t),b=y.length,k=$o(e),C=k.length;if(b!=C&&!g)return!1;for(var j=b;j--;){var I=y[j];if(!(g?I in e:gt.call(e,I)))return!1}var U=d.get(t),q=d.get(e);if(U&&q)return U==e&&q==t;var tt=!0;d.set(t,e),d.set(e,t);for(var J=g;++j<b;){I=y[j];var ot=t[I],ut=e[I];if(a)var ue=g?a(ut,ot,I,e,t,d):a(ot,ut,I,t,e,d);if(!(ue===n?ot===ut||l(ot,ut,i,a,d):ue)){tt=!1;break}J||(J=I=="constructor")}if(tt&&!J){var Gt=t.constructor,ce=e.constructor;Gt!=ce&&"constructor"in t&&"constructor"in e&&!(typeof Gt=="function"&&Gt instanceof Gt&&typeof ce=="function"&&ce instanceof ce)&&(tt=!1)}return d.delete(t),d.delete(e),tt}function Ue(t){return Ho(Nu(t,n,Ju),t+"")}function $o(t){return Qa(t,Nt,Lo)}function Io(t){return Qa(t,te,Bu)}var No=qr?function(t){return qr.get(t)}:rs;function si(t){for(var e=t.name+"",i=Pn[e],a=gt.call(Pn,e)?i.length:0;a--;){var l=i[a],d=l.func;if(d==null||d==t)return l.name}return e}function Nn(t){var e=gt.call(h,"placeholder")?h:t;return e.placeholder}function V(){var t=h.iteratee||es;return t=t===es?eu:t,arguments.length?t(arguments[0],arguments[1]):t}function ai(t,e){var i=t.__data__;return Fp(e)?i[typeof e=="string"?"string":"hash"]:i.map}function Mo(t){for(var e=Nt(t),i=e.length;i--;){var a=e[i],l=t[a];e[i]=[a,l,$u(l)]}return e}function wn(t,e){var i=Dh(t,e);return tu(i)?i:n}function Ap(t){var e=gt.call(t,mn),i=t[mn];try{t[mn]=n;var a=!0}catch(d){}var l=Nr.call(t);return a&&(e?t[mn]=i:delete t[mn]),l}var Lo=ho?function(t){return t==null?[]:(t=wt(t),Ge(ho(t),function(e){return Ma.call(t,e)}))}:is,Bu=ho?function(t){for(var e=[];t;)Qe(e,Lo(t)),t=Ur(t);return e}:is,Kt=Yt;(po&&Kt(new po(new ArrayBuffer(1)))!=Sn||sr&&Kt(new sr)!=xe||mo&&Kt(mo.resolve())!=Ys||Bn&&Kt(new Bn)!=Ee||ar&&Kt(new ar)!=nr)&&(Kt=function(t){var e=Yt(t),i=e==$e?t.constructor:n,a=i?bn(i):"";if(a)switch(a){case ad:return Sn;case ud:return xe;case cd:return Ys;case ld:return Ee;case fd:return nr}return e});function Sp(t,e,i){for(var a=-1,l=i.length;++a<l;){var d=i[a],g=d.size;switch(d.type){case"drop":t+=g;break;case"dropRight":e-=g;break;case"take":e=Jt(e,t+g);break;case"takeRight":t=It(t,e-g);break}}return{start:t,end:e}}function kp(t){var e=t.match(Bf);return e?e[1].split(Pf):[]}function Pu(t,e,i){e=rn(e,t);for(var a=-1,l=e.length,d=!1;++a<l;){var g=Be(e[a]);if(!(d=t!=null&&i(t,g)))break;t=t[g]}return d||++a!=l?d:(l=t==null?0:t.length,!!l&&pi(l)&&ze(g,l)&&(Y(t)||xn(t)))}function Cp(t){var e=t.length,i=new t.constructor(e);return e&&typeof t[0]=="string"&&gt.call(t,"index")&&(i.index=t.index,i.input=t.input),i}function Du(t){return typeof t.constructor=="function"&&!gr(t)?Dn(Ur(t)):{}}function Op(t,e,i){var a=t.constructor;switch(e){case rr:return Bo(t);case hn:case dn:return new a(+t);case Sn:return hp(t,i);case Ni:case Mi:case Li:case Ui:case zi:case Wi:case Hi:case Vi:case qi:return vu(t,i);case xe:return new a;case Zn:case er:return new a(t);case tr:return dp(t);case Ee:return new a;case Cr:return pp(t)}}function Rp(t,e){var i=e.length;if(!i)return t;var a=i-1;return e[a]=(i>1?"& ":"")+e[a],e=e.join(i>2?", ":" "),t.replace(Ff,`{
/* [wrapped with `+e+`] */
`)}function jp(t){return Y(t)||xn(t)||!!(La&&t&&t[La])}function ze(t,e){var i=typeof t;return e=e==null?_t:e,!!e&&(i=="number"||i!="symbol"&&Wf.test(t))&&t>-1&&t%1==0&&t<e}function Xt(t,e,i){if(!St(i))return!1;var a=typeof e;return(a=="number"?Zt(i)&&ze(e,i.length):a=="string"&&e in i)?Se(i[e],t):!1}function Uo(t,e){if(Y(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||ae(t)?!0:Cf.test(t)||!kf.test(t)||e!=null&&t in wt(e)}function Fp(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function zo(t){var e=si(t),i=h[e];if(typeof i!="function"||!(e in st.prototype))return!1;if(t===i)return!0;var a=No(i);return!!a&&t===a[0]}function Bp(t){return!!$a&&$a in t}var Pp=$r?We:os;function gr(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||Fn;return t===i}function $u(t){return t===t&&!St(t)}function Iu(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==n||t in wt(i))}}function Dp(t){var e=hi(t,function(a){return i.size===p&&i.clear(),a}),i=e.cache;return e}function $p(t,e){var i=t[1],a=e[1],l=i|a,d=l<(M|P|Tt),g=a==Tt&&i==D||a==Tt&&i==at&&t[7].length<=e[8]||a==(Tt|at)&&e[7].length<=e[8]&&i==D;if(!(d||g))return t;a&M&&(t[2]=e[2],l|=i&M?0:R);var y=e[3];if(y){var b=t[3];t[3]=b?_u(b,y,e[4]):y,t[4]=b?Ze(t[3],x):e[4]}return y=e[5],y&&(b=t[5],t[5]=b?wu(b,y,e[6]):y,t[6]=b?Ze(t[5],x):e[6]),y=e[7],y&&(t[7]=y),a&Tt&&(t[8]=t[8]==null?e[8]:Jt(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=l,t}function Ip(t){var e=[];if(t!=null)for(var i in wt(t))e.push(i);return e}function Np(t){return Nr.call(t)}function Nu(t,e,i){return e=It(e===n?t.length-1:e,0),function(){for(var a=arguments,l=-1,d=It(a.length-e,0),g=T(d);++l<d;)g[l]=a[e+l];l=-1;for(var y=T(e+1);++l<e;)y[l]=a[l];return y[e]=i(g),ie(t,this,y)}}function Mu(t,e){return e.length<2?t:_n(t,ve(e,0,-1))}function Mp(t,e){for(var i=t.length,a=Jt(e.length,i),l=Qt(t);a--;){var d=e[a];t[a]=ze(d,i)?l[d]:n}return t}function Wo(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Lu=zu(cu),vr=td||function(t,e){return Ut.setTimeout(t,e)},Ho=zu(up);function Uu(t,e,i){var a=e+"";return Ho(t,Rp(a,Lp(kp(a),i)))}function zu(t){var e=0,i=0;return function(){var a=id(),l=z-(a-i);if(i=a,l>0){if(++e>=Ot)return arguments[0]}else e=0;return t.apply(n,arguments)}}function ui(t,e){var i=-1,a=t.length,l=a-1;for(e=e===n?a:e;++i<e;){var d=So(i,l),g=t[d];t[d]=t[i],t[i]=g}return t.length=e,t}var Wu=Dp(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Of,function(i,a,l,d){e.push(l?d.replace(If,"$1"):a||i)}),e});function Be(t){if(typeof t=="string"||ae(t))return t;var e=t+"";return e=="0"&&1/t==-ct?"-0":e}function bn(t){if(t!=null){try{return Ir.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Lp(t,e){return de(An,function(i){var a="_."+i[0];e&i[1]&&!Fr(t,a)&&t.push(a)}),t.sort()}function Hu(t){if(t instanceof st)return t.clone();var e=new me(t.__wrapped__,t.__chain__);return e.__actions__=Qt(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Up(t,e,i){(i?Xt(t,e,i):e===n)?e=1:e=It(Z(e),0);var a=t==null?0:t.length;if(!a||e<1)return[];for(var l=0,d=0,g=T(Hr(a/e));l<a;)g[d++]=ve(t,l,l+=e);return g}function zp(t){for(var e=-1,i=t==null?0:t.length,a=0,l=[];++e<i;){var d=t[e];d&&(l[a++]=d)}return l}function Wp(){var t=arguments.length;if(!t)return[];for(var e=T(t-1),i=arguments[0],a=t;a--;)e[a-1]=arguments[a];return Qe(Y(i)?Qt(i):[i],zt(e,1))}var Hp=rt(function(t,e){return Bt(t)?fr(t,zt(e,1,Bt,!0)):[]}),Vp=rt(function(t,e){var i=ye(e);return Bt(i)&&(i=n),Bt(t)?fr(t,zt(e,1,Bt,!0),V(i,2)):[]}),qp=rt(function(t,e){var i=ye(e);return Bt(i)&&(i=n),Bt(t)?fr(t,zt(e,1,Bt,!0),n,i):[]});function Jp(t,e,i){var a=t==null?0:t.length;return a?(e=i||e===n?1:Z(e),ve(t,e<0?0:e,a)):[]}function Kp(t,e,i){var a=t==null?0:t.length;return a?(e=i||e===n?1:Z(e),e=a-e,ve(t,0,e<0?0:e)):[]}function Yp(t,e){return t&&t.length?ti(t,V(e,3),!0,!0):[]}function Xp(t,e){return t&&t.length?ti(t,V(e,3),!0):[]}function Gp(t,e,i,a){var l=t==null?0:t.length;return l?(i&&typeof i!="number"&&Xt(t,e,i)&&(i=0,a=l),Wd(t,e,i,a)):[]}function Vu(t,e,i){var a=t==null?0:t.length;if(!a)return-1;var l=i==null?0:Z(i);return l<0&&(l=It(a+l,0)),Br(t,V(e,3),l)}function qu(t,e,i){var a=t==null?0:t.length;if(!a)return-1;var l=a-1;return i!==n&&(l=Z(i),l=i<0?It(a+l,0):Jt(l,a-1)),Br(t,V(e,3),l,!0)}function Ju(t){var e=t==null?0:t.length;return e?zt(t,1):[]}function Qp(t){var e=t==null?0:t.length;return e?zt(t,ct):[]}function Zp(t,e){var i=t==null?0:t.length;return i?(e=e===n?1:Z(e),zt(t,e)):[]}function tm(t){for(var e=-1,i=t==null?0:t.length,a={};++e<i;){var l=t[e];a[l[0]]=l[1]}return a}function Ku(t){return t&&t.length?t[0]:n}function em(t,e,i){var a=t==null?0:t.length;if(!a)return-1;var l=i==null?0:Z(i);return l<0&&(l=It(a+l,0)),Cn(t,e,l)}function nm(t){var e=t==null?0:t.length;return e?ve(t,0,-1):[]}var rm=rt(function(t){var e=At(t,jo);return e.length&&e[0]===t[0]?bo(e):[]}),im=rt(function(t){var e=ye(t),i=At(t,jo);return e===ye(i)?e=n:i.pop(),i.length&&i[0]===t[0]?bo(i,V(e,2)):[]}),om=rt(function(t){var e=ye(t),i=At(t,jo);return e=typeof e=="function"?e:n,e&&i.pop(),i.length&&i[0]===t[0]?bo(i,n,e):[]});function sm(t,e){return t==null?"":nd.call(t,e)}function ye(t){var e=t==null?0:t.length;return e?t[e-1]:n}function am(t,e,i){var a=t==null?0:t.length;if(!a)return-1;var l=a;return i!==n&&(l=Z(i),l=l<0?It(a+l,0):Jt(l,a-1)),e===e?Lh(t,e,l):Br(t,Ca,l,!0)}function um(t,e){return t&&t.length?ou(t,Z(e)):n}var cm=rt(Yu);function Yu(t,e){return t&&t.length&&e&&e.length?Ao(t,e):t}function lm(t,e,i){return t&&t.length&&e&&e.length?Ao(t,e,V(i,2)):t}function fm(t,e,i){return t&&t.length&&e&&e.length?Ao(t,e,n,i):t}var hm=Ue(function(t,e){var i=t==null?0:t.length,a=vo(t,e);return uu(t,At(e,function(l){return ze(l,i)?+l:l}).sort(yu)),a});function dm(t,e){var i=[];if(!(t&&t.length))return i;var a=-1,l=[],d=t.length;for(e=V(e,3);++a<d;){var g=t[a];e(g,a,t)&&(i.push(g),l.push(a))}return uu(t,l),i}function Vo(t){return t==null?t:sd.call(t)}function pm(t,e,i){var a=t==null?0:t.length;return a?(i&&typeof i!="number"&&Xt(t,e,i)?(e=0,i=a):(e=e==null?0:Z(e),i=i===n?a:Z(i)),ve(t,e,i)):[]}function mm(t,e){return Zr(t,e)}function gm(t,e,i){return Co(t,e,V(i,2))}function vm(t,e){var i=t==null?0:t.length;if(i){var a=Zr(t,e);if(a<i&&Se(t[a],e))return a}return-1}function ym(t,e){return Zr(t,e,!0)}function _m(t,e,i){return Co(t,e,V(i,2),!0)}function wm(t,e){var i=t==null?0:t.length;if(i){var a=Zr(t,e,!0)-1;if(Se(t[a],e))return a}return-1}function bm(t){return t&&t.length?lu(t):[]}function xm(t,e){return t&&t.length?lu(t,V(e,2)):[]}function Em(t){var e=t==null?0:t.length;return e?ve(t,1,e):[]}function Tm(t,e,i){return t&&t.length?(e=i||e===n?1:Z(e),ve(t,0,e<0?0:e)):[]}function Am(t,e,i){var a=t==null?0:t.length;return a?(e=i||e===n?1:Z(e),e=a-e,ve(t,e<0?0:e,a)):[]}function Sm(t,e){return t&&t.length?ti(t,V(e,3),!1,!0):[]}function km(t,e){return t&&t.length?ti(t,V(e,3)):[]}var Cm=rt(function(t){return nn(zt(t,1,Bt,!0))}),Om=rt(function(t){var e=ye(t);return Bt(e)&&(e=n),nn(zt(t,1,Bt,!0),V(e,2))}),Rm=rt(function(t){var e=ye(t);return e=typeof e=="function"?e:n,nn(zt(t,1,Bt,!0),n,e)});function jm(t){return t&&t.length?nn(t):[]}function Fm(t,e){return t&&t.length?nn(t,V(e,2)):[]}function Bm(t,e){return e=typeof e=="function"?e:n,t&&t.length?nn(t,n,e):[]}function qo(t){if(!(t&&t.length))return[];var e=0;return t=Ge(t,function(i){if(Bt(i))return e=It(i.length,e),!0}),uo(e,function(i){return At(t,oo(i))})}function Xu(t,e){if(!(t&&t.length))return[];var i=qo(t);return e==null?i:At(i,function(a){return ie(e,n,a)})}var Pm=rt(function(t,e){return Bt(t)?fr(t,e):[]}),Dm=rt(function(t){return Ro(Ge(t,Bt))}),$m=rt(function(t){var e=ye(t);return Bt(e)&&(e=n),Ro(Ge(t,Bt),V(e,2))}),Im=rt(function(t){var e=ye(t);return e=typeof e=="function"?e:n,Ro(Ge(t,Bt),n,e)}),Nm=rt(qo);function Mm(t,e){return pu(t||[],e||[],lr)}function Lm(t,e){return pu(t||[],e||[],pr)}var Um=rt(function(t){var e=t.length,i=e>1?t[e-1]:n;return i=typeof i=="function"?(t.pop(),i):n,Xu(t,i)});function Gu(t){var e=h(t);return e.__chain__=!0,e}function zm(t,e){return e(t),t}function ci(t,e){return e(t)}var Wm=Ue(function(t){var e=t.length,i=e?t[0]:0,a=this.__wrapped__,l=function(d){return vo(d,t)};return e>1||this.__actions__.length||!(a instanceof st)||!ze(i)?this.thru(l):(a=a.slice(i,+i+(e?1:0)),a.__actions__.push({func:ci,args:[l],thisArg:n}),new me(a,this.__chain__).thru(function(d){return e&&!d.length&&d.push(n),d}))});function Hm(){return Gu(this)}function Vm(){return new me(this.value(),this.__chain__)}function qm(){this.__values__===n&&(this.__values__=fc(this.value()));var t=this.__index__>=this.__values__.length,e=t?n:this.__values__[this.__index__++];return{done:t,value:e}}function Jm(){return this}function Km(t){for(var e,i=this;i instanceof Kr;){var a=Hu(i);a.__index__=0,a.__values__=n,e?l.__wrapped__=a:e=a;var l=a;i=i.__wrapped__}return l.__wrapped__=t,e}function Ym(){var t=this.__wrapped__;if(t instanceof st){var e=t;return this.__actions__.length&&(e=new st(this)),e=e.reverse(),e.__actions__.push({func:ci,args:[Vo],thisArg:n}),new me(e,this.__chain__)}return this.thru(Vo)}function Xm(){return du(this.__wrapped__,this.__actions__)}var Gm=ei(function(t,e,i){gt.call(t,i)?++t[i]:Me(t,i,1)});function Qm(t,e,i){var a=Y(t)?Sa:zd;return i&&Xt(t,e,i)&&(e=n),a(t,V(e,3))}function Zm(t,e){var i=Y(t)?Ge:Xa;return i(t,V(e,3))}var t0=Tu(Vu),e0=Tu(qu);function n0(t,e){return zt(li(t,e),1)}function r0(t,e){return zt(li(t,e),ct)}function i0(t,e,i){return i=i===n?1:Z(i),zt(li(t,e),i)}function Qu(t,e){var i=Y(t)?de:en;return i(t,V(e,3))}function Zu(t,e){var i=Y(t)?Eh:Ya;return i(t,V(e,3))}var o0=ei(function(t,e,i){gt.call(t,i)?t[i].push(e):Me(t,i,[e])});function s0(t,e,i,a){t=Zt(t)?t:Ln(t),i=i&&!a?Z(i):0;var l=t.length;return i<0&&(i=It(l+i,0)),mi(t)?i<=l&&t.indexOf(e,i)>-1:!!l&&Cn(t,e,i)>-1}var a0=rt(function(t,e,i){var a=-1,l=typeof e=="function",d=Zt(t)?T(t.length):[];return en(t,function(g){d[++a]=l?ie(e,g,i):hr(g,e,i)}),d}),u0=ei(function(t,e,i){Me(t,i,e)});function li(t,e){var i=Y(t)?At:nu;return i(t,V(e,3))}function c0(t,e,i,a){return t==null?[]:(Y(e)||(e=e==null?[]:[e]),i=a?n:i,Y(i)||(i=i==null?[]:[i]),su(t,e,i))}var l0=ei(function(t,e,i){t[i?0:1].push(e)},function(){return[[],[]]});function f0(t,e,i){var a=Y(t)?ro:Ra,l=arguments.length<3;return a(t,V(e,4),i,l,en)}function h0(t,e,i){var a=Y(t)?Th:Ra,l=arguments.length<3;return a(t,V(e,4),i,l,Ya)}function d0(t,e){var i=Y(t)?Ge:Xa;return i(t,di(V(e,3)))}function p0(t){var e=Y(t)?Va:sp;return e(t)}function m0(t,e,i){(i?Xt(t,e,i):e===n)?e=1:e=Z(e);var a=Y(t)?Id:ap;return a(t,e)}function g0(t){var e=Y(t)?Nd:cp;return e(t)}function v0(t){if(t==null)return 0;if(Zt(t))return mi(t)?Rn(t):t.length;var e=Kt(t);return e==xe||e==Ee?t.size:Eo(t).length}function y0(t,e,i){var a=Y(t)?io:lp;return i&&Xt(t,e,i)&&(e=n),a(t,V(e,3))}var _0=rt(function(t,e){if(t==null)return[];var i=e.length;return i>1&&Xt(t,e[0],e[1])?e=[]:i>2&&Xt(e[0],e[1],e[2])&&(e=[e[0]]),su(t,zt(e,1),[])}),fi=Zh||function(){return Ut.Date.now()};function w0(t,e){if(typeof e!="function")throw new pe(f);return t=Z(t),function(){if(--t<1)return e.apply(this,arguments)}}function tc(t,e,i){return e=i?n:e,e=t&&e==null?t.length:e,Le(t,Tt,n,n,n,n,e)}function ec(t,e){var i;if(typeof e!="function")throw new pe(f);return t=Z(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=n),i}}var Jo=rt(function(t,e,i){var a=M;if(i.length){var l=Ze(i,Nn(Jo));a|=ht}return Le(t,a,e,i,l)}),nc=rt(function(t,e,i){var a=M|P;if(i.length){var l=Ze(i,Nn(nc));a|=ht}return Le(e,a,t,i,l)});function rc(t,e,i){e=i?n:e;var a=Le(t,D,n,n,n,n,n,e);return a.placeholder=rc.placeholder,a}function ic(t,e,i){e=i?n:e;var a=Le(t,bt,n,n,n,n,n,e);return a.placeholder=ic.placeholder,a}function oc(t,e,i){var a,l,d,g,y,b,k=0,C=!1,j=!1,I=!0;if(typeof t!="function")throw new pe(f);e=_e(e)||0,St(i)&&(C=!!i.leading,j="maxWait"in i,d=j?It(_e(i.maxWait)||0,e):d,I="trailing"in i?!!i.trailing:I);function U(Pt){var ke=a,Ve=l;return a=l=n,k=Pt,g=t.apply(Ve,ke),g}function q(Pt){return k=Pt,y=vr(ot,e),C?U(Pt):g}function tt(Pt){var ke=Pt-b,Ve=Pt-k,Tc=e-ke;return j?Jt(Tc,d-Ve):Tc}function J(Pt){var ke=Pt-b,Ve=Pt-k;return b===n||ke>=e||ke<0||j&&Ve>=d}function ot(){var Pt=fi();if(J(Pt))return ut(Pt);y=vr(ot,tt(Pt))}function ut(Pt){return y=n,I&&a?U(Pt):(a=l=n,g)}function ue(){y!==n&&mu(y),k=0,a=b=l=y=n}function Gt(){return y===n?g:ut(fi())}function ce(){var Pt=fi(),ke=J(Pt);if(a=arguments,l=this,b=Pt,ke){if(y===n)return q(b);if(j)return mu(y),y=vr(ot,e),U(b)}return y===n&&(y=vr(ot,e)),g}return ce.cancel=ue,ce.flush=Gt,ce}var b0=rt(function(t,e){return Ka(t,1,e)}),x0=rt(function(t,e,i){return Ka(t,_e(e)||0,i)});function E0(t){return Le(t,yt)}function hi(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new pe(f);var i=function(){var a=arguments,l=e?e.apply(this,a):a[0],d=i.cache;if(d.has(l))return d.get(l);var g=t.apply(this,a);return i.cache=d.set(l,g)||d,g};return i.cache=new(hi.Cache||Ne),i}hi.Cache=Ne;function di(t){if(typeof t!="function")throw new pe(f);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function T0(t){return ec(2,t)}var A0=fp(function(t,e){e=e.length==1&&Y(e[0])?At(e[0],oe(V())):At(zt(e,1),oe(V()));var i=e.length;return rt(function(a){for(var l=-1,d=Jt(a.length,i);++l<d;)a[l]=e[l].call(this,a[l]);return ie(t,this,a)})}),Ko=rt(function(t,e){var i=Ze(e,Nn(Ko));return Le(t,ht,n,e,i)}),sc=rt(function(t,e){var i=Ze(e,Nn(sc));return Le(t,Ct,n,e,i)}),S0=Ue(function(t,e){return Le(t,at,n,n,n,e)});function k0(t,e){if(typeof t!="function")throw new pe(f);return e=e===n?e:Z(e),rt(t,e)}function C0(t,e){if(typeof t!="function")throw new pe(f);return e=e==null?0:It(Z(e),0),rt(function(i){var a=i[e],l=on(i,0,e);return a&&Qe(l,a),ie(t,this,l)})}function O0(t,e,i){var a=!0,l=!0;if(typeof t!="function")throw new pe(f);return St(i)&&(a="leading"in i?!!i.leading:a,l="trailing"in i?!!i.trailing:l),oc(t,e,{leading:a,maxWait:e,trailing:l})}function R0(t){return tc(t,1)}function j0(t,e){return Ko(Fo(e),t)}function F0(){if(!arguments.length)return[];var t=arguments[0];return Y(t)?t:[t]}function B0(t){return ge(t,B)}function P0(t,e){return e=typeof e=="function"?e:n,ge(t,B,e)}function D0(t){return ge(t,_|B)}function $0(t,e){return e=typeof e=="function"?e:n,ge(t,_|B,e)}function I0(t,e){return e==null||Ja(t,e,Nt(e))}function Se(t,e){return t===e||t!==t&&e!==e}var N0=oi(wo),M0=oi(function(t,e){return t>=e}),xn=Za(function(){return arguments}())?Za:function(t){return jt(t)&&gt.call(t,"callee")&&!Ma.call(t,"callee")},Y=T.isArray,L0=wa?oe(wa):Kd;function Zt(t){return t!=null&&pi(t.length)&&!We(t)}function Bt(t){return jt(t)&&Zt(t)}function U0(t){return t===!0||t===!1||jt(t)&&Yt(t)==hn}var sn=ed||os,z0=ba?oe(ba):Yd;function W0(t){return jt(t)&&t.nodeType===1&&!yr(t)}function H0(t){if(t==null)return!0;if(Zt(t)&&(Y(t)||typeof t=="string"||typeof t.splice=="function"||sn(t)||Mn(t)||xn(t)))return!t.length;var e=Kt(t);if(e==xe||e==Ee)return!t.size;if(gr(t))return!Eo(t).length;for(var i in t)if(gt.call(t,i))return!1;return!0}function V0(t,e){return dr(t,e)}function q0(t,e,i){i=typeof i=="function"?i:n;var a=i?i(t,e):n;return a===n?dr(t,e,n,i):!!a}function Yo(t){if(!jt(t))return!1;var e=Yt(t);return e==Sr||e==Ii||typeof t.message=="string"&&typeof t.name=="string"&&!yr(t)}function J0(t){return typeof t=="number"&&Ua(t)}function We(t){if(!St(t))return!1;var e=Yt(t);return e==kr||e==Ks||e==$i||e==vf}function ac(t){return typeof t=="number"&&t==Z(t)}function pi(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=_t}function St(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function jt(t){return t!=null&&typeof t=="object"}var uc=xa?oe(xa):Gd;function K0(t,e){return t===e||xo(t,e,Mo(e))}function Y0(t,e,i){return i=typeof i=="function"?i:n,xo(t,e,Mo(e),i)}function X0(t){return cc(t)&&t!=+t}function G0(t){if(Pp(t))throw new K(c);return tu(t)}function Q0(t){return t===null}function Z0(t){return t==null}function cc(t){return typeof t=="number"||jt(t)&&Yt(t)==Zn}function yr(t){if(!jt(t)||Yt(t)!=$e)return!1;var e=Ur(t);if(e===null)return!0;var i=gt.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&Ir.call(i)==Yh}var Xo=Ea?oe(Ea):Qd;function tg(t){return ac(t)&&t>=-_t&&t<=_t}var lc=Ta?oe(Ta):Zd;function mi(t){return typeof t=="string"||!Y(t)&&jt(t)&&Yt(t)==er}function ae(t){return typeof t=="symbol"||jt(t)&&Yt(t)==Cr}var Mn=Aa?oe(Aa):tp;function eg(t){return t===n}function ng(t){return jt(t)&&Kt(t)==nr}function rg(t){return jt(t)&&Yt(t)==_f}var ig=oi(To),og=oi(function(t,e){return t<=e});function fc(t){if(!t)return[];if(Zt(t))return mi(t)?Te(t):Qt(t);if(or&&t[or])return Ih(t[or]());var e=Kt(t),i=e==xe?lo:e==Ee?Pr:Ln;return i(t)}function He(t){if(!t)return t===0?t:0;if(t=_e(t),t===ct||t===-ct){var e=t<0?-1:1;return e*qt}return t===t?t:0}function Z(t){var e=He(t),i=e%1;return e===e?i?e-i:e:0}function hc(t){return t?yn(Z(t),0,Q):0}function _e(t){if(typeof t=="number")return t;if(ae(t))return Pe;if(St(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=St(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ja(t);var i=Lf.test(t);return i||zf.test(t)?wh(t.slice(2),i?2:8):Mf.test(t)?Pe:+t}function dc(t){return Fe(t,te(t))}function sg(t){return t?yn(Z(t),-_t,_t):t===0?t:0}function dt(t){return t==null?"":se(t)}var ag=$n(function(t,e){if(gr(e)||Zt(e)){Fe(e,Nt(e),t);return}for(var i in e)gt.call(e,i)&&lr(t,i,e[i])}),pc=$n(function(t,e){Fe(e,te(e),t)}),gi=$n(function(t,e,i,a){Fe(e,te(e),t,a)}),ug=$n(function(t,e,i,a){Fe(e,Nt(e),t,a)}),cg=Ue(vo);function lg(t,e){var i=Dn(t);return e==null?i:qa(i,e)}var fg=rt(function(t,e){t=wt(t);var i=-1,a=e.length,l=a>2?e[2]:n;for(l&&Xt(e[0],e[1],l)&&(a=1);++i<a;)for(var d=e[i],g=te(d),y=-1,b=g.length;++y<b;){var k=g[y],C=t[k];(C===n||Se(C,Fn[k])&&!gt.call(t,k))&&(t[k]=d[k])}return t}),hg=rt(function(t){return t.push(n,ju),ie(mc,n,t)});function dg(t,e){return ka(t,V(e,3),je)}function pg(t,e){return ka(t,V(e,3),_o)}function mg(t,e){return t==null?t:yo(t,V(e,3),te)}function gg(t,e){return t==null?t:Ga(t,V(e,3),te)}function vg(t,e){return t&&je(t,V(e,3))}function yg(t,e){return t&&_o(t,V(e,3))}function _g(t){return t==null?[]:Gr(t,Nt(t))}function wg(t){return t==null?[]:Gr(t,te(t))}function Go(t,e,i){var a=t==null?n:_n(t,e);return a===n?i:a}function bg(t,e){return t!=null&&Pu(t,e,Hd)}function Qo(t,e){return t!=null&&Pu(t,e,Vd)}var xg=Su(function(t,e,i){e!=null&&typeof e.toString!="function"&&(e=Nr.call(e)),t[e]=i},ts(ee)),Eg=Su(function(t,e,i){e!=null&&typeof e.toString!="function"&&(e=Nr.call(e)),gt.call(t,e)?t[e].push(i):t[e]=[i]},V),Tg=rt(hr);function Nt(t){return Zt(t)?Ha(t):Eo(t)}function te(t){return Zt(t)?Ha(t,!0):ep(t)}function Ag(t,e){var i={};return e=V(e,3),je(t,function(a,l,d){Me(i,e(a,l,d),a)}),i}function Sg(t,e){var i={};return e=V(e,3),je(t,function(a,l,d){Me(i,l,e(a,l,d))}),i}var kg=$n(function(t,e,i){Qr(t,e,i)}),mc=$n(function(t,e,i,a){Qr(t,e,i,a)}),Cg=Ue(function(t,e){var i={};if(t==null)return i;var a=!1;e=At(e,function(d){return d=rn(d,t),a||(a=d.length>1),d}),Fe(t,Io(t),i),a&&(i=ge(i,_|S|B,xp));for(var l=e.length;l--;)Oo(i,e[l]);return i});function Og(t,e){return gc(t,di(V(e)))}var Rg=Ue(function(t,e){return t==null?{}:rp(t,e)});function gc(t,e){if(t==null)return{};var i=At(Io(t),function(a){return[a]});return e=V(e),au(t,i,function(a,l){return e(a,l[0])})}function jg(t,e,i){e=rn(e,t);var a=-1,l=e.length;for(l||(l=1,t=n);++a<l;){var d=t==null?n:t[Be(e[a])];d===n&&(a=l,d=i),t=We(d)?d.call(t):d}return t}function Fg(t,e,i){return t==null?t:pr(t,e,i)}function Bg(t,e,i,a){return a=typeof a=="function"?a:n,t==null?t:pr(t,e,i,a)}var vc=Ou(Nt),yc=Ou(te);function Pg(t,e,i){var a=Y(t),l=a||sn(t)||Mn(t);if(e=V(e,4),i==null){var d=t&&t.constructor;l?i=a?new d:[]:St(t)?i=We(d)?Dn(Ur(t)):{}:i={}}return(l?de:je)(t,function(g,y,b){return e(i,g,y,b)}),i}function Dg(t,e){return t==null?!0:Oo(t,e)}function $g(t,e,i){return t==null?t:hu(t,e,Fo(i))}function Ig(t,e,i,a){return a=typeof a=="function"?a:n,t==null?t:hu(t,e,Fo(i),a)}function Ln(t){return t==null?[]:co(t,Nt(t))}function Ng(t){return t==null?[]:co(t,te(t))}function Mg(t,e,i){return i===n&&(i=e,e=n),i!==n&&(i=_e(i),i=i===i?i:0),e!==n&&(e=_e(e),e=e===e?e:0),yn(_e(t),e,i)}function Lg(t,e,i){return e=He(e),i===n?(i=e,e=0):i=He(i),t=_e(t),qd(t,e,i)}function Ug(t,e,i){if(i&&typeof i!="boolean"&&Xt(t,e,i)&&(e=i=n),i===n&&(typeof e=="boolean"?(i=e,e=n):typeof t=="boolean"&&(i=t,t=n)),t===n&&e===n?(t=0,e=1):(t=He(t),e===n?(e=t,t=0):e=He(e)),t>e){var a=t;t=e,e=a}if(i||t%1||e%1){var l=za();return Jt(t+l*(e-t+_h("1e-"+((l+"").length-1))),e)}return So(t,e)}var zg=In(function(t,e,i){return e=e.toLowerCase(),t+(i?_c(e):e)});function _c(t){return Zo(dt(t).toLowerCase())}function wc(t){return t=dt(t),t&&t.replace(Hf,Fh).replace(ch,"")}function Wg(t,e,i){t=dt(t),e=se(e);var a=t.length;i=i===n?a:yn(Z(i),0,a);var l=i;return i-=e.length,i>=0&&t.slice(i,l)==e}function Hg(t){return t=dt(t),t&&Tf.test(t)?t.replace(Gs,Bh):t}function Vg(t){return t=dt(t),t&&Rf.test(t)?t.replace(Ji,"\\$&"):t}var qg=In(function(t,e,i){return t+(i?"-":"")+e.toLowerCase()}),Jg=In(function(t,e,i){return t+(i?" ":"")+e.toLowerCase()}),Kg=Eu("toLowerCase");function Yg(t,e,i){t=dt(t),e=Z(e);var a=e?Rn(t):0;if(!e||a>=e)return t;var l=(e-a)/2;return ii(Vr(l),i)+t+ii(Hr(l),i)}function Xg(t,e,i){t=dt(t),e=Z(e);var a=e?Rn(t):0;return e&&a<e?t+ii(e-a,i):t}function Gg(t,e,i){t=dt(t),e=Z(e);var a=e?Rn(t):0;return e&&a<e?ii(e-a,i)+t:t}function Qg(t,e,i){return i||e==null?e=0:e&&(e=+e),od(dt(t).replace(Ki,""),e||0)}function Zg(t,e,i){return(i?Xt(t,e,i):e===n)?e=1:e=Z(e),ko(dt(t),e)}function tv(){var t=arguments,e=dt(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var ev=In(function(t,e,i){return t+(i?"_":"")+e.toLowerCase()});function nv(t,e,i){return i&&typeof i!="number"&&Xt(t,e,i)&&(e=i=n),i=i===n?Q:i>>>0,i?(t=dt(t),t&&(typeof e=="string"||e!=null&&!Xo(e))&&(e=se(e),!e&&On(t))?on(Te(t),0,i):t.split(e,i)):[]}var rv=In(function(t,e,i){return t+(i?" ":"")+Zo(e)});function iv(t,e,i){return t=dt(t),i=i==null?0:yn(Z(i),0,t.length),e=se(e),t.slice(i,i+e.length)==e}function ov(t,e,i){var a=h.templateSettings;i&&Xt(t,e,i)&&(e=n),t=dt(t),e=gi({},e,a,Ru);var l=gi({},e.imports,a.imports,Ru),d=Nt(l),g=co(l,d),y,b,k=0,C=e.interpolate||Or,j="__p += '",I=fo((e.escape||Or).source+"|"+C.source+"|"+(C===Qs?Nf:Or).source+"|"+(e.evaluate||Or).source+"|$","g"),U="//# sourceURL="+(gt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ph+"]")+`
`;t.replace(I,function(J,ot,ut,ue,Gt,ce){return ut||(ut=ue),j+=t.slice(k,ce).replace(Vf,Ph),ot&&(y=!0,j+=`' +
__e(`+ot+`) +
'`),Gt&&(b=!0,j+=`';
`+Gt+`;
__p += '`),ut&&(j+=`' +
((__t = (`+ut+`)) == null ? '' : __t) +
'`),k=ce+J.length,J}),j+=`';
`;var q=gt.call(e,"variable")&&e.variable;if(!q)j=`with (obj) {
`+j+`
}
`;else if($f.test(q))throw new K(m);j=(b?j.replace(wf,""):j).replace(bf,"$1").replace(xf,"$1;"),j="function("+(q||"obj")+`) {
`+(q?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(y?", __e = _.escape":"")+(b?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+j+`return __p
}`;var tt=xc(function(){return ft(d,U+"return "+j).apply(n,g)});if(tt.source=j,Yo(tt))throw tt;return tt}function sv(t){return dt(t).toLowerCase()}function av(t){return dt(t).toUpperCase()}function uv(t,e,i){if(t=dt(t),t&&(i||e===n))return ja(t);if(!t||!(e=se(e)))return t;var a=Te(t),l=Te(e),d=Fa(a,l),g=Ba(a,l)+1;return on(a,d,g).join("")}function cv(t,e,i){if(t=dt(t),t&&(i||e===n))return t.slice(0,Da(t)+1);if(!t||!(e=se(e)))return t;var a=Te(t),l=Ba(a,Te(e))+1;return on(a,0,l).join("")}function lv(t,e,i){if(t=dt(t),t&&(i||e===n))return t.replace(Ki,"");if(!t||!(e=se(e)))return t;var a=Te(t),l=Fa(a,Te(e));return on(a,l).join("")}function fv(t,e){var i=L,a=et;if(St(e)){var l="separator"in e?e.separator:l;i="length"in e?Z(e.length):i,a="omission"in e?se(e.omission):a}t=dt(t);var d=t.length;if(On(t)){var g=Te(t);d=g.length}if(i>=d)return t;var y=i-Rn(a);if(y<1)return a;var b=g?on(g,0,y).join(""):t.slice(0,y);if(l===n)return b+a;if(g&&(y+=b.length-y),Xo(l)){if(t.slice(y).search(l)){var k,C=b;for(l.global||(l=fo(l.source,dt(Zs.exec(l))+"g")),l.lastIndex=0;k=l.exec(C);)var j=k.index;b=b.slice(0,j===n?y:j)}}else if(t.indexOf(se(l),y)!=y){var I=b.lastIndexOf(l);I>-1&&(b=b.slice(0,I))}return b+a}function hv(t){return t=dt(t),t&&Ef.test(t)?t.replace(Xs,Uh):t}var dv=In(function(t,e,i){return t+(i?" ":"")+e.toUpperCase()}),Zo=Eu("toUpperCase");function bc(t,e,i){return t=dt(t),e=i?n:e,e===n?$h(t)?Hh(t):kh(t):t.match(e)||[]}var xc=rt(function(t,e){try{return ie(t,n,e)}catch(i){return Yo(i)?i:new K(i)}}),pv=Ue(function(t,e){return de(e,function(i){i=Be(i),Me(t,i,Jo(t[i],t))}),t});function mv(t){var e=t==null?0:t.length,i=V();return t=e?At(t,function(a){if(typeof a[1]!="function")throw new pe(f);return[i(a[0]),a[1]]}):[],rt(function(a){for(var l=-1;++l<e;){var d=t[l];if(ie(d[0],this,a))return ie(d[1],this,a)}})}function gv(t){return Ud(ge(t,_))}function ts(t){return function(){return t}}function vv(t,e){return t==null||t!==t?e:t}var yv=Au(),_v=Au(!0);function ee(t){return t}function es(t){return eu(typeof t=="function"?t:ge(t,_))}function wv(t){return ru(ge(t,_))}function bv(t,e){return iu(t,ge(e,_))}var xv=rt(function(t,e){return function(i){return hr(i,t,e)}}),Ev=rt(function(t,e){return function(i){return hr(t,i,e)}});function ns(t,e,i){var a=Nt(e),l=Gr(e,a);i==null&&!(St(e)&&(l.length||!a.length))&&(i=e,e=t,t=this,l=Gr(e,Nt(e)));var d=!(St(i)&&"chain"in i)||!!i.chain,g=We(t);return de(l,function(y){var b=e[y];t[y]=b,g&&(t.prototype[y]=function(){var k=this.__chain__;if(d||k){var C=t(this.__wrapped__),j=C.__actions__=Qt(this.__actions__);return j.push({func:b,args:arguments,thisArg:t}),C.__chain__=k,C}return b.apply(t,Qe([this.value()],arguments))})}),t}function Tv(){return Ut._===this&&(Ut._=Xh),this}function rs(){}function Av(t){return t=Z(t),rt(function(e){return ou(e,t)})}var Sv=Po(At),kv=Po(Sa),Cv=Po(io);function Ec(t){return Uo(t)?oo(Be(t)):ip(t)}function Ov(t){return function(e){return t==null?n:_n(t,e)}}var Rv=ku(),jv=ku(!0);function is(){return[]}function os(){return!1}function Fv(){return{}}function Bv(){return""}function Pv(){return!0}function Dv(t,e){if(t=Z(t),t<1||t>_t)return[];var i=Q,a=Jt(t,Q);e=V(e),t-=Q;for(var l=uo(a,e);++i<t;)e(i);return l}function $v(t){return Y(t)?At(t,Be):ae(t)?[t]:Qt(Wu(dt(t)))}function Iv(t){var e=++Kh;return dt(t)+e}var Nv=ri(function(t,e){return t+e},0),Mv=Do("ceil"),Lv=ri(function(t,e){return t/e},1),Uv=Do("floor");function zv(t){return t&&t.length?Xr(t,ee,wo):n}function Wv(t,e){return t&&t.length?Xr(t,V(e,2),wo):n}function Hv(t){return Oa(t,ee)}function Vv(t,e){return Oa(t,V(e,2))}function qv(t){return t&&t.length?Xr(t,ee,To):n}function Jv(t,e){return t&&t.length?Xr(t,V(e,2),To):n}var Kv=ri(function(t,e){return t*e},1),Yv=Do("round"),Xv=ri(function(t,e){return t-e},0);function Gv(t){return t&&t.length?ao(t,ee):0}function Qv(t,e){return t&&t.length?ao(t,V(e,2)):0}return h.after=w0,h.ary=tc,h.assign=ag,h.assignIn=pc,h.assignInWith=gi,h.assignWith=ug,h.at=cg,h.before=ec,h.bind=Jo,h.bindAll=pv,h.bindKey=nc,h.castArray=F0,h.chain=Gu,h.chunk=Up,h.compact=zp,h.concat=Wp,h.cond=mv,h.conforms=gv,h.constant=ts,h.countBy=Gm,h.create=lg,h.curry=rc,h.curryRight=ic,h.debounce=oc,h.defaults=fg,h.defaultsDeep=hg,h.defer=b0,h.delay=x0,h.difference=Hp,h.differenceBy=Vp,h.differenceWith=qp,h.drop=Jp,h.dropRight=Kp,h.dropRightWhile=Yp,h.dropWhile=Xp,h.fill=Gp,h.filter=Zm,h.flatMap=n0,h.flatMapDeep=r0,h.flatMapDepth=i0,h.flatten=Ju,h.flattenDeep=Qp,h.flattenDepth=Zp,h.flip=E0,h.flow=yv,h.flowRight=_v,h.fromPairs=tm,h.functions=_g,h.functionsIn=wg,h.groupBy=o0,h.initial=nm,h.intersection=rm,h.intersectionBy=im,h.intersectionWith=om,h.invert=xg,h.invertBy=Eg,h.invokeMap=a0,h.iteratee=es,h.keyBy=u0,h.keys=Nt,h.keysIn=te,h.map=li,h.mapKeys=Ag,h.mapValues=Sg,h.matches=wv,h.matchesProperty=bv,h.memoize=hi,h.merge=kg,h.mergeWith=mc,h.method=xv,h.methodOf=Ev,h.mixin=ns,h.negate=di,h.nthArg=Av,h.omit=Cg,h.omitBy=Og,h.once=T0,h.orderBy=c0,h.over=Sv,h.overArgs=A0,h.overEvery=kv,h.overSome=Cv,h.partial=Ko,h.partialRight=sc,h.partition=l0,h.pick=Rg,h.pickBy=gc,h.property=Ec,h.propertyOf=Ov,h.pull=cm,h.pullAll=Yu,h.pullAllBy=lm,h.pullAllWith=fm,h.pullAt=hm,h.range=Rv,h.rangeRight=jv,h.rearg=S0,h.reject=d0,h.remove=dm,h.rest=k0,h.reverse=Vo,h.sampleSize=m0,h.set=Fg,h.setWith=Bg,h.shuffle=g0,h.slice=pm,h.sortBy=_0,h.sortedUniq=bm,h.sortedUniqBy=xm,h.split=nv,h.spread=C0,h.tail=Em,h.take=Tm,h.takeRight=Am,h.takeRightWhile=Sm,h.takeWhile=km,h.tap=zm,h.throttle=O0,h.thru=ci,h.toArray=fc,h.toPairs=vc,h.toPairsIn=yc,h.toPath=$v,h.toPlainObject=dc,h.transform=Pg,h.unary=R0,h.union=Cm,h.unionBy=Om,h.unionWith=Rm,h.uniq=jm,h.uniqBy=Fm,h.uniqWith=Bm,h.unset=Dg,h.unzip=qo,h.unzipWith=Xu,h.update=$g,h.updateWith=Ig,h.values=Ln,h.valuesIn=Ng,h.without=Pm,h.words=bc,h.wrap=j0,h.xor=Dm,h.xorBy=$m,h.xorWith=Im,h.zip=Nm,h.zipObject=Mm,h.zipObjectDeep=Lm,h.zipWith=Um,h.entries=vc,h.entriesIn=yc,h.extend=pc,h.extendWith=gi,ns(h,h),h.add=Nv,h.attempt=xc,h.camelCase=zg,h.capitalize=_c,h.ceil=Mv,h.clamp=Mg,h.clone=B0,h.cloneDeep=D0,h.cloneDeepWith=$0,h.cloneWith=P0,h.conformsTo=I0,h.deburr=wc,h.defaultTo=vv,h.divide=Lv,h.endsWith=Wg,h.eq=Se,h.escape=Hg,h.escapeRegExp=Vg,h.every=Qm,h.find=t0,h.findIndex=Vu,h.findKey=dg,h.findLast=e0,h.findLastIndex=qu,h.findLastKey=pg,h.floor=Uv,h.forEach=Qu,h.forEachRight=Zu,h.forIn=mg,h.forInRight=gg,h.forOwn=vg,h.forOwnRight=yg,h.get=Go,h.gt=N0,h.gte=M0,h.has=bg,h.hasIn=Qo,h.head=Ku,h.identity=ee,h.includes=s0,h.indexOf=em,h.inRange=Lg,h.invoke=Tg,h.isArguments=xn,h.isArray=Y,h.isArrayBuffer=L0,h.isArrayLike=Zt,h.isArrayLikeObject=Bt,h.isBoolean=U0,h.isBuffer=sn,h.isDate=z0,h.isElement=W0,h.isEmpty=H0,h.isEqual=V0,h.isEqualWith=q0,h.isError=Yo,h.isFinite=J0,h.isFunction=We,h.isInteger=ac,h.isLength=pi,h.isMap=uc,h.isMatch=K0,h.isMatchWith=Y0,h.isNaN=X0,h.isNative=G0,h.isNil=Z0,h.isNull=Q0,h.isNumber=cc,h.isObject=St,h.isObjectLike=jt,h.isPlainObject=yr,h.isRegExp=Xo,h.isSafeInteger=tg,h.isSet=lc,h.isString=mi,h.isSymbol=ae,h.isTypedArray=Mn,h.isUndefined=eg,h.isWeakMap=ng,h.isWeakSet=rg,h.join=sm,h.kebabCase=qg,h.last=ye,h.lastIndexOf=am,h.lowerCase=Jg,h.lowerFirst=Kg,h.lt=ig,h.lte=og,h.max=zv,h.maxBy=Wv,h.mean=Hv,h.meanBy=Vv,h.min=qv,h.minBy=Jv,h.stubArray=is,h.stubFalse=os,h.stubObject=Fv,h.stubString=Bv,h.stubTrue=Pv,h.multiply=Kv,h.nth=um,h.noConflict=Tv,h.noop=rs,h.now=fi,h.pad=Yg,h.padEnd=Xg,h.padStart=Gg,h.parseInt=Qg,h.random=Ug,h.reduce=f0,h.reduceRight=h0,h.repeat=Zg,h.replace=tv,h.result=jg,h.round=Yv,h.runInContext=w,h.sample=p0,h.size=v0,h.snakeCase=ev,h.some=y0,h.sortedIndex=mm,h.sortedIndexBy=gm,h.sortedIndexOf=vm,h.sortedLastIndex=ym,h.sortedLastIndexBy=_m,h.sortedLastIndexOf=wm,h.startCase=rv,h.startsWith=iv,h.subtract=Xv,h.sum=Gv,h.sumBy=Qv,h.template=ov,h.times=Dv,h.toFinite=He,h.toInteger=Z,h.toLength=hc,h.toLower=sv,h.toNumber=_e,h.toSafeInteger=sg,h.toString=dt,h.toUpper=av,h.trim=uv,h.trimEnd=cv,h.trimStart=lv,h.truncate=fv,h.unescape=hv,h.uniqueId=Iv,h.upperCase=dv,h.upperFirst=Zo,h.each=Qu,h.eachRight=Zu,h.first=Ku,ns(h,function(){var t={};return je(h,function(e,i){gt.call(h.prototype,i)||(t[i]=e)}),t}(),{chain:!1}),h.VERSION=s,de(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){h[t].placeholder=h}),de(["drop","take"],function(t,e){st.prototype[t]=function(i){i=i===n?1:It(Z(i),0);var a=this.__filtered__&&!e?new st(this):this.clone();return a.__filtered__?a.__takeCount__=Jt(i,a.__takeCount__):a.__views__.push({size:Jt(i,Q),type:t+(a.__dir__<0?"Right":"")}),a},st.prototype[t+"Right"]=function(i){return this.reverse()[t](i).reverse()}}),de(["filter","map","takeWhile"],function(t,e){var i=e+1,a=i==nt||i==Vt;st.prototype[t]=function(l){var d=this.clone();return d.__iteratees__.push({iteratee:V(l,3),type:i}),d.__filtered__=d.__filtered__||a,d}}),de(["head","last"],function(t,e){var i="take"+(e?"Right":"");st.prototype[t]=function(){return this[i](1).value()[0]}}),de(["initial","tail"],function(t,e){var i="drop"+(e?"":"Right");st.prototype[t]=function(){return this.__filtered__?new st(this):this[i](1)}}),st.prototype.compact=function(){return this.filter(ee)},st.prototype.find=function(t){return this.filter(t).head()},st.prototype.findLast=function(t){return this.reverse().find(t)},st.prototype.invokeMap=rt(function(t,e){return typeof t=="function"?new st(this):this.map(function(i){return hr(i,t,e)})}),st.prototype.reject=function(t){return this.filter(di(V(t)))},st.prototype.slice=function(t,e){t=Z(t);var i=this;return i.__filtered__&&(t>0||e<0)?new st(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==n&&(e=Z(e),i=e<0?i.dropRight(-e):i.take(e-t)),i)},st.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},st.prototype.toArray=function(){return this.take(Q)},je(st.prototype,function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),a=/^(?:head|last)$/.test(e),l=h[a?"take"+(e=="last"?"Right":""):e],d=a||/^find/.test(e);!l||(h.prototype[e]=function(){var g=this.__wrapped__,y=a?[1]:arguments,b=g instanceof st,k=y[0],C=b||Y(g),j=function(ot){var ut=l.apply(h,Qe([ot],y));return a&&I?ut[0]:ut};C&&i&&typeof k=="function"&&k.length!=1&&(b=C=!1);var I=this.__chain__,U=!!this.__actions__.length,q=d&&!I,tt=b&&!U;if(!d&&C){g=tt?g:new st(this);var J=t.apply(g,y);return J.__actions__.push({func:ci,args:[j],thisArg:n}),new me(J,I)}return q&&tt?t.apply(this,y):(J=this.thru(j),q?a?J.value()[0]:J.value():J)})}),de(["pop","push","shift","sort","splice","unshift"],function(t){var e=Dr[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",a=/^(?:pop|shift)$/.test(t);h.prototype[t]=function(){var l=arguments;if(a&&!this.__chain__){var d=this.value();return e.apply(Y(d)?d:[],l)}return this[i](function(g){return e.apply(Y(g)?g:[],l)})}}),je(st.prototype,function(t,e){var i=h[e];if(i){var a=i.name+"";gt.call(Pn,a)||(Pn[a]=[]),Pn[a].push({name:e,func:i})}}),Pn[ni(n,P).name]=[{name:"wrapper",func:n}],st.prototype.clone=hd,st.prototype.reverse=dd,st.prototype.value=pd,h.prototype.at=Wm,h.prototype.chain=Hm,h.prototype.commit=Vm,h.prototype.next=qm,h.prototype.plant=Km,h.prototype.reverse=Ym,h.prototype.toJSON=h.prototype.valueOf=h.prototype.value=Xm,h.prototype.first=h.prototype.head,or&&(h.prototype[or]=Jm),h},jn=Vh();pn?((pn.exports=jn)._=jn,to._=jn):Ut._=jn}).call(wr)})(Es,Es.exports);let wi=[];const zl=r=>{for(const o of wi)if(o.status==="running")try{for(const n of o.funcs)n(r-o.startTime)}catch(n){o.destroy(),console.error(n)}requestAnimationFrame(zl)};requestAnimationFrame(zl);class $s{constructor(){E(this,"funcs",[]),E(this,"status","stop"),E(this,"startTime",0),this.status="running",wi.push(this),requestAnimationFrame(o=>this.startTime=o)}add(o,n=!1){return n?this.funcs.unshift(o):this.funcs.push(o),this}remove(o){const n=this.funcs.findIndex(s=>s===o);if(n===-1)throw new ReferenceError("You are going to remove nonexistent ticker function.");return this.funcs.splice(n,1),this}clear(){this.funcs=[]}destroy(){this.clear(),this.stop()}stop(){this.status="stop",wi=wi.filter(o=>o!==this)}}const E1={move:[],moveend:[],movestart:[],resize:[],resizeend:[],resizestart:[],rotate:[],rotateend:[],rotatestart:[],shake:[],shakeend:[],shakestart:[],start:[],end:[],animating:[]};async function Ri(r){await new Promise(o=>setTimeout(o,r))}class ji{constructor(o){E(this,"timing"),E(this,"shakeTiming"),E(this,"path"),E(this,"ticker",new $s),E(this,"custom",{}),E(this,"relation","absolute"),E(this,"easeTime",0),E(this,"size",1),E(this,"angle",0),E(this,"game"),E(this,"listener",Es.exports.cloneDeep(E1)),E(this,"targetValue",{system:{move:[0,0],resize:0,rotate:0,shake:0},custom:{}}),E(this,"animateFn",{system:{move:[()=>0,()=>0],moveAs:()=>0,resize:()=>0,rotate:()=>0,shake:()=>0},custom:{}}),E(this,"ox",0),E(this,"oy",0),E(this,"sx",0),E(this,"sy",0),E(this,"animating",{}),this.game=o,this.timing=n=>n,this.shakeTiming=n=>n,this.path=n=>[n,n],this.animating={move:!1,scale:!1,rotate:!1,shake:!1},this.ticker.add(()=>{const{animating:n}=this.listener;for(const s of n)s(this,"all")})}get x(){return this.ox+this.sx}get y(){return this.oy+this.sy}mode(o,n=!1){return n?this.shakeTiming=o:this.timing=o,this}time(o){return this.easeTime=o,this}relative(){return this.relation="relative",this}absolute(){return this.relation="absolute",this}move(o,n){return this.animating.move&&this.end(!0,"move"),this.applySys("ox",o,"move"),this.applySys("oy",n,"move"),this}rotate(o){return this.applySys("angle",o,"rotate"),this}scale(o){return this.applySys("size",o,"resize"),this}shake(o,n){var s,u;this.animating.shake===!0&&this.end(!0,"shake"),this.animating.shake=!0;const{easeTime:c,shakeTiming:f}=this,m=(u=(s=this.game)==null?void 0:s.time)!=null?u:Date.now();this.hook("start","shakestart");const v=()=>{var p,x;const _=((x=(p=this.game)==null?void 0:p.time)!=null?x:Date.now())-m;_>c&&(this.ticker.remove(v),this.animating.shake=!1,this.sx=0,this.sy=0,this.hook("end","shakeend"));const S=_/c,B=f(S);this.sx=B*o,this.sy=B*n};return this.ticker.add(v),this}moveAs(o){var n,s;this.animating.moveAs&&this.end(!0,"move"),this.animating.moveAs=!0,this.path=o;const{easeTime:u,relation:c,timing:f}=this,m=(s=(n=this.game)==null?void 0:n.time)!=null?s:Date.now(),[v,p]=[this.x,this.y],[x,_]=(()=>{if(c==="absolute")return o(1);{const[B,F]=o(1);return[v+B,p+F]}})();this.hook("start","movestart");const S=()=>{var B,F;const $=((F=(B=this.game)==null?void 0:B.time)!=null?F:Date.now())-m;if($>u){this.ticker.remove(S),this.animating.move=!1,this.ox=x,this.oy=_,this.hook("end","moveend");return}const M=$/u,[P,R]=o(f(M));c==="absolute"?(this.ox=P,this.oy=R):(this.ox=v+P,this.oy=p+R)};return this.ticker.add(S,!0),this.animateFn.system.moveAs=S,this.targetValue.system.move=[x,_],this}async all(){if(Object.values(this.animating).every(o=>o===!0))return this.error("There is no animates to be waited.");await new Promise(o=>{const n=()=>{Object.values(this.animating).every(s=>s===!1)&&(this.unlisten("end",n),o("all animated."))};this.listen("end",n)})}async n(o){const n=Object.values(this.animating).filter(u=>u===!0).length;if(n<o)return this.error(`You are trying to wait ${o} animate, but there are only ${n} animate animating.`);let s=0;await new Promise(u=>{const c=()=>{s++,s===o&&(this.unlisten("end",c),u(`${o} animated.`))};this.listen("end",c)})}async w(o){if(this.animating[o]===!1)return this.error(`The ${o} animate is not animating.`);await new Promise(n=>{const s=()=>{this.animating[o]===!1&&(this.unlisten("end",s),n(`${o} animated.`))};this.listen("end",s)})}listen(o,n){this.listener[o].push(n)}unlisten(o,n){const s=this.listener[o].findIndex(u=>u===n);if(s===-1)return this.error("You are trying to remove a nonexistent listener.");this.listener[o].splice(s,1)}register(o,n){if(typeof this.custom[o]=="number")return this.error(`Property ${o} has been regietered twice.`,"reregister");this.custom[o]=n,this.animating[o]=!1}apply(o,n,s=!1){var u,c;this.animating[o]===!0&&this.end(!1,o),o in this.custom||this.error(`You are trying to execute nonexistent property ${o}.`),this.animating[o]=!0;const f=this.custom[o],m=(c=(u=this.game)==null?void 0:u.time)!=null?c:Date.now(),{timing:v,relation:p,easeTime:x}=this,_=p==="absolute"?n-f:n;this.hook("start");const S=()=>{var B,F;const $=((F=(B=this.game)==null?void 0:B.time)!=null?F:Date.now())-m;if($>x){this.end(!1,o);return}const M=$/x,P=v(M);this.custom[o]=f+P*_};return this.ticker.add(S,s),this.animateFn.custom[o]=S,this.targetValue.custom[o]=_+f,this}applySys(o,n,s){var u,c;s!=="move"&&this.animating[s]===!0&&this.end(!0,s),this.animating[s]=!0;const f=this[o],m=(c=(u=this.game)==null?void 0:u.time)!=null?c:Date.now(),v=this.timing,p=this.relation,x=this.easeTime,_=p==="absolute"?n-f:n;this.hook("start",`${s}start`);const S=()=>{var B,F;const $=((F=(B=this.game)==null?void 0:B.time)!=null?F:Date.now())-m;if($>x){this.end(!0,s);return}const M=$/x,P=v(M);this[o]=f+_*P,o!=="oy"&&this.hook(s)};this.ticker.add(S,!0),o==="ox"?this.animateFn.system.move[0]=S:o==="oy"?this.animateFn.system.move[1]=S:this.animateFn.system[s]=S,s==="move"?(o==="ox"&&(this.targetValue.system.move[0]=_+f),o==="oy"&&(this.targetValue.system.move[1]=_+f)):s!=="shake"&&(this.targetValue.system[s]=_+f)}error(o,n){throw n==="repeat"?new Error(`Cannot execute the same animation twice. Info: ${o}`):n==="reregister"?new Error(`Cannot register a animated property twice. Info: ${o}`):new Error(o)}hook(...o){const n=Object.entries(this.listener).filter(s=>o.includes(s[0]));for(const[s,u]of n)for(const c of u)c(this,s)}end(o,n){if(o===!0)if(this.animating[n]=!1,n==="move"?(this.ticker.remove(this.animateFn.system.move[0]),this.ticker.remove(this.animateFn.system.move[1])):this.ticker.remove(this.animateFn.system[n]),n==="move"){const[s,u]=this.targetValue.system.move;this.ox=s,this.oy=u,this.hook("moveend","end")}else n==="rotate"?(this.angle=this.targetValue.system.rotate,this.hook("rotateend","end")):n==="resize"?(this.size=this.targetValue.system.resize,this.hook("resizeend","end")):(this.sx=0,this.sy=0,this.hook("shakeend","end"));else this.animating[n]=!1,this.ticker.remove(this.animateFn.custom[n]),this.custom[n]=this.targetValue.custom[n],this.hook("end")}}const Dt=Object.freeze(Object.defineProperty({__proto__:null,sleep:Ri,AnimationBase:ji},Symbol.toStringTag,{value:"Module"}));class T1 extends ji{constructor(o,n,s){super(o),E(this,"saveStack",[]),E(this,"inited",!1),E(this,"effectFn",this.defaultEffect),E(this,"trigo",[0,0]),E(this,"target"),E(this,"id"),E(this,"game"),this.target=s,this.id=n,this.game=o,this.ticker.add(()=>{const u=this.angle/180*Math.PI;this.trigo=[Math.cos(u),Math.sin(u)]})}save(){return this.saveStack.push({x:this.ox,y:this.oy,angle:this.angle,size:this.size}),this}restore(){const o=this.saveStack.pop();if(!o)throw new RangeError("There is no saves to be restored.");return this.ox=o.x,this.oy=o.y,this.size=o.size,this.angle=o.angle,this}effect(){this.effectFn(this)}css(o){const n=this.target.canvas,s=o.replaceAll(`
`,";").replace(/;+/g,";").trim().split(";");for(const u of s){const[c,f]=u.split(/\s*:\s*/);let m=c.replace(/-([a-z])/g,v=>`-${v.toUpperCase()}`);m.length!==0&&(m=m[0].toLowerCase()+m.slice(1),c in n.style&&(n.style[c]=f))}}setGlobalEffects(o){this.effectFn=o}defaultEffect(){const o=this.target,n=this.game.scale,s=960*n,u=540*n,c=this.x*n,f=this.y*n;o.translate(-c,-f),o.translate(s,u),o.rotate(this.angle*Math.PI/180),o.scale(this.size,this.size),o.translate(-s,-u),o.shadowBlur=4,o.shadowColor="black"}}const Ts=(...r)=>r.reduce((o,n)=>o+n,0),cs=r=>{if(r===0)return 1;let o=r;for(;r>1;)r--,o*=r;return o},Wl=(r,o)=>Math.round(cs(o)/(cs(r)*cs(o-r))),ln=(r,o,n=s=>1-o(1-s))=>r==="in"?o:r==="out"?n:r==="in-out"?s=>s<.5?o(s*2)/2:.5+n((s-.5)*2)/2:s=>s<.5?n(s*2)/2:.5+o((s-.5)*2)/2,A1=Math.cosh(2),S1=Math.acosh(2),k1=Math.tanh(3),C1=Math.atan(5);function Ti(){return r=>r}function O1(...r){const o=[0].concat(r);o.push(1);const n=o.length,s=Array(n).fill(0).map((u,c)=>Wl(c,n-1));return u=>{const c=s.map((f,m)=>f*o[m]*(1-u)**(n-m-1)*u**m);return Ts(...c)}}function R1(r,o){if(r==="sin"){const n=s=>Math.sin(s*Math.PI/2);return ln(o,s=>1-n(1-s),n)}if(r==="sec"){const n=s=>1/Math.cos(s);return ln(o,s=>n(s*Math.PI/3)-1)}throw new TypeError("Unexpected parameters are delivered in trigo timing function.")}function j1(r,o){if(!Number.isInteger(r))throw new TypeError("The first parameter of power timing function only allow integer.");return ln(o,n=>n**r)}function F1(r,o){if(r==="sin")return ln(o,n=>(Math.cosh(n*2)-1)/(A1-1));if(r==="tan"){const n=s=>Math.tanh(s*3)*1/k1;return ln(o,s=>1-n(1-s),n)}if(r==="sec"){const n=s=>1/Math.cosh(s);return ln(o,s=>1-(n(s*S1)-.5)*2)}throw new TypeError("Unexpected parameters are delivered in hyper timing function.")}function B1(r,o){if(r==="sin"){const n=s=>Math.asin(s)/Math.PI*2;return ln(o,s=>1-n(1-s),n)}if(r==="tan"){const n=s=>Math.atan(s*5)/C1;return ln(o,s=>1-n(1-s),n)}throw new TypeError("Unexpected parameters are delivered in inverse trigo timing function.")}function P1(r,o=()=>1){let n=-1;return s=>(n*=-1,s<.5?r*o(s*2)*n:r*o((1-s)*2)*n)}const Hl=(1920**2+1080**2)/4;function X(r){return r!=null}function D1(r,o){return typeof r===o}function Vl(r){return X(r)&&X(r.fnType)&&(r.fnType==="timing"||r.fnType==="generator"||r.fnType==="path")}function $1(r,o,...n){return typeof r(...n)===o}const Is=Object.freeze(Object.defineProperty({__proto__:null,radius:Hl,has:X,is:D1,isMTTFn:Vl,isReturnType:$1},Symbol.toStringTag,{value:"Module"})),ql=class extends ji{constructor(r,o,n,s,u,c){super(o),E(this,"bpm",100),E(this,"lastNode",-1),E(this,"lastAngle",0),E(this,"rad",0),E(this,"inited",!1),E(this,"ctxFilter",""),E(this,"game"),E(this,"notes",[]),E(this,"num",ql.cnt++),E(this,"id"),E(this,"timeNodes",[]),E(this,"initAngle"),this.id=r,this.game=o,this.register("radius",u),this.register("r",255),this.register("g",180),this.register("b",32),this.register("a",1),this.ox=n,this.oy=s,this.initAngle=c}addNote(r){this.notes.push(r)}sort(){this.timeNodes.sort(([r],[o])=>r-o),this.notes.sort((r,o)=>{if(!X(r.noteTime)||!X(o.noteTime))throw new TypeError(`A note without note time is appended on the base ${this.id}`);return r.noteTime-o.noteTime})}setRadius(r){return this.mode(Ti()).time(1).apply("radius",r),this}rgba(r,o,n,s){return this.mode(Ti()).time(1),X(r)&&this.apply("r",r),X(o)&&this.apply("g",o),X(n)&&this.apply("b",n),X(s)&&this.apply("a",s),this}filter(r){return this.ctxFilter=r,this}setSpeed(r){this.bpm=r}calRad(){this.checkNode();const[r,o]=this.timeNodes[this.lastNode];return this.rad=this.lastAngle+(this.game.time-r)*o/3e4*Math.PI+this.initAngle*Math.PI/180}checkNode(){var r,o;const n=this.game.time;let s=!1;for(let u=this.lastNode+1;u<this.timeNodes.length;u++){const[c]=this.timeNodes[u];c<=n&&(this.lastNode=u,s=!0)}if(s){let u=0;for(let c=0;c<this.lastNode;c++){const[f,m]=this.timeNodes[c];u+=(((o=(r=this.timeNodes[c+1])==null?void 0:r[0])!=null?o:0)-f)*m/3e4*Math.PI}this.lastAngle=u}}};let As=ql;E(As,"cnt",0);class Ns{constructor(o){E(this,"events"),this.events=o}on(o,n,s={}){this.events[o].push({fn:n,option:s})}off(o,n){const s=this.events[o].findIndex(u=>u.fn===n);if(s===-1)throw new ReferenceError("You are trying to remove a nonexistent listener.");this.events[o].splice(s,1)}dispatch(o,n,s={}){try{for(const{fn:u,option:c}of this.events[o])u(n)}catch(u){throw u}return!0}}class I1 extends Ns{constructor(o){super({hit:[],hold:[],holdend:[]}),E(this,"toJudge",[]),E(this,"holding",[]),E(this,"holdingKeys",[]),E(this,"perfect",0),E(this,"good",0),E(this,"miss",0),E(this,"maxCombo",0),E(this,"early",0),E(this,"late",0),E(this,"touching",0),E(this,"auto",!1),E(this,"chart"),E(this,"c",0),E(this,"keydown",n=>{this.holdingKeys.includes(n.keyCode)||(this.chart.game.ac.sync(),this.holdingKeys.push(n.keyCode),this.judge(n.keyCode))}),E(this,"keyup",n=>{this.chart.game.ac.sync();const s=this.holdingKeys.findIndex(c=>c===n.keyCode);this.holdingKeys.splice(s,1);const u=this.holding.find(c=>c.key===n.keyCode);!X(u)||this.judgeHold(!1,u,n.keyCode)}),E(this,"touchstart",n=>{this.chart.game.ac.sync(),this.touching++,this.judge()}),E(this,"touchend",n=>{this.chart.game.ac.sync(),this.touching--,this.judgeHold(!1)}),this.chart=o,document.addEventListener("keydown",this.keydown),document.addEventListener("keyup",this.keyup)}set combo(o){this.c=o,o>this.maxCombo&&(this.maxCombo=o)}get combo(){return this.c}inJudge(o){return o<=this.perfect+this.good+this.miss+this.toJudge.length}judge(o){if(this.auto)return;const n=this.toJudge.slice(0,1)[0];if(!X(n))return;if(this.toJudge.length===0&&this.next(),n.noteType==="hold")return this.judgeHold(!0,n,o!=null?o:-10);if(n.noteType==="drag")return;const s=this.chart.game.time,u=n.noteTime;if(!X(u))return;const c=f=>s>u-f&&s<u+f;if(c(n.perfectTime))this.toJudge.shift(),n.perfect(),this.perfect++;else if(c(n.goodTime)){this.toJudge.shift();const f=s-u>n.perfectTime?"late":"early";n.good(f),this[f]++,this.good++}else if(c(n.missTime)){this.toJudge.shift();const f=s-u>n.goodTime?"late":"early";n.miss(f),this[f]++,this.miss++}}judgeHold(o,n,s){if(!this.auto){if(o)if(X(n)&&X(n.noteTime)){const u=this.chart.game.time,c=n.noteTime,f=v=>u>c-v&&u<c+v;f(n.perfectTime)?n.hold("perfect","perfect",s):f(n.goodTime)?n.hold("good",u-c>n.perfectTime?"late":"early",s):f(n.missTime)&&n.hold("miss",u-c>n.goodTime?"late":"early",s);const m=this.toJudge.findIndex(v=>v===n);this.toJudge.splice(m,1);return}else throw new TypeError("There is no note on judging first hold.");if(X(n)&&X(s)){if(n.key===s){const u=this.holding.findIndex(c=>c===n);return this.holding.splice(u,1),n.miss("late")}}else{const u=this.holding;if(u.length>this.touching){const c=u.length-this.touching;u.splice(0,c).forEach(f=>{const m=this.holding.findIndex(v=>v===n);this.holding.splice(m,1),f.miss("late")})}}}}judgeMissAndDrag(){const o=()=>{this.toJudge.length===0&&this.next(),this.toJudge=this.toJudge.filter(n=>{if(!X(n.noteTime))throw new TypeError("The note to be judge doesn't have the property 'noteTime'.");if(this.auto){if(this.chart.game.time>n.noteTime){if(n.noteType!=="hold")n.perfect(),this.perfect++;else{n.hold("perfect","perfect");const s=this.toJudge.findIndex(u=>n===u);this.toJudge.splice(s,1)}return!1}return!0}else return n.noteType==="drag"&&this.chart.game.time>n.noteTime-n.perfectTime&&(this.holdingKeys.length>0||this.touching>0)?(n.perfect(),this.perfect++,!1):this.chart.game.time>n.noteTime+n.missTime?(n.miss("late"),this.late++,this.miss++,!1):!0}),this.holding=this.holding.filter(n=>{if(!X(n.noteTime))throw new TypeError("The note to be judge doesn't have the property 'noteTime'.");if(!X(n.holdTime))throw new TypeError("The note to be judge doesn't have the property 'holdTime'.");if(this.auto){if(n.holdTime>this.chart.game.time-n.noteTime-100)return n.perfect(),this.perfect++,!1}else if(n.holdTime>this.chart.game.time-n.noteTime-100){if(n.res==="pre")throw new TypeError("The note type is unexpected 'pre' when judging hold note.");return n[n.res](n.detail),n.res!=="miss"&&this[n.res]++,!1}return!0})};this.chart.game.ticker.add(o)}isMulti(o){if(!X(o.noteTime))return!1;const n=o.num,s=this.chart.notes[n-1];if(X(s)&&X(s.noteTime)&&s.noteTime===o.noteTime)return!0;const u=this.chart.notes[n+1];return!!(X(u)&&X(u.noteTime)&&u.noteTime===o.noteTime)}dispatchEvent(o,n){this.dispatch(o,n)}next(){const o=this.chart.notesArr,n=o.find(c=>X(c.noteTime));let s=-1;for(let c=0;c<o.length;c++){const f=o[c];if(X(f.noteTime)){if(f.noteTime>(n==null?void 0:n.noteTime)&&f.noteType!=="drag"){s=c;break}f.noteType==="drag"&&f.noteTime>this.chart.game.time&&(s=c)}}(s===-1||s===0)&&(s=o.length+1);const u=o.splice(0,s);this.toJudge=u.filter(c=>X(c.noteTime))}}const Jl=class extends ji{constructor(r,o,n){var s,u,c;super(o.game),E(this,"played",!1),E(this,"speed",500),E(this,"alpha",1),E(this,"ctxFilter",""),E(this,"ctxShadow",{x:0,y:0,blur:0,color:""}),E(this,"key",0),E(this,"holding",!1),E(this,"destroyed",!1),E(this,"res","pre"),E(this,"detail","early"),E(this,"lastNode",-1),E(this,"lastD",0),E(this,"multi",!1),E(this,"px",0),E(this,"py",0),E(this,"inited",!1),E(this,"num",Jl.cnt++),E(this,"noteType"),E(this,"base"),E(this,"holdTime"),E(this,"noteTime"),E(this,"perfectTime"),E(this,"goodTime"),E(this,"missTime"),E(this,"timeNodes",[]),E(this,"dir",[0,0]),E(this,"rad",0),this.noteType=r,this.noteTime=n==null?void 0:n.playTime,this.base=o,this.perfectTime=(s=n==null?void 0:n.perfectTime)!=null?s:o.game.perfect,this.goodTime=(u=n==null?void 0:n.goodTime)!=null?u:o.game.good,this.missTime=(c=n==null?void 0:n.goodTime)!=null?c:o.game.miss,this.holdTime=n==null?void 0:n.time,X(this.noteTime)&&(this.dir=this.calDir(),this.rad=Math.atan(this.dir[1]/this.dir[0])),this.register("opacity",1)}setSpeed(r){this.speed=r}perfect(){if(this.noteType==="hold")return this.holdEnd("perfect");const r=()=>{this.base.game.time>=this.noteTime&&this.hit("perfect")};this.noteType==="drag"?this.base.game.time>=this.noteTime?this.hit("perfect"):this.ticker.add(r):this.hit("perfect")}good(r){if(this.detail=r,this.noteType==="hold")return this.holdEnd("good");this.hit("good")}miss(r){if(this.detail=r,this.noteType==="hold")return this.holdEnd("miss");this.hit("miss",!0)}hold(r,o,n){if(this.noteType!=="hold")throw new TypeError("You are trying to hold non-hold note.");if(!X(this.holdTime)||!X(this.noteTime))throw new TypeError("This note has no noteTime or holdTime.");this.holding=!0,X(n)&&(this.key=n),this.base.game.chart.judger.holding.push(this);const s={target:this.base.game.chart.judger,type:"hold",time:this.base.game.time-this.noteTime,totalTime:this.holdTime,res:r,note:this,base:this.base,detail:o};this.base.game.chart.judger.dispatchEvent("hold",s)}filter(r){return this.ctxFilter=r,this}opacity(r){return this.mode(Ti()).time(1).apply("opacity",r),this}shadow(r,o,n,s){return this.ctxShadow={x:r,y:o,blur:n,color:s},this}destroy(){this.destroyed=!0,this.ticker.destroy()}sort(){this.timeNodes.sort(([r],[o])=>r-o)}calDistance(){return X(this.noteTime)?(this.checkNode(),-(this.base.game.time-this.timeNodes[this.lastNode][0])*this.speed/1e3+this.lastD):0}calPosition(){if(this.destroyed)return[this.px,this.py,NaN];const r=this.calDistance()+this.base.custom.radius;if(r<0)return[NaN,NaN,NaN];const o=r*this.dir[0]+this.x,n=r*this.dir[1]+this.y,s=o+this.base.x,u=n+this.base.y;return this.px=s,this.py=u,[s,u,r]}playSound(){this.base.game.ac.playSound(this.noteType)}calDir(){var r,o;if(!X(this.noteTime))throw new TypeError("The note doesn't have noteTime.");const n=this.base.timeNodes;let s=this.base.initAngle*Math.PI/180;for(let u=0;u<n.length;u++){const[c,f]=n[u],m=(o=(r=n[u+1])==null?void 0:r[0])!=null?o:this.noteTime;if(m>this.noteTime){s+=(this.noteTime-c)*f/3e4*Math.PI;break}s+=(m-c)*f/3e4*Math.PI}return[Math.cos(s),Math.sin(s)]}checkNode(){var r,o;const n=this.base.game.time;let s=!1;for(let u=this.lastNode+1;u<this.timeNodes.length;u++){const[c]=this.timeNodes[u];c<=n&&(this.lastNode=u,s=!0)}if(s){let u=0;for(let c=this.timeNodes.length-1;c>=this.lastNode;c--){const[f,m]=this.timeNodes[c];u+=(((o=(r=this.timeNodes[c+1])==null?void 0:r[0])!=null?o:this.noteTime)-f)*m/1e3}this.lastD=u}}hit(r,o=!1){o||this.playSound(),this.res=r,this.played=!0,this.destroy(),this.base.game.renderer.addHitEffect(this),r==="miss"?this.base.game.chart.judger.combo=0:this.base.game.chart.judger.combo++;const n={target:this.base.game.chart.judger,type:"hit",res:r,note:this,base:this.base,detail:this.detail};this.base.game.chart.judger.dispatchEvent("hit",n)}holdEnd(r){this.played=!0,this.destroy(),this.base.game.renderer.addHitEffect(this),r==="miss"?this.base.game.chart.judger.combo=0:this.base.game.chart.judger.combo++;const o={target:this.base.game.chart.judger,type:"holdend",res:r,note:this,base:this.base,detail:this.detail,time:this.base.game.time-this.noteTime,totalTime:this.holdTime};this.base.game.chart.judger.dispatchEvent("holdend",o)}};let Ss=Jl;E(Ss,"cnt",0);class N1{constructor(o){E(this,"camera"),E(this,"notes",{}),E(this,"bases",{}),E(this,"basesDict",{}),E(this,"notesArr",[]),E(this,"game"),E(this,"judger",new I1(this)),E(this,"animate",{timing:{},generator:{},path:{},pathG:{}}),E(this,"attrSet",{note:{},base:{},camera:{}}),this.game=o}async extract(o){const{bases:n,notes:s,camera:u,option:c}=o;await new Promise(f=>{var m;for(const p of n){const x=p.id,_=new As(x,this.game,p.x,p.y,Object.values(p.r)[0],p.angle);this.bases[_.num]=_,this.basesDict[x]=_,_.timeNodes.push(...Object.entries(p.bpm).map(S=>[parseFloat(S[0]),S[1]])),_.sort(),this.execute("base",p,_),this.executeAnimate("base",p.animate,_.num)}s.sort((p,x)=>{var _,S;const B=X(p.config)&&X(p.config.playTime),F=X(x.config)&&X(x.config.playTime);return B&&F?((_=p.config)==null?void 0:_.playTime)-((S=x.config)==null?void 0:S.playTime):B&&!F?-1:!B&&F?1:0});for(const p of s){const x=this.basesDict[p.base],_=new Ss(p.type,x,p.config);this.notes[_.num]=_,this.notesArr.push(_),_.timeNodes.push(...Object.entries(p.speed).map(S=>[parseFloat(S[0]),S[1]])),_.sort(),this.execute("note",p,_),this.executeAnimate("note",p.animate,_.num)}this.notesArr.forEach(p=>{p.multi=this.judger.isMulti(p)});const v=new T1(this.game,u.id,this.game.ctx);this.camera=v,this.executeAnimate("camera",u.animate),this.execute("camera",u,v),this.game.target.style.background=(m=c.background)!=null?m:"black",f("extract success.")}),this.game.length=this.notesArr.filter(f=>X(f.noteTime)).length,this.judger.judgeMissAndDrag()}async restart(){Object.values(this.notes).forEach(o=>o.ticker.destroy()),Object.values(this.bases).forEach(o=>o.ticker.destroy()),this.notes={},this.bases={},this.notesArr=[],this.basesDict={},Ss.cnt=0,As.cnt=0,this.judger.perfect=0,this.judger.good=0,this.judger.miss=0,this.judger.combo=0,this.judger.maxCombo=0,await Ri(1e3),await this.extract(this.game.mtt)}register(o,n,s){this.animate[o][n]=s}registerExecute(o,n,s){this.attrSet[o][n]=s}sortMTT(o){return Object.keys(o).map(n=>parseFloat(n)).sort((n,s)=>n-s)}extractMTTAnimate(o){const n=(c,f,m)=>{const v=m.map(x=>Vl(x)?n(x.fn,x.fnType,x.args):x),p=this.animate[f][c];return f==="timing"?p:p.apply(this,v)},s=n(o.mode.fn,o.mode.fnType,o.mode.args);let u;return o.type==="moveAs"?u=n(o.mode.pathFn,o.mode.pathType,o.mode.pathArg):u=void 0,{fn:s,path:u,...o}}executeAnimate(o,n,s){let u;o==="base"?u=this.bases[s]:o==="note"?u=this.notes[s]:u=this.camera;const c=n.sort((v,p)=>v.start-p.start).map(v=>this.extractMTTAnimate(v));let f=-1;const m=()=>{const v=c[f+1];if(!v)return this.game.ticker.remove(m);const p=v.start;this.game.time<p||(f++,u.mode(v.fn,v.shake).time(v.time),v.relation==="absolute"?u.absolute():u.relative(),v.custom?u.apply(v.type,v.n,v.first):v.path?u.moveAs(v.path):v.type==="move"?u.move(v.x,v.y):v.type==="rotate"?u.rotate(v.n):v.type==="resize"||v.type==="scale"?u.scale(v.n):v.type==="shake"&&u.shake(v.x,v.y))};this.game.ticker.add(m)}execute(o,n,s){const u=this.attrSet[o],c=f=>{let m=-1;const v=n[f],p=this.sortMTT(v),x=u[f],_=()=>{const S=p[m+1];if(!X(S))return this.game.ticker.remove(_);this.game.time<S||(S===0&&setTimeout(()=>s.inited=!0,50),this.game.time>0&&!s.inited&&setTimeout(()=>s.inited=!0,50),m++,x(n[f][S],s))};this.game.ticker.add(_)};for(const f in u)c(f)}}function M1(r,o=1,n=u=>1,s=!1){return u=>{const c=o*u*Math.PI*2,f=Math.cos(c),m=Math.sin(c),v=r*n(n(s?1-u:u));return[v*f,v*m]}}function L1(r,o,...n){const s=[r].concat(n);s.push(o);const u=s.length,c=Array(u).fill(0).map((f,m)=>Wl(m,u-1));return f=>{const m=c.map((p,x)=>p*s[x][0]*(1-f)**(u-x-1)*f**x),v=c.map((p,x)=>p*s[x][1]*(1-f)**(u-x-1)*f**x);return[Ts(...m),Ts(...v)]}}class U1 extends Ns{constructor(o){super({before:[],after:[],effectadd:[],effectend:[]}),E(this,"time",0),E(this,"game"),E(this,"renderer",{base:this.renderBases,tap:this.renderTap,hold:this.renderHold,drag:this.renderDrag}),E(this,"effect",{perfect:this.perfectEffect,good:this.goodEffect,miss:this.missEffect}),E(this,"effects",[]),this.game=o}start(){const o=()=>{this.game.status!=="playing"||this.game.time<=0||this.render()};this.game.ticker.add(o)}render(o){const n=this.game.ctx;n.clearRect(0,0,n.canvas.width,n.canvas.height),n.save();const s={target:this,type:"before",canvas:this.game.target,ctx:this.game.ctx};this.dispatch("before",s),this.game.chart.camera.effect();const u=this.game.chart.bases;for(const v in u){const p=u[v];p.custom.a!==0&&this.renderer.base.call(this,p)}const c=this.game.chart.notes;for(const v in c){const p=c[v];p.custom.opacity!==0&&(p.played||(p.noteType==="tap"&&this.renderer.tap.call(this,p),p.noteType==="hold"&&this.renderer.hold.call(this,p),p.noteType==="drag"&&this.renderer.drag.call(this,p)))}const f=this.effects;for(const v of f)v.res==="perfect"&&this.effect.perfect.call(this,v),v.res==="good"&&this.effect.good.call(this,v),v.res==="miss"&&this.effect.miss.call(this,v);n.restore();const m={target:this,type:"after",canvas:this.game.target,ctx:this.game.ctx};this.dispatch("after",m)}setBase(o){this.renderer.base=o}setNote(o,n){this.renderer[o]=n}setEffect(o,n){this.effect[o]=n}inGame(o,n,s=10){const u=this.game.chart.camera,c=u.size,f=o-960,m=n-540,[v,p]=u.trigo,x=f*v-m*p-u.x/c,_=f*p+m*v-u.y/c;return x**2+_**2-s**2<=Hl/c**2}addHitEffect(o){const n={start:this.game.time,end:!1,res:o.res,note:o},s={set:(f,m,v)=>{if(typeof m=="symbol")return!1;if(m==="end"&&v===!0){const p=this.effects.findIndex(_=>_===u);this.effects.splice(p,1);const x={target:this,type:"effectend",canvas:this.game.target,ctx:this.game.ctx,effect:u};this.dispatch("effectend",x)}return f[m]=v,!0}},u=new Proxy(n,s);this.effects.push(u);const c={target:this,type:"effectadd",canvas:this.game.target,ctx:this.game.ctx,effect:u};this.dispatch("effectadd",c)}clearEffect(){this.effects=[]}renderTap(o){this.renderNonHold(o,"#00d2eb")}renderHold(o){}renderDrag(o){this.renderNonHold(o,"#f500d6")}renderNonHold(o,n){if(o.destroyed||X(o.noteTime)&&this.game.time>o.noteTime+o.missTime||!o.inited)return;const[s,u,c]=o.calPosition();if(isNaN(s)||!this.inGame(s,u,this.game.drawWidth/2))return;const f=o.rad+o.angle*Math.PI/180,m=this.game.ctx,v=this.game.halfWidth,p=this.game.halfTopWidth,x=this.game.halfHeight,_=this.game.multiStroke,S=o.custom.opacity;m.save(),m.translate(s*this.game.scale,u*this.game.scale),m.rotate(f+Math.PI/2),m.filter=o.ctxFilter,m.strokeStyle="#fff",m.fillStyle=n,m.lineWidth=4*this.game.drawScale,o.multi&&(m.shadowColor="gold",m.strokeStyle=_),m.globalAlpha=S,c<o.base.custom.radius&&(m.globalAlpha=c/o.base.custom.radius*S),m.beginPath(),m.moveTo(-v,0),m.lineTo(-p,-x),m.lineTo(p,-x),m.lineTo(v,0),m.lineTo(p,x),m.lineTo(-p,x),m.closePath(),m.fill(),m.stroke(),m.restore()}renderBases(o){if(!this.inGame(o.x,o.y)||!o.inited)return;const n=o.calRad()+o.angle*Math.PI/180,s=this.game.ctx,u=this.game.scale,c=o.x*u,f=o.y*u,m=o.custom.radius*u,{r:v,g:p,b:x,a:_}=o.custom;s.save(),s.translate(c,f),s.rotate(n+Math.PI),s.filter=o.ctxFilter,s.moveTo(0,0),s.fillStyle=s.strokeStyle=`rgba(${v}, ${p}, ${x}, ${_})`,s.fillRect(-m,-m*.06,m,m*.12),s.beginPath(),s.arc(0,0,m*2/5,0,Math.PI*2),s.closePath(),s.lineWidth=m/10*u,s.fill(),s.beginPath(),s.lineCap="round",s.arc(0,0,m*.6,-Math.PI/8,+Math.PI/8),s.stroke(),s.closePath(),s.beginPath(),s.arc(0,0,m,0,Math.PI*2),s.lineWidth=2*u,s.globalAlpha=.6,s.stroke(),s.closePath(),s.restore()}playEffect(o,n){const s=this.game.time-o.start;if(s>500){o.end=!0;return}const[u,c]=o.note.calPosition(),f=s/4,m=this.game.ctx,v=this.game.scale;m.save(),m.strokeStyle=n,m.shadowBlur=5,m.shadowColor=n,m.globalAlpha=2-s/250,m.beginPath(),m.arc(u*v,c*v,f*this.game.drawScale*.8,0,Math.PI*2),m.closePath(),m.lineWidth=5,m.stroke(),m.restore()}perfectEffect(o){this.playEffect(o,"gold")}goodEffect(o){this.playEffect(o,"#19aff0")}missEffect(o){this.playEffect(o,"#8f0067")}}var Kl={exports:{}},Ms={exports:{}},Yl=function(r,o){return function(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];return r.apply(o,n)}},z1=Yl,Ls=Object.prototype.toString,Us=function(r){return function(o){var n=Ls.call(o);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function Tn(r){return r=r.toLowerCase(),function(o){return Us(o)===r}}function zs(r){return Array.isArray(r)}function Ai(r){return typeof r>"u"}function W1(r){return r!==null&&!Ai(r)&&r.constructor!==null&&!Ai(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}var Xl=Tn("ArrayBuffer");function H1(r){var o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(r):o=r&&r.buffer&&Xl(r.buffer),o}function V1(r){return typeof r=="string"}function q1(r){return typeof r=="number"}function Gl(r){return r!==null&&typeof r=="object"}function bi(r){if(Us(r)!=="object")return!1;var o=Object.getPrototypeOf(r);return o===null||o===Object.prototype}var J1=Tn("Date"),K1=Tn("File"),Y1=Tn("Blob"),X1=Tn("FileList");function Ws(r){return Ls.call(r)==="[object Function]"}function G1(r){return Gl(r)&&Ws(r.pipe)}function Q1(r){var o="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||Ls.call(r)===o||Ws(r.toString)&&r.toString()===o)}var Z1=Tn("URLSearchParams");function t_(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function e_(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Hs(r,o){if(!(r===null||typeof r>"u"))if(typeof r!="object"&&(r=[r]),zs(r))for(var n=0,s=r.length;n<s;n++)o.call(null,r[n],n,r);else for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&o.call(null,r[u],u,r)}function ks(){var r={};function o(u,c){bi(r[c])&&bi(u)?r[c]=ks(r[c],u):bi(u)?r[c]=ks({},u):zs(u)?r[c]=u.slice():r[c]=u}for(var n=0,s=arguments.length;n<s;n++)Hs(arguments[n],o);return r}function n_(r,o,n){return Hs(o,function(s,u){n&&typeof s=="function"?r[u]=z1(s,n):r[u]=s}),r}function r_(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}function i_(r,o,n,s){r.prototype=Object.create(o.prototype,s),r.prototype.constructor=r,n&&Object.assign(r.prototype,n)}function o_(r,o,n){var s,u,c,f={};o=o||{};do{for(s=Object.getOwnPropertyNames(r),u=s.length;u-- >0;)c=s[u],f[c]||(o[c]=r[c],f[c]=!0);r=Object.getPrototypeOf(r)}while(r&&(!n||n(r,o))&&r!==Object.prototype);return o}function s_(r,o,n){r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=o.length;var s=r.indexOf(o,n);return s!==-1&&s===n}function a_(r){if(!r)return null;var o=r.length;if(Ai(o))return null;for(var n=new Array(o);o-- >0;)n[o]=r[o];return n}var u_=function(r){return function(o){return r&&o instanceof r}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Ht={isArray:zs,isArrayBuffer:Xl,isBuffer:W1,isFormData:Q1,isArrayBufferView:H1,isString:V1,isNumber:q1,isObject:Gl,isPlainObject:bi,isUndefined:Ai,isDate:J1,isFile:K1,isBlob:Y1,isFunction:Ws,isStream:G1,isURLSearchParams:Z1,isStandardBrowserEnv:e_,forEach:Hs,merge:ks,extend:n_,trim:t_,stripBOM:r_,inherits:i_,toFlatObject:o_,kindOf:Us,kindOfTest:Tn,endsWith:s_,toArray:a_,isTypedArray:u_,isFileList:X1},zn=Ht;function Ic(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Ql=function(r,o,n){if(!o)return r;var s;if(n)s=n(o);else if(zn.isURLSearchParams(o))s=o.toString();else{var u=[];zn.forEach(o,function(f,m){f===null||typeof f>"u"||(zn.isArray(f)?m=m+"[]":f=[f],zn.forEach(f,function(v){zn.isDate(v)?v=v.toISOString():zn.isObject(v)&&(v=JSON.stringify(v)),u.push(Ic(m)+"="+Ic(v))}))}),s=u.join("&")}if(s){var c=r.indexOf("#");c!==-1&&(r=r.slice(0,c)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r},c_=Ht;function Fi(){this.handlers=[]}Fi.prototype.use=function(r,o,n){return this.handlers.push({fulfilled:r,rejected:o,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Fi.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)};Fi.prototype.forEach=function(r){c_.forEach(this.handlers,function(o){o!==null&&r(o)})};var l_=Fi,f_=Ht,h_=function(r,o){f_.forEach(r,function(n,s){s!==o&&s.toUpperCase()===o.toUpperCase()&&(r[o]=n,delete r[s])})},Zl=Ht;function Jn(r,o,n,s,u){Error.call(this),this.message=r,this.name="AxiosError",o&&(this.code=o),n&&(this.config=n),s&&(this.request=s),u&&(this.response=u)}Zl.inherits(Jn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var tf=Jn.prototype,ef={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(r){ef[r]={value:r}});Object.defineProperties(Jn,ef);Object.defineProperty(tf,"isAxiosError",{value:!0});Jn.from=function(r,o,n,s,u,c){var f=Object.create(tf);return Zl.toFlatObject(r,f,function(m){return m!==Error.prototype}),Jn.call(f,r.message,o,n,s,u),f.name=r.name,c&&Object.assign(f,c),f};var Qn=Jn,nf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ce=Ht;function d_(r,o){o=o||new FormData;var n=[];function s(c){return c===null?"":Ce.isDate(c)?c.toISOString():Ce.isArrayBuffer(c)||Ce.isTypedArray(c)?typeof Blob=="function"?new Blob([c]):Buffer.from(c):c}function u(c,f){if(Ce.isPlainObject(c)||Ce.isArray(c)){if(n.indexOf(c)!==-1)throw Error("Circular reference detected in "+f);n.push(c),Ce.forEach(c,function(m,v){if(!Ce.isUndefined(m)){var p=f?f+"."+v:v,x;if(m&&!f&&typeof m=="object"){if(Ce.endsWith(v,"{}"))m=JSON.stringify(m);else if(Ce.endsWith(v,"[]")&&(x=Ce.toArray(m))){x.forEach(function(_){!Ce.isUndefined(_)&&o.append(p,s(_))});return}}u(m,p)}}),n.pop()}else o.append(f,s(c))}return u(r),o}var rf=d_,ls,Nc;function p_(){if(Nc)return ls;Nc=1;var r=Qn;return ls=function(o,n,s){var u=s.config.validateStatus;!s.status||!u||u(s.status)?o(s):n(new r("Request failed with status code "+s.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))},ls}var fs,Mc;function m_(){if(Mc)return fs;Mc=1;var r=Ht;return fs=r.isStandardBrowserEnv()?function(){return{write:function(o,n,s,u,c,f){var m=[];m.push(o+"="+encodeURIComponent(n)),r.isNumber(s)&&m.push("expires="+new Date(s).toGMTString()),r.isString(u)&&m.push("path="+u),r.isString(c)&&m.push("domain="+c),f===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(o){var n=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),fs}var g_=function(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)},v_=function(r,o){return o?r.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):r},y_=g_,__=v_,of=function(r,o){return r&&!y_(o)?__(r,o):o},hs,Lc;function w_(){if(Lc)return hs;Lc=1;var r=Ht,o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return hs=function(n){var s={},u,c,f;return n&&r.forEach(n.split(`
`),function(m){if(f=m.indexOf(":"),u=r.trim(m.substr(0,f)).toLowerCase(),c=r.trim(m.substr(f+1)),u){if(s[u]&&o.indexOf(u)>=0)return;u==="set-cookie"?s[u]=(s[u]?s[u]:[]).concat([c]):s[u]=s[u]?s[u]+", "+c:c}}),s},hs}var ds,Uc;function b_(){if(Uc)return ds;Uc=1;var r=Ht;return ds=r.isStandardBrowserEnv()?function(){var o=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),s;function u(c){var f=c;return o&&(n.setAttribute("href",f),f=n.href),n.setAttribute("href",f),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=u(window.location.href),function(c){var f=r.isString(c)?u(c):c;return f.protocol===s.protocol&&f.host===s.host}}():function(){return function(){return!0}}(),ds}var ps,zc;function Bi(){if(zc)return ps;zc=1;var r=Qn,o=Ht;function n(s){r.call(this,s==null?"canceled":s,r.ERR_CANCELED),this.name="CanceledError"}return o.inherits(n,r,{__CANCEL__:!0}),ps=n,ps}var Wc,Hc;function x_(){return Hc||(Hc=1,Wc=function(r){var o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return o&&o[1]||""}),Wc}var ms,Vc;function E_(){if(Vc)return ms;Vc=1;var r=Ht,o=p_(),n=m_(),s=Ql,u=of,c=w_(),f=b_(),m=nf,v=Qn,p=Bi(),x=x_();return ms=function(_){return new Promise(function(S,B){var F=_.data,$=_.headers,M=_.responseType,P;function R(){_.cancelToken&&_.cancelToken.unsubscribe(P),_.signal&&_.signal.removeEventListener("abort",P)}r.isFormData(F)&&r.isStandardBrowserEnv()&&delete $["Content-Type"];var D=new XMLHttpRequest;if(_.auth){var bt=_.auth.username||"",ht=_.auth.password?unescape(encodeURIComponent(_.auth.password)):"";$.Authorization="Basic "+btoa(bt+":"+ht)}var Ct=u(_.baseURL,_.url);D.open(_.method.toUpperCase(),s(Ct,_.params,_.paramsSerializer),!0),D.timeout=_.timeout;function Tt(){if(D){var L="getAllResponseHeaders"in D?c(D.getAllResponseHeaders()):null,et=!M||M==="text"||M==="json"?D.responseText:D.response,Ot={data:et,status:D.status,statusText:D.statusText,headers:L,config:_,request:D};o(function(z){S(z),R()},function(z){B(z),R()},Ot),D=null}}if("onloadend"in D?D.onloadend=Tt:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(Tt)},D.onabort=function(){!D||(B(new v("Request aborted",v.ECONNABORTED,_,D)),D=null)},D.onerror=function(){B(new v("Network Error",v.ERR_NETWORK,_,D,D)),D=null},D.ontimeout=function(){var L=_.timeout?"timeout of "+_.timeout+"ms exceeded":"timeout exceeded",et=_.transitional||m;_.timeoutErrorMessage&&(L=_.timeoutErrorMessage),B(new v(L,et.clarifyTimeoutError?v.ETIMEDOUT:v.ECONNABORTED,_,D)),D=null},r.isStandardBrowserEnv()){var at=(_.withCredentials||f(Ct))&&_.xsrfCookieName?n.read(_.xsrfCookieName):void 0;at&&($[_.xsrfHeaderName]=at)}"setRequestHeader"in D&&r.forEach($,function(L,et){typeof F>"u"&&et.toLowerCase()==="content-type"?delete $[et]:D.setRequestHeader(et,L)}),r.isUndefined(_.withCredentials)||(D.withCredentials=!!_.withCredentials),M&&M!=="json"&&(D.responseType=_.responseType),typeof _.onDownloadProgress=="function"&&D.addEventListener("progress",_.onDownloadProgress),typeof _.onUploadProgress=="function"&&D.upload&&D.upload.addEventListener("progress",_.onUploadProgress),(_.cancelToken||_.signal)&&(P=function(L){!D||(B(!L||L&&L.type?new p:L),D.abort(),D=null)},_.cancelToken&&_.cancelToken.subscribe(P),_.signal&&(_.signal.aborted?P():_.signal.addEventListener("abort",P))),F||(F=null);var yt=x(Ct);if(yt&&["http","https","file"].indexOf(yt)===-1){B(new v("Unsupported protocol "+yt+":",v.ERR_BAD_REQUEST,_));return}D.send(F)})},ms}var qc,Jc;function T_(){return Jc||(Jc=1,qc=null),qc}var Mt=Ht,Kc=h_,Yc=Qn,A_=nf,S_=rf,k_={"Content-Type":"application/x-www-form-urlencoded"};function Xc(r,o){!Mt.isUndefined(r)&&Mt.isUndefined(r["Content-Type"])&&(r["Content-Type"]=o)}function C_(){var r;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(r=E_()),r}function O_(r,o,n){if(Mt.isString(r))try{return(o||JSON.parse)(r),Mt.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(r)}var Pi={transitional:A_,adapter:C_(),transformRequest:[function(r,o){if(Kc(o,"Accept"),Kc(o,"Content-Type"),Mt.isFormData(r)||Mt.isArrayBuffer(r)||Mt.isBuffer(r)||Mt.isStream(r)||Mt.isFile(r)||Mt.isBlob(r))return r;if(Mt.isArrayBufferView(r))return r.buffer;if(Mt.isURLSearchParams(r))return Xc(o,"application/x-www-form-urlencoded;charset=utf-8"),r.toString();var n=Mt.isObject(r),s=o&&o["Content-Type"],u;if((u=Mt.isFileList(r))||n&&s==="multipart/form-data"){var c=this.env&&this.env.FormData;return S_(u?{"files[]":r}:r,c&&new c)}else if(n||s==="application/json")return Xc(o,"application/json"),O_(r);return r}],transformResponse:[function(r){var o=this.transitional||Pi.transitional,n=o&&o.silentJSONParsing,s=o&&o.forcedJSONParsing,u=!n&&this.responseType==="json";if(u||s&&Mt.isString(r)&&r.length)try{return JSON.parse(r)}catch(c){if(u)throw c.name==="SyntaxError"?Yc.from(c,Yc.ERR_BAD_RESPONSE,this,null,this.response):c}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:T_()},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Mt.forEach(["delete","get","head"],function(r){Pi.headers[r]={}});Mt.forEach(["post","put","patch"],function(r){Pi.headers[r]=Mt.merge(k_)});var Vs=Pi,R_=Ht,j_=Vs,F_=function(r,o,n){var s=this||j_;return R_.forEach(n,function(u){r=u.call(s,r,o)}),r},Gc,Qc;function sf(){return Qc||(Qc=1,Gc=function(r){return!!(r&&r.__CANCEL__)}),Gc}var Zc=Ht,gs=F_,B_=sf(),P_=Vs,D_=Bi();function vs(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new D_}var $_=function(r){vs(r),r.headers=r.headers||{},r.data=gs.call(r,r.data,r.headers,r.transformRequest),r.headers=Zc.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),Zc.forEach(["delete","get","head","post","put","patch","common"],function(n){delete r.headers[n]});var o=r.adapter||P_.adapter;return o(r).then(function(n){return vs(r),n.data=gs.call(r,n.data,n.headers,r.transformResponse),n},function(n){return B_(n)||(vs(r),n&&n.response&&(n.response.data=gs.call(r,n.response.data,n.response.headers,r.transformResponse))),Promise.reject(n)})},le=Ht,af=function(r,o){o=o||{};var n={};function s(p,x){return le.isPlainObject(p)&&le.isPlainObject(x)?le.merge(p,x):le.isPlainObject(x)?le.merge({},x):le.isArray(x)?x.slice():x}function u(p){if(le.isUndefined(o[p])){if(!le.isUndefined(r[p]))return s(void 0,r[p])}else return s(r[p],o[p])}function c(p){if(!le.isUndefined(o[p]))return s(void 0,o[p])}function f(p){if(le.isUndefined(o[p])){if(!le.isUndefined(r[p]))return s(void 0,r[p])}else return s(void 0,o[p])}function m(p){if(p in o)return s(r[p],o[p]);if(p in r)return s(void 0,r[p])}var v={url:c,method:c,data:c,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:m};return le.forEach(Object.keys(r).concat(Object.keys(o)),function(p){var x=v[p]||u,_=x(p);le.isUndefined(_)&&x!==m||(n[p]=_)}),n},tl,el;function uf(){return el||(el=1,tl={version:"0.27.2"}),tl}var I_=uf().version,an=Qn,qs={};["object","boolean","number","function","string","symbol"].forEach(function(r,o){qs[r]=function(n){return typeof n===r||"a"+(o<1?"n ":" ")+r}});var nl={};qs.transitional=function(r,o,n){function s(u,c){return"[Axios v"+I_+"] Transitional option '"+u+"'"+c+(n?". "+n:"")}return function(u,c,f){if(r===!1)throw new an(s(c," has been removed"+(o?" in "+o:"")),an.ERR_DEPRECATED);return o&&!nl[c]&&(nl[c]=!0,console.warn(s(c," has been deprecated since v"+o+" and will be removed in the near future"))),r?r(u,c,f):!0}};function N_(r,o,n){if(typeof r!="object")throw new an("options must be an object",an.ERR_BAD_OPTION_VALUE);for(var s=Object.keys(r),u=s.length;u-- >0;){var c=s[u],f=o[c];if(f){var m=r[c],v=m===void 0||f(m,c,r);if(v!==!0)throw new an("option "+c+" must be "+v,an.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new an("Unknown option "+c,an.ERR_BAD_OPTION)}}var M_={assertOptions:N_,validators:qs},cf=Ht,L_=Ql,rl=l_,il=$_,Di=af,U_=of,lf=M_,Wn=lf.validators;function Kn(r){this.defaults=r,this.interceptors={request:new rl,response:new rl}}Kn.prototype.request=function(r,o){typeof r=="string"?(o=o||{},o.url=r):o=r||{},o=Di(this.defaults,o),o.method?o.method=o.method.toLowerCase():this.defaults.method?o.method=this.defaults.method.toLowerCase():o.method="get";var n=o.transitional;n!==void 0&&lf.assertOptions(n,{silentJSONParsing:Wn.transitional(Wn.boolean),forcedJSONParsing:Wn.transitional(Wn.boolean),clarifyTimeoutError:Wn.transitional(Wn.boolean)},!1);var s=[],u=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(o)===!1||(u=u&&_.synchronous,s.unshift(_.fulfilled,_.rejected))});var c=[];this.interceptors.response.forEach(function(_){c.push(_.fulfilled,_.rejected)});var f;if(!u){var m=[il,void 0];for(Array.prototype.unshift.apply(m,s),m=m.concat(c),f=Promise.resolve(o);m.length;)f=f.then(m.shift(),m.shift());return f}for(var v=o;s.length;){var p=s.shift(),x=s.shift();try{v=p(v)}catch(_){x(_);break}}try{f=il(v)}catch(_){return Promise.reject(_)}for(;c.length;)f=f.then(c.shift(),c.shift());return f};Kn.prototype.getUri=function(r){r=Di(this.defaults,r);var o=U_(r.baseURL,r.url);return L_(o,r.params,r.paramsSerializer)};cf.forEach(["delete","get","head","options"],function(r){Kn.prototype[r]=function(o,n){return this.request(Di(n||{},{method:r,url:o,data:(n||{}).data}))}});cf.forEach(["post","put","patch"],function(r){function o(n){return function(s,u,c){return this.request(Di(c||{},{method:r,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:u}))}}Kn.prototype[r]=o(),Kn.prototype[r+"Form"]=o(!0)});var z_=Kn,ys,ol;function W_(){if(ol)return ys;ol=1;var r=Bi();function o(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(c){s=c});var u=this;this.promise.then(function(c){if(u._listeners){var f,m=u._listeners.length;for(f=0;f<m;f++)u._listeners[f](c);u._listeners=null}}),this.promise.then=function(c){var f,m=new Promise(function(v){u.subscribe(v),f=v}).then(c);return m.cancel=function(){u.unsubscribe(f)},m},n(function(c){u.reason||(u.reason=new r(c),s(u.reason))})}return o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},o.prototype.unsubscribe=function(n){if(this._listeners){var s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}},o.source=function(){var n,s=new o(function(u){n=u});return{token:s,cancel:n}},ys=o,ys}var sl,al;function H_(){return al||(al=1,sl=function(r){return function(o){return r.apply(null,o)}}),sl}var _s,ul;function V_(){if(ul)return _s;ul=1;var r=Ht;return _s=function(o){return r.isObject(o)&&o.isAxiosError===!0},_s}var cl=Ht,q_=Yl,xi=z_,J_=af,K_=Vs;function ff(r){var o=new xi(r),n=q_(xi.prototype.request,o);return cl.extend(n,xi.prototype,o),cl.extend(n,o),n.create=function(s){return ff(J_(r,s))},n}var ne=ff(K_);ne.Axios=xi;ne.CanceledError=Bi();ne.CancelToken=W_();ne.isCancel=sf();ne.VERSION=uf().version;ne.toFormData=rf;ne.AxiosError=Qn;ne.Cancel=ne.CanceledError;ne.all=function(r){return Promise.all(r)};ne.spread=H_();ne.isAxiosError=V_();Ms.exports=ne;Ms.exports.default=ne;(function(r){r.exports=Ms.exports})(Kl);const Y_=x1(Kl.exports);class X_{constructor(o){E(this,"audio"),E(this,"status","pre"),E(this,"startTime",0),E(this,"seVolume",.5),E(this,"musicVolume",1),E(this,"offset",-100),E(this,"game"),E(this,"ac",new AudioContext),E(this,"sounds",{}),E(this,"mainGain",this.ac.createGain()),E(this,"musicNode"),this.game=o,this.syncTime()}set volume(o){this.mainGain.gain.value=o}get volume(){return this.mainGain.gain.value}async extract(o){const n=await this.ac.decodeAudioData(o);return this.audio=n,n}play(){if(this.status==="playing")throw new TypeError("The game music is playing now.");this.startTime=this.ac.currentTime,this.game.time=(this.ac.currentTime-this.startTime)*1e3;const o=this.ac.createGain(),n=this.ac.createBufferSource();this.musicNode=n,n.buffer=this.audio,n.connect(o),o.gain.value=this.musicVolume,o.connect(this.mainGain),this.mainGain.connect(this.ac.destination),n.start(),this.status="playing",this.startTime=this.ac.currentTime,n.addEventListener("ended",s=>{this.musicEnd()})}async pause(){if(this.status==="pause")throw new TypeError("You are trying to pause an already paused music.");await this.ac.suspend(),this.status="pause"}async resume(){if(this.status!=="pause")throw new TypeError("You are trying to resume an already playing music.");await this.ac.resume(),this.status="playing"}async addSound(o,n){const s=await this.ac.decodeAudioData(n);this.sounds[o]=s}playSound(o){if(!X(this.sounds[o]))return;const n=this.ac.createGain(),s=this.ac.createBufferSource();n.gain.value=this.seVolume,s.buffer=this.sounds[o],s.connect(n),n.connect(this.mainGain),this.mainGain.connect(this.ac.destination),s.start()}restart(){this.status="pre",this.musicNode.stop(),this.syncTime(),this.ac.resume(),this.game.time=this.offset}sync(){this.status==="pre"?this.game.time=this.offset:this.game.time=(this.ac.currentTime-this.startTime)*1e3+this.offset}syncTime(){const o=()=>this.sync();this.game.ticker.add(o,!0)}async musicEnd(){this.status!=="pre"&&(await Ri(1e3),this.game.end())}}class G_ extends Ns{constructor(o,n){var s,u,c,f,m;if(super({load:[],start:[],restart:[],pause:[],resume:[],end:[]}),E(this,"audio"),E(this,"mtt"),E(this,"status","pre"),E(this,"time",0),E(this,"length",0),E(this,"ended",!1),E(this,"scoreCalculator",this.defaultScoreCalculator),E(this,"isMobile",window.innerWidth<window.innerHeight),E(this,"target"),E(this,"ctx"),E(this,"ticker",new $s),E(this,"ac",new X_(this)),E(this,"chart",new N1(this)),E(this,"renderer",new U1(this)),E(this,"width"),E(this,"height"),E(this,"scale"),E(this,"noteScale",1),E(this,"noteWidth",this.isMobile?200:150),E(this,"drawScale"),E(this,"drawWidth"),E(this,"halfWidth"),E(this,"drawHeight"),E(this,"halfHeight"),E(this,"topWidth"),E(this,"halfTopWidth"),E(this,"multiStroke"),E(this,"perfect",50),E(this,"good",80),E(this,"miss",120),this.target=o,this.ctx=o.getContext("2d"),this.ctx.save(),this.width=o.width,this.height=o.height,this.scale=Math.min(this.width/1920,this.height/1080),o.width/o.height!==parseFloat((16/9).toFixed(7))){const v=this.width/1920,p=this.height/1080;if(v<p){const x=o.width*9/16;o.height=x,o.style.height=`${x}px`}else{const x=o.height*16/9;o.width=x,o.style.width=`${x}px`}}this.noteScale=(s=n==null?void 0:n.noteScale)!=null?s:1,this.noteWidth=(u=n==null?void 0:n.noteWidth)!=null?u:this.noteWidth,this.perfect=(c=n==null?void 0:n.perfect)!=null?c:50,this.good=(f=n==null?void 0:n.good)!=null?f:80,this.miss=(m=n==null?void 0:n.miss)!=null?m:120,this.drawScale=this.scale*this.noteScale,this.drawWidth=this.noteWidth*this.drawScale,this.halfWidth=this.drawWidth/2,this.drawHeight=this.drawWidth/10,this.halfHeight=this.drawHeight/2,this.topWidth=this.drawWidth-this.halfHeight*2,this.halfTopWidth=this.topWidth/2,this.multiStroke=this.ctx.createLinearGradient(0,-this.halfHeight,0,this.halfHeight),this.multiStroke.addColorStop(0,"#fff"),this.multiStroke.addColorStop(.5,"#fef267"),this.multiStroke.addColorStop(1,"#fff"),o.addEventListener("touchstart",this.chart.judger.touchstart),o.addEventListener("touchend",this.chart.judger.touchend),this.chart.register("generator","linear",Ti),this.chart.register("generator","bezier",O1),this.chart.register("generator","trigo",R1),this.chart.register("generator","power",j1),this.chart.register("generator","hyper",F1),this.chart.register("generator","inverseTrigo",B1),this.chart.register("generator","shake",P1),this.chart.register("pathG","circle",M1),this.chart.register("pathG","bezier",L1),this.chart.registerExecute("base","r",(v,p)=>p.setRadius(v)),this.chart.registerExecute("base","bpm",(v,p)=>p.setSpeed(v)),this.chart.registerExecute("base","rgba",(v,p)=>p.rgba(...v)),this.chart.registerExecute("base","filter",(v,p)=>p.filter(v)),this.chart.registerExecute("note","speed",(v,p)=>p.setSpeed(v)),this.chart.registerExecute("note","filter",(v,p)=>p.filter(v)),this.chart.registerExecute("note","shadow",(v,p)=>p.shadow(v.x,v.y,v.blur,v.color)),this.chart.registerExecute("note","opacity",(v,p)=>p.opacity(v)),this.chart.registerExecute("camera","css",(v,p)=>p.css(v))}async load(o,n,s,u){const c=Date.now();if(X(this.audio)||X(this.mtt))throw new TypeError("The game's music or chart has already been loaded.");const f=[this.loadMusic(o,s),this.loadMTT(n,u)];await Promise.all(f);const m={target:this,type:"load",time:Date.now()-c};this.dispatch("load",m)}async start(o=1e3){if(this.status!=="pre")throw new TypeError("The game has already started or ended.");await Ri(o),this.status="playing",this.ac.play(),this.renderer.start();const n={target:this,type:"start",music:this.ac.audio,mtt:this.mtt};this.dispatch("start",n)}pause(){const o=this.status;if(this.status==="pause")throw new TypeError("The game has already paused.");this.status="pause",this.ac.pause();const n={target:this,type:"pause",from:o,to:this.status};this.dispatch("pause",n)}resume(){const o=this.status;if(this.status==="playing")throw new TypeError("The game has already resumed.");this.status="playing",this.ac.resume();const n={target:this,type:"resume",from:o,to:this.status};this.dispatch("resume",n)}async restart(o=1e3){this.ticker.clear(),this.ctx.restore(),this.ctx.clearRect(0,0,this.target.width,this.target.height),this.renderer.clearEffect(),this.status="pre",this.chart.judger.toJudge=[],this.chart.camera.ticker.destroy(),this.ac.restart(),await this.chart.restart();const n={target:this,type:"restart",music:this.ac.audio,mtt:this.mtt};this.dispatch("restart",n),this.start(o)}end(){if(this.status==="exit")throw new TypeError("The game has already ended.");const o=this.status;this.ticker.destroy(),this.ac.pause(),this.ended=!0,this.status="exit",this.chart.camera.ticker.destroy();const n=this.chart.bases;Object.values(n).forEach(c=>c.ticker.destroy());const s=this.chart.notes;Object.values(s).forEach(c=>c.ticker.destroy());const u={target:this,type:"end",from:o,to:this.status};this.dispatch("end",u)}setOffset(o){if(this.status!=="pre")throw new TypeError("Offset can only be set before the game starts.");this.ac.offset=o}getScore(){const o={...this.getDetail(),length:this.length,maxCombo:this.chart.judger.maxCombo};return this.scoreCalculator(o)}getDetail(){const{perfect:o,good:n,miss:s,early:u,late:c}=this.chart.judger;return{perfect:o,good:n,miss:s,early:u,late:c}}setScoreCalculator(o){this.scoreCalculator=o}async setSound(o,n){const s=await this.post(n,"arraybuffer");await this.ac.addSound(o,s.data)}async post(o,n,s){const u={responseType:n,onDownloadProgress:s};return await Y_.get(o,u)}async loadMusic(o,n){const s=await this.post(o,"arraybuffer",n);if(s.status!==200)return this.fail(`Fail to load url [${o}]`,s.status);const u=await this.ac.extract(s.data);this.audio=u}async loadMTT(o,n){const s=await this.post(o,"json",n);if(s.status!==200)return this.fail(`Fail to load url [${o}]`,s.status);this.mtt=s.data,this.chart.extract(this.mtt)}fail(o,n){console.error(`${n}: ${o}`)}defaultScoreCalculator(o){const n=9e5/this.length,s=this.chart.judger,u=s.maxCombo/this.length*1e5;return Math.round(n*s.perfect+n*.5*s.good+u)}}function Q_(r,o){return new G_(r,o)}const Z_=Q_,Yn=$s,hf={},Ei={};let ll=0;const Oe=new AudioContext,Si=it(0);async function tw(r,o){const n=await Wt.get(r,{responseType:"arraybuffer",onDownloadProgress:o}),s=await Oe.decodeAudioData(n.data);return Ei[r]=s,n}async function qn(r,o=!1){const n=Oe.createGain(),s=Oe.createBufferSource();if(Is.has(Ei[r]))s.buffer=Ei[r];else{const c=await Wt.get(r,{responseType:"arraybuffer"}),f=await Oe.decodeAudioData(c.data);Ei[r]=f,s.buffer=f}s.loop=o,hf[ll]=[s,n],s.connect(n),n.connect(Oe.destination),s.start();const u=ll++;return r==="/Mutate-HTML/music/mutate.mp3"&&(Si.value=u),u}function fl(r){const o=hf[r];if(!Is.has(o))throw new ReferenceError("You are trying to get a nonexistent audio.");return o}const ew=window.innerWidth<=window.innerHeight,hl=["F","D","C","B","A","S","FC","AP"];function Js(){return vt()?{w:window.innerHeight*.95,h:window.innerWidth*.95}:{w:window.innerWidth*.95,h:window.innerHeight*.95}}function vt(){return ew}function Hn(r){return r<1024?`${r}B`:r<1024**2?`${(r/1024).toFixed(2)}KB`:r<1024**3?`${(r/1024**2).toFixed(2)}MB`:r<1024**4?`${(r/1024**3).toFixed(2)}GB`:`${r}B`}function dl(r){return`${Math.floor(r/60)}:${(r%60).toString().padStart(2,"0")}`}function nw(r){return r<7e5?"F":r<8e5?"D":r<86e4?"C":r<9e5?"B":r<95e4?"A":r<1e6?"S":"AP"}function rw(r,o){return hl.indexOf(r)>hl.indexOf(o)}function df(r){return r==="F"?"#aaa":r==="AP"?"transparent":r==="FC"?"#66e9ff":r==="AUTO"?"#fc66ff":"#fff"}function br(r){return r.match(/(F|D|C|B|A|S|FC|AP)$/)[0]}const iw=Ke({__name:"cover",setup(r){const o=Zv("select");let n=new Yn;function s(){const u=document.getElementById("cover");u.style.opacity="0",u.addEventListener("transitionend",c=>{o.value=!0,n.destroy()})}return fn(async()=>{await Dt.sleep(500);const u=document.getElementById("cover"),c=u.getContext("2d");Si.value=await qn("/Mutate-HTML/music/mutate.mp3",!0);const f=Oe.currentTime;u.style.border="1px solid #fff",u.style.opacity="1";const{w:m,h:v}=Js();u.width=m,u.height=v;let p=110,x=1.5;const _=[],S=B=>{for(let F=0;F<B;F++){let $,M;const P=~~(Math.random()*4);let R;P===1?($=0,M=Math.random()*v,R=(Math.random()-.5)*Math.PI*.6):P===2?($=m,M=Math.random()*v,R=(Math.random()+.5)*Math.PI*.6):P===3?(M=0,$=Math.random()*m,R=Math.random()*Math.PI*.6):(M=v,$=Math.random()*m,R=(Math.random()-1)*Math.PI*.6);const D=Math.cos(R),bt=Math.sin(R),ht=Math.random()*10+50,Ct=`rgba(${~~(Math.random()*255)}, ${~~(Math.random()*255)}, ${~~(Math.random()*255)}, 0.5)`;_.push({x:$,y:M,r:ht,vx:D,vy:bt,color:Ct})}};S(20),c.save(),n.add(B=>{c.restore(),c.save(),c.clearRect(0,0,u.width,u.height);const F=Oe.currentTime*1e3;B<1e3?(u.style.filter=`blur(${5-B/200}px)`,p=55-B/20,x=1+2*(B/2e3-.5)**2):(p=3,x=1),_.length<30&&S(1);const $=(~~F-f)%462;let M=0;$>362&&(M=($-362)/100),$<100&&(M=1-$/100);for(let P=0;P<_.length;P++){const R=_[P];if(R.x+=R.vx*p,R.y+=R.vy*p,R.x<0-R.r||R.x>u.width+R.r||R.y<0-R.r||R.y>u.height+R.r){_.splice(P,1),P--;continue}c.filter="blur(25px)",c.fillStyle=R.color,c.beginPath(),c.arc(R.x,R.y,R.r,0,Math.PI*2),c.closePath(),c.fill(),c.filter="none"}c.shadowColor="#3df0ff",c.shadowBlur=8,c.shadowOffsetX=2,c.shadowOffsetY=2,c.textAlign="center",c.fillStyle="#f78fff",c.strokeStyle="#3df0ff",c.font=`${x*12+M}em normal`,c.filter=`blur(${(p-10)/10}px)`,c.fillText("MUTATE",u.width/2,u.height/2),c.strokeText("MUTATE",u.width/2,u.height/2),c.fillStyle="#fff",c.shadowBlur=0,c.shadowColor="",c.shadowOffsetX=0,c.shadowOffsetY=0,c.font="2em normal",c.fillText("\u70B9\u51FB\u5F00\u59CB\u6E38\u620F",u.width/2,u.height/2+40)})}),(u,c)=>(mt(),Ft("canvas",{id:"cover",onClick:s}))}});const Xe=(r,o)=>{const n=r.__vccOpts||r;for(const[s,u]of o)n[s]=u;return n},ow=Xe(iw,[["__scopeId","data-v-124f3c94"]]),pf={};async function sw(r,o){await Wt.get(r,{onDownloadProgress:o});const n=new Image;return n.src=r,await new Promise(s=>{n.addEventListener("load",u=>s("success"))}),pf[r.split("/").at(-1)]=n,n}const aw=r=>(Cs("data-v-702a258e"),r=r(),Os(),r),uw={key:0,id:"start-load"},cw=aw(()=>H("canvas",{id:"loading"},null,-1)),lw={key:1,id:"start-page"},fw=Ke({__name:"start",setup(r){const o=it(!1),n=it(0),s=3626394,u=it(0);let c={};const f="/Mutate-HTML/";function m(){const x=Object.values(c).reduce((_,S)=>_+S,0);n.value=parseFloat((x/s*100).toFixed(2)),u.value=x}async function v(){const x=[p(`${f}music/mutate.mp3`,0,"arraybuffer"),p(`${f}se/tap.wav`,1,"arraybuffer"),p(`${f}se/drag.wav`,2,"arraybuffer"),p(`${f}image/base1.png`,3,"arraybuffer"),p(`${f}image/base2.png`,4,"arraybuffer"),p(`${f}image/base3.png`,5,"arraybuffer"),(async()=>{const _=await p(`${f}font/normal.ttf`,6,"arraybuffer"),S=new FontFace("normal",_.data);await S.load(),document.fonts.add(S)})()];await Promise.all(x),n.value=100}async function p(x,_,S){const B=F=>{c[_]=F.loaded,m()};return x.endsWith(".mp3")||x.endsWith(".wav")?await tw(x,B):x.endsWith(".png")||x.endsWith(".jpg")||x.endsWith(".jpeg")?await sw(x,B):await Wt.get(x,{responseType:S,onDownloadProgress:B})}return fn(async()=>{const x=new Yn,_=document.getElementById("loading"),S=_.getContext("2d");setTimeout(()=>{_.style.opacity="1",_.style.width="80%",_.style.height="80%",_.style.filter="none"},50),vt()?(_.width=window.innerHeight*.95,_.height=window.innerWidth*.95):(_.width=window.innerWidth*.95,_.height=window.innerHeight*.95),S.strokeStyle="#eee",S.lineWidth=5,S.lineCap="round",x.add(B=>{const F=Math.PI*B/700,$=_.width,M=_.height,P=$/2,R=M/2;S.clearRect(0,0,_.width,_.height),S.beginPath(),S.arc(P,R,Math.min($,M)/16,0,Math.PI*2),S.strokeStyle="#444",S.stroke(),S.beginPath(),S.arc(P,R,Math.min($,M)/16,F,F+Math.PI/2),S.strokeStyle="#eee",S.stroke(),S.closePath(),S.textAlign="center",S.font="normal 4em Verdana",S.fillStyle="#eee",S.fillText(`loading${".".repeat(Math.floor(B/800)%4)}`,P,R+R/2),S.textAlign="right",S.font=`normal ${vt()?1:2}em Verdana`,S.fillText(`${Hn(u.value)} / ${Hn(s)}`,_.width-30,_.height-30)}),await v(),n.value=100,_.style.opacity="0",_.style.width="100%",_.style.height="100%",_.style.filter="blur(5px)",m(),_.addEventListener("transitionend",async()=>{o.value||(o.value=!0,x.destroy())})}),(x,_)=>{const S=ml;return mt(),Ft(yi,null,[o.value?fe("",!0):(mt(),Ft("div",uw,[cw,G(S,{percent:n.value,style:{width:"90%"}},null,8,["percent"])])),o.value?(mt(),Ft("div",lw,[G(ow)])):fe("",!0)],64)}}});const hw=Xe(fw,[["__scopeId","data-v-702a258e"]]);const dw={\u5355\u66F2:["\u7075","\u7EA2\u67AB"]},qe={\u7075:{file:{music:"1.mp3",image:"1.jpg",chart:{easy:"1_1.mtt",normal:"1_2.mtt",hard:"1_3.mtt"}},author:"\u5F31\u9E21\u7EFF\u6BDB\u602A",chart:"\u53E4\u7960",duration:158,hard:{easy:4,normal:7,hard:12}},\u7EA2\u67AB:{file:{music:"2.mp3",image:"2.jpg",chart:{easy:"2_1.mtt",normal:"2_2.mtt",hard:"2_3.mtt"}},author:"\u5F31\u9E21\u7EFF\u6BDB\u602A",chart:"\u53E4\u7960",duration:135,hard:{easy:3,normal:8,hard:14}}},pw=["id"],mw=Ke({__name:"scroll",props:{total:null,scroll:null,id:null},emits:["update:scroll"],setup(r,{expose:o,emit:n}){const s=r;let u,c=!1,f=s.scroll;function m(v=s.scroll){f=v;const p=s.total;if(p===0)return;f>p&&(console.warn("\u5F53\u524D\u6EDA\u52A8\u6761\u4F4D\u7F6E\u5927\u4E8E\u4E86\u603B\u957F\u5EA6"),f=p);const x=Math.min(u.canvas.height/p,1)*u.canvas.height,_=f/p*u.canvas.height;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.moveTo(20,Math.max(_+5,5)),u.lineTo(20,Math.min(_+x-5,u.canvas.height-5)),u.lineCap="round",u.lineWidth=6,u.strokeStyle="#fff",u.stroke()}return ty(()=>{m()}),fn(()=>{const v=document.getElementById(`scroll-${s.id}`);u=v.getContext("2d");const p=getComputedStyle(v);v.width=40,v.height=parseFloat(p.height),m(),v.addEventListener("mousedown",x=>{c=!0}),document.addEventListener("mouseup",x=>{c=!1,v.height<s.total&&n("update:scroll",f)}),document.addEventListener("mousemove",x=>{if(!c)return;const _=x.movementY;v.height<s.total&&(m(_+f),n("update:scroll",f+_))})}),o({draw:m}),(v,p)=>(mt(),Ft("canvas",{id:`scroll-${s.id}`,class:"scroll"},null,8,pw))}});const mf=Xe(mw,[["__scopeId","data-v-96fd3d6e"]]),gw={id:"leftbar"},vw={id:"song-selector"},yw={id:"song-menu"},_w={id:"rightbar"},ww={id:"song-image"},bw={id:"song-top-info"},xw=["src"],Ew={id:"info"},Tw={id:"hard"},Aw={id:"song-info"},Sw={id:"music"},kw={id:"chart"},Cw={id:"chart"},Ow={id:"score"},Rw={id:"score-num"},jw={id:"start"},Fw=Ke({__name:"select",emits:["start","setting"],setup(r,{emit:o}){let n=localStorage.getItem("@mutate:select");n||(localStorage.setItem("@mutate:select","\u5355\u66F2@@\u7075@@0"),n="\u5355\u66F2@@\u7075@@0");const s=n.split("@@"),u=it(s[0].split(",")),c=it([s[1]]),f=it("easy"),m=it(parseFloat(s[2])),v=it(0),p=vt()?window.innerHeight:window.innerWidth,x=it(!1);let _,S,B,F,$,M,P;const R=ey(()=>Ct(f.value));Vn(c,z=>{localStorage.setItem("@mutate:select",`${u.value.join(",")}@@${z[0]}@@${m.value}`)}),Vn(m,z=>D(z));function D(z){if(parseFloat(getComputedStyle(S).height)>=v.value)return;const nt=parseFloat(getComputedStyle(S).height);z+nt>=v.value?(m.value=v.value-nt,_.style.top=`${-m.value}px`):z<=0?(m.value=0,_.style.top="0px"):(m.value=z,_.style.top=`${-z}px`)}async function bt(z=0){await Dt.sleep(z);const nt=getComputedStyle(_),Rt=getComputedStyle(B);v.value=parseFloat(nt.height)+2*parseFloat(Rt.padding)}function ht(z){f.value=z}function Ct(z){return z==="easy"?"#348f00":z==="normal"?"#b8b400":z==="hard"?"#7a0003":"#8f008a"}function Tt(z){const nt=z%60;return`${Math.floor(z/60)}m${nt}s`}function at(){let z=localStorage.getItem(`@mutate:score-${c.value[0]}-${f.value}`);return z||(z="0F"),z.padStart(8,"0")}function yt(){return localStorage.getItem(`@mutate:score-${c.value[0]}-${f.value}`)!==null}function L(z){return`/Mutate-HTML/image/${z}`}async function et(){const z={music:c.value[0],hard:f.value,auto:x.value};S.style.opacity="0";const nt=new Yn,[Rt,Vt]=fl(Si.value);nt.add(ct=>{Vt.gain.value=(700-ct)/700}),await Dt.sleep(700),nt.destroy(),Rt.stop(),o("start",z)}async function Ot(){S.style.opacity="0";const z=new Yn,[nt,Rt]=fl(Si.value);z.add(Vt=>{Rt.gain.value=(700-Vt)/700}),await Dt.sleep(700),z.destroy(),nt.stop(),o("setting")}return fn(async()=>{await Dt.sleep(200),S=document.getElementById("select"),B=document.getElementById("leftbar"),_=document.getElementById("song-menu"),F=document.getElementById("rightbar"),$=document.getElementById("song-info"),M=document.getElementById("score-num"),P=document.getElementById("rank"),bt(),B.addEventListener("wheel",ct=>{if(parseFloat(getComputedStyle(S).height)>=v.value)return;const _t=Math.sign(ct.deltaY)*100;m.value+=_t,D(m.value)});let z=0;B.addEventListener("touchstart",ct=>{const _t=ct.touches[0];z=vt()?_t.clientX:_t.clientY}),B.addEventListener("touchmove",ct=>{if(ct.preventDefault(),parseFloat(getComputedStyle(S).height)>=v.value)return;const _t=ct.touches[0],qt=vt()?_t.clientX:_t.clientY;m.value+=qt-z,D(m.value),z=qt});const nt=vt()?window.innerHeight/window.innerWidth:window.innerWidth/window.innerHeight;vt()&&(B.style.width="calc(25% + 48px)",F.style.width="calc(75% - 48px)"),$.style.fontSize=vt()?`${p/1e3}em`:`${p/900}em`,S.style.opacity="1",P.style.fontSize=vt()?`${p/800}em`:`${p/600}em`,M.style.fontSize=vt()?`${p/1e3}em`:`${p/800}em`;const{w:Rt,h:Vt}=Js();if(nt>16/9){const ct=Vt*16/9,qt=(parseFloat(getComputedStyle(S).width)-ct)/2;S.style.paddingLeft=`${qt}px`,S.style.paddingRight=`${qt}px`}if(nt<16/9){const ct=Rt*9/16,qt=(parseFloat(getComputedStyle(S).height)-ct)/2;S.style.paddingTop=`${qt}px`,S.style.paddingBottom=`${qt}px`}await Dt.sleep(200),D(m.value)}),(z,nt)=>{const Rt=yl,Vt=oy,ct=gl,_t=Rs,qt=vl,Pe=iy;return mt(),Ft("div",{id:"select",style:kt({"background-color":`${W(R)}22`})},[H("div",gw,[H("div",vw,[H("div",yw,[G(ct,{mode:"inline",theme:"dark",openKeys:u.value,"onUpdate:openKeys":nt[1]||(nt[1]=Q=>u.value=Q),selectedKeys:c.value,"onUpdate:selectedKeys":nt[2]||(nt[2]=Q=>c.value=Q),style:kt({"font-size":W(vt)()?"1em":"1.5em"})},{default:Lt(()=>[(mt(!0),Ft(yi,null,ss(W(dw),(Q,re)=>(mt(),cn(Vt,{key:re,onTitleClick:nt[0]||(nt[0]=be=>bt(300))},{title:Lt(()=>[un(pt(re),1)]),default:Lt(()=>[(mt(!0),Ft(yi,null,ss(Q,(be,An)=>(mt(),cn(Rt,{key:be,style:kt({"font-size":W(vt)()?"1em":"1.5em"})},{default:Lt(()=>[un(pt(be)+"\xA0-\xA0"+pt(W(qe)[be].author),1)]),_:2},1032,["style"]))),128))]),_:2},1024))),128))]),_:1},8,["openKeys","selectedKeys","style"])])]),G(mf,{id:"select",scroll:m.value,"onUpdate:scroll":nt[3]||(nt[3]=Q=>m.value=Q),total:v.value},null,8,["scroll","total"]),G(_t,{style:{"border-color":"#ddd4",height:"96%",top:"2%",margin:"0","margin-right":"8px"},type:"vertical",dashed:""})]),H("div",_w,[H("div",ww,[H("div",bw,[H("span",{id:"song-name",style:kt({"font-size":W(vt)()?`${W(p)/800}em`:`${W(p)/600}em`})},pt(c.value[0]),5),G(W(ny),{id:"settings",style:kt({"margin-top":"2%","margin-right":"5%",transform:`scale(${W(p)/9}%)`,cursor:"pointer",transition:"all 0.2s linear"}),onClick:Ot},null,8,["style"])]),G(_t,{style:{"border-color":"#ddd4",margin:"0"},dashed:""}),H("img",{src:L(W(qe)[c.value[0]].file.image),id:"image"},null,8,xw)]),G(_t,{style:{"border-color":"#ddd4",height:"100%"},type:"vertical",dashed:""}),H("div",Ew,[H("div",Tw,[(mt(!0),Ft(yi,null,ss(W(qe)[c.value[0]].hard,(Q,re)=>(mt(),cn(qt,{key:re,type:re===f.value?"primary":"default",size:"large",style:kt({height:W(vt)()?"50%":"100%",margin:"1%","font-size":W(vt)()?`${W(p)/1e3}em`:`${W(p)/550}em`,"text-align":"center","vertical-align":"middle","line-height":"100%","background-color":`${f.value===re?W(R):"transparent"}`}),onClick:be=>ht(re)},{default:Lt(()=>[un(pt(re)+"\xA0-\xA0"+pt(Q),1)]),_:2},1032,["type","style","onClick"]))),128))]),G(_t,{style:{"border-color":"#ddd4","margin-bottom":"1%"},dashed:""}),H("div",Aw,[H("span",Sw,"\u66F2\u5E08\xA0\xA0\xA0\xA0"+pt(W(qe)[c.value[0]].author),1),H("span",kw,"\u8C31\u5E08\xA0\xA0\xA0\xA0"+pt(W(qe)[c.value[0]].chart),1),H("span",Cw,"\u65F6\u957F\xA0\xA0\xA0\xA0"+pt(Tt(W(qe)[c.value[0]].duration)),1)]),G(_t,{style:{"border-color":"#ddd4",margin:"1%"},dashed:""}),H("div",Ow,[H("span",Rw,"\u6210\u7EE9\xA0\xA0\xA0\xA0"+pt(at().match(/^[0-9]+/)[0]),1),H("span",{id:"rank",style:kt({color:W(df)(yt()?W(br)(at()):"F"),background:W(br)(at())==="AP"?"linear-gradient(0.25turn, #3f87a6, #ebf8e1, gold, #3f87a6)":"","background-clip":W(br)(at())==="AP"?"text":"",WebkitBackgroundClip:W(br)(at())==="AP"?"text":""})},pt(yt()?W(br)(at()):""),5)]),G(_t,{style:{"border-color":"#ddd4",margin:"1%"},dashed:""}),H("div",jw,[G(Pe,{checked:x.value,"onUpdate:checked":nt[4]||(nt[4]=Q=>x.value=Q),style:kt({"font-size":W(vt)()?`${W(p)/3e3}em`:`${W(p)/1500}em`,"margin-left":"3%"})},{default:Lt(()=>[un("\u81EA\u52A8\u64AD\u653E")]),_:1},8,["checked","style"]),G(qt,{style:{width:"50%",height:"80%","background-color":"#ccc"},onClick:et},{default:Lt(()=>[G(W(ry),{style:kt({transform:`scale(${W(p)/4}%)`,color:"#000"})},null,8,["style"])]),_:1})])])])],4)}}});const Bw=Xe(Fw,[["__scopeId","data-v-4a577563"]]);function Pw(r){r.renderer.setBase($w),r.chart.camera.setGlobalEffects(Iw)}function Dw(r){const o=r.target,n=r.ctx,s=o.game,u=n.canvas;n.save(),n.textBaseline="top",n.fillStyle="#fff",n.textAlign="right",n.font="100 32px normal",n.fillText(s.getScore().toString().padStart(7,"0"),u.width-20,15);const c=s.chart.judger.combo;n.beginPath(),n.moveTo(0,0),n.lineTo(u.width*o.game.time/1e3/o.game.ac.audio.duration,0),n.lineCap="square",n.lineWidth=8,n.stroke();const f=`${dl(Math.floor(o.game.time/1e3))} / ${dl(Math.floor(o.game.ac.audio.duration+1))}`;n.textAlign="left",n.font="100 24px normal",n.fillText(f,60,10),!(c<3&&!o.game.chart.judger.auto)&&(n.textAlign="center",n.font="100 48px normal",n.fillText(`${c}`,u.width/2,10),n.font="100 32px normal",o.game.chart.judger.auto?n.fillText("autoplay",u.width/2,50):n.fillText("combo",u.width/2,50),n.restore())}function $w(r){if(!this.inGame(r.x,r.y)||!r.inited)return;const o=r.calRad()+r.angle*Math.PI/180;let n="";r.id.endsWith("-j")&&(n="base1.png"),r.id.endsWith("-i1")&&(n="base2.png"),r.id.endsWith("-i2")&&(n="base3.png");const s=pf[n];if(!s)return;const u=this.game.ctx,c=this.game.scale,f=r.x*c,m=r.y*c,v=r.custom.radius*c,{a:p}=r.custom;u.save(),u.translate(f,m),n!=="base1.png"&&u.rotate(o+Math.PI),r.ctxFilter.length>0&&(u.filter=r.ctxFilter),u.globalAlpha=p,u.drawImage(s,-v,-v,v*2,v*2),u.restore()}function Iw(r){const o=r.target,n=r.game.scale,s=960*n,u=540*n,c=r.x*n,f=r.y*n;o.translate(-c+s,-f+u),o.rotate(r.angle*Math.PI/180),o.scale(r.size,r.size),o.translate(-s,-u),o.shadowBlur=4,o.shadowColor="black"}const Nw={id:"settle"},Mw=["src"],Lw={id:"song-name"},Uw={id:"name"},zw={id:"song-detail"},Ww={id:"detail-left"},Hw={id:"detail-right"},Vw=Ke({__name:"settle",props:{auto:{type:Boolean},hard:null,song:null,score:null,detail:null,maxCombo:null},emits:["exit"],setup(r,{emit:o}){var f;const n=r;function s(m){return`/Mutate-HTML/image/${m}`}const u=it("D");if(n.detail.miss>0?u.value=nw(n.score):n.detail.good>0?u.value="FC":u.value="AP",!n.auto){const m=(f=localStorage.getItem(`@mutate:score-${n.song}-${n.hard}`))!=null?f:"0F",v=parseFloat(m.match(/^[0-9]+/)[0]),p=m.match(/(F|D|C|B|A|S|AP|FC)$/)[0],x=n.score>v?n.score:v,_=rw(u.value,p)?u.value:p;localStorage.setItem(`@mutate:score-${n.song}-${n.hard}`,`${x}${_}`)}async function c(){const m=document.getElementById("settle");m.style.opacity="0",await Dt.sleep(600),o("exit")}return fn(async()=>{await Dt.sleep(200);const m=document.getElementById("settle");qn("/Mutate-HTML/music/mutate.mp3",!0),m.style.opacity="1",m.style.filter="none"}),(m,v)=>{const p=Rs,x=vl;return mt(),Ft("div",Nw,[H("img",{id:"settle-img",src:s(W(qe)[r.song].file.image)},null,8,Mw),H("div",{id:"settle-right",style:kt({"font-size":W(vt)()?"2.5vh":"2.5vw"})},[H("div",Lw,[H("span",Uw,pt(r.song),1),H("span",null,pt(r.hard)+"\xA0\xA0\xA0\xA0Lv.\xA0"+pt(W(qe)[r.song].hard[r.hard]),1)]),G(p,{dashed:"",style:{width:"100%",margin:"0"}}),H("div",{id:"song-score",style:kt({"font-size":W(vt)()?"4vh":"4vw"})},[H("span",null,pt(r.score.toString().padStart(7,"0")),1),H("span",{id:"rank",style:kt({color:W(df)(r.auto?"AUTO":u.value),background:u.value==="AP"?"linear-gradient(0.25turn, #3f87a6, #ebf8e1, gold, #3f87a6)":"","background-clip":u.value==="AP"?"text":"",WebkitBackgroundClip:u.value==="AP"?"text":""})},pt(r.auto?"AUTO":u.value),5)],4),G(p,{dashed:"",style:{width:"100%",margin:"0"}}),H("div",zw,[H("div",Ww,[H("span",null,pt(r.detail.perfect)+"\xA0\xA0\xA0\xA0\u5B8C\u7F8E",1),H("span",null,pt(r.detail.good)+"\xA0\xA0\xA0\xA0\u826F\u597D",1),H("span",null,pt(r.detail.miss)+"\xA0\xA0\xA0\xA0\u9519\u8FC7",1)]),G(p,{type:"vertical",dashed:"",style:{height:"100%","border-color":"#ddd4"}}),H("div",Hw,[H("span",null,"\u63D0\u524D\xA0\xA0\xA0\xA0"+pt(r.detail.early),1),H("span",null,"\u8FC7\u665A\xA0\xA0\xA0\xA0"+pt(r.detail.late),1),H("span",null,"\u6700\u5927\u8FDE\u51FB\xA0\xA0\xA0\xA0"+pt(r.maxCombo),1)])]),G(p,{dashed:"",style:{width:"100%",margin:"0 0 10% 0"}}),G(x,{id:"confirm",style:kt({"font-size":W(vt)()?"3vh":"3vw"}),onClick:c},{default:Lt(()=>[G(W(sy))]),_:1},8,["style"])],4)])}}});const qw=Xe(Vw,[["__scopeId","data-v-81e5a7c0"]]),Jw=r=>(Cs("data-v-75863951"),r=r(),Os(),r),Kw={id:"mutate-div"},Yw={key:0,id:"mutate-core"},Xw=Jw(()=>H("canvas",{id:"mutate-game",style:{width:"100%",height:"100%"}},null,-1)),Gw={key:2,id:"pause"},Qw={key:3,id:"time-back"},Zw=Ke({__name:"play",props:{auto:{type:Boolean},song:null,hard:null},emits:["exit"],setup(r,{emit:o}){var Tt;const n=r,s=it([0,0]),u=it([0,0]),c=it(["0","0"]),f=it(0),m=parseFloat((Tt=localStorage.getItem("@mutate:offset"))!=null?Tt:"0"),v=it(!1),p=it(0),x=it(),_=it(0),S=it(!1),B=it(!1),F=it(3),$=it(!1),M=it(0);let P;function R(){S.value=!0,o("exit")}function D(){if(B.value)return;const at=document.getElementById("mutate-core");at.style.filter="blur(10px)brightness(50%)",P.pause(),B.value=!0}async function bt(){const at=document.getElementById("mutate-core");$.value=!0,F.value=3,await Dt.sleep(1e3),F.value=2,await Dt.sleep(1e3),F.value=1,at.style.filter="none",await Dt.sleep(1e3),$.value=!1,B.value=!1,P.resume()}async function ht(){const at=document.getElementById("mutate-div");at.style.opacity="0",await Dt.sleep(700),at.style.opacity="1";const yt=document.getElementById("mutate-core");yt.style.filter="none",P.restart(0),B.value=!1}async function Ct(){const at=document.getElementById("mutate-div");at.style.opacity="0",await Dt.sleep(600),o("exit"),qn("/Mutate-HTML/music/mutate.mp3",!0)}return fn(async()=>{var qt,Pe;const at=document.getElementById("mutate-div"),yt=document.getElementById("mutate-core"),L=document.getElementById("mutate-game"),et=L.getContext("2d");let{w:Ot,h:z}=Js();if(Ot-=10,z-=10,Ot/z>16/9){const Q=z*16/9;L.height=z,L.width=Q,yt.style.width=`${Q}px`,yt.style.height=`${z}px`}else{const Q=Ot*9/16;L.height=Q,L.width=Ot,yt.style.width=`${Ot}px`,yt.style.height=`${Q}px`}await Dt.sleep(600),P=Z_(L);const nt="/Mutate-HTML/";L.style.opacity="1",f.value=1,yt.style.opacity="1",at.style.opacity="1";const Rt=new Yn;Rt.add(Q=>{const re=Math.PI*Q/700,be=L.width,An=L.height,Re=be/2,De=An/5*2;et.lineWidth=5,et.lineCap="round",et.clearRect(0,0,L.width,L.height),et.beginPath(),et.arc(Re,De,Math.min(be,An)/16,0,Math.PI*2),et.strokeStyle="#444",et.stroke(),et.beginPath(),et.arc(Re,De,Math.min(be,An)/16,re,re+Math.PI/2),et.strokeStyle="#eee",et.stroke(),et.closePath(),et.textAlign="center",et.font="normal 4em Verdana",et.fillStyle="#eee",et.fillText(`loading${".".repeat(Math.floor(Q/800)%4)}`,Re,De+De/2);const $i=Hn(s.value[0]),hn=Hn(u.value[0]);et.textAlign="left",et.font=`normal ${24*L.width/1920}px Verdana`,et.fillText(`\u97F3\u4E50\u52A0\u8F7D\u8FDB\u5EA6    ${$i} / ${hn}`,L.width/11,L.height*(1-.11));const dn=Hn(s.value[1]),Ii=Hn(u.value[1]);et.fillText(`\u8C31\u9762\u52A0\u8F7D\u8FDB\u5EA6    ${dn} / ${Ii}`,L.width/11,L.height*(1-.21)),c.value=[(s.value[0]/u.value[0]*100).toFixed(2),(s.value[1]/u.value[1]*100).toFixed(2)]});const Vt=qe[n.song];await P.load(`${nt}music/${Vt.file.music}`,`${nt}chart/${Vt.file.chart[n.hard]}`,Q=>{s.value[0]=Q.loaded,u.value[0]=Q.total},Q=>{s.value[1]=Q.loaded,u.value[1]=Q.total}),L.style.opacity="0",f.value=0,await Dt.sleep(600),M.value=1,Rt.destroy(),et.clearRect(0,0,L.width,L.height),L.style.opacity="1",L.style.transition="",P.setOffset(-m),Pw(P),P.start(),P.setSound("tap","/Mutate-HTML/se/tap.wav"),P.setSound("drag","/Mutate-HTML/se/drag.wav"),n.auto&&(P.chart.judger.auto=!0);const ct=parseInt((qt=localStorage.getItem("@mutate:seVolume"))!=null?qt:"50")/100;P.ac.seVolume=ct;const _t=parseInt((Pe=localStorage.getItem("@mutate:musicVolume"))!=null?Pe:"100")/100;P.ac.musicVolume=_t,P.renderer.on("after",Dw),L.addEventListener("click",Q=>{Q.offsetX<=60&&Q.offsetY<=60&&D()}),L.addEventListener("touchstart",Q=>{}),P.on("end",async()=>{yt.style.opacity="0",p.value=P.getScore(),x.value=P.getDetail(),_.value=P.chart.judger.maxCombo,await Dt.sleep(600),at.style.backgroundColor="#111",v.value=!0})}),(at,yt)=>{const L=ml;return mt(),Ft("div",Kw,[!v.value&&!S.value?(mt(),Ft("div",Yw,[Xw,G(L,{percent:parseFloat(c.value[0]),style:kt({position:"absolute",bottom:"7%",width:"50%",left:"7%",opacity:f.value,transition:"opacity 0.6s linear"})},null,8,["percent","style"]),G(L,{percent:parseFloat(c.value[1]),style:kt({position:"absolute",bottom:"17%",width:"50%",left:"7%",opacity:f.value,transition:"opacity 0.6s linear"})},null,8,["percent","style"]),G(W(ay),{style:kt({position:"absolute",left:"10px",top:"10px","font-size":"32px","font-weight":"900",cursor:"pointer",opacity:M.value,transition:"all 0.6s linear"}),onClick:D},null,8,["style"])])):fe("",!0),v.value&&!S.value?(mt(),cn(qw,{key:1,song:r.song,auto:r.auto,hard:r.hard,score:p.value,detail:x.value,"max-combo":_.value,onExit:R},null,8,["song","auto","hard","score","detail","max-combo"])):fe("",!0),!$.value&&B.value?(mt(),Ft("div",Gw,[G(W(_l),{style:{margin:"25%"},onClick:Ct}),G(W(uy),{style:{margin:"25%"},onClick:ht}),G(W(cy),{style:{margin:"25%"},onClick:bt})])):fe("",!0),B.value&&$.value?(mt(),Ft("span",Qw,pt(F.value),1)):fe("",!0)])}}});const tb=Xe(Zw,[["__scopeId","data-v-75863951"]]);const eb={id:"setting"},nb={id:"setting-info"},rb={style:{"margin-right":"3%"}},ib={id:"setting-slider"},ob=Ke({__name:"settingOne",props:{value:null,storage:null,min:null,max:null,step:null},emits:["update:value"],setup(r,{emit:o}){const n=r;function s(){localStorage.setItem(n.storage,n.value.toString())}return(u,c)=>{var m,v,p,x,_,S,B,F,$,M,P;const f=xl;return mt(),Ft("div",eb,[H("div",nb,[H("span",null,[ly(u.$slots,"default",{},void 0,!0)]),H("span",rb,pt(r.value),1)]),H("div",ib,[G(W(wl),{style:{cursor:"pointer"},onClick:c[0]||(c[0]=R=>{var D;return o("update:value",r.value-((D=r.step)!=null?D:5)),s()})}),G(f,{id:"slider-slider",value:r.value,"onUpdate:value":c[1]||(c[1]=R=>fy(value)?value.value=R:null),min:(m=r.min)!=null?m:0,max:(v=r.max)!=null?v:100,marks:{[(p=r.min)!=null?p:0]:(x=r.min)!=null?x:0,[(((_=r.min)!=null?_:0)+((S=r.max)!=null?S:100))/2]:(((B=r.min)!=null?B:0)+((F=r.max)!=null?F:100))/2,[($=r.max)!=null?$:100]:(M=r.max)!=null?M:100},step:(P=r.step)!=null?P:1,"tip-formatter":null,onChange:s},{mark:Lt(({label:R})=>[H("p",{style:kt({"font-size":W(vt)()?"1.4vh":"1.4vw"})},pt(R),5)]),_:1},8,["value","min","max","marks","step"]),G(W(bl),{style:{cursor:"pointer"},onClick:c[2]||(c[2]=R=>{var D;return o("update:value",r.value+((D=r.step)!=null?D:5)),s()})})])])}}});const pl=Xe(ob,[["__scopeId","data-v-5ccd313c"]]),sb=r=>(Cs("data-v-36c9d4f7"),r=r(),Os(),r),ab={id:"settings"},ub={id:"back-div",style:{display:"flex","justify-content":"center","align-items":"center","justify-items":"center"}},cb={key:0,id:"offset"},lb=sb(()=>H("canvas",{id:"offset-canvas"},null,-1)),fb={id:"slider"},hb={id:"slider-main"},db={key:1,id:"option"},pb={id:"option-main"},mb={id:"left"},gb={id:"right"},vb=Ke({__name:"setting",emits:["exit"],setup(r,{emit:o}){var $,M;const n=it(["offset"]),s=it(0),u=it(0),c=new Yn,f=it(0),m=it(0),v=it(parseInt(($=localStorage.getItem("@mutate:seVolume"))!=null?$:"50")),p=it(parseInt((M=localStorage.getItem("@mutate:musicVolume"))!=null?M:"100")),x=localStorage.getItem("@mutate:offset");Is.has(x)?s.value=parseInt(x):(localStorage.setItem("@mutate:offset","0"),s.value=0),Vn(s,P=>{localStorage.setItem("@mutate:offset",P.toString())}),Vn(n,P=>{c.clear(),P[0]==="offset"&&F(),P[0]==="option"&&S()},{immediate:!0}),Vn(f,P=>B(P)),fn(async()=>{await Dt.sleep(200);const P=document.getElementById("settings");P.style.opacity="1"});async function _(){const P=document.getElementById("settings");P.style.opacity="0",await Dt.sleep(600),qn("/Mutate-HTML/music/mutate.mp3",!0),c.destroy(),o("exit")}async function S(){await Dt.sleep(200);const P=document.getElementById("option-main"),R=getComputedStyle(P);m.value=parseFloat(R.top),f.value=0}function B(P){if(n.value[0]!=="option")return;const R=document.getElementById("option-main");if(parseFloat(getComputedStyle(R).height)>=m.value)return;const D=parseFloat(getComputedStyle(R).height);P+D>=m.value?(f.value=m.value-D,R.style.top=`${-f.value}px`):P<=0?(f.value=0,R.style.top="0px"):(f.value=P,R.style.top=`${-P}px`)}async function F(){await Dt.sleep(200);const P=document.getElementById("offset-canvas"),R=P.getContext("2d"),D=getComputedStyle(P);P.width=parseFloat(D.width),P.height=parseFloat(D.height);const bt=P.width,ht=P.height,Ct=Oe.currentTime;let Tt=0,at=0,yt=1e3;c.add(async()=>{R.clearRect(0,0,bt,ht);const z=(Oe.currentTime-Ct)*1e3%2400;R.save();const nt=bt*3/4+s.value/2400*bt;R.strokeStyle="#ddd",R.lineWidth=2,R.beginPath(),R.moveTo(nt,0),R.lineTo(nt,ht),R.stroke();const Rt=z/2400*bt;R.beginPath(),R.moveTo(Rt,ht/4),R.lineTo(Rt+7,ht/4+7),R.lineTo(Rt+7,ht*3/4-7),R.lineTo(Rt,ht*3/4),R.lineTo(Rt-7,ht*3/4-7),R.lineTo(Rt-7,ht/4+7),R.closePath(),R.fillStyle="#00d2eb",R.lineWidth=4,R.fill(),R.stroke(),yt+=16.7;let Vt=2-yt/500;Vt<0&&(Vt=0),R.globalAlpha=Vt,R.strokeStyle="#5f9",R.beginPath(),R.moveTo(at,0),R.lineTo(at,ht),R.stroke(),R.restore();const ct=Math.floor(z/600)%4;(ct===1||ct===2)&&Tt!==ct?(Tt=ct,await qn("/Mutate-HTML/se/drag.wav")):ct===3&&Tt!==ct&&(Tt=ct,await qn("/Mutate-HTML/se/tap.wav"))});let L=[];document.addEventListener("keydown",Ot=>{if(!L.includes(Ot.keyCode)){L.push(Ot.keyCode);const z=(Oe.currentTime-Ct)*1e3%2400;at=z/2400*bt,yt=0,u.value=Math.round(z-1800-s.value)}}),document.addEventListener("keyup",Ot=>{const z=L.findIndex(nt=>nt===Ot.keyCode);z!==-1&&L.splice(z,1)});let et=0;P.addEventListener("touchstart",Ot=>{const z=et;if(Ot.touches.length>z){const nt=(Oe.currentTime-Ct)*1e3%2400;at=nt/2400*bt,yt=0,u.value=Math.round(nt-1800-s.value)}et=Ot.touches.length}),P.addEventListener("touchend",Ot=>{et=Ot.touches.length})}return(P,R)=>{const D=yl,bt=gl,ht=hy,Ct=xl,Tt=Rs,at=dy,yt=py;return mt(),Ft("div",ab,[G(yt,{style:kt({width:W(vt)()?"95vh":"95vw",height:W(vt)()?"95vw":"95vh"})},{default:Lt(()=>[G(ht,null,{default:Lt(()=>[H("div",ub,[G(W(_l),{onClick:_,id:"back",style:{"font-size":"24px",cursor:"pointer",transition:"all 0.2s linear"}})]),G(bt,{selectedKeys:n.value,"onUpdate:selectedKeys":R[0]||(R[0]=L=>n.value=L),theme:"dark",mode:"horizontal",style:{"font-size":"28px","font-family":"normal"}},{default:Lt(()=>[G(D,{key:"offset",style:{margin:"0 2% 0 2%"}},{default:Lt(()=>[un("\u6821\u51C6")]),_:1}),G(D,{key:"option",style:{margin:"0 2% 0 2%"}},{default:Lt(()=>[un("\u8BBE\u7F6E")]),_:1})]),_:1},8,["selectedKeys"])]),_:1}),G(at,null,{default:Lt(()=>[n.value[0]==="offset"?(mt(),Ft("div",cb,[H("span",{id:"hint",style:kt({"font-size":W(vt)()?"2.5vh":"3vw"})},"\u8C03\u6574\u6ED1\u52A8\u6761\u4F7F\u5728\u7B2C\u4E09\u4E2A\u8282\u62CD\u6253\u51FB\u65F6\u6070\u597D\u5728\u6807\u51C6\u7EBF\u5904"+pt(W(vt)()?"\uFF08\u624B\u673A\u7AEF\u4E0D\u53EF\u62D6\u52A8\u6ED1\u52A8\u6761\uFF09":""),5),lb,H("div",fb,[H("span",{style:kt({"font-size":W(vt)()?"2vh":"2vw"})}," \u6253\u51FB\u5EF6\u8FDF\xA0\xA0\xA0\xA0"+pt(u.value>0?`+${u.value}`:u.value)+"ms ",5),H("span",{style:kt({"font-size":W(vt)()?"2vh":"2vw"})},pt(s.value>0?`+${s.value}`:s.value)+"ms",5),H("div",hb,[G(W(wl),{style:{"font-size":"3vw",cursor:"pointer"},onClick:R[1]||(R[1]=L=>s.value<-300?s.value=-300:s.value-=5)}),G(Ct,{value:s.value,"onUpdate:value":R[2]||(R[2]=L=>s.value=L),id:"slider-slider",step:5,"tip-formatter":null,min:-300,max:300,included:!1,marks:{"-300":"-300ms","-200":"-200ms","-100":"-100ms",0:"0",100:"+100ms",200:"+200ms",300:"+300ms"}},{mark:Lt(({label:L,point:et})=>[et===0?(mt(),Ft("strong",{key:0,style:kt({"font-size":W(vt)()?"1.4vh":"1.4vw"})},pt(L),5)):(mt(),Ft("p",{key:1,style:kt({"font-size":W(vt)()?"1.4vh":"1.4vw"})},pt(L),5))]),_:1},8,["value"]),G(W(bl),{style:{"font-size":"3vw",cursor:"pointer"},onClick:R[3]||(R[3]=L=>s.value>300?s.value=300:s.value+=5)})])])])):fe("",!0),n.value[0]==="option"?(mt(),Ft("div",db,[H("div",pb,[H("div",mb,[G(pl,{value:v.value,"onUpdate:value":R[4]||(R[4]=L=>v.value=L),storage:"@mutate:seVolume"},{default:Lt(()=>[un("\u97F3\u6548\u97F3\u91CF")]),_:1},8,["value"])]),G(Tt,{type:"vertical",dashed:"",id:"option-divider"}),H("div",gb,[G(pl,{value:p.value,"onUpdate:value":R[5]||(R[5]=L=>p.value=L),storage:"@mutate:musicVolume"},{default:Lt(()=>[un("\u97F3\u4E50\u97F3\u91CF")]),_:1},8,["value"])])]),G(mf,{total:m.value,scroll:f.value,"onUpdate:scroll":R[6]||(R[6]=L=>f.value=L),id:"option"},null,8,["total","scroll"])])):fe("",!0)]),_:1})]),_:1},8,["style"])])}}});const yb=Xe(vb,[["__scopeId","data-v-36c9d4f7"]]),_b={key:0,id:"start-tip"},wb=Ke({__name:"App",setup(r){const o=it(!1),n=it(!1),s=it(!1),u=it(!1),c=it(!1),f=it(!1),m=it(""),v=it("easy");Vn(s,F=>{F===!0&&(o.value=!1);const $=document.getElementById("game");$.style.border="1px solid #fff"}),my("select",s),fn(()=>{const F=document.getElementById("game"),$=document.getElementById("start-tip");window.innerHeight>window.innerWidth&&(F.style.transform="rotate(90deg)",F.style.width="95vh",F.style.height="95vw"),$.style.opacity="1",F.addEventListener("touchmove",M=>M.preventDefault())});function p(){if(n.value)return;const F=document.getElementById("start-tip");F.style.opacity="0",F.addEventListener("transitionend",()=>{o.value=!0,n.value=!0})}function x(F){const{music:$,hard:M}=F;c.value=!0,s.value=!1,f.value=F.auto,m.value=$,v.value=M}function _(){s.value=!1,u.value=!0}function S(){u.value=!1,s.value=!0}function B(){c.value=!1,s.value=!0}return(F,$)=>(mt(),Ft("div",{id:"game",onClick:p},[n.value?fe("",!0):(mt(),Ft("span",_b,"\u70B9\u51FB\u4EE5\u52A0\u8F7D\u6E38\u620F")),o.value?(mt(),cn(hw,{key:1})):fe("",!0),s.value?(mt(),cn(Bw,{key:2,onStart:x,onSetting:_})):fe("",!0),c.value?(mt(),cn(tb,{key:3,auto:f.value,song:m.value,hard:v.value,onExit:B},null,8,["auto","song","hard"])):fe("",!0),u.value?(mt(),cn(yb,{key:4,onExit:S})):fe("",!0)]))}});const bb=Xe(wb,[["__scopeId","data-v-3fc472d5"]]);gy(bb).mount("#app");export{xb as __vite_legacy_guard};
