import{r as ot,d as an,i as Ky,o as un,a as pt,c as Ft,b as it,e as ke,F as gi,_ as hl,p as Ss,f as ks,g as V,h as Yy,j as Xy,w as xi,k as Kt,l as is,u as H,n as jt,t as dt,S as Gy,m as Mn,C as Zy,M as dl,q as pl,B as ml,s as Qy,v as on,x as gl,y as tv,z as ev,L as nv,A as rv,P as iv,D as ov,E as sv,G as av,H as uv,I as cv,J as lv}from"./antdv.07ad714e.js";function ub(){import("data:text/javascript,")}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerpolicy&&(c.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?c.credentials="include":u.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(u){if(u.ep)return;u.ep=!0;const c=n(u);fetch(u.href,c)}})();function yl(r,o){return function(){return r.apply(o,arguments)}}const{toString:vl}=Object.prototype,{getPrototypeOf:Cs}=Object,Os=(r=>o=>{const n=vl.call(o);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Je=r=>(r=r.toLowerCase(),o=>Os(o)===r),Si=r=>o=>typeof o===r,{isArray:xr}=Array,vs=Si("undefined");function fv(r){return r!==null&&!vs(r)&&r.constructor!==null&&!vs(r.constructor)&&Hn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const _l=Je("ArrayBuffer");function hv(r){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(r):o=r&&r.buffer&&_l(r.buffer),o}const dv=Si("string"),Hn=Si("function"),wl=Si("number"),bl=r=>r!==null&&typeof r=="object",pv=r=>r===!0||r===!1,yi=r=>{if(Os(r)!=="object")return!1;const o=Cs(r);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},mv=Je("Date"),gv=Je("File"),yv=Je("Blob"),vv=Je("FileList"),_v=r=>bl(r)&&Hn(r.pipe),wv=r=>{const o="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||vl.call(r)===o||Hn(r.toString)&&r.toString()===o)},bv=Je("URLSearchParams"),xv=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ki(r,o,{allOwnKeys:n=!1}={}){if(r===null||typeof r>"u")return;let s,u;if(typeof r!="object"&&(r=[r]),xr(r))for(s=0,u=r.length;s<u;s++)o.call(null,r[s],s,r);else{const c=n?Object.getOwnPropertyNames(r):Object.keys(r),f=c.length;let m;for(s=0;s<f;s++)m=c[s],o.call(null,r[m],m,r)}}function _s(){const r={},o=(n,s)=>{yi(r[s])&&yi(n)?r[s]=_s(r[s],n):yi(n)?r[s]=_s({},n):xr(n)?r[s]=n.slice():r[s]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&ki(arguments[n],o);return r}const Ev=(r,o,n,{allOwnKeys:s}={})=>(ki(o,(u,c)=>{n&&Hn(u)?r[c]=yl(u,n):r[c]=u},{allOwnKeys:s}),r),Tv=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Av=(r,o,n,s)=>{r.prototype=Object.create(o.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:o.prototype}),n&&Object.assign(r.prototype,n)},Sv=(r,o,n,s)=>{let u,c,f;const m={};if(o=o||{},r==null)return o;do{for(u=Object.getOwnPropertyNames(r),c=u.length;c-- >0;)f=u[c],(!s||s(f,r,o))&&!m[f]&&(o[f]=r[f],m[f]=!0);r=n!==!1&&Cs(r)}while(r&&(!n||n(r,o))&&r!==Object.prototype);return o},kv=(r,o,n)=>{r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=o.length;const s=r.indexOf(o,n);return s!==-1&&s===n},Cv=r=>{if(!r)return null;if(xr(r))return r;let o=r.length;if(!wl(o))return null;const n=new Array(o);for(;o-- >0;)n[o]=r[o];return n},Ov=(r=>o=>r&&o instanceof r)(typeof Uint8Array<"u"&&Cs(Uint8Array)),Rv=(r,o)=>{const s=(r&&r[Symbol.iterator]).call(r);let u;for(;(u=s.next())&&!u.done;){const c=u.value;o.call(r,c[0],c[1])}},jv=(r,o)=>{let n;const s=[];for(;(n=r.exec(o))!==null;)s.push(n);return s},Fv=Je("HTMLFormElement"),Pv=r=>r.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,s,u){return s.toUpperCase()+u}),xc=(({hasOwnProperty:r})=>(o,n)=>r.call(o,n))(Object.prototype),Bv=Je("RegExp"),xl=(r,o)=>{const n=Object.getOwnPropertyDescriptors(r),s={};ki(n,(u,c)=>{o(u,c,r)!==!1&&(s[c]=u)}),Object.defineProperties(r,s)},Dv=r=>{xl(r,(o,n)=>{const s=r[n];if(!!Hn(s)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not read-only method '"+n+"'")})}})},Nv=(r,o)=>{const n={},s=u=>{u.forEach(c=>{n[c]=!0})};return xr(r)?s(r):s(String(r).split(o)),n},$v=()=>{},Iv=(r,o)=>(r=+r,Number.isFinite(r)?r:o),R={isArray:xr,isArrayBuffer:_l,isBuffer:fv,isFormData:wv,isArrayBufferView:hv,isString:dv,isNumber:wl,isBoolean:pv,isObject:bl,isPlainObject:yi,isUndefined:vs,isDate:mv,isFile:gv,isBlob:yv,isRegExp:Bv,isFunction:Hn,isStream:_v,isURLSearchParams:bv,isTypedArray:Ov,isFileList:vv,forEach:ki,merge:_s,extend:Ev,trim:xv,stripBOM:Tv,inherits:Av,toFlatObject:Sv,kindOf:Os,kindOfTest:Je,endsWith:kv,toArray:Cv,forEachEntry:Rv,matchAll:jv,isHTMLForm:Fv,hasOwnProperty:xc,hasOwnProp:xc,reduceDescriptors:xl,freezeMethods:Dv,toObjectSet:Nv,toCamelCase:Pv,noop:$v,toFiniteNumber:Iv};function st(r,o,n,s,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",o&&(this.code=o),n&&(this.config=n),s&&(this.request=s),u&&(this.response=u)}R.inherits(st,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const El=st.prototype,Tl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Tl[r]={value:r}});Object.defineProperties(st,Tl);Object.defineProperty(El,"isAxiosError",{value:!0});st.from=(r,o,n,s,u,c)=>{const f=Object.create(El);return R.toFlatObject(r,f,function(y){return y!==Error.prototype},m=>m!=="isAxiosError"),st.call(f,r.message,o,n,s,u),f.cause=r,f.name=r.name,c&&Object.assign(f,c),f};var Mv=typeof self=="object"?self.FormData:window.FormData;function ws(r){return R.isPlainObject(r)||R.isArray(r)}function Al(r){return R.endsWith(r,"[]")?r.slice(0,-2):r}function Ec(r,o,n){return r?r.concat(o).map(function(u,c){return u=Al(u),!n&&c?"["+u+"]":u}).join(n?".":""):o}function Lv(r){return R.isArray(r)&&!r.some(ws)}const Uv=R.toFlatObject(R,{},null,function(o){return/^is[A-Z]/.test(o)});function zv(r){return r&&R.isFunction(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator]}function Ci(r,o,n){if(!R.isObject(r))throw new TypeError("target must be an object");o=o||new(Mv||FormData),n=R.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(B,I){return!R.isUndefined(I[B])});const s=n.metaTokens,u=n.visitor||_,c=n.dots,f=n.indexes,y=(n.Blob||typeof Blob<"u"&&Blob)&&zv(o);if(!R.isFunction(u))throw new TypeError("visitor must be a function");function p(j){if(j===null)return"";if(R.isDate(j))return j.toISOString();if(!y&&R.isBlob(j))throw new st("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(j)||R.isTypedArray(j)?y&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function _(j,B,I){let P=j;if(j&&!I&&typeof j=="object"){if(R.endsWith(B,"{}"))B=s?B:B.slice(0,-2),j=JSON.stringify(j);else if(R.isArray(j)&&Lv(j)||R.isFileList(j)||R.endsWith(B,"[]")&&(P=R.toArray(j)))return B=Al(B),P.forEach(function($,at){!R.isUndefined($)&&o.append(f===!0?Ec([B],at,c):f===null?B:B+"[]",p($))}),!1}return ws(j)?!0:(o.append(Ec(I,B,c),p(j)),!1)}const w=[],S=Object.assign(Uv,{defaultVisitor:_,convertValue:p,isVisitable:ws});function O(j,B){if(!R.isUndefined(j)){if(w.indexOf(j)!==-1)throw Error("Circular reference detected in "+B.join("."));w.push(j),R.forEach(j,function(P,D){(!R.isUndefined(P)&&u.call(o,P,R.isString(D)?D.trim():D,B,S))===!0&&O(P,B?B.concat(D):[D])}),w.pop()}}if(!R.isObject(r))throw new TypeError("data must be an object");return O(r),o}function Tc(r){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return o[s]})}function Rs(r,o){this._pairs=[],r&&Ci(r,this,o)}const Sl=Rs.prototype;Sl.append=function(o,n){this._pairs.push([o,n])};Sl.toString=function(o){const n=o?function(s){return o.call(this,s,Tc)}:Tc;return this._pairs.map(function(u){return n(u[0])+"="+n(u[1])},"").join("&")};function Wv(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function kl(r,o,n){if(!o)return r;const s=r.indexOf("#");s!==-1&&(r=r.slice(0,s));const u=n&&n.encode||Wv,c=R.isURLSearchParams(o)?o.toString():new Rs(o,n).toString(u);return c&&(r+=(r.indexOf("?")===-1?"?":"&")+c),r}class Ac{constructor(){this.handlers=[]}use(o,n,s){return this.handlers.push({fulfilled:o,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){R.forEach(this.handlers,function(s){s!==null&&o(s)})}}const Cl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hv=typeof URLSearchParams<"u"?URLSearchParams:Rs,qv=FormData,Vv=(()=>{let r;return typeof navigator<"u"&&((r=navigator.product)==="ReactNative"||r==="NativeScript"||r==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Ve={isBrowser:!0,classes:{URLSearchParams:Hv,FormData:qv,Blob},isStandardBrowserEnv:Vv,protocols:["http","https","file","blob","url","data"]};function Jv(r,o){return Ci(r,new Ve.classes.URLSearchParams,Object.assign({visitor:function(n,s,u,c){return Ve.isNode&&R.isBuffer(n)?(this.append(s,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},o))}function Kv(r){return R.matchAll(/\w+|\[(\w*)]/g,r).map(o=>o[0]==="[]"?"":o[1]||o[0])}function Yv(r){const o={},n=Object.keys(r);let s;const u=n.length;let c;for(s=0;s<u;s++)c=n[s],o[c]=r[c];return o}function Ol(r){function o(n,s,u,c){let f=n[c++];const m=Number.isFinite(+f),y=c>=n.length;return f=!f&&R.isArray(u)?u.length:f,y?(R.hasOwnProp(u,f)?u[f]=[u[f],s]:u[f]=s,!m):((!u[f]||!R.isObject(u[f]))&&(u[f]=[]),o(n,s,u[f],c)&&R.isArray(u[f])&&(u[f]=Yv(u[f])),!m)}if(R.isFormData(r)&&R.isFunction(r.entries)){const n={};return R.forEachEntry(r,(s,u)=>{o(Kv(s),u,n,0)}),n}return null}function Xv(r,o,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?r(n):o(new st("Request failed with status code "+n.status,[st.ERR_BAD_REQUEST,st.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Gv=Ve.isStandardBrowserEnv?function(){return{write:function(n,s,u,c,f,m){const y=[];y.push(n+"="+encodeURIComponent(s)),R.isNumber(u)&&y.push("expires="+new Date(u).toGMTString()),R.isString(c)&&y.push("path="+c),R.isString(f)&&y.push("domain="+f),m===!0&&y.push("secure"),document.cookie=y.join("; ")},read:function(n){const s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Zv(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Qv(r,o){return o?r.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):r}function Rl(r,o){return r&&!Zv(o)?Qv(r,o):o}const t1=Ve.isStandardBrowserEnv?function(){const o=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function u(c){let f=c;return o&&(n.setAttribute("href",f),f=n.href),n.setAttribute("href",f),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=u(window.location.href),function(f){const m=R.isString(f)?u(f):f;return m.protocol===s.protocol&&m.host===s.host}}():function(){return function(){return!0}}();function Er(r,o,n){st.call(this,r==null?"canceled":r,st.ERR_CANCELED,o,n),this.name="CanceledError"}R.inherits(Er,st,{__CANCEL__:!0});function e1(r){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return o&&o[1]||""}const n1=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),r1=r=>{const o={};let n,s,u;return r&&r.split(`
`).forEach(function(f){u=f.indexOf(":"),n=f.substring(0,u).trim().toLowerCase(),s=f.substring(u+1).trim(),!(!n||o[n]&&n1[n])&&(n==="set-cookie"?o[n]?o[n].push(s):o[n]=[s]:o[n]=o[n]?o[n]+", "+s:s)}),o},Sc=Symbol("internals"),jl=Symbol("defaults");function _r(r){return r&&String(r).trim().toLowerCase()}function mi(r){return r===!1||r==null?r:String(r)}function i1(r){const o=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(r);)o[s[1]]=s[2];return o}function kc(r,o,n,s){if(R.isFunction(s))return s.call(this,o,n);if(!!R.isString(o)){if(R.isString(s))return o.indexOf(s)!==-1;if(R.isRegExp(s))return s.test(o)}}function o1(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,n,s)=>n.toUpperCase()+s)}function s1(r,o){const n=R.toCamelCase(" "+o);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+n,{value:function(u,c,f){return this[s].call(this,o,u,c,f)},configurable:!0})})}function gr(r,o){o=o.toLowerCase();const n=Object.keys(r);let s=n.length,u;for(;s-- >0;)if(u=n[s],o===u.toLowerCase())return u;return null}function ye(r,o){r&&this.set(r),this[jl]=o||null}Object.assign(ye.prototype,{set:function(r,o,n){const s=this;function u(c,f,m){const y=_r(f);if(!y)throw new Error("header name must be a non-empty string");const p=gr(s,y);p&&m!==!0&&(s[p]===!1||m===!1)||(R.isArray(c)?c=c.map(mi):c=mi(c),s[p||f]=c)}return R.isPlainObject(r)?R.forEach(r,(c,f)=>{u(c,f,o)}):u(o,r,n),this},get:function(r,o){if(r=_r(r),!r)return;const n=gr(this,r);if(n){const s=this[n];if(!o)return s;if(o===!0)return i1(s);if(R.isFunction(o))return o.call(this,s,n);if(R.isRegExp(o))return o.exec(s);throw new TypeError("parser must be boolean|regexp|function")}},has:function(r,o){if(r=_r(r),r){const n=gr(this,r);return!!(n&&(!o||kc(this,this[n],n,o)))}return!1},delete:function(r,o){const n=this;let s=!1;function u(c){if(c=_r(c),c){const f=gr(n,c);f&&(!o||kc(n,n[f],f,o))&&(delete n[f],s=!0)}}return R.isArray(r)?r.forEach(u):u(r),s},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(r){const o=this,n={};return R.forEach(this,(s,u)=>{const c=gr(n,u);if(c){o[c]=mi(s),delete o[u];return}const f=r?o1(u):String(u).trim();f!==u&&delete o[u],o[f]=mi(s),n[f]=!0}),this},toJSON:function(){const r=Object.create(null);return R.forEach(Object.assign({},this[jl]||null,this),(o,n)=>{o==null||o===!1||(r[n]=R.isArray(o)?o.join(", "):o)}),r}});Object.assign(ye,{from:function(r){return R.isString(r)?new this(r1(r)):r instanceof this?r:new this(r)},accessor:function(r){const n=(this[Sc]=this[Sc]={accessors:{}}).accessors,s=this.prototype;function u(c){const f=_r(c);n[f]||(s1(s,c),n[f]=!0)}return R.isArray(r)?r.forEach(u):u(r),this}});ye.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);R.freezeMethods(ye.prototype);R.freezeMethods(ye);function a1(r,o){r=r||10;const n=new Array(r),s=new Array(r);let u=0,c=0,f;return o=o!==void 0?o:1e3,function(y){const p=Date.now(),_=s[c];f||(f=p),n[u]=y,s[u]=p;let w=c,S=0;for(;w!==u;)S+=n[w++],w=w%r;if(u=(u+1)%r,u===c&&(c=(c+1)%r),p-f<o)return;const O=_&&p-_;return O?Math.round(S*1e3/O):void 0}}function Cc(r,o){let n=0;const s=a1(50,250);return u=>{const c=u.loaded,f=u.lengthComputable?u.total:void 0,m=c-n,y=s(m),p=c<=f;n=c;const _={loaded:c,total:f,progress:f?c/f:void 0,bytes:m,rate:y||void 0,estimated:y&&f&&p?(f-c)/y:void 0};_[o?"download":"upload"]=!0,r(_)}}function Oc(r){return new Promise(function(n,s){let u=r.data;const c=ye.from(r.headers).normalize(),f=r.responseType;let m;function y(){r.cancelToken&&r.cancelToken.unsubscribe(m),r.signal&&r.signal.removeEventListener("abort",m)}R.isFormData(u)&&Ve.isStandardBrowserEnv&&c.setContentType(!1);let p=new XMLHttpRequest;if(r.auth){const O=r.auth.username||"",j=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";c.set("Authorization","Basic "+btoa(O+":"+j))}const _=Rl(r.baseURL,r.url);p.open(r.method.toUpperCase(),kl(_,r.params,r.paramsSerializer),!0),p.timeout=r.timeout;function w(){if(!p)return;const O=ye.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),B={data:!f||f==="text"||f==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:O,config:r,request:p};Xv(function(P){n(P),y()},function(P){s(P),y()},B),p=null}if("onloadend"in p?p.onloadend=w:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(w)},p.onabort=function(){!p||(s(new st("Request aborted",st.ECONNABORTED,r,p)),p=null)},p.onerror=function(){s(new st("Network Error",st.ERR_NETWORK,r,p)),p=null},p.ontimeout=function(){let j=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const B=r.transitional||Cl;r.timeoutErrorMessage&&(j=r.timeoutErrorMessage),s(new st(j,B.clarifyTimeoutError?st.ETIMEDOUT:st.ECONNABORTED,r,p)),p=null},Ve.isStandardBrowserEnv){const O=(r.withCredentials||t1(_))&&r.xsrfCookieName&&Gv.read(r.xsrfCookieName);O&&c.set(r.xsrfHeaderName,O)}u===void 0&&c.setContentType(null),"setRequestHeader"in p&&R.forEach(c.toJSON(),function(j,B){p.setRequestHeader(B,j)}),R.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),f&&f!=="json"&&(p.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&p.addEventListener("progress",Cc(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",Cc(r.onUploadProgress)),(r.cancelToken||r.signal)&&(m=O=>{!p||(s(!O||O.type?new Er(null,r,p):O),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(m),r.signal&&(r.signal.aborted?m():r.signal.addEventListener("abort",m)));const S=e1(_);if(S&&Ve.protocols.indexOf(S)===-1){s(new st("Unsupported protocol "+S+":",st.ERR_BAD_REQUEST,r));return}p.send(u||null)})}const Rc={http:Oc,xhr:Oc},jc={getAdapter:r=>{if(R.isString(r)){const o=Rc[r];if(!r)throw Error(R.hasOwnProp(r)?`Adapter '${r}' is not available in the build`:`Can not resolve adapter '${r}'`);return o}if(!R.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Rc},u1={"Content-Type":"application/x-www-form-urlencoded"};function c1(){let r;return typeof XMLHttpRequest<"u"?r=jc.getAdapter("xhr"):typeof process<"u"&&R.kindOf(process)==="process"&&(r=jc.getAdapter("http")),r}function l1(r,o,n){if(R.isString(r))try{return(o||JSON.parse)(r),R.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(r)}const qn={transitional:Cl,adapter:c1(),transformRequest:[function(o,n){const s=n.getContentType()||"",u=s.indexOf("application/json")>-1,c=R.isObject(o);if(c&&R.isHTMLForm(o)&&(o=new FormData(o)),R.isFormData(o))return u&&u?JSON.stringify(Ol(o)):o;if(R.isArrayBuffer(o)||R.isBuffer(o)||R.isStream(o)||R.isFile(o)||R.isBlob(o))return o;if(R.isArrayBufferView(o))return o.buffer;if(R.isURLSearchParams(o))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let m;if(c){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Jv(o,this.formSerializer).toString();if((m=R.isFileList(o))||s.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Ci(m?{"files[]":o}:o,y&&new y,this.formSerializer)}}return c||u?(n.setContentType("application/json",!1),l1(o)):o}],transformResponse:[function(o){const n=this.transitional||qn.transitional,s=n&&n.forcedJSONParsing,u=this.responseType==="json";if(o&&R.isString(o)&&(s&&!this.responseType||u)){const f=!(n&&n.silentJSONParsing)&&u;try{return JSON.parse(o)}catch(m){if(f)throw m.name==="SyntaxError"?st.from(m,st.ERR_BAD_RESPONSE,this,null,this.response):m}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ve.classes.FormData,Blob:Ve.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};R.forEach(["delete","get","head"],function(o){qn.headers[o]={}});R.forEach(["post","put","patch"],function(o){qn.headers[o]=R.merge(u1)});function os(r,o){const n=this||qn,s=o||n,u=ye.from(s.headers);let c=s.data;return R.forEach(r,function(m){c=m.call(n,c,u.normalize(),o?o.status:void 0)}),u.normalize(),c}function Fl(r){return!!(r&&r.__CANCEL__)}function ss(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Er}function Fc(r){return ss(r),r.headers=ye.from(r.headers),r.data=os.call(r,r.transformRequest),(r.adapter||qn.adapter)(r).then(function(s){return ss(r),s.data=os.call(r,r.transformResponse,s),s.headers=ye.from(s.headers),s},function(s){return Fl(s)||(ss(r),s&&s.response&&(s.response.data=os.call(r,r.transformResponse,s.response),s.response.headers=ye.from(s.response.headers))),Promise.reject(s)})}function br(r,o){o=o||{};const n={};function s(p,_){return R.isPlainObject(p)&&R.isPlainObject(_)?R.merge(p,_):R.isPlainObject(_)?R.merge({},_):R.isArray(_)?_.slice():_}function u(p){if(R.isUndefined(o[p])){if(!R.isUndefined(r[p]))return s(void 0,r[p])}else return s(r[p],o[p])}function c(p){if(!R.isUndefined(o[p]))return s(void 0,o[p])}function f(p){if(R.isUndefined(o[p])){if(!R.isUndefined(r[p]))return s(void 0,r[p])}else return s(void 0,o[p])}function m(p){if(p in o)return s(r[p],o[p]);if(p in r)return s(void 0,r[p])}const y={url:c,method:c,data:c,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:m};return R.forEach(Object.keys(r).concat(Object.keys(o)),function(_){const w=y[_]||u,S=w(_);R.isUndefined(S)&&w!==m||(n[_]=S)}),n}const Pl="1.1.2",js={};["object","boolean","number","function","string","symbol"].forEach((r,o)=>{js[r]=function(s){return typeof s===r||"a"+(o<1?"n ":" ")+r}});const Pc={};js.transitional=function(o,n,s){function u(c,f){return"[Axios v"+Pl+"] Transitional option '"+c+"'"+f+(s?". "+s:"")}return(c,f,m)=>{if(o===!1)throw new st(u(f," has been removed"+(n?" in "+n:"")),st.ERR_DEPRECATED);return n&&!Pc[f]&&(Pc[f]=!0,console.warn(u(f," has been deprecated since v"+n+" and will be removed in the near future"))),o?o(c,f,m):!0}};function f1(r,o,n){if(typeof r!="object")throw new st("options must be an object",st.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let u=s.length;for(;u-- >0;){const c=s[u],f=o[c];if(f){const m=r[c],y=m===void 0||f(m,c,r);if(y!==!0)throw new st("option "+c+" must be "+y,st.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new st("Unknown option "+c,st.ERR_BAD_OPTION)}}const Bl={assertOptions:f1,validators:js},Nn=Bl.validators;class _n{constructor(o){this.defaults=o,this.interceptors={request:new Ac,response:new Ac}}request(o,n){typeof o=="string"?(n=n||{},n.url=o):n=o||{},n=br(this.defaults,n);const s=n.transitional;s!==void 0&&Bl.assertOptions(s,{silentJSONParsing:Nn.transitional(Nn.boolean),forcedJSONParsing:Nn.transitional(Nn.boolean),clarifyTimeoutError:Nn.transitional(Nn.boolean)},!1),n.method=(n.method||this.defaults.method||"get").toLowerCase();const u=n.headers&&R.merge(n.headers.common,n.headers[n.method]);u&&R.forEach(["delete","get","head","post","put","patch","common"],function(O){delete n.headers[O]}),n.headers=new ye(n.headers,u);const c=[];let f=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(n)===!1||(f=f&&O.synchronous,c.unshift(O.fulfilled,O.rejected))});const m=[];this.interceptors.response.forEach(function(O){m.push(O.fulfilled,O.rejected)});let y,p=0,_;if(!f){const S=[Fc.bind(this),void 0];for(S.unshift.apply(S,c),S.push.apply(S,m),_=S.length,y=Promise.resolve(n);p<_;)y=y.then(S[p++],S[p++]);return y}_=c.length;let w=n;for(p=0;p<_;){const S=c[p++],O=c[p++];try{w=S(w)}catch(j){O.call(this,j);break}}try{y=Fc.call(this,w)}catch(S){return Promise.reject(S)}for(p=0,_=m.length;p<_;)y=y.then(m[p++],m[p++]);return y}getUri(o){o=br(this.defaults,o);const n=Rl(o.baseURL,o.url);return kl(n,o.params,o.paramsSerializer)}}R.forEach(["delete","get","head","options"],function(o){_n.prototype[o]=function(n,s){return this.request(br(s||{},{method:o,url:n,data:(s||{}).data}))}});R.forEach(["post","put","patch"],function(o){function n(s){return function(c,f,m){return this.request(br(m||{},{method:o,headers:s?{"Content-Type":"multipart/form-data"}:{},url:c,data:f}))}}_n.prototype[o]=n(),_n.prototype[o+"Form"]=n(!0)});class Fs{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const s=this;this.promise.then(u=>{if(!s._listeners)return;let c=s._listeners.length;for(;c-- >0;)s._listeners[c](u);s._listeners=null}),this.promise.then=u=>{let c;const f=new Promise(m=>{s.subscribe(m),c=m}).then(u);return f.cancel=function(){s.unsubscribe(c)},f},o(function(c,f,m){s.reason||(s.reason=new Er(c,f,m),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const n=this._listeners.indexOf(o);n!==-1&&this._listeners.splice(n,1)}static source(){let o;return{token:new Fs(function(u){o=u}),cancel:o}}}function h1(r){return function(n){return r.apply(null,n)}}function d1(r){return R.isObject(r)&&r.isAxiosError===!0}function Dl(r){const o=new _n(r),n=yl(_n.prototype.request,o);return R.extend(n,_n.prototype,o,{allOwnKeys:!0}),R.extend(n,o,null,{allOwnKeys:!0}),n.create=function(u){return Dl(br(r,u))},n}const Mt=Dl(qn);Mt.Axios=_n;Mt.CanceledError=Er;Mt.CancelToken=Fs;Mt.isCancel=Fl;Mt.VERSION=Pl;Mt.toFormData=Ci;Mt.AxiosError=st;Mt.Cancel=Mt.CanceledError;Mt.all=function(o){return Promise.all(o)};Mt.spread=h1;Mt.isAxiosError=d1;Mt.formToJSON=r=>Ol(R.isHTMLForm(r)?new FormData(r):r);var p1=Object.defineProperty,m1=(r,o,n)=>o in r?p1(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,E=(r,o,n)=>(m1(r,typeof o!="symbol"?o+"":o,n),n),yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bs={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(r,o){(function(){var n,s="4.17.21",u=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",m="Invalid `variable` option passed into `_.template`",y="__lodash_hash_undefined__",p=500,_="__lodash_placeholder__",w=1,S=2,O=4,j=1,B=2,I=1,P=2,D=4,$=8,at=16,J=32,mt=64,_t=128,Pt=256,rt=512,bt=30,Ut="...",Pe=800,ve=16,Be=1,Q=2,ft=3,Ct=1/0,Bt=9007199254740991,zt=17976931348623157e292,At=0/0,Et=4294967295,Di=Et-1,_e=Et>>>1,Oe=[["ary",_t],["bind",I],["bindKey",P],["curry",$],["curryRight",at],["flip",rt],["partial",J],["partialRight",mt],["rearg",Pt]],ue="[object Arguments]",Jn="[object Array]",cf="[object AsyncFunction]",Kn="[object Boolean]",Yn="[object Date]",lf="[object DOMException]",Tr="[object Error]",Ar="[object Function]",qs="[object GeneratorFunction]",we="[object Map]",Xn="[object Number]",ff="[object Null]",De="[object Object]",Vs="[object Promise]",hf="[object Proxy]",Gn="[object RegExp]",be="[object Set]",Zn="[object String]",Sr="[object Symbol]",df="[object Undefined]",Qn="[object WeakMap]",pf="[object WeakSet]",tr="[object ArrayBuffer]",bn="[object DataView]",Ni="[object Float32Array]",$i="[object Float64Array]",Ii="[object Int8Array]",Mi="[object Int16Array]",Li="[object Int32Array]",Ui="[object Uint8Array]",zi="[object Uint8ClampedArray]",Wi="[object Uint16Array]",Hi="[object Uint32Array]",mf=/\b__p \+= '';/g,gf=/\b(__p \+=) '' \+/g,yf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Js=/&(?:amp|lt|gt|quot|#39);/g,Ks=/[&<>"']/g,vf=RegExp(Js.source),_f=RegExp(Ks.source),wf=/<%-([\s\S]+?)%>/g,bf=/<%([\s\S]+?)%>/g,Ys=/<%=([\s\S]+?)%>/g,xf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ef=/^\w*$/,Tf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qi=/[\\^$.*+?()[\]{}|]/g,Af=RegExp(qi.source),Vi=/^\s+/,Sf=/\s/,kf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Cf=/\{\n\/\* \[wrapped with (.+)\] \*/,Of=/,? & /,Rf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,jf=/[()=,{}\[\]\/\s]/,Ff=/\\(\\)?/g,Pf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xs=/\w*$/,Bf=/^[-+]0x[0-9a-f]+$/i,Df=/^0b[01]+$/i,Nf=/^\[object .+?Constructor\]$/,$f=/^0o[0-7]+$/i,If=/^(?:0|[1-9]\d*)$/,Mf=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,kr=/($^)/,Lf=/['\n\r\u2028\u2029\\]/g,Cr="\\ud800-\\udfff",Uf="\\u0300-\\u036f",zf="\\ufe20-\\ufe2f",Wf="\\u20d0-\\u20ff",Gs=Uf+zf+Wf,Zs="\\u2700-\\u27bf",Qs="a-z\\xdf-\\xf6\\xf8-\\xff",Hf="\\xac\\xb1\\xd7\\xf7",qf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Vf="\\u2000-\\u206f",Jf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ta="A-Z\\xc0-\\xd6\\xd8-\\xde",ea="\\ufe0e\\ufe0f",na=Hf+qf+Vf+Jf,Ji="['\u2019]",Kf="["+Cr+"]",ra="["+na+"]",Or="["+Gs+"]",ia="\\d+",Yf="["+Zs+"]",oa="["+Qs+"]",sa="[^"+Cr+na+ia+Zs+Qs+ta+"]",Ki="\\ud83c[\\udffb-\\udfff]",Xf="(?:"+Or+"|"+Ki+")",aa="[^"+Cr+"]",Yi="(?:\\ud83c[\\udde6-\\uddff]){2}",Xi="[\\ud800-\\udbff][\\udc00-\\udfff]",xn="["+ta+"]",ua="\\u200d",ca="(?:"+oa+"|"+sa+")",Gf="(?:"+xn+"|"+sa+")",la="(?:"+Ji+"(?:d|ll|m|re|s|t|ve))?",fa="(?:"+Ji+"(?:D|LL|M|RE|S|T|VE))?",ha=Xf+"?",da="["+ea+"]?",Zf="(?:"+ua+"(?:"+[aa,Yi,Xi].join("|")+")"+da+ha+")*",Qf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",th="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",pa=da+ha+Zf,eh="(?:"+[Yf,Yi,Xi].join("|")+")"+pa,nh="(?:"+[aa+Or+"?",Or,Yi,Xi,Kf].join("|")+")",rh=RegExp(Ji,"g"),ih=RegExp(Or,"g"),Gi=RegExp(Ki+"(?="+Ki+")|"+nh+pa,"g"),oh=RegExp([xn+"?"+oa+"+"+la+"(?="+[ra,xn,"$"].join("|")+")",Gf+"+"+fa+"(?="+[ra,xn+ca,"$"].join("|")+")",xn+"?"+ca+"+"+la,xn+"+"+fa,th,Qf,ia,eh].join("|"),"g"),sh=RegExp("["+ua+Cr+Gs+ea+"]"),ah=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,uh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ch=-1,vt={};vt[Ni]=vt[$i]=vt[Ii]=vt[Mi]=vt[Li]=vt[Ui]=vt[zi]=vt[Wi]=vt[Hi]=!0,vt[ue]=vt[Jn]=vt[tr]=vt[Kn]=vt[bn]=vt[Yn]=vt[Tr]=vt[Ar]=vt[we]=vt[Xn]=vt[De]=vt[Gn]=vt[be]=vt[Zn]=vt[Qn]=!1;var gt={};gt[ue]=gt[Jn]=gt[tr]=gt[bn]=gt[Kn]=gt[Yn]=gt[Ni]=gt[$i]=gt[Ii]=gt[Mi]=gt[Li]=gt[we]=gt[Xn]=gt[De]=gt[Gn]=gt[be]=gt[Zn]=gt[Sr]=gt[Ui]=gt[zi]=gt[Wi]=gt[Hi]=!0,gt[Tr]=gt[Ar]=gt[Qn]=!1;var lh={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},fh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},dh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ph=parseFloat,mh=parseInt,ma=typeof yr=="object"&&yr&&yr.Object===Object&&yr,gh=typeof self=="object"&&self&&self.Object===Object&&self,$t=ma||gh||Function("return this")(),Zi=o&&!o.nodeType&&o,ln=Zi&&!0&&r&&!r.nodeType&&r,ga=ln&&ln.exports===Zi,Qi=ga&&ma.process,ce=function(){try{var b=ln&&ln.require&&ln.require("util").types;return b||Qi&&Qi.binding&&Qi.binding("util")}catch(A){}}(),ya=ce&&ce.isArrayBuffer,va=ce&&ce.isDate,_a=ce&&ce.isMap,wa=ce&&ce.isRegExp,ba=ce&&ce.isSet,xa=ce&&ce.isTypedArray;function ee(b,A,T){switch(T.length){case 0:return b.call(A);case 1:return b.call(A,T[0]);case 2:return b.call(A,T[0],T[1]);case 3:return b.call(A,T[0],T[1],T[2])}return b.apply(A,T)}function yh(b,A,T,M){for(var q=-1,ut=b==null?0:b.length;++q<ut;){var Ot=b[q];A(M,Ot,T(Ot),b)}return M}function le(b,A){for(var T=-1,M=b==null?0:b.length;++T<M&&A(b[T],T,b)!==!1;);return b}function vh(b,A){for(var T=b==null?0:b.length;T--&&A(b[T],T,b)!==!1;);return b}function Ea(b,A){for(var T=-1,M=b==null?0:b.length;++T<M;)if(!A(b[T],T,b))return!1;return!0}function Ke(b,A){for(var T=-1,M=b==null?0:b.length,q=0,ut=[];++T<M;){var Ot=b[T];A(Ot,T,b)&&(ut[q++]=Ot)}return ut}function Rr(b,A){var T=b==null?0:b.length;return!!T&&En(b,A,0)>-1}function to(b,A,T){for(var M=-1,q=b==null?0:b.length;++M<q;)if(T(A,b[M]))return!0;return!1}function wt(b,A){for(var T=-1,M=b==null?0:b.length,q=Array(M);++T<M;)q[T]=A(b[T],T,b);return q}function Ye(b,A){for(var T=-1,M=A.length,q=b.length;++T<M;)b[q+T]=A[T];return b}function eo(b,A,T,M){var q=-1,ut=b==null?0:b.length;for(M&&ut&&(T=b[++q]);++q<ut;)T=A(T,b[q],q,b);return T}function _h(b,A,T,M){var q=b==null?0:b.length;for(M&&q&&(T=b[--q]);q--;)T=A(T,b[q],q,b);return T}function no(b,A){for(var T=-1,M=b==null?0:b.length;++T<M;)if(A(b[T],T,b))return!0;return!1}var wh=ro("length");function bh(b){return b.split("")}function xh(b){return b.match(Rf)||[]}function Ta(b,A,T){var M;return T(b,function(q,ut,Ot){if(A(q,ut,Ot))return M=ut,!1}),M}function jr(b,A,T,M){for(var q=b.length,ut=T+(M?1:-1);M?ut--:++ut<q;)if(A(b[ut],ut,b))return ut;return-1}function En(b,A,T){return A===A?Bh(b,A,T):jr(b,Aa,T)}function Eh(b,A,T,M){for(var q=T-1,ut=b.length;++q<ut;)if(M(b[q],A))return q;return-1}function Aa(b){return b!==b}function Sa(b,A){var T=b==null?0:b.length;return T?oo(b,A)/T:At}function ro(b){return function(A){return A==null?n:A[b]}}function io(b){return function(A){return b==null?n:b[A]}}function ka(b,A,T,M,q){return q(b,function(ut,Ot,ht){T=M?(M=!1,ut):A(T,ut,Ot,ht)}),T}function Th(b,A){var T=b.length;for(b.sort(A);T--;)b[T]=b[T].value;return b}function oo(b,A){for(var T,M=-1,q=b.length;++M<q;){var ut=A(b[M]);ut!==n&&(T=T===n?ut:T+ut)}return T}function so(b,A){for(var T=-1,M=Array(b);++T<b;)M[T]=A(T);return M}function Ah(b,A){return wt(A,function(T){return[T,b[T]]})}function Ca(b){return b&&b.slice(0,Fa(b)+1).replace(Vi,"")}function ne(b){return function(A){return b(A)}}function ao(b,A){return wt(A,function(T){return b[T]})}function er(b,A){return b.has(A)}function Oa(b,A){for(var T=-1,M=b.length;++T<M&&En(A,b[T],0)>-1;);return T}function Ra(b,A){for(var T=b.length;T--&&En(A,b[T],0)>-1;);return T}function Sh(b,A){for(var T=b.length,M=0;T--;)b[T]===A&&++M;return M}var kh=io(lh),Ch=io(fh);function Oh(b){return"\\"+dh[b]}function Rh(b,A){return b==null?n:b[A]}function Tn(b){return sh.test(b)}function jh(b){return ah.test(b)}function Fh(b){for(var A,T=[];!(A=b.next()).done;)T.push(A.value);return T}function uo(b){var A=-1,T=Array(b.size);return b.forEach(function(M,q){T[++A]=[q,M]}),T}function ja(b,A){return function(T){return b(A(T))}}function Xe(b,A){for(var T=-1,M=b.length,q=0,ut=[];++T<M;){var Ot=b[T];(Ot===A||Ot===_)&&(b[T]=_,ut[q++]=T)}return ut}function Fr(b){var A=-1,T=Array(b.size);return b.forEach(function(M){T[++A]=M}),T}function Ph(b){var A=-1,T=Array(b.size);return b.forEach(function(M){T[++A]=[M,M]}),T}function Bh(b,A,T){for(var M=T-1,q=b.length;++M<q;)if(b[M]===A)return M;return-1}function Dh(b,A,T){for(var M=T+1;M--;)if(b[M]===A)return M;return M}function An(b){return Tn(b)?$h(b):wh(b)}function xe(b){return Tn(b)?Ih(b):bh(b)}function Fa(b){for(var A=b.length;A--&&Sf.test(b.charAt(A)););return A}var Nh=io(hh);function $h(b){for(var A=Gi.lastIndex=0;Gi.test(b);)++A;return A}function Ih(b){return b.match(Gi)||[]}function Mh(b){return b.match(oh)||[]}var Lh=function b(A){A=A==null?$t:Sn.defaults($t.Object(),A,Sn.pick($t,uh));var T=A.Array,M=A.Date,q=A.Error,ut=A.Function,Ot=A.Math,ht=A.Object,co=A.RegExp,Uh=A.String,fe=A.TypeError,Pr=T.prototype,zh=ut.prototype,kn=ht.prototype,Br=A["__core-js_shared__"],Dr=zh.toString,lt=kn.hasOwnProperty,Wh=0,Pa=function(){var t=/[^.]+$/.exec(Br&&Br.keys&&Br.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Nr=kn.toString,Hh=Dr.call(ht),qh=$t._,Vh=co("^"+Dr.call(lt).replace(qi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$r=ga?A.Buffer:n,Ge=A.Symbol,Ir=A.Uint8Array,Ba=$r?$r.allocUnsafe:n,Mr=ja(ht.getPrototypeOf,ht),Da=ht.create,Na=kn.propertyIsEnumerable,Lr=Pr.splice,$a=Ge?Ge.isConcatSpreadable:n,nr=Ge?Ge.iterator:n,fn=Ge?Ge.toStringTag:n,Ur=function(){try{var t=gn(ht,"defineProperty");return t({},"",{}),t}catch(e){}}(),Jh=A.clearTimeout!==$t.clearTimeout&&A.clearTimeout,Kh=M&&M.now!==$t.Date.now&&M.now,Yh=A.setTimeout!==$t.setTimeout&&A.setTimeout,zr=Ot.ceil,Wr=Ot.floor,lo=ht.getOwnPropertySymbols,Xh=$r?$r.isBuffer:n,Ia=A.isFinite,Gh=Pr.join,Zh=ja(ht.keys,ht),Rt=Ot.max,Wt=Ot.min,Qh=M.now,td=A.parseInt,Ma=Ot.random,ed=Pr.reverse,fo=gn(A,"DataView"),rr=gn(A,"Map"),ho=gn(A,"Promise"),Cn=gn(A,"Set"),ir=gn(A,"WeakMap"),or=gn(ht,"create"),Hr=ir&&new ir,On={},nd=yn(fo),rd=yn(rr),id=yn(ho),od=yn(Cn),sd=yn(ir),qr=Ge?Ge.prototype:n,sr=qr?qr.valueOf:n,La=qr?qr.toString:n;function h(t){if(Tt(t)&&!K(t)&&!(t instanceof et)){if(t instanceof he)return t;if(lt.call(t,"__wrapped__"))return Uu(t)}return new he(t)}var Rn=function(){function t(){}return function(e){if(!xt(e))return{};if(Da)return Da(e);t.prototype=e;var i=new t;return t.prototype=n,i}}();function Vr(){}function he(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}h.templateSettings={escape:wf,evaluate:bf,interpolate:Ys,variable:"",imports:{_:h}},h.prototype=Vr.prototype,h.prototype.constructor=h,he.prototype=Rn(Vr.prototype),he.prototype.constructor=he;function et(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Et,this.__views__=[]}function ad(){var t=new et(this.__wrapped__);return t.__actions__=Yt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Yt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Yt(this.__views__),t}function ud(){if(this.__filtered__){var t=new et(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function cd(){var t=this.__wrapped__.value(),e=this.__dir__,i=K(t),a=e<0,l=i?t.length:0,d=bp(0,l,this.__views__),g=d.start,v=d.end,x=v-g,k=a?v:g-1,C=this.__iteratees__,F=C.length,N=0,L=Wt(x,this.__takeCount__);if(!i||!a&&l==x&&L==x)return lu(t,this.__actions__);var z=[];t:for(;x--&&N<L;){k+=e;for(var G=-1,W=t[k];++G<F;){var tt=C[G],nt=tt.iteratee,oe=tt.type,Jt=nt(W);if(oe==Q)W=Jt;else if(!Jt){if(oe==Be)continue t;break t}}z[N++]=W}return z}et.prototype=Rn(Vr.prototype),et.prototype.constructor=et;function hn(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var a=t[e];this.set(a[0],a[1])}}function ld(){this.__data__=or?or(null):{},this.size=0}function fd(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function hd(t){var e=this.__data__;if(or){var i=e[t];return i===y?n:i}return lt.call(e,t)?e[t]:n}function dd(t){var e=this.__data__;return or?e[t]!==n:lt.call(e,t)}function pd(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=or&&e===n?y:e,this}hn.prototype.clear=ld,hn.prototype.delete=fd,hn.prototype.get=hd,hn.prototype.has=dd,hn.prototype.set=pd;function Ne(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var a=t[e];this.set(a[0],a[1])}}function md(){this.__data__=[],this.size=0}function gd(t){var e=this.__data__,i=Jr(e,t);if(i<0)return!1;var a=e.length-1;return i==a?e.pop():Lr.call(e,i,1),--this.size,!0}function yd(t){var e=this.__data__,i=Jr(e,t);return i<0?n:e[i][1]}function vd(t){return Jr(this.__data__,t)>-1}function _d(t,e){var i=this.__data__,a=Jr(i,t);return a<0?(++this.size,i.push([t,e])):i[a][1]=e,this}Ne.prototype.clear=md,Ne.prototype.delete=gd,Ne.prototype.get=yd,Ne.prototype.has=vd,Ne.prototype.set=_d;function $e(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var a=t[e];this.set(a[0],a[1])}}function wd(){this.size=0,this.__data__={hash:new hn,map:new(rr||Ne),string:new hn}}function bd(t){var e=oi(this,t).delete(t);return this.size-=e?1:0,e}function xd(t){return oi(this,t).get(t)}function Ed(t){return oi(this,t).has(t)}function Td(t,e){var i=oi(this,t),a=i.size;return i.set(t,e),this.size+=i.size==a?0:1,this}$e.prototype.clear=wd,$e.prototype.delete=bd,$e.prototype.get=xd,$e.prototype.has=Ed,$e.prototype.set=Td;function dn(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new $e;++e<i;)this.add(t[e])}function Ad(t){return this.__data__.set(t,y),this}function Sd(t){return this.__data__.has(t)}dn.prototype.add=dn.prototype.push=Ad,dn.prototype.has=Sd;function Ee(t){var e=this.__data__=new Ne(t);this.size=e.size}function kd(){this.__data__=new Ne,this.size=0}function Cd(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function Od(t){return this.__data__.get(t)}function Rd(t){return this.__data__.has(t)}function jd(t,e){var i=this.__data__;if(i instanceof Ne){var a=i.__data__;if(!rr||a.length<u-1)return a.push([t,e]),this.size=++i.size,this;i=this.__data__=new $e(a)}return i.set(t,e),this.size=i.size,this}Ee.prototype.clear=kd,Ee.prototype.delete=Cd,Ee.prototype.get=Od,Ee.prototype.has=Rd,Ee.prototype.set=jd;function Ua(t,e){var i=K(t),a=!i&&vn(t),l=!i&&!a&&nn(t),d=!i&&!a&&!l&&Bn(t),g=i||a||l||d,v=g?so(t.length,Uh):[],x=v.length;for(var k in t)(e||lt.call(t,k))&&!(g&&(k=="length"||l&&(k=="offset"||k=="parent")||d&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||Ue(k,x)))&&v.push(k);return v}function za(t){var e=t.length;return e?t[To(0,e-1)]:n}function Fd(t,e){return si(Yt(t),pn(e,0,t.length))}function Pd(t){return si(Yt(t))}function po(t,e,i){(i!==n&&!Te(t[e],i)||i===n&&!(e in t))&&Ie(t,e,i)}function ar(t,e,i){var a=t[e];(!(lt.call(t,e)&&Te(a,i))||i===n&&!(e in t))&&Ie(t,e,i)}function Jr(t,e){for(var i=t.length;i--;)if(Te(t[i][0],e))return i;return-1}function Bd(t,e,i,a){return Ze(t,function(l,d,g){e(a,l,i(l),g)}),a}function Wa(t,e){return t&&je(e,Dt(e),t)}function Dd(t,e){return t&&je(e,Gt(e),t)}function Ie(t,e,i){e=="__proto__"&&Ur?Ur(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function mo(t,e){for(var i=-1,a=e.length,l=T(a),d=t==null;++i<a;)l[i]=d?n:Yo(t,e[i]);return l}function pn(t,e,i){return t===t&&(i!==n&&(t=t<=i?t:i),e!==n&&(t=t>=e?t:e)),t}function de(t,e,i,a,l,d){var g,v=e&w,x=e&S,k=e&O;if(i&&(g=l?i(t,a,l,d):i(t)),g!==n)return g;if(!xt(t))return t;var C=K(t);if(C){if(g=Ep(t),!v)return Yt(t,g)}else{var F=Ht(t),N=F==Ar||F==qs;if(nn(t))return du(t,v);if(F==De||F==ue||N&&!l){if(g=x||N?{}:Fu(t),!v)return x?hp(t,Dd(g,t)):fp(t,Wa(g,t))}else{if(!gt[F])return l?t:{};g=Tp(t,F,v)}}d||(d=new Ee);var L=d.get(t);if(L)return L;d.set(t,g),ac(t)?t.forEach(function(W){g.add(de(W,e,i,W,t,d))}):oc(t)&&t.forEach(function(W,tt){g.set(tt,de(W,e,i,tt,t,d))});var z=k?x?Do:Bo:x?Gt:Dt,G=C?n:z(t);return le(G||t,function(W,tt){G&&(tt=W,W=t[tt]),ar(g,tt,de(W,e,i,tt,t,d))}),g}function Nd(t){var e=Dt(t);return function(i){return Ha(i,t,e)}}function Ha(t,e,i){var a=i.length;if(t==null)return!a;for(t=ht(t);a--;){var l=i[a],d=e[l],g=t[l];if(g===n&&!(l in t)||!d(g))return!1}return!0}function qa(t,e,i){if(typeof t!="function")throw new fe(f);return pr(function(){t.apply(n,i)},e)}function ur(t,e,i,a){var l=-1,d=Rr,g=!0,v=t.length,x=[],k=e.length;if(!v)return x;i&&(e=wt(e,ne(i))),a?(d=to,g=!1):e.length>=u&&(d=er,g=!1,e=new dn(e));t:for(;++l<v;){var C=t[l],F=i==null?C:i(C);if(C=a||C!==0?C:0,g&&F===F){for(var N=k;N--;)if(e[N]===F)continue t;x.push(C)}else d(e,F,a)||x.push(C)}return x}var Ze=vu(Re),Va=vu(yo,!0);function $d(t,e){var i=!0;return Ze(t,function(a,l,d){return i=!!e(a,l,d),i}),i}function Kr(t,e,i){for(var a=-1,l=t.length;++a<l;){var d=t[a],g=e(d);if(g!=null&&(v===n?g===g&&!ie(g):i(g,v)))var v=g,x=d}return x}function Id(t,e,i,a){var l=t.length;for(i=X(i),i<0&&(i=-i>l?0:l+i),a=a===n||a>l?l:X(a),a<0&&(a+=l),a=i>a?0:cc(a);i<a;)t[i++]=e;return t}function Ja(t,e){var i=[];return Ze(t,function(a,l,d){e(a,l,d)&&i.push(a)}),i}function It(t,e,i,a,l){var d=-1,g=t.length;for(i||(i=Sp),l||(l=[]);++d<g;){var v=t[d];e>0&&i(v)?e>1?It(v,e-1,i,a,l):Ye(l,v):a||(l[l.length]=v)}return l}var go=_u(),Ka=_u(!0);function Re(t,e){return t&&go(t,e,Dt)}function yo(t,e){return t&&Ka(t,e,Dt)}function Yr(t,e){return Ke(e,function(i){return ze(t[i])})}function mn(t,e){e=tn(e,t);for(var i=0,a=e.length;t!=null&&i<a;)t=t[Fe(e[i++])];return i&&i==a?t:n}function Ya(t,e,i){var a=e(t);return K(t)?a:Ye(a,i(t))}function qt(t){return t==null?t===n?df:ff:fn&&fn in ht(t)?wp(t):Pp(t)}function vo(t,e){return t>e}function Md(t,e){return t!=null&&lt.call(t,e)}function Ld(t,e){return t!=null&&e in ht(t)}function Ud(t,e,i){return t>=Wt(e,i)&&t<Rt(e,i)}function _o(t,e,i){for(var a=i?to:Rr,l=t[0].length,d=t.length,g=d,v=T(d),x=1/0,k=[];g--;){var C=t[g];g&&e&&(C=wt(C,ne(e))),x=Wt(C.length,x),v[g]=!i&&(e||l>=120&&C.length>=120)?new dn(g&&C):n}C=t[0];var F=-1,N=v[0];t:for(;++F<l&&k.length<x;){var L=C[F],z=e?e(L):L;if(L=i||L!==0?L:0,!(N?er(N,z):a(k,z,i))){for(g=d;--g;){var G=v[g];if(!(G?er(G,z):a(t[g],z,i)))continue t}N&&N.push(z),k.push(L)}}return k}function zd(t,e,i,a){return Re(t,function(l,d,g){e(a,i(l),d,g)}),a}function cr(t,e,i){e=tn(e,t),t=Nu(t,e);var a=t==null?t:t[Fe(me(e))];return a==null?n:ee(a,t,i)}function Xa(t){return Tt(t)&&qt(t)==ue}function Wd(t){return Tt(t)&&qt(t)==tr}function Hd(t){return Tt(t)&&qt(t)==Yn}function lr(t,e,i,a,l){return t===e?!0:t==null||e==null||!Tt(t)&&!Tt(e)?t!==t&&e!==e:qd(t,e,i,a,lr,l)}function qd(t,e,i,a,l,d){var g=K(t),v=K(e),x=g?Jn:Ht(t),k=v?Jn:Ht(e);x=x==ue?De:x,k=k==ue?De:k;var C=x==De,F=k==De,N=x==k;if(N&&nn(t)){if(!nn(e))return!1;g=!0,C=!1}if(N&&!C)return d||(d=new Ee),g||Bn(t)?Ou(t,e,i,a,l,d):vp(t,e,x,i,a,l,d);if(!(i&j)){var L=C&&lt.call(t,"__wrapped__"),z=F&&lt.call(e,"__wrapped__");if(L||z){var G=L?t.value():t,W=z?e.value():e;return d||(d=new Ee),l(G,W,i,a,d)}}return N?(d||(d=new Ee),_p(t,e,i,a,l,d)):!1}function Vd(t){return Tt(t)&&Ht(t)==we}function wo(t,e,i,a){var l=i.length,d=l,g=!a;if(t==null)return!d;for(t=ht(t);l--;){var v=i[l];if(g&&v[2]?v[1]!==t[v[0]]:!(v[0]in t))return!1}for(;++l<d;){v=i[l];var x=v[0],k=t[x],C=v[1];if(g&&v[2]){if(k===n&&!(x in t))return!1}else{var F=new Ee;if(a)var N=a(k,C,x,t,e,F);if(!(N===n?lr(C,k,j|B,a,F):N))return!1}}return!0}function Ga(t){if(!xt(t)||Cp(t))return!1;var e=ze(t)?Vh:Nf;return e.test(yn(t))}function Jd(t){return Tt(t)&&qt(t)==Gn}function Kd(t){return Tt(t)&&Ht(t)==be}function Yd(t){return Tt(t)&&hi(t.length)&&!!vt[qt(t)]}function Za(t){return typeof t=="function"?t:t==null?Zt:typeof t=="object"?K(t)?eu(t[0],t[1]):tu(t):wc(t)}function bo(t){if(!dr(t))return Zh(t);var e=[];for(var i in ht(t))lt.call(t,i)&&i!="constructor"&&e.push(i);return e}function Xd(t){if(!xt(t))return Fp(t);var e=dr(t),i=[];for(var a in t)a=="constructor"&&(e||!lt.call(t,a))||i.push(a);return i}function xo(t,e){return t<e}function Qa(t,e){var i=-1,a=Xt(t)?T(t.length):[];return Ze(t,function(l,d,g){a[++i]=e(l,d,g)}),a}function tu(t){var e=$o(t);return e.length==1&&e[0][2]?Bu(e[0][0],e[0][1]):function(i){return i===t||wo(i,t,e)}}function eu(t,e){return Mo(t)&&Pu(e)?Bu(Fe(t),e):function(i){var a=Yo(i,t);return a===n&&a===e?Xo(i,t):lr(e,a,j|B)}}function Xr(t,e,i,a,l){t!==e&&go(e,function(d,g){if(l||(l=new Ee),xt(d))Gd(t,e,g,i,Xr,a,l);else{var v=a?a(Uo(t,g),d,g+"",t,e,l):n;v===n&&(v=d),po(t,g,v)}},Gt)}function Gd(t,e,i,a,l,d,g){var v=Uo(t,i),x=Uo(e,i),k=g.get(x);if(k){po(t,i,k);return}var C=d?d(v,x,i+"",t,e,g):n,F=C===n;if(F){var N=K(x),L=!N&&nn(x),z=!N&&!L&&Bn(x);C=x,N||L||z?K(v)?C=v:St(v)?C=Yt(v):L?(F=!1,C=du(x,!0)):z?(F=!1,C=pu(x,!0)):C=[]:mr(x)||vn(x)?(C=v,vn(v)?C=lc(v):(!xt(v)||ze(v))&&(C=Fu(x))):F=!1}F&&(g.set(x,C),l(C,x,a,d,g),g.delete(x)),po(t,i,C)}function nu(t,e){var i=t.length;if(i)return e+=e<0?i:0,Ue(e,i)?t[e]:n}function ru(t,e,i){e.length?e=wt(e,function(d){return K(d)?function(g){return mn(g,d.length===1?d[0]:d)}:d}):e=[Zt];var a=-1;e=wt(e,ne(U()));var l=Qa(t,function(d,g,v){var x=wt(e,function(k){return k(d)});return{criteria:x,index:++a,value:d}});return Th(l,function(d,g){return lp(d,g,i)})}function Zd(t,e){return iu(t,e,function(i,a){return Xo(t,a)})}function iu(t,e,i){for(var a=-1,l=e.length,d={};++a<l;){var g=e[a],v=mn(t,g);i(v,g)&&fr(d,tn(g,t),v)}return d}function Qd(t){return function(e){return mn(e,t)}}function Eo(t,e,i,a){var l=a?Eh:En,d=-1,g=e.length,v=t;for(t===e&&(e=Yt(e)),i&&(v=wt(t,ne(i)));++d<g;)for(var x=0,k=e[d],C=i?i(k):k;(x=l(v,C,x,a))>-1;)v!==t&&Lr.call(v,x,1),Lr.call(t,x,1);return t}function ou(t,e){for(var i=t?e.length:0,a=i-1;i--;){var l=e[i];if(i==a||l!==d){var d=l;Ue(l)?Lr.call(t,l,1):ko(t,l)}}return t}function To(t,e){return t+Wr(Ma()*(e-t+1))}function tp(t,e,i,a){for(var l=-1,d=Rt(zr((e-t)/(i||1)),0),g=T(d);d--;)g[a?d:++l]=t,t+=i;return g}function Ao(t,e){var i="";if(!t||e<1||e>Bt)return i;do e%2&&(i+=t),e=Wr(e/2),e&&(t+=t);while(e);return i}function Z(t,e){return zo(Du(t,e,Zt),t+"")}function ep(t){return za(Dn(t))}function np(t,e){var i=Dn(t);return si(i,pn(e,0,i.length))}function fr(t,e,i,a){if(!xt(t))return t;e=tn(e,t);for(var l=-1,d=e.length,g=d-1,v=t;v!=null&&++l<d;){var x=Fe(e[l]),k=i;if(x==="__proto__"||x==="constructor"||x==="prototype")return t;if(l!=g){var C=v[x];k=a?a(C,x,v):n,k===n&&(k=xt(C)?C:Ue(e[l+1])?[]:{})}ar(v,x,k),v=v[x]}return t}var su=Hr?function(t,e){return Hr.set(t,e),t}:Zt,rp=Ur?function(t,e){return Ur(t,"toString",{configurable:!0,enumerable:!1,value:Zo(e),writable:!0})}:Zt;function ip(t){return si(Dn(t))}function pe(t,e,i){var a=-1,l=t.length;e<0&&(e=-e>l?0:l+e),i=i>l?l:i,i<0&&(i+=l),l=e>i?0:i-e>>>0,e>>>=0;for(var d=T(l);++a<l;)d[a]=t[a+e];return d}function op(t,e){var i;return Ze(t,function(a,l,d){return i=e(a,l,d),!i}),!!i}function Gr(t,e,i){var a=0,l=t==null?a:t.length;if(typeof e=="number"&&e===e&&l<=_e){for(;a<l;){var d=a+l>>>1,g=t[d];g!==null&&!ie(g)&&(i?g<=e:g<e)?a=d+1:l=d}return l}return So(t,e,Zt,i)}function So(t,e,i,a){var l=0,d=t==null?0:t.length;if(d===0)return 0;e=i(e);for(var g=e!==e,v=e===null,x=ie(e),k=e===n;l<d;){var C=Wr((l+d)/2),F=i(t[C]),N=F!==n,L=F===null,z=F===F,G=ie(F);if(g)var W=a||z;else k?W=z&&(a||N):v?W=z&&N&&(a||!L):x?W=z&&N&&!L&&(a||!G):L||G?W=!1:W=a?F<=e:F<e;W?l=C+1:d=C}return Wt(d,Di)}function au(t,e){for(var i=-1,a=t.length,l=0,d=[];++i<a;){var g=t[i],v=e?e(g):g;if(!i||!Te(v,x)){var x=v;d[l++]=g===0?0:g}}return d}function uu(t){return typeof t=="number"?t:ie(t)?At:+t}function re(t){if(typeof t=="string")return t;if(K(t))return wt(t,re)+"";if(ie(t))return La?La.call(t):"";var e=t+"";return e=="0"&&1/t==-Ct?"-0":e}function Qe(t,e,i){var a=-1,l=Rr,d=t.length,g=!0,v=[],x=v;if(i)g=!1,l=to;else if(d>=u){var k=e?null:gp(t);if(k)return Fr(k);g=!1,l=er,x=new dn}else x=e?[]:v;t:for(;++a<d;){var C=t[a],F=e?e(C):C;if(C=i||C!==0?C:0,g&&F===F){for(var N=x.length;N--;)if(x[N]===F)continue t;e&&x.push(F),v.push(C)}else l(x,F,i)||(x!==v&&x.push(F),v.push(C))}return v}function ko(t,e){return e=tn(e,t),t=Nu(t,e),t==null||delete t[Fe(me(e))]}function cu(t,e,i,a){return fr(t,e,i(mn(t,e)),a)}function Zr(t,e,i,a){for(var l=t.length,d=a?l:-1;(a?d--:++d<l)&&e(t[d],d,t););return i?pe(t,a?0:d,a?d+1:l):pe(t,a?d+1:0,a?l:d)}function lu(t,e){var i=t;return i instanceof et&&(i=i.value()),eo(e,function(a,l){return l.func.apply(l.thisArg,Ye([a],l.args))},i)}function Co(t,e,i){var a=t.length;if(a<2)return a?Qe(t[0]):[];for(var l=-1,d=T(a);++l<a;)for(var g=t[l],v=-1;++v<a;)v!=l&&(d[l]=ur(d[l]||g,t[v],e,i));return Qe(It(d,1),e,i)}function fu(t,e,i){for(var a=-1,l=t.length,d=e.length,g={};++a<l;){var v=a<d?e[a]:n;i(g,t[a],v)}return g}function Oo(t){return St(t)?t:[]}function Ro(t){return typeof t=="function"?t:Zt}function tn(t,e){return K(t)?t:Mo(t,e)?[t]:Lu(ct(t))}var sp=Z;function en(t,e,i){var a=t.length;return i=i===n?a:i,!e&&i>=a?t:pe(t,e,i)}var hu=Jh||function(t){return $t.clearTimeout(t)};function du(t,e){if(e)return t.slice();var i=t.length,a=Ba?Ba(i):new t.constructor(i);return t.copy(a),a}function jo(t){var e=new t.constructor(t.byteLength);return new Ir(e).set(new Ir(t)),e}function ap(t,e){var i=e?jo(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}function up(t){var e=new t.constructor(t.source,Xs.exec(t));return e.lastIndex=t.lastIndex,e}function cp(t){return sr?ht(sr.call(t)):{}}function pu(t,e){var i=e?jo(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function mu(t,e){if(t!==e){var i=t!==n,a=t===null,l=t===t,d=ie(t),g=e!==n,v=e===null,x=e===e,k=ie(e);if(!v&&!k&&!d&&t>e||d&&g&&x&&!v&&!k||a&&g&&x||!i&&x||!l)return 1;if(!a&&!d&&!k&&t<e||k&&i&&l&&!a&&!d||v&&i&&l||!g&&l||!x)return-1}return 0}function lp(t,e,i){for(var a=-1,l=t.criteria,d=e.criteria,g=l.length,v=i.length;++a<g;){var x=mu(l[a],d[a]);if(x){if(a>=v)return x;var k=i[a];return x*(k=="desc"?-1:1)}}return t.index-e.index}function gu(t,e,i,a){for(var l=-1,d=t.length,g=i.length,v=-1,x=e.length,k=Rt(d-g,0),C=T(x+k),F=!a;++v<x;)C[v]=e[v];for(;++l<g;)(F||l<d)&&(C[i[l]]=t[l]);for(;k--;)C[v++]=t[l++];return C}function yu(t,e,i,a){for(var l=-1,d=t.length,g=-1,v=i.length,x=-1,k=e.length,C=Rt(d-v,0),F=T(C+k),N=!a;++l<C;)F[l]=t[l];for(var L=l;++x<k;)F[L+x]=e[x];for(;++g<v;)(N||l<d)&&(F[L+i[g]]=t[l++]);return F}function Yt(t,e){var i=-1,a=t.length;for(e||(e=T(a));++i<a;)e[i]=t[i];return e}function je(t,e,i,a){var l=!i;i||(i={});for(var d=-1,g=e.length;++d<g;){var v=e[d],x=a?a(i[v],t[v],v,i,t):n;x===n&&(x=t[v]),l?Ie(i,v,x):ar(i,v,x)}return i}function fp(t,e){return je(t,Io(t),e)}function hp(t,e){return je(t,Ru(t),e)}function Qr(t,e){return function(i,a){var l=K(i)?yh:Bd,d=e?e():{};return l(i,t,U(a,2),d)}}function jn(t){return Z(function(e,i){var a=-1,l=i.length,d=l>1?i[l-1]:n,g=l>2?i[2]:n;for(d=t.length>3&&typeof d=="function"?(l--,d):n,g&&Vt(i[0],i[1],g)&&(d=l<3?n:d,l=1),e=ht(e);++a<l;){var v=i[a];v&&t(e,v,a,d)}return e})}function vu(t,e){return function(i,a){if(i==null)return i;if(!Xt(i))return t(i,a);for(var l=i.length,d=e?l:-1,g=ht(i);(e?d--:++d<l)&&a(g[d],d,g)!==!1;);return i}}function _u(t){return function(e,i,a){for(var l=-1,d=ht(e),g=a(e),v=g.length;v--;){var x=g[t?v:++l];if(i(d[x],x,d)===!1)break}return e}}function dp(t,e,i){var a=e&I,l=hr(t);function d(){var g=this&&this!==$t&&this instanceof d?l:t;return g.apply(a?i:this,arguments)}return d}function wu(t){return function(e){e=ct(e);var i=Tn(e)?xe(e):n,a=i?i[0]:e.charAt(0),l=i?en(i,1).join(""):e.slice(1);return a[t]()+l}}function Fn(t){return function(e){return eo(vc(yc(e).replace(rh,"")),t,"")}}function hr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Rn(t.prototype),a=t.apply(i,e);return xt(a)?a:i}}function pp(t,e,i){var a=hr(t);function l(){for(var d=arguments.length,g=T(d),v=d,x=Pn(l);v--;)g[v]=arguments[v];var k=d<3&&g[0]!==x&&g[d-1]!==x?[]:Xe(g,x);if(d-=k.length,d<i)return Au(t,e,ti,l.placeholder,n,g,k,n,n,i-d);var C=this&&this!==$t&&this instanceof l?a:t;return ee(C,this,g)}return l}function bu(t){return function(e,i,a){var l=ht(e);if(!Xt(e)){var d=U(i,3);e=Dt(e),i=function(v){return d(l[v],v,l)}}var g=t(e,i,a);return g>-1?l[d?e[g]:g]:n}}function xu(t){return Le(function(e){var i=e.length,a=i,l=he.prototype.thru;for(t&&e.reverse();a--;){var d=e[a];if(typeof d!="function")throw new fe(f);if(l&&!g&&ii(d)=="wrapper")var g=new he([],!0)}for(a=g?a:i;++a<i;){d=e[a];var v=ii(d),x=v=="wrapper"?No(d):n;x&&Lo(x[0])&&x[1]==(_t|$|J|Pt)&&!x[4].length&&x[9]==1?g=g[ii(x[0])].apply(g,x[3]):g=d.length==1&&Lo(d)?g[v]():g.thru(d)}return function(){var k=arguments,C=k[0];if(g&&k.length==1&&K(C))return g.plant(C).value();for(var F=0,N=i?e[F].apply(this,k):C;++F<i;)N=e[F].call(this,N);return N}})}function ti(t,e,i,a,l,d,g,v,x,k){var C=e&_t,F=e&I,N=e&P,L=e&($|at),z=e&rt,G=N?n:hr(t);function W(){for(var tt=arguments.length,nt=T(tt),oe=tt;oe--;)nt[oe]=arguments[oe];if(L)var Jt=Pn(W),se=Sh(nt,Jt);if(a&&(nt=gu(nt,a,l,L)),d&&(nt=yu(nt,d,g,L)),tt-=se,L&&tt<k){var kt=Xe(nt,Jt);return Au(t,e,ti,W.placeholder,i,nt,kt,v,x,k-tt)}var Ae=F?i:this,He=N?Ae[t]:t;return tt=nt.length,v?nt=Bp(nt,v):z&&tt>1&&nt.reverse(),C&&x<tt&&(nt.length=x),this&&this!==$t&&this instanceof W&&(He=G||hr(He)),He.apply(Ae,nt)}return W}function Eu(t,e){return function(i,a){return zd(i,t,e(a),{})}}function ei(t,e){return function(i,a){var l;if(i===n&&a===n)return e;if(i!==n&&(l=i),a!==n){if(l===n)return a;typeof i=="string"||typeof a=="string"?(i=re(i),a=re(a)):(i=uu(i),a=uu(a)),l=t(i,a)}return l}}function Fo(t){return Le(function(e){return e=wt(e,ne(U())),Z(function(i){var a=this;return t(e,function(l){return ee(l,a,i)})})})}function ni(t,e){e=e===n?" ":re(e);var i=e.length;if(i<2)return i?Ao(e,t):e;var a=Ao(e,zr(t/An(e)));return Tn(e)?en(xe(a),0,t).join(""):a.slice(0,t)}function mp(t,e,i,a){var l=e&I,d=hr(t);function g(){for(var v=-1,x=arguments.length,k=-1,C=a.length,F=T(C+x),N=this&&this!==$t&&this instanceof g?d:t;++k<C;)F[k]=a[k];for(;x--;)F[k++]=arguments[++v];return ee(N,l?i:this,F)}return g}function Tu(t){return function(e,i,a){return a&&typeof a!="number"&&Vt(e,i,a)&&(i=a=n),e=We(e),i===n?(i=e,e=0):i=We(i),a=a===n?e<i?1:-1:We(a),tp(e,i,a,t)}}function ri(t){return function(e,i){return typeof e=="string"&&typeof i=="string"||(e=ge(e),i=ge(i)),t(e,i)}}function Au(t,e,i,a,l,d,g,v,x,k){var C=e&$,F=C?g:n,N=C?n:g,L=C?d:n,z=C?n:d;e|=C?J:mt,e&=~(C?mt:J),e&D||(e&=~(I|P));var G=[t,e,l,L,F,z,N,v,x,k],W=i.apply(n,G);return Lo(t)&&$u(W,G),W.placeholder=a,Iu(W,t,e)}function Po(t){var e=Ot[t];return function(i,a){if(i=ge(i),a=a==null?0:Wt(X(a),292),a&&Ia(i)){var l=(ct(i)+"e").split("e"),d=e(l[0]+"e"+(+l[1]+a));return l=(ct(d)+"e").split("e"),+(l[0]+"e"+(+l[1]-a))}return e(i)}}var gp=Cn&&1/Fr(new Cn([,-0]))[1]==Ct?function(t){return new Cn(t)}:es;function Su(t){return function(e){var i=Ht(e);return i==we?uo(e):i==be?Ph(e):Ah(e,t(e))}}function Me(t,e,i,a,l,d,g,v){var x=e&P;if(!x&&typeof t!="function")throw new fe(f);var k=a?a.length:0;if(k||(e&=~(J|mt),a=l=n),g=g===n?g:Rt(X(g),0),v=v===n?v:X(v),k-=l?l.length:0,e&mt){var C=a,F=l;a=l=n}var N=x?n:No(t),L=[t,e,i,a,l,C,F,d,g,v];if(N&&jp(L,N),t=L[0],e=L[1],i=L[2],a=L[3],l=L[4],v=L[9]=L[9]===n?x?0:t.length:Rt(L[9]-k,0),!v&&e&($|at)&&(e&=~($|at)),!e||e==I)var z=dp(t,e,i);else e==$||e==at?z=pp(t,e,v):(e==J||e==(I|J))&&!l.length?z=mp(t,e,i,a):z=ti.apply(n,L);var G=N?su:$u;return Iu(G(z,L),t,e)}function ku(t,e,i,a){return t===n||Te(t,kn[i])&&!lt.call(a,i)?e:t}function Cu(t,e,i,a,l,d){return xt(t)&&xt(e)&&(d.set(e,t),Xr(t,e,n,Cu,d),d.delete(e)),t}function yp(t){return mr(t)?n:t}function Ou(t,e,i,a,l,d){var g=i&j,v=t.length,x=e.length;if(v!=x&&!(g&&x>v))return!1;var k=d.get(t),C=d.get(e);if(k&&C)return k==e&&C==t;var F=-1,N=!0,L=i&B?new dn:n;for(d.set(t,e),d.set(e,t);++F<v;){var z=t[F],G=e[F];if(a)var W=g?a(G,z,F,e,t,d):a(z,G,F,t,e,d);if(W!==n){if(W)continue;N=!1;break}if(L){if(!no(e,function(tt,nt){if(!er(L,nt)&&(z===tt||l(z,tt,i,a,d)))return L.push(nt)})){N=!1;break}}else if(!(z===G||l(z,G,i,a,d))){N=!1;break}}return d.delete(t),d.delete(e),N}function vp(t,e,i,a,l,d,g){switch(i){case bn:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case tr:return!(t.byteLength!=e.byteLength||!d(new Ir(t),new Ir(e)));case Kn:case Yn:case Xn:return Te(+t,+e);case Tr:return t.name==e.name&&t.message==e.message;case Gn:case Zn:return t==e+"";case we:var v=uo;case be:var x=a&j;if(v||(v=Fr),t.size!=e.size&&!x)return!1;var k=g.get(t);if(k)return k==e;a|=B,g.set(t,e);var C=Ou(v(t),v(e),a,l,d,g);return g.delete(t),C;case Sr:if(sr)return sr.call(t)==sr.call(e)}return!1}function _p(t,e,i,a,l,d){var g=i&j,v=Bo(t),x=v.length,k=Bo(e),C=k.length;if(x!=C&&!g)return!1;for(var F=x;F--;){var N=v[F];if(!(g?N in e:lt.call(e,N)))return!1}var L=d.get(t),z=d.get(e);if(L&&z)return L==e&&z==t;var G=!0;d.set(t,e),d.set(e,t);for(var W=g;++F<x;){N=v[F];var tt=t[N],nt=e[N];if(a)var oe=g?a(nt,tt,N,e,t,d):a(tt,nt,N,t,e,d);if(!(oe===n?tt===nt||l(tt,nt,i,a,d):oe)){G=!1;break}W||(W=N=="constructor")}if(G&&!W){var Jt=t.constructor,se=e.constructor;Jt!=se&&"constructor"in t&&"constructor"in e&&!(typeof Jt=="function"&&Jt instanceof Jt&&typeof se=="function"&&se instanceof se)&&(G=!1)}return d.delete(t),d.delete(e),G}function Le(t){return zo(Du(t,n,Hu),t+"")}function Bo(t){return Ya(t,Dt,Io)}function Do(t){return Ya(t,Gt,Ru)}var No=Hr?function(t){return Hr.get(t)}:es;function ii(t){for(var e=t.name+"",i=On[e],a=lt.call(On,e)?i.length:0;a--;){var l=i[a],d=l.func;if(d==null||d==t)return l.name}return e}function Pn(t){var e=lt.call(h,"placeholder")?h:t;return e.placeholder}function U(){var t=h.iteratee||Qo;return t=t===Qo?Za:t,arguments.length?t(arguments[0],arguments[1]):t}function oi(t,e){var i=t.__data__;return kp(e)?i[typeof e=="string"?"string":"hash"]:i.map}function $o(t){for(var e=Dt(t),i=e.length;i--;){var a=e[i],l=t[a];e[i]=[a,l,Pu(l)]}return e}function gn(t,e){var i=Rh(t,e);return Ga(i)?i:n}function wp(t){var e=lt.call(t,fn),i=t[fn];try{t[fn]=n;var a=!0}catch(d){}var l=Nr.call(t);return a&&(e?t[fn]=i:delete t[fn]),l}var Io=lo?function(t){return t==null?[]:(t=ht(t),Ke(lo(t),function(e){return Na.call(t,e)}))}:ns,Ru=lo?function(t){for(var e=[];t;)Ye(e,Io(t)),t=Mr(t);return e}:ns,Ht=qt;(fo&&Ht(new fo(new ArrayBuffer(1)))!=bn||rr&&Ht(new rr)!=we||ho&&Ht(ho.resolve())!=Vs||Cn&&Ht(new Cn)!=be||ir&&Ht(new ir)!=Qn)&&(Ht=function(t){var e=qt(t),i=e==De?t.constructor:n,a=i?yn(i):"";if(a)switch(a){case nd:return bn;case rd:return we;case id:return Vs;case od:return be;case sd:return Qn}return e});function bp(t,e,i){for(var a=-1,l=i.length;++a<l;){var d=i[a],g=d.size;switch(d.type){case"drop":t+=g;break;case"dropRight":e-=g;break;case"take":e=Wt(e,t+g);break;case"takeRight":t=Rt(t,e-g);break}}return{start:t,end:e}}function xp(t){var e=t.match(Cf);return e?e[1].split(Of):[]}function ju(t,e,i){e=tn(e,t);for(var a=-1,l=e.length,d=!1;++a<l;){var g=Fe(e[a]);if(!(d=t!=null&&i(t,g)))break;t=t[g]}return d||++a!=l?d:(l=t==null?0:t.length,!!l&&hi(l)&&Ue(g,l)&&(K(t)||vn(t)))}function Ep(t){var e=t.length,i=new t.constructor(e);return e&&typeof t[0]=="string"&&lt.call(t,"index")&&(i.index=t.index,i.input=t.input),i}function Fu(t){return typeof t.constructor=="function"&&!dr(t)?Rn(Mr(t)):{}}function Tp(t,e,i){var a=t.constructor;switch(e){case tr:return jo(t);case Kn:case Yn:return new a(+t);case bn:return ap(t,i);case Ni:case $i:case Ii:case Mi:case Li:case Ui:case zi:case Wi:case Hi:return pu(t,i);case we:return new a;case Xn:case Zn:return new a(t);case Gn:return up(t);case be:return new a;case Sr:return cp(t)}}function Ap(t,e){var i=e.length;if(!i)return t;var a=i-1;return e[a]=(i>1?"& ":"")+e[a],e=e.join(i>2?", ":" "),t.replace(kf,`{
/* [wrapped with `+e+`] */
`)}function Sp(t){return K(t)||vn(t)||!!($a&&t&&t[$a])}function Ue(t,e){var i=typeof t;return e=e==null?Bt:e,!!e&&(i=="number"||i!="symbol"&&If.test(t))&&t>-1&&t%1==0&&t<e}function Vt(t,e,i){if(!xt(i))return!1;var a=typeof e;return(a=="number"?Xt(i)&&Ue(e,i.length):a=="string"&&e in i)?Te(i[e],t):!1}function Mo(t,e){if(K(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||ie(t)?!0:Ef.test(t)||!xf.test(t)||e!=null&&t in ht(e)}function kp(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Lo(t){var e=ii(t),i=h[e];if(typeof i!="function"||!(e in et.prototype))return!1;if(t===i)return!0;var a=No(i);return!!a&&t===a[0]}function Cp(t){return!!Pa&&Pa in t}var Op=Br?ze:rs;function dr(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||kn;return t===i}function Pu(t){return t===t&&!xt(t)}function Bu(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==n||t in ht(i))}}function Rp(t){var e=li(t,function(a){return i.size===p&&i.clear(),a}),i=e.cache;return e}function jp(t,e){var i=t[1],a=e[1],l=i|a,d=l<(I|P|_t),g=a==_t&&i==$||a==_t&&i==Pt&&t[7].length<=e[8]||a==(_t|Pt)&&e[7].length<=e[8]&&i==$;if(!(d||g))return t;a&I&&(t[2]=e[2],l|=i&I?0:D);var v=e[3];if(v){var x=t[3];t[3]=x?gu(x,v,e[4]):v,t[4]=x?Xe(t[3],_):e[4]}return v=e[5],v&&(x=t[5],t[5]=x?yu(x,v,e[6]):v,t[6]=x?Xe(t[5],_):e[6]),v=e[7],v&&(t[7]=v),a&_t&&(t[8]=t[8]==null?e[8]:Wt(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=l,t}function Fp(t){var e=[];if(t!=null)for(var i in ht(t))e.push(i);return e}function Pp(t){return Nr.call(t)}function Du(t,e,i){return e=Rt(e===n?t.length-1:e,0),function(){for(var a=arguments,l=-1,d=Rt(a.length-e,0),g=T(d);++l<d;)g[l]=a[e+l];l=-1;for(var v=T(e+1);++l<e;)v[l]=a[l];return v[e]=i(g),ee(t,this,v)}}function Nu(t,e){return e.length<2?t:mn(t,pe(e,0,-1))}function Bp(t,e){for(var i=t.length,a=Wt(e.length,i),l=Yt(t);a--;){var d=e[a];t[a]=Ue(d,i)?l[d]:n}return t}function Uo(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var $u=Mu(su),pr=Yh||function(t,e){return $t.setTimeout(t,e)},zo=Mu(rp);function Iu(t,e,i){var a=e+"";return zo(t,Ap(a,Dp(xp(a),i)))}function Mu(t){var e=0,i=0;return function(){var a=Qh(),l=ve-(a-i);if(i=a,l>0){if(++e>=Pe)return arguments[0]}else e=0;return t.apply(n,arguments)}}function si(t,e){var i=-1,a=t.length,l=a-1;for(e=e===n?a:e;++i<e;){var d=To(i,l),g=t[d];t[d]=t[i],t[i]=g}return t.length=e,t}var Lu=Rp(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Tf,function(i,a,l,d){e.push(l?d.replace(Ff,"$1"):a||i)}),e});function Fe(t){if(typeof t=="string"||ie(t))return t;var e=t+"";return e=="0"&&1/t==-Ct?"-0":e}function yn(t){if(t!=null){try{return Dr.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Dp(t,e){return le(Oe,function(i){var a="_."+i[0];e&i[1]&&!Rr(t,a)&&t.push(a)}),t.sort()}function Uu(t){if(t instanceof et)return t.clone();var e=new he(t.__wrapped__,t.__chain__);return e.__actions__=Yt(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Np(t,e,i){(i?Vt(t,e,i):e===n)?e=1:e=Rt(X(e),0);var a=t==null?0:t.length;if(!a||e<1)return[];for(var l=0,d=0,g=T(zr(a/e));l<a;)g[d++]=pe(t,l,l+=e);return g}function $p(t){for(var e=-1,i=t==null?0:t.length,a=0,l=[];++e<i;){var d=t[e];d&&(l[a++]=d)}return l}function Ip(){var t=arguments.length;if(!t)return[];for(var e=T(t-1),i=arguments[0],a=t;a--;)e[a-1]=arguments[a];return Ye(K(i)?Yt(i):[i],It(e,1))}var Mp=Z(function(t,e){return St(t)?ur(t,It(e,1,St,!0)):[]}),Lp=Z(function(t,e){var i=me(e);return St(i)&&(i=n),St(t)?ur(t,It(e,1,St,!0),U(i,2)):[]}),Up=Z(function(t,e){var i=me(e);return St(i)&&(i=n),St(t)?ur(t,It(e,1,St,!0),n,i):[]});function zp(t,e,i){var a=t==null?0:t.length;return a?(e=i||e===n?1:X(e),pe(t,e<0?0:e,a)):[]}function Wp(t,e,i){var a=t==null?0:t.length;return a?(e=i||e===n?1:X(e),e=a-e,pe(t,0,e<0?0:e)):[]}function Hp(t,e){return t&&t.length?Zr(t,U(e,3),!0,!0):[]}function qp(t,e){return t&&t.length?Zr(t,U(e,3),!0):[]}function Vp(t,e,i,a){var l=t==null?0:t.length;return l?(i&&typeof i!="number"&&Vt(t,e,i)&&(i=0,a=l),Id(t,e,i,a)):[]}function zu(t,e,i){var a=t==null?0:t.length;if(!a)return-1;var l=i==null?0:X(i);return l<0&&(l=Rt(a+l,0)),jr(t,U(e,3),l)}function Wu(t,e,i){var a=t==null?0:t.length;if(!a)return-1;var l=a-1;return i!==n&&(l=X(i),l=i<0?Rt(a+l,0):Wt(l,a-1)),jr(t,U(e,3),l,!0)}function Hu(t){var e=t==null?0:t.length;return e?It(t,1):[]}function Jp(t){var e=t==null?0:t.length;return e?It(t,Ct):[]}function Kp(t,e){var i=t==null?0:t.length;return i?(e=e===n?1:X(e),It(t,e)):[]}function Yp(t){for(var e=-1,i=t==null?0:t.length,a={};++e<i;){var l=t[e];a[l[0]]=l[1]}return a}function qu(t){return t&&t.length?t[0]:n}function Xp(t,e,i){var a=t==null?0:t.length;if(!a)return-1;var l=i==null?0:X(i);return l<0&&(l=Rt(a+l,0)),En(t,e,l)}function Gp(t){var e=t==null?0:t.length;return e?pe(t,0,-1):[]}var Zp=Z(function(t){var e=wt(t,Oo);return e.length&&e[0]===t[0]?_o(e):[]}),Qp=Z(function(t){var e=me(t),i=wt(t,Oo);return e===me(i)?e=n:i.pop(),i.length&&i[0]===t[0]?_o(i,U(e,2)):[]}),t0=Z(function(t){var e=me(t),i=wt(t,Oo);return e=typeof e=="function"?e:n,e&&i.pop(),i.length&&i[0]===t[0]?_o(i,n,e):[]});function e0(t,e){return t==null?"":Gh.call(t,e)}function me(t){var e=t==null?0:t.length;return e?t[e-1]:n}function n0(t,e,i){var a=t==null?0:t.length;if(!a)return-1;var l=a;return i!==n&&(l=X(i),l=l<0?Rt(a+l,0):Wt(l,a-1)),e===e?Dh(t,e,l):jr(t,Aa,l,!0)}function r0(t,e){return t&&t.length?nu(t,X(e)):n}var i0=Z(Vu);function Vu(t,e){return t&&t.length&&e&&e.length?Eo(t,e):t}function o0(t,e,i){return t&&t.length&&e&&e.length?Eo(t,e,U(i,2)):t}function s0(t,e,i){return t&&t.length&&e&&e.length?Eo(t,e,n,i):t}var a0=Le(function(t,e){var i=t==null?0:t.length,a=mo(t,e);return ou(t,wt(e,function(l){return Ue(l,i)?+l:l}).sort(mu)),a});function u0(t,e){var i=[];if(!(t&&t.length))return i;var a=-1,l=[],d=t.length;for(e=U(e,3);++a<d;){var g=t[a];e(g,a,t)&&(i.push(g),l.push(a))}return ou(t,l),i}function Wo(t){return t==null?t:ed.call(t)}function c0(t,e,i){var a=t==null?0:t.length;return a?(i&&typeof i!="number"&&Vt(t,e,i)?(e=0,i=a):(e=e==null?0:X(e),i=i===n?a:X(i)),pe(t,e,i)):[]}function l0(t,e){return Gr(t,e)}function f0(t,e,i){return So(t,e,U(i,2))}function h0(t,e){var i=t==null?0:t.length;if(i){var a=Gr(t,e);if(a<i&&Te(t[a],e))return a}return-1}function d0(t,e){return Gr(t,e,!0)}function p0(t,e,i){return So(t,e,U(i,2),!0)}function m0(t,e){var i=t==null?0:t.length;if(i){var a=Gr(t,e,!0)-1;if(Te(t[a],e))return a}return-1}function g0(t){return t&&t.length?au(t):[]}function y0(t,e){return t&&t.length?au(t,U(e,2)):[]}function v0(t){var e=t==null?0:t.length;return e?pe(t,1,e):[]}function _0(t,e,i){return t&&t.length?(e=i||e===n?1:X(e),pe(t,0,e<0?0:e)):[]}function w0(t,e,i){var a=t==null?0:t.length;return a?(e=i||e===n?1:X(e),e=a-e,pe(t,e<0?0:e,a)):[]}function b0(t,e){return t&&t.length?Zr(t,U(e,3),!1,!0):[]}function x0(t,e){return t&&t.length?Zr(t,U(e,3)):[]}var E0=Z(function(t){return Qe(It(t,1,St,!0))}),T0=Z(function(t){var e=me(t);return St(e)&&(e=n),Qe(It(t,1,St,!0),U(e,2))}),A0=Z(function(t){var e=me(t);return e=typeof e=="function"?e:n,Qe(It(t,1,St,!0),n,e)});function S0(t){return t&&t.length?Qe(t):[]}function k0(t,e){return t&&t.length?Qe(t,U(e,2)):[]}function C0(t,e){return e=typeof e=="function"?e:n,t&&t.length?Qe(t,n,e):[]}function Ho(t){if(!(t&&t.length))return[];var e=0;return t=Ke(t,function(i){if(St(i))return e=Rt(i.length,e),!0}),so(e,function(i){return wt(t,ro(i))})}function Ju(t,e){if(!(t&&t.length))return[];var i=Ho(t);return e==null?i:wt(i,function(a){return ee(e,n,a)})}var O0=Z(function(t,e){return St(t)?ur(t,e):[]}),R0=Z(function(t){return Co(Ke(t,St))}),j0=Z(function(t){var e=me(t);return St(e)&&(e=n),Co(Ke(t,St),U(e,2))}),F0=Z(function(t){var e=me(t);return e=typeof e=="function"?e:n,Co(Ke(t,St),n,e)}),P0=Z(Ho);function B0(t,e){return fu(t||[],e||[],ar)}function D0(t,e){return fu(t||[],e||[],fr)}var N0=Z(function(t){var e=t.length,i=e>1?t[e-1]:n;return i=typeof i=="function"?(t.pop(),i):n,Ju(t,i)});function Ku(t){var e=h(t);return e.__chain__=!0,e}function $0(t,e){return e(t),t}function ai(t,e){return e(t)}var I0=Le(function(t){var e=t.length,i=e?t[0]:0,a=this.__wrapped__,l=function(d){return mo(d,t)};return e>1||this.__actions__.length||!(a instanceof et)||!Ue(i)?this.thru(l):(a=a.slice(i,+i+(e?1:0)),a.__actions__.push({func:ai,args:[l],thisArg:n}),new he(a,this.__chain__).thru(function(d){return e&&!d.length&&d.push(n),d}))});function M0(){return Ku(this)}function L0(){return new he(this.value(),this.__chain__)}function U0(){this.__values__===n&&(this.__values__=uc(this.value()));var t=this.__index__>=this.__values__.length,e=t?n:this.__values__[this.__index__++];return{done:t,value:e}}function z0(){return this}function W0(t){for(var e,i=this;i instanceof Vr;){var a=Uu(i);a.__index__=0,a.__values__=n,e?l.__wrapped__=a:e=a;var l=a;i=i.__wrapped__}return l.__wrapped__=t,e}function H0(){var t=this.__wrapped__;if(t instanceof et){var e=t;return this.__actions__.length&&(e=new et(this)),e=e.reverse(),e.__actions__.push({func:ai,args:[Wo],thisArg:n}),new he(e,this.__chain__)}return this.thru(Wo)}function q0(){return lu(this.__wrapped__,this.__actions__)}var V0=Qr(function(t,e,i){lt.call(t,i)?++t[i]:Ie(t,i,1)});function J0(t,e,i){var a=K(t)?Ea:$d;return i&&Vt(t,e,i)&&(e=n),a(t,U(e,3))}function K0(t,e){var i=K(t)?Ke:Ja;return i(t,U(e,3))}var Y0=bu(zu),X0=bu(Wu);function G0(t,e){return It(ui(t,e),1)}function Z0(t,e){return It(ui(t,e),Ct)}function Q0(t,e,i){return i=i===n?1:X(i),It(ui(t,e),i)}function Yu(t,e){var i=K(t)?le:Ze;return i(t,U(e,3))}function Xu(t,e){var i=K(t)?vh:Va;return i(t,U(e,3))}var tm=Qr(function(t,e,i){lt.call(t,i)?t[i].push(e):Ie(t,i,[e])});function em(t,e,i,a){t=Xt(t)?t:Dn(t),i=i&&!a?X(i):0;var l=t.length;return i<0&&(i=Rt(l+i,0)),di(t)?i<=l&&t.indexOf(e,i)>-1:!!l&&En(t,e,i)>-1}var nm=Z(function(t,e,i){var a=-1,l=typeof e=="function",d=Xt(t)?T(t.length):[];return Ze(t,function(g){d[++a]=l?ee(e,g,i):cr(g,e,i)}),d}),rm=Qr(function(t,e,i){Ie(t,i,e)});function ui(t,e){var i=K(t)?wt:Qa;return i(t,U(e,3))}function im(t,e,i,a){return t==null?[]:(K(e)||(e=e==null?[]:[e]),i=a?n:i,K(i)||(i=i==null?[]:[i]),ru(t,e,i))}var om=Qr(function(t,e,i){t[i?0:1].push(e)},function(){return[[],[]]});function sm(t,e,i){var a=K(t)?eo:ka,l=arguments.length<3;return a(t,U(e,4),i,l,Ze)}function am(t,e,i){var a=K(t)?_h:ka,l=arguments.length<3;return a(t,U(e,4),i,l,Va)}function um(t,e){var i=K(t)?Ke:Ja;return i(t,fi(U(e,3)))}function cm(t){var e=K(t)?za:ep;return e(t)}function lm(t,e,i){(i?Vt(t,e,i):e===n)?e=1:e=X(e);var a=K(t)?Fd:np;return a(t,e)}function fm(t){var e=K(t)?Pd:ip;return e(t)}function hm(t){if(t==null)return 0;if(Xt(t))return di(t)?An(t):t.length;var e=Ht(t);return e==we||e==be?t.size:bo(t).length}function dm(t,e,i){var a=K(t)?no:op;return i&&Vt(t,e,i)&&(e=n),a(t,U(e,3))}var pm=Z(function(t,e){if(t==null)return[];var i=e.length;return i>1&&Vt(t,e[0],e[1])?e=[]:i>2&&Vt(e[0],e[1],e[2])&&(e=[e[0]]),ru(t,It(e,1),[])}),ci=Kh||function(){return $t.Date.now()};function mm(t,e){if(typeof e!="function")throw new fe(f);return t=X(t),function(){if(--t<1)return e.apply(this,arguments)}}function Gu(t,e,i){return e=i?n:e,e=t&&e==null?t.length:e,Me(t,_t,n,n,n,n,e)}function Zu(t,e){var i;if(typeof e!="function")throw new fe(f);return t=X(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=n),i}}var qo=Z(function(t,e,i){var a=I;if(i.length){var l=Xe(i,Pn(qo));a|=J}return Me(t,a,e,i,l)}),Qu=Z(function(t,e,i){var a=I|P;if(i.length){var l=Xe(i,Pn(Qu));a|=J}return Me(e,a,t,i,l)});function tc(t,e,i){e=i?n:e;var a=Me(t,$,n,n,n,n,n,e);return a.placeholder=tc.placeholder,a}function ec(t,e,i){e=i?n:e;var a=Me(t,at,n,n,n,n,n,e);return a.placeholder=ec.placeholder,a}function nc(t,e,i){var a,l,d,g,v,x,k=0,C=!1,F=!1,N=!0;if(typeof t!="function")throw new fe(f);e=ge(e)||0,xt(i)&&(C=!!i.leading,F="maxWait"in i,d=F?Rt(ge(i.maxWait)||0,e):d,N="trailing"in i?!!i.trailing:N);function L(kt){var Ae=a,He=l;return a=l=n,k=kt,g=t.apply(He,Ae),g}function z(kt){return k=kt,v=pr(tt,e),C?L(kt):g}function G(kt){var Ae=kt-x,He=kt-k,bc=e-Ae;return F?Wt(bc,d-He):bc}function W(kt){var Ae=kt-x,He=kt-k;return x===n||Ae>=e||Ae<0||F&&He>=d}function tt(){var kt=ci();if(W(kt))return nt(kt);v=pr(tt,G(kt))}function nt(kt){return v=n,N&&a?L(kt):(a=l=n,g)}function oe(){v!==n&&hu(v),k=0,a=x=l=v=n}function Jt(){return v===n?g:nt(ci())}function se(){var kt=ci(),Ae=W(kt);if(a=arguments,l=this,x=kt,Ae){if(v===n)return z(x);if(F)return hu(v),v=pr(tt,e),L(x)}return v===n&&(v=pr(tt,e)),g}return se.cancel=oe,se.flush=Jt,se}var gm=Z(function(t,e){return qa(t,1,e)}),ym=Z(function(t,e,i){return qa(t,ge(e)||0,i)});function vm(t){return Me(t,rt)}function li(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new fe(f);var i=function(){var a=arguments,l=e?e.apply(this,a):a[0],d=i.cache;if(d.has(l))return d.get(l);var g=t.apply(this,a);return i.cache=d.set(l,g)||d,g};return i.cache=new(li.Cache||$e),i}li.Cache=$e;function fi(t){if(typeof t!="function")throw new fe(f);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function _m(t){return Zu(2,t)}var wm=sp(function(t,e){e=e.length==1&&K(e[0])?wt(e[0],ne(U())):wt(It(e,1),ne(U()));var i=e.length;return Z(function(a){for(var l=-1,d=Wt(a.length,i);++l<d;)a[l]=e[l].call(this,a[l]);return ee(t,this,a)})}),Vo=Z(function(t,e){var i=Xe(e,Pn(Vo));return Me(t,J,n,e,i)}),rc=Z(function(t,e){var i=Xe(e,Pn(rc));return Me(t,mt,n,e,i)}),bm=Le(function(t,e){return Me(t,Pt,n,n,n,e)});function xm(t,e){if(typeof t!="function")throw new fe(f);return e=e===n?e:X(e),Z(t,e)}function Em(t,e){if(typeof t!="function")throw new fe(f);return e=e==null?0:Rt(X(e),0),Z(function(i){var a=i[e],l=en(i,0,e);return a&&Ye(l,a),ee(t,this,l)})}function Tm(t,e,i){var a=!0,l=!0;if(typeof t!="function")throw new fe(f);return xt(i)&&(a="leading"in i?!!i.leading:a,l="trailing"in i?!!i.trailing:l),nc(t,e,{leading:a,maxWait:e,trailing:l})}function Am(t){return Gu(t,1)}function Sm(t,e){return Vo(Ro(e),t)}function km(){if(!arguments.length)return[];var t=arguments[0];return K(t)?t:[t]}function Cm(t){return de(t,O)}function Om(t,e){return e=typeof e=="function"?e:n,de(t,O,e)}function Rm(t){return de(t,w|O)}function jm(t,e){return e=typeof e=="function"?e:n,de(t,w|O,e)}function Fm(t,e){return e==null||Ha(t,e,Dt(e))}function Te(t,e){return t===e||t!==t&&e!==e}var Pm=ri(vo),Bm=ri(function(t,e){return t>=e}),vn=Xa(function(){return arguments}())?Xa:function(t){return Tt(t)&&lt.call(t,"callee")&&!Na.call(t,"callee")},K=T.isArray,Dm=ya?ne(ya):Wd;function Xt(t){return t!=null&&hi(t.length)&&!ze(t)}function St(t){return Tt(t)&&Xt(t)}function Nm(t){return t===!0||t===!1||Tt(t)&&qt(t)==Kn}var nn=Xh||rs,$m=va?ne(va):Hd;function Im(t){return Tt(t)&&t.nodeType===1&&!mr(t)}function Mm(t){if(t==null)return!0;if(Xt(t)&&(K(t)||typeof t=="string"||typeof t.splice=="function"||nn(t)||Bn(t)||vn(t)))return!t.length;var e=Ht(t);if(e==we||e==be)return!t.size;if(dr(t))return!bo(t).length;for(var i in t)if(lt.call(t,i))return!1;return!0}function Lm(t,e){return lr(t,e)}function Um(t,e,i){i=typeof i=="function"?i:n;var a=i?i(t,e):n;return a===n?lr(t,e,n,i):!!a}function Jo(t){if(!Tt(t))return!1;var e=qt(t);return e==Tr||e==lf||typeof t.message=="string"&&typeof t.name=="string"&&!mr(t)}function zm(t){return typeof t=="number"&&Ia(t)}function ze(t){if(!xt(t))return!1;var e=qt(t);return e==Ar||e==qs||e==cf||e==hf}function ic(t){return typeof t=="number"&&t==X(t)}function hi(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Bt}function xt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Tt(t){return t!=null&&typeof t=="object"}var oc=_a?ne(_a):Vd;function Wm(t,e){return t===e||wo(t,e,$o(e))}function Hm(t,e,i){return i=typeof i=="function"?i:n,wo(t,e,$o(e),i)}function qm(t){return sc(t)&&t!=+t}function Vm(t){if(Op(t))throw new q(c);return Ga(t)}function Jm(t){return t===null}function Km(t){return t==null}function sc(t){return typeof t=="number"||Tt(t)&&qt(t)==Xn}function mr(t){if(!Tt(t)||qt(t)!=De)return!1;var e=Mr(t);if(e===null)return!0;var i=lt.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&Dr.call(i)==Hh}var Ko=wa?ne(wa):Jd;function Ym(t){return ic(t)&&t>=-Bt&&t<=Bt}var ac=ba?ne(ba):Kd;function di(t){return typeof t=="string"||!K(t)&&Tt(t)&&qt(t)==Zn}function ie(t){return typeof t=="symbol"||Tt(t)&&qt(t)==Sr}var Bn=xa?ne(xa):Yd;function Xm(t){return t===n}function Gm(t){return Tt(t)&&Ht(t)==Qn}function Zm(t){return Tt(t)&&qt(t)==pf}var Qm=ri(xo),tg=ri(function(t,e){return t<=e});function uc(t){if(!t)return[];if(Xt(t))return di(t)?xe(t):Yt(t);if(nr&&t[nr])return Fh(t[nr]());var e=Ht(t),i=e==we?uo:e==be?Fr:Dn;return i(t)}function We(t){if(!t)return t===0?t:0;if(t=ge(t),t===Ct||t===-Ct){var e=t<0?-1:1;return e*zt}return t===t?t:0}function X(t){var e=We(t),i=e%1;return e===e?i?e-i:e:0}function cc(t){return t?pn(X(t),0,Et):0}function ge(t){if(typeof t=="number")return t;if(ie(t))return At;if(xt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=xt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Ca(t);var i=Df.test(t);return i||$f.test(t)?mh(t.slice(2),i?2:8):Bf.test(t)?At:+t}function lc(t){return je(t,Gt(t))}function eg(t){return t?pn(X(t),-Bt,Bt):t===0?t:0}function ct(t){return t==null?"":re(t)}var ng=jn(function(t,e){if(dr(e)||Xt(e)){je(e,Dt(e),t);return}for(var i in e)lt.call(e,i)&&ar(t,i,e[i])}),fc=jn(function(t,e){je(e,Gt(e),t)}),pi=jn(function(t,e,i,a){je(e,Gt(e),t,a)}),rg=jn(function(t,e,i,a){je(e,Dt(e),t,a)}),ig=Le(mo);function og(t,e){var i=Rn(t);return e==null?i:Wa(i,e)}var sg=Z(function(t,e){t=ht(t);var i=-1,a=e.length,l=a>2?e[2]:n;for(l&&Vt(e[0],e[1],l)&&(a=1);++i<a;)for(var d=e[i],g=Gt(d),v=-1,x=g.length;++v<x;){var k=g[v],C=t[k];(C===n||Te(C,kn[k])&&!lt.call(t,k))&&(t[k]=d[k])}return t}),ag=Z(function(t){return t.push(n,Cu),ee(hc,n,t)});function ug(t,e){return Ta(t,U(e,3),Re)}function cg(t,e){return Ta(t,U(e,3),yo)}function lg(t,e){return t==null?t:go(t,U(e,3),Gt)}function fg(t,e){return t==null?t:Ka(t,U(e,3),Gt)}function hg(t,e){return t&&Re(t,U(e,3))}function dg(t,e){return t&&yo(t,U(e,3))}function pg(t){return t==null?[]:Yr(t,Dt(t))}function mg(t){return t==null?[]:Yr(t,Gt(t))}function Yo(t,e,i){var a=t==null?n:mn(t,e);return a===n?i:a}function gg(t,e){return t!=null&&ju(t,e,Md)}function Xo(t,e){return t!=null&&ju(t,e,Ld)}var yg=Eu(function(t,e,i){e!=null&&typeof e.toString!="function"&&(e=Nr.call(e)),t[e]=i},Zo(Zt)),vg=Eu(function(t,e,i){e!=null&&typeof e.toString!="function"&&(e=Nr.call(e)),lt.call(t,e)?t[e].push(i):t[e]=[i]},U),_g=Z(cr);function Dt(t){return Xt(t)?Ua(t):bo(t)}function Gt(t){return Xt(t)?Ua(t,!0):Xd(t)}function wg(t,e){var i={};return e=U(e,3),Re(t,function(a,l,d){Ie(i,e(a,l,d),a)}),i}function bg(t,e){var i={};return e=U(e,3),Re(t,function(a,l,d){Ie(i,l,e(a,l,d))}),i}var xg=jn(function(t,e,i){Xr(t,e,i)}),hc=jn(function(t,e,i,a){Xr(t,e,i,a)}),Eg=Le(function(t,e){var i={};if(t==null)return i;var a=!1;e=wt(e,function(d){return d=tn(d,t),a||(a=d.length>1),d}),je(t,Do(t),i),a&&(i=de(i,w|S|O,yp));for(var l=e.length;l--;)ko(i,e[l]);return i});function Tg(t,e){return dc(t,fi(U(e)))}var Ag=Le(function(t,e){return t==null?{}:Zd(t,e)});function dc(t,e){if(t==null)return{};var i=wt(Do(t),function(a){return[a]});return e=U(e),iu(t,i,function(a,l){return e(a,l[0])})}function Sg(t,e,i){e=tn(e,t);var a=-1,l=e.length;for(l||(l=1,t=n);++a<l;){var d=t==null?n:t[Fe(e[a])];d===n&&(a=l,d=i),t=ze(d)?d.call(t):d}return t}function kg(t,e,i){return t==null?t:fr(t,e,i)}function Cg(t,e,i,a){return a=typeof a=="function"?a:n,t==null?t:fr(t,e,i,a)}var pc=Su(Dt),mc=Su(Gt);function Og(t,e,i){var a=K(t),l=a||nn(t)||Bn(t);if(e=U(e,4),i==null){var d=t&&t.constructor;l?i=a?new d:[]:xt(t)?i=ze(d)?Rn(Mr(t)):{}:i={}}return(l?le:Re)(t,function(g,v,x){return e(i,g,v,x)}),i}function Rg(t,e){return t==null?!0:ko(t,e)}function jg(t,e,i){return t==null?t:cu(t,e,Ro(i))}function Fg(t,e,i,a){return a=typeof a=="function"?a:n,t==null?t:cu(t,e,Ro(i),a)}function Dn(t){return t==null?[]:ao(t,Dt(t))}function Pg(t){return t==null?[]:ao(t,Gt(t))}function Bg(t,e,i){return i===n&&(i=e,e=n),i!==n&&(i=ge(i),i=i===i?i:0),e!==n&&(e=ge(e),e=e===e?e:0),pn(ge(t),e,i)}function Dg(t,e,i){return e=We(e),i===n?(i=e,e=0):i=We(i),t=ge(t),Ud(t,e,i)}function Ng(t,e,i){if(i&&typeof i!="boolean"&&Vt(t,e,i)&&(e=i=n),i===n&&(typeof e=="boolean"?(i=e,e=n):typeof t=="boolean"&&(i=t,t=n)),t===n&&e===n?(t=0,e=1):(t=We(t),e===n?(e=t,t=0):e=We(e)),t>e){var a=t;t=e,e=a}if(i||t%1||e%1){var l=Ma();return Wt(t+l*(e-t+ph("1e-"+((l+"").length-1))),e)}return To(t,e)}var $g=Fn(function(t,e,i){return e=e.toLowerCase(),t+(i?gc(e):e)});function gc(t){return Go(ct(t).toLowerCase())}function yc(t){return t=ct(t),t&&t.replace(Mf,kh).replace(ih,"")}function Ig(t,e,i){t=ct(t),e=re(e);var a=t.length;i=i===n?a:pn(X(i),0,a);var l=i;return i-=e.length,i>=0&&t.slice(i,l)==e}function Mg(t){return t=ct(t),t&&_f.test(t)?t.replace(Ks,Ch):t}function Lg(t){return t=ct(t),t&&Af.test(t)?t.replace(qi,"\\$&"):t}var Ug=Fn(function(t,e,i){return t+(i?"-":"")+e.toLowerCase()}),zg=Fn(function(t,e,i){return t+(i?" ":"")+e.toLowerCase()}),Wg=wu("toLowerCase");function Hg(t,e,i){t=ct(t),e=X(e);var a=e?An(t):0;if(!e||a>=e)return t;var l=(e-a)/2;return ni(Wr(l),i)+t+ni(zr(l),i)}function qg(t,e,i){t=ct(t),e=X(e);var a=e?An(t):0;return e&&a<e?t+ni(e-a,i):t}function Vg(t,e,i){t=ct(t),e=X(e);var a=e?An(t):0;return e&&a<e?ni(e-a,i)+t:t}function Jg(t,e,i){return i||e==null?e=0:e&&(e=+e),td(ct(t).replace(Vi,""),e||0)}function Kg(t,e,i){return(i?Vt(t,e,i):e===n)?e=1:e=X(e),Ao(ct(t),e)}function Yg(){var t=arguments,e=ct(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var Xg=Fn(function(t,e,i){return t+(i?"_":"")+e.toLowerCase()});function Gg(t,e,i){return i&&typeof i!="number"&&Vt(t,e,i)&&(e=i=n),i=i===n?Et:i>>>0,i?(t=ct(t),t&&(typeof e=="string"||e!=null&&!Ko(e))&&(e=re(e),!e&&Tn(t))?en(xe(t),0,i):t.split(e,i)):[]}var Zg=Fn(function(t,e,i){return t+(i?" ":"")+Go(e)});function Qg(t,e,i){return t=ct(t),i=i==null?0:pn(X(i),0,t.length),e=re(e),t.slice(i,i+e.length)==e}function ty(t,e,i){var a=h.templateSettings;i&&Vt(t,e,i)&&(e=n),t=ct(t),e=pi({},e,a,ku);var l=pi({},e.imports,a.imports,ku),d=Dt(l),g=ao(l,d),v,x,k=0,C=e.interpolate||kr,F="__p += '",N=co((e.escape||kr).source+"|"+C.source+"|"+(C===Ys?Pf:kr).source+"|"+(e.evaluate||kr).source+"|$","g"),L="//# sourceURL="+(lt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ch+"]")+`
`;t.replace(N,function(W,tt,nt,oe,Jt,se){return nt||(nt=oe),F+=t.slice(k,se).replace(Lf,Oh),tt&&(v=!0,F+=`' +
__e(`+tt+`) +
'`),Jt&&(x=!0,F+=`';
`+Jt+`;
__p += '`),nt&&(F+=`' +
((__t = (`+nt+`)) == null ? '' : __t) +
'`),k=se+W.length,W}),F+=`';
`;var z=lt.call(e,"variable")&&e.variable;if(!z)F=`with (obj) {
`+F+`
}
`;else if(jf.test(z))throw new q(m);F=(x?F.replace(mf,""):F).replace(gf,"$1").replace(yf,"$1;"),F="function("+(z||"obj")+`) {
`+(z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(v?", __e = _.escape":"")+(x?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+F+`return __p
}`;var G=_c(function(){return ut(d,L+"return "+F).apply(n,g)});if(G.source=F,Jo(G))throw G;return G}function ey(t){return ct(t).toLowerCase()}function ny(t){return ct(t).toUpperCase()}function ry(t,e,i){if(t=ct(t),t&&(i||e===n))return Ca(t);if(!t||!(e=re(e)))return t;var a=xe(t),l=xe(e),d=Oa(a,l),g=Ra(a,l)+1;return en(a,d,g).join("")}function iy(t,e,i){if(t=ct(t),t&&(i||e===n))return t.slice(0,Fa(t)+1);if(!t||!(e=re(e)))return t;var a=xe(t),l=Ra(a,xe(e))+1;return en(a,0,l).join("")}function oy(t,e,i){if(t=ct(t),t&&(i||e===n))return t.replace(Vi,"");if(!t||!(e=re(e)))return t;var a=xe(t),l=Oa(a,xe(e));return en(a,l).join("")}function sy(t,e){var i=bt,a=Ut;if(xt(e)){var l="separator"in e?e.separator:l;i="length"in e?X(e.length):i,a="omission"in e?re(e.omission):a}t=ct(t);var d=t.length;if(Tn(t)){var g=xe(t);d=g.length}if(i>=d)return t;var v=i-An(a);if(v<1)return a;var x=g?en(g,0,v).join(""):t.slice(0,v);if(l===n)return x+a;if(g&&(v+=x.length-v),Ko(l)){if(t.slice(v).search(l)){var k,C=x;for(l.global||(l=co(l.source,ct(Xs.exec(l))+"g")),l.lastIndex=0;k=l.exec(C);)var F=k.index;x=x.slice(0,F===n?v:F)}}else if(t.indexOf(re(l),v)!=v){var N=x.lastIndexOf(l);N>-1&&(x=x.slice(0,N))}return x+a}function ay(t){return t=ct(t),t&&vf.test(t)?t.replace(Js,Nh):t}var uy=Fn(function(t,e,i){return t+(i?" ":"")+e.toUpperCase()}),Go=wu("toUpperCase");function vc(t,e,i){return t=ct(t),e=i?n:e,e===n?jh(t)?Mh(t):xh(t):t.match(e)||[]}var _c=Z(function(t,e){try{return ee(t,n,e)}catch(i){return Jo(i)?i:new q(i)}}),cy=Le(function(t,e){return le(e,function(i){i=Fe(i),Ie(t,i,qo(t[i],t))}),t});function ly(t){var e=t==null?0:t.length,i=U();return t=e?wt(t,function(a){if(typeof a[1]!="function")throw new fe(f);return[i(a[0]),a[1]]}):[],Z(function(a){for(var l=-1;++l<e;){var d=t[l];if(ee(d[0],this,a))return ee(d[1],this,a)}})}function fy(t){return Nd(de(t,w))}function Zo(t){return function(){return t}}function hy(t,e){return t==null||t!==t?e:t}var dy=xu(),py=xu(!0);function Zt(t){return t}function Qo(t){return Za(typeof t=="function"?t:de(t,w))}function my(t){return tu(de(t,w))}function gy(t,e){return eu(t,de(e,w))}var yy=Z(function(t,e){return function(i){return cr(i,t,e)}}),vy=Z(function(t,e){return function(i){return cr(t,i,e)}});function ts(t,e,i){var a=Dt(e),l=Yr(e,a);i==null&&!(xt(e)&&(l.length||!a.length))&&(i=e,e=t,t=this,l=Yr(e,Dt(e)));var d=!(xt(i)&&"chain"in i)||!!i.chain,g=ze(t);return le(l,function(v){var x=e[v];t[v]=x,g&&(t.prototype[v]=function(){var k=this.__chain__;if(d||k){var C=t(this.__wrapped__),F=C.__actions__=Yt(this.__actions__);return F.push({func:x,args:arguments,thisArg:t}),C.__chain__=k,C}return x.apply(t,Ye([this.value()],arguments))})}),t}function _y(){return $t._===this&&($t._=qh),this}function es(){}function wy(t){return t=X(t),Z(function(e){return nu(e,t)})}var by=Fo(wt),xy=Fo(Ea),Ey=Fo(no);function wc(t){return Mo(t)?ro(Fe(t)):Qd(t)}function Ty(t){return function(e){return t==null?n:mn(t,e)}}var Ay=Tu(),Sy=Tu(!0);function ns(){return[]}function rs(){return!1}function ky(){return{}}function Cy(){return""}function Oy(){return!0}function Ry(t,e){if(t=X(t),t<1||t>Bt)return[];var i=Et,a=Wt(t,Et);e=U(e),t-=Et;for(var l=so(a,e);++i<t;)e(i);return l}function jy(t){return K(t)?wt(t,Fe):ie(t)?[t]:Yt(Lu(ct(t)))}function Fy(t){var e=++Wh;return ct(t)+e}var Py=ei(function(t,e){return t+e},0),By=Po("ceil"),Dy=ei(function(t,e){return t/e},1),Ny=Po("floor");function $y(t){return t&&t.length?Kr(t,Zt,vo):n}function Iy(t,e){return t&&t.length?Kr(t,U(e,2),vo):n}function My(t){return Sa(t,Zt)}function Ly(t,e){return Sa(t,U(e,2))}function Uy(t){return t&&t.length?Kr(t,Zt,xo):n}function zy(t,e){return t&&t.length?Kr(t,U(e,2),xo):n}var Wy=ei(function(t,e){return t*e},1),Hy=Po("round"),qy=ei(function(t,e){return t-e},0);function Vy(t){return t&&t.length?oo(t,Zt):0}function Jy(t,e){return t&&t.length?oo(t,U(e,2)):0}return h.after=mm,h.ary=Gu,h.assign=ng,h.assignIn=fc,h.assignInWith=pi,h.assignWith=rg,h.at=ig,h.before=Zu,h.bind=qo,h.bindAll=cy,h.bindKey=Qu,h.castArray=km,h.chain=Ku,h.chunk=Np,h.compact=$p,h.concat=Ip,h.cond=ly,h.conforms=fy,h.constant=Zo,h.countBy=V0,h.create=og,h.curry=tc,h.curryRight=ec,h.debounce=nc,h.defaults=sg,h.defaultsDeep=ag,h.defer=gm,h.delay=ym,h.difference=Mp,h.differenceBy=Lp,h.differenceWith=Up,h.drop=zp,h.dropRight=Wp,h.dropRightWhile=Hp,h.dropWhile=qp,h.fill=Vp,h.filter=K0,h.flatMap=G0,h.flatMapDeep=Z0,h.flatMapDepth=Q0,h.flatten=Hu,h.flattenDeep=Jp,h.flattenDepth=Kp,h.flip=vm,h.flow=dy,h.flowRight=py,h.fromPairs=Yp,h.functions=pg,h.functionsIn=mg,h.groupBy=tm,h.initial=Gp,h.intersection=Zp,h.intersectionBy=Qp,h.intersectionWith=t0,h.invert=yg,h.invertBy=vg,h.invokeMap=nm,h.iteratee=Qo,h.keyBy=rm,h.keys=Dt,h.keysIn=Gt,h.map=ui,h.mapKeys=wg,h.mapValues=bg,h.matches=my,h.matchesProperty=gy,h.memoize=li,h.merge=xg,h.mergeWith=hc,h.method=yy,h.methodOf=vy,h.mixin=ts,h.negate=fi,h.nthArg=wy,h.omit=Eg,h.omitBy=Tg,h.once=_m,h.orderBy=im,h.over=by,h.overArgs=wm,h.overEvery=xy,h.overSome=Ey,h.partial=Vo,h.partialRight=rc,h.partition=om,h.pick=Ag,h.pickBy=dc,h.property=wc,h.propertyOf=Ty,h.pull=i0,h.pullAll=Vu,h.pullAllBy=o0,h.pullAllWith=s0,h.pullAt=a0,h.range=Ay,h.rangeRight=Sy,h.rearg=bm,h.reject=um,h.remove=u0,h.rest=xm,h.reverse=Wo,h.sampleSize=lm,h.set=kg,h.setWith=Cg,h.shuffle=fm,h.slice=c0,h.sortBy=pm,h.sortedUniq=g0,h.sortedUniqBy=y0,h.split=Gg,h.spread=Em,h.tail=v0,h.take=_0,h.takeRight=w0,h.takeRightWhile=b0,h.takeWhile=x0,h.tap=$0,h.throttle=Tm,h.thru=ai,h.toArray=uc,h.toPairs=pc,h.toPairsIn=mc,h.toPath=jy,h.toPlainObject=lc,h.transform=Og,h.unary=Am,h.union=E0,h.unionBy=T0,h.unionWith=A0,h.uniq=S0,h.uniqBy=k0,h.uniqWith=C0,h.unset=Rg,h.unzip=Ho,h.unzipWith=Ju,h.update=jg,h.updateWith=Fg,h.values=Dn,h.valuesIn=Pg,h.without=O0,h.words=vc,h.wrap=Sm,h.xor=R0,h.xorBy=j0,h.xorWith=F0,h.zip=P0,h.zipObject=B0,h.zipObjectDeep=D0,h.zipWith=N0,h.entries=pc,h.entriesIn=mc,h.extend=fc,h.extendWith=pi,ts(h,h),h.add=Py,h.attempt=_c,h.camelCase=$g,h.capitalize=gc,h.ceil=By,h.clamp=Bg,h.clone=Cm,h.cloneDeep=Rm,h.cloneDeepWith=jm,h.cloneWith=Om,h.conformsTo=Fm,h.deburr=yc,h.defaultTo=hy,h.divide=Dy,h.endsWith=Ig,h.eq=Te,h.escape=Mg,h.escapeRegExp=Lg,h.every=J0,h.find=Y0,h.findIndex=zu,h.findKey=ug,h.findLast=X0,h.findLastIndex=Wu,h.findLastKey=cg,h.floor=Ny,h.forEach=Yu,h.forEachRight=Xu,h.forIn=lg,h.forInRight=fg,h.forOwn=hg,h.forOwnRight=dg,h.get=Yo,h.gt=Pm,h.gte=Bm,h.has=gg,h.hasIn=Xo,h.head=qu,h.identity=Zt,h.includes=em,h.indexOf=Xp,h.inRange=Dg,h.invoke=_g,h.isArguments=vn,h.isArray=K,h.isArrayBuffer=Dm,h.isArrayLike=Xt,h.isArrayLikeObject=St,h.isBoolean=Nm,h.isBuffer=nn,h.isDate=$m,h.isElement=Im,h.isEmpty=Mm,h.isEqual=Lm,h.isEqualWith=Um,h.isError=Jo,h.isFinite=zm,h.isFunction=ze,h.isInteger=ic,h.isLength=hi,h.isMap=oc,h.isMatch=Wm,h.isMatchWith=Hm,h.isNaN=qm,h.isNative=Vm,h.isNil=Km,h.isNull=Jm,h.isNumber=sc,h.isObject=xt,h.isObjectLike=Tt,h.isPlainObject=mr,h.isRegExp=Ko,h.isSafeInteger=Ym,h.isSet=ac,h.isString=di,h.isSymbol=ie,h.isTypedArray=Bn,h.isUndefined=Xm,h.isWeakMap=Gm,h.isWeakSet=Zm,h.join=e0,h.kebabCase=Ug,h.last=me,h.lastIndexOf=n0,h.lowerCase=zg,h.lowerFirst=Wg,h.lt=Qm,h.lte=tg,h.max=$y,h.maxBy=Iy,h.mean=My,h.meanBy=Ly,h.min=Uy,h.minBy=zy,h.stubArray=ns,h.stubFalse=rs,h.stubObject=ky,h.stubString=Cy,h.stubTrue=Oy,h.multiply=Wy,h.nth=r0,h.noConflict=_y,h.noop=es,h.now=ci,h.pad=Hg,h.padEnd=qg,h.padStart=Vg,h.parseInt=Jg,h.random=Ng,h.reduce=sm,h.reduceRight=am,h.repeat=Kg,h.replace=Yg,h.result=Sg,h.round=Hy,h.runInContext=b,h.sample=cm,h.size=hm,h.snakeCase=Xg,h.some=dm,h.sortedIndex=l0,h.sortedIndexBy=f0,h.sortedIndexOf=h0,h.sortedLastIndex=d0,h.sortedLastIndexBy=p0,h.sortedLastIndexOf=m0,h.startCase=Zg,h.startsWith=Qg,h.subtract=qy,h.sum=Vy,h.sumBy=Jy,h.template=ty,h.times=Ry,h.toFinite=We,h.toInteger=X,h.toLength=cc,h.toLower=ey,h.toNumber=ge,h.toSafeInteger=eg,h.toString=ct,h.toUpper=ny,h.trim=ry,h.trimEnd=iy,h.trimStart=oy,h.truncate=sy,h.unescape=ay,h.uniqueId=Fy,h.upperCase=uy,h.upperFirst=Go,h.each=Yu,h.eachRight=Xu,h.first=qu,ts(h,function(){var t={};return Re(h,function(e,i){lt.call(h.prototype,i)||(t[i]=e)}),t}(),{chain:!1}),h.VERSION=s,le(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){h[t].placeholder=h}),le(["drop","take"],function(t,e){et.prototype[t]=function(i){i=i===n?1:Rt(X(i),0);var a=this.__filtered__&&!e?new et(this):this.clone();return a.__filtered__?a.__takeCount__=Wt(i,a.__takeCount__):a.__views__.push({size:Wt(i,Et),type:t+(a.__dir__<0?"Right":"")}),a},et.prototype[t+"Right"]=function(i){return this.reverse()[t](i).reverse()}}),le(["filter","map","takeWhile"],function(t,e){var i=e+1,a=i==Be||i==ft;et.prototype[t]=function(l){var d=this.clone();return d.__iteratees__.push({iteratee:U(l,3),type:i}),d.__filtered__=d.__filtered__||a,d}}),le(["head","last"],function(t,e){var i="take"+(e?"Right":"");et.prototype[t]=function(){return this[i](1).value()[0]}}),le(["initial","tail"],function(t,e){var i="drop"+(e?"":"Right");et.prototype[t]=function(){return this.__filtered__?new et(this):this[i](1)}}),et.prototype.compact=function(){return this.filter(Zt)},et.prototype.find=function(t){return this.filter(t).head()},et.prototype.findLast=function(t){return this.reverse().find(t)},et.prototype.invokeMap=Z(function(t,e){return typeof t=="function"?new et(this):this.map(function(i){return cr(i,t,e)})}),et.prototype.reject=function(t){return this.filter(fi(U(t)))},et.prototype.slice=function(t,e){t=X(t);var i=this;return i.__filtered__&&(t>0||e<0)?new et(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==n&&(e=X(e),i=e<0?i.dropRight(-e):i.take(e-t)),i)},et.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},et.prototype.toArray=function(){return this.take(Et)},Re(et.prototype,function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),a=/^(?:head|last)$/.test(e),l=h[a?"take"+(e=="last"?"Right":""):e],d=a||/^find/.test(e);!l||(h.prototype[e]=function(){var g=this.__wrapped__,v=a?[1]:arguments,x=g instanceof et,k=v[0],C=x||K(g),F=function(tt){var nt=l.apply(h,Ye([tt],v));return a&&N?nt[0]:nt};C&&i&&typeof k=="function"&&k.length!=1&&(x=C=!1);var N=this.__chain__,L=!!this.__actions__.length,z=d&&!N,G=x&&!L;if(!d&&C){g=G?g:new et(this);var W=t.apply(g,v);return W.__actions__.push({func:ai,args:[F],thisArg:n}),new he(W,N)}return z&&G?t.apply(this,v):(W=this.thru(F),z?a?W.value()[0]:W.value():W)})}),le(["pop","push","shift","sort","splice","unshift"],function(t){var e=Pr[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",a=/^(?:pop|shift)$/.test(t);h.prototype[t]=function(){var l=arguments;if(a&&!this.__chain__){var d=this.value();return e.apply(K(d)?d:[],l)}return this[i](function(g){return e.apply(K(g)?g:[],l)})}}),Re(et.prototype,function(t,e){var i=h[e];if(i){var a=i.name+"";lt.call(On,a)||(On[a]=[]),On[a].push({name:e,func:i})}}),On[ti(n,P).name]=[{name:"wrapper",func:n}],et.prototype.clone=ad,et.prototype.reverse=ud,et.prototype.value=cd,h.prototype.at=I0,h.prototype.chain=M0,h.prototype.commit=L0,h.prototype.next=U0,h.prototype.plant=W0,h.prototype.reverse=H0,h.prototype.toJSON=h.prototype.valueOf=h.prototype.value=q0,h.prototype.first=h.prototype.head,nr&&(h.prototype[nr]=z0),h},Sn=Lh();ln?((ln.exports=Sn)._=Sn,Zi._=Sn):$t._=Sn}).call(yr)})(bs,bs.exports);const vi=[],Nl=r=>{for(const o of vi)if(o.status==="running")try{for(const n of o.funcs)n(r-o.startTime)}catch(n){o.destroy(),console.error(n)}requestAnimationFrame(Nl)};requestAnimationFrame(Nl);class Ps{constructor(){E(this,"funcs",[]),E(this,"status","stop"),E(this,"startTime",0),this.status="running",vi.push(this),requestAnimationFrame(o=>this.startTime=o)}add(o,n=!1){return n?this.funcs.unshift(o):this.funcs.push(o),this}remove(o){const n=this.funcs.findIndex(s=>s===o);if(n===-1)throw new ReferenceError("You are going to remove nonexistent ticker function.");return this.funcs.splice(n,1),this}clear(){this.funcs=[]}destroy(){this.clear(),this.stop()}stop(){this.status="stop";const o=vi.findIndex(n=>n===this);vi.splice(o,1)}}const y1={move:[],moveend:[],movestart:[],resize:[],resizeend:[],resizestart:[],rotate:[],rotateend:[],rotatestart:[],shake:[],shakeend:[],shakestart:[],start:[],end:[],animating:[]};async function Oi(r){await new Promise(o=>setTimeout(o,r))}class Ri{constructor(o){E(this,"timing"),E(this,"shakeTiming"),E(this,"path"),E(this,"ticker",new Ps),E(this,"custom",{}),E(this,"relation","absolute"),E(this,"easeTime",0),E(this,"size",1),E(this,"angle",0),E(this,"game"),E(this,"listener",bs.exports.cloneDeep(y1)),E(this,"targetValue",{system:{move:[0,0],resize:0,rotate:0,shake:0},custom:{}}),E(this,"animateFn",{system:{move:[()=>0,()=>0],moveAs:()=>0,resize:()=>0,rotate:()=>0,shake:()=>0},custom:{}}),E(this,"ox",0),E(this,"oy",0),E(this,"sx",0),E(this,"sy",0),E(this,"animating",{}),this.game=o,this.timing=n=>n,this.shakeTiming=n=>n,this.path=n=>[n,n],this.animating={move:!1,scale:!1,rotate:!1,shake:!1},this.ticker.add(()=>{const{animating:n}=this.listener;for(const s of n)s(this,"all")})}get x(){return this.ox+this.sx}get y(){return this.oy+this.sy}mode(o,n=!1){return n?this.shakeTiming=o:this.timing=o,this}time(o){return this.easeTime=o,this}relative(){return this.relation="relative",this}absolute(){return this.relation="absolute",this}move(o,n){return this.animating.move&&this.end(!0,"move"),this.applySys("ox",o,"move"),this.applySys("oy",n,"move"),this}rotate(o){return this.applySys("angle",o,"rotate"),this}scale(o){return this.applySys("size",o,"resize"),this}shake(o,n){var s,u;this.animating.shake===!0&&this.end(!0,"shake"),this.animating.shake=!0;const{easeTime:c,shakeTiming:f}=this,m=(u=(s=this.game)==null?void 0:s.time)!=null?u:Date.now();this.hook("start","shakestart");const y=()=>{var p,_;const w=((_=(p=this.game)==null?void 0:p.time)!=null?_:Date.now())-m;w>c&&(this.ticker.remove(y),this.animating.shake=!1,this.sx=0,this.sy=0,this.hook("end","shakeend"));const S=w/c,O=f(S);this.sx=O*o,this.sy=O*n};return this.ticker.add(y),this}moveAs(o){var n,s;this.animating.moveAs&&this.end(!0,"move"),this.animating.moveAs=!0,this.path=o;const{easeTime:u,relation:c,timing:f}=this,m=(s=(n=this.game)==null?void 0:n.time)!=null?s:Date.now(),[y,p]=[this.x,this.y],[_,w]=(()=>{if(c==="absolute")return o(1);{const[O,j]=o(1);return[y+O,p+j]}})();this.hook("start","movestart");const S=()=>{var O,j;const B=((j=(O=this.game)==null?void 0:O.time)!=null?j:Date.now())-m;if(B>u){this.ticker.remove(S),this.animating.move=!1,this.ox=_,this.oy=w,this.hook("end","moveend");return}const I=B/u,[P,D]=o(f(I));c==="absolute"?(this.ox=P,this.oy=D):(this.ox=y+P,this.oy=p+D)};return this.ticker.add(S,!0),this.animateFn.system.moveAs=S,this.targetValue.system.move=[_,w],this}async all(){if(Object.values(this.animating).every(o=>o===!0))return this.error("There is no animates to be waited.");await new Promise(o=>{const n=()=>{Object.values(this.animating).every(s=>s===!1)&&(this.unlisten("end",n),o("all animated."))};this.listen("end",n)})}async n(o){const n=Object.values(this.animating).filter(u=>u===!0).length;if(n<o)return this.error(`You are trying to wait ${o} animate, but there are only ${n} animate animating.`);let s=0;await new Promise(u=>{const c=()=>{s++,s===o&&(this.unlisten("end",c),u(`${o} animated.`))};this.listen("end",c)})}async w(o){if(this.animating[o]===!1)return this.error(`The ${o} animate is not animating.`);await new Promise(n=>{const s=()=>{this.animating[o]===!1&&(this.unlisten("end",s),n(`${o} animated.`))};this.listen("end",s)})}listen(o,n){this.listener[o].push(n)}unlisten(o,n){const s=this.listener[o].findIndex(u=>u===n);if(s===-1)return this.error("You are trying to remove a nonexistent listener.");this.listener[o].splice(s,1)}register(o,n){if(typeof this.custom[o]=="number")return this.error(`Property ${o} has been regietered twice.`,"reregister");this.custom[o]=n,this.animating[o]=!1}apply(o,n,s=!1){var u,c;this.animating[o]===!0&&this.end(!1,o),o in this.custom||this.error(`You are trying to execute nonexistent property ${o}.`),this.animating[o]=!0;const f=this.custom[o],m=(c=(u=this.game)==null?void 0:u.time)!=null?c:Date.now(),{timing:y,relation:p,easeTime:_}=this,w=p==="absolute"?n-f:n;this.hook("start");const S=()=>{var O,j;const B=((j=(O=this.game)==null?void 0:O.time)!=null?j:Date.now())-m;if(B>_){this.end(!1,o);return}const I=B/_,P=y(I);this.custom[o]=f+P*w};return this.ticker.add(S,s),this.animateFn.custom[o]=S,this.targetValue.custom[o]=w+f,this}applySys(o,n,s){var u,c;s!=="move"&&this.animating[s]===!0&&this.end(!0,s),this.animating[s]=!0;const f=this[o],m=(c=(u=this.game)==null?void 0:u.time)!=null?c:Date.now(),y=this.timing,p=this.relation,_=this.easeTime,w=p==="absolute"?n-f:n;this.hook("start",`${s}start`);const S=()=>{var O,j;const B=((j=(O=this.game)==null?void 0:O.time)!=null?j:Date.now())-m;if(B>_){this.end(!0,s);return}const I=B/_,P=y(I);this[o]=f+w*P,o!=="oy"&&this.hook(s)};this.ticker.add(S,!0),o==="ox"?this.animateFn.system.move[0]=S:o==="oy"?this.animateFn.system.move[1]=S:this.animateFn.system[s]=S,s==="move"?(o==="ox"&&(this.targetValue.system.move[0]=w+f),o==="oy"&&(this.targetValue.system.move[1]=w+f)):s!=="shake"&&(this.targetValue.system[s]=w+f)}error(o,n){throw n==="repeat"?new Error(`Cannot execute the same animation twice. Info: ${o}`):n==="reregister"?new Error(`Cannot register a animated property twice. Info: ${o}`):new Error(o)}hook(...o){const n=Object.entries(this.listener).filter(s=>o.includes(s[0]));for(const[s,u]of n)for(const c of u)c(this,s)}end(o,n){if(o===!0)if(this.animating[n]=!1,n==="move"?(this.ticker.remove(this.animateFn.system.move[0]),this.ticker.remove(this.animateFn.system.move[1])):this.ticker.remove(this.animateFn.system[n]),n==="move"){const[s,u]=this.targetValue.system.move;this.ox=s,this.oy=u,this.hook("moveend","end")}else n==="rotate"?(this.angle=this.targetValue.system.rotate,this.hook("rotateend","end")):n==="resize"?(this.size=this.targetValue.system.resize,this.hook("resizeend","end")):(this.sx=0,this.sy=0,this.hook("shakeend","end"));else this.animating[n]=!1,this.ticker.remove(this.animateFn.custom[n]),this.custom[n]=this.targetValue.custom[n],this.hook("end")}}const Qt=Object.freeze(Object.defineProperty({__proto__:null,sleep:Oi,AnimationBase:Ri},Symbol.toStringTag,{value:"Module"}));class v1 extends Ri{constructor(o,n,s){super(o),E(this,"saveStack",[]),E(this,"inited",!1),E(this,"effectFn",this.defaultEffect),E(this,"trigo",[0,0]),E(this,"target"),E(this,"id"),E(this,"game"),this.target=s,this.id=n,this.game=o,this.ticker.add(()=>{const u=this.angle/180*Math.PI;this.trigo=[Math.cos(u),Math.sin(u)]})}save(){return this.saveStack.push({x:this.ox,y:this.oy,angle:this.angle,size:this.size}),this}restore(){const o=this.saveStack.pop();if(!o)throw new RangeError("There is no saves to be restored.");return this.ox=o.x,this.oy=o.y,this.size=o.size,this.angle=o.angle,this}effect(){this.effectFn(this)}css(o){const n=this.target.canvas,s=o.replaceAll(`
`,";").replace(/;+/g,";").trim().split(";");for(const u of s){const[c,f]=u.split(/\s*:\s*/);let m=c.replace(/-([a-z])/g,y=>`-${y.toUpperCase()}`);m.length!==0&&(m=m[0].toLowerCase()+m.slice(1),c in n.style&&(n.style[c]=f))}}setGlobalEffects(o){this.effectFn=o}defaultEffect(){const o=this.target,n=this.game.scale,s=960*n,u=540*n,c=this.x*n,f=this.y*n;o.translate(-c,-f),o.translate(s,u),o.rotate(this.angle*Math.PI/180),o.scale(this.size,this.size),o.translate(-s,-u),o.shadowBlur=4,o.shadowColor="black"}}const xs=(...r)=>r.reduce((o,n)=>o+n,0),as=r=>{if(r===0)return 1;let o=r;for(;r>1;)r--,o*=r;return o},$l=(r,o)=>Math.round(as(o)/(as(r)*as(o-r))),sn=(r,o,n=s=>1-o(1-s))=>r==="in"?o:r==="out"?n:r==="in-out"?s=>s<.5?o(s*2)/2:.5+n((s-.5)*2)/2:s=>s<.5?n(s*2)/2:.5+o((s-.5)*2)/2,_1=Math.cosh(2),w1=Math.acosh(2),b1=Math.tanh(3),x1=Math.atan(5);function Ei(){return r=>r}function E1(...r){const o=[0].concat(r);o.push(1);const n=o.length,s=Array(n).fill(0).map((u,c)=>$l(c,n-1));return u=>{const c=s.map((f,m)=>f*o[m]*(1-u)**(n-m-1)*u**m);return xs(...c)}}function T1(r,o){if(r==="sin"){const n=s=>Math.sin(s*Math.PI/2);return sn(o,s=>1-n(1-s),n)}if(r==="sec"){const n=s=>1/Math.cos(s);return sn(o,s=>n(s*Math.PI/3)-1)}throw new TypeError("Unexpected parameters are delivered in trigo timing function.")}function A1(r,o){if(!Number.isInteger(r))throw new TypeError("The first parameter of power timing function only allow integer.");return sn(o,n=>n**r)}function S1(r,o){if(r==="sin")return sn(o,n=>(Math.cosh(n*2)-1)/(_1-1));if(r==="tan"){const n=s=>Math.tanh(s*3)*1/b1;return sn(o,s=>1-n(1-s),n)}if(r==="sec"){const n=s=>1/Math.cosh(s);return sn(o,s=>1-(n(s*w1)-.5)*2)}throw new TypeError("Unexpected parameters are delivered in hyper timing function.")}function k1(r,o){if(r==="sin"){const n=s=>Math.asin(s)/Math.PI*2;return sn(o,s=>1-n(1-s),n)}if(r==="tan"){const n=s=>Math.atan(s*5)/x1;return sn(o,s=>1-n(1-s),n)}throw new TypeError("Unexpected parameters are delivered in inverse trigo timing function.")}function C1(r,o=()=>1){let n=-1;return s=>(n*=-1,s<.5?r*o(s*2)*n:r*o((1-s)*2)*n)}const Il=(1920**2+1080**2)/4;function Y(r){return r!=null}function O1(r,o){return typeof r===o}function Ml(r){return Y(r)&&Y(r.fnType)&&(r.fnType==="timing"||r.fnType==="generator"||r.fnType==="path")}function R1(r,o,...n){return typeof r(...n)===o}const Bs=Object.freeze(Object.defineProperty({__proto__:null,radius:Il,has:Y,is:O1,isMTTFn:Ml,isReturnType:R1},Symbol.toStringTag,{value:"Module"})),Ll=class extends Ri{constructor(r,o,n,s,u,c){super(o),E(this,"bpm",100),E(this,"lastNode",-1),E(this,"lastAngle",0),E(this,"rad",0),E(this,"inited",!1),E(this,"ctxFilter",""),E(this,"game"),E(this,"notes",[]),E(this,"num",Ll.cnt++),E(this,"id"),E(this,"timeNodes",[]),E(this,"initAngle"),this.id=r,this.game=o,this.register("radius",u),this.register("r",255),this.register("g",180),this.register("b",32),this.register("a",1),this.ox=n,this.oy=s,this.initAngle=c}addNote(r){this.notes.push(r)}sort(){this.timeNodes.sort(([r],[o])=>r-o),this.notes.sort((r,o)=>{if(!Y(r.noteTime)||!Y(o.noteTime))throw new TypeError(`A note without note time is appended on the base ${this.id}`);return r.noteTime-o.noteTime})}setRadius(r){return this.mode(Ei()).time(1).apply("radius",r),this}rgba(r,o,n,s){return this.mode(Ei()).time(1),Y(r)&&this.apply("r",r),Y(o)&&this.apply("g",o),Y(n)&&this.apply("b",n),Y(s)&&this.apply("a",s),this}filter(r){return this.ctxFilter=r,this}setSpeed(r){this.bpm=r}calRad(){this.checkNode();const[r,o]=this.timeNodes[this.lastNode];return this.rad=this.lastAngle+(this.game.time-r)*o/3e4*Math.PI+this.initAngle*Math.PI/180}checkNode(){var r,o;const n=this.game.time;let s=!1;for(let u=this.lastNode+1;u<this.timeNodes.length;u++){const[c]=this.timeNodes[u];c<=n&&(this.lastNode=u,s=!0)}if(s){let u=0;for(let c=0;c<this.lastNode;c++){const[f,m]=this.timeNodes[c];u+=(((o=(r=this.timeNodes[c+1])==null?void 0:r[0])!=null?o:0)-f)*m/3e4*Math.PI}this.lastAngle=u}}};let Es=Ll;E(Es,"cnt",0);class Ds{constructor(o){E(this,"events"),this.events=o}on(o,n,s={}){this.events[o].push({fn:n,option:s})}off(o,n){const s=this.events[o].findIndex(u=>u.fn===n);if(s===-1)throw new ReferenceError("You are trying to remove a nonexistent listener.");this.events[o].splice(s,1)}dispatch(o,n,s={}){try{for(const{fn:u,option:c}of this.events[o])u(n)}catch(u){throw u}return!0}}class j1 extends Ds{constructor(o){super({hit:[],hold:[],holdend:[]}),E(this,"toJudge",[]),E(this,"holding",[]),E(this,"holdingKeys",[]),E(this,"perfect",0),E(this,"good",0),E(this,"miss",0),E(this,"maxCombo",0),E(this,"early",0),E(this,"late",0),E(this,"touching",0),E(this,"auto",!1),E(this,"chart"),E(this,"c",0),E(this,"keydown",n=>{this.holdingKeys.includes(n.keyCode)||(this.chart.game.ac.sync(),this.holdingKeys.push(n.keyCode),this.judge(n.keyCode))}),E(this,"keyup",n=>{this.chart.game.ac.sync();const s=this.holdingKeys.findIndex(c=>c===n.keyCode);this.holdingKeys.splice(s,1);const u=this.holding.find(c=>c.key===n.keyCode);!Y(u)||this.judgeHold(!1,u,n.keyCode)}),E(this,"touchstart",n=>{this.chart.game.ac.sync(),this.touching++,this.judge()}),E(this,"touchend",n=>{this.chart.game.ac.sync(),this.touching--,this.judgeHold(!1)}),this.chart=o,document.addEventListener("keydown",this.keydown),document.addEventListener("keyup",this.keyup)}set combo(o){this.c=o,o>this.maxCombo&&(this.maxCombo=o)}get combo(){return this.c}inJudge(o){return o<=this.perfect+this.good+this.miss+this.toJudge.length}judge(o){if(this.auto)return;const n=this.toJudge.slice(0,1)[0];if(!Y(n))return;if(this.toJudge.length===0&&this.next(),n.noteType==="hold")return this.judgeHold(!0,n,o!=null?o:-10);if(n.noteType==="drag")return;const s=this.chart.game.time,u=n.noteTime;if(!Y(u))return;const c=f=>s>u-f&&s<u+f;if(c(n.perfectTime))this.toJudge.shift(),n.perfect(),this.perfect++;else if(c(n.goodTime)){this.toJudge.shift();const f=s-u>n.perfectTime?"late":"early";n.good(f),this[f]++,this.good++}else if(c(n.missTime)){this.toJudge.shift();const f=s-u>n.goodTime?"late":"early";n.miss(f),this[f]++,this.miss++}}judgeHold(o,n,s){if(!this.auto){if(o)if(Y(n)&&Y(n.noteTime)){const u=this.chart.game.time,c=n.noteTime,f=y=>u>c-y&&u<c+y;f(n.perfectTime)?n.hold("perfect","perfect",s):f(n.goodTime)?n.hold("good",u-c>n.perfectTime?"late":"early",s):f(n.missTime)&&n.hold("miss",u-c>n.goodTime?"late":"early",s);const m=this.toJudge.findIndex(y=>y===n);this.toJudge.splice(m,1);return}else throw new TypeError("There is no note on judging first hold.");if(Y(n)&&Y(s)){if(n.key===s){const u=this.holding.findIndex(c=>c===n);return this.holding.splice(u,1),n.miss("late")}}else{const u=this.holding;if(u.length>this.touching){const c=u.length-this.touching;u.splice(0,c).forEach(f=>{const m=this.holding.findIndex(y=>y===n);this.holding.splice(m,1),f.miss("late")})}}}}judgeMissAndDrag(){const o=()=>{this.toJudge.length===0&&this.next(),this.toJudge=this.toJudge.filter(n=>{if(!Y(n.noteTime))throw new TypeError("The note to be judge doesn't have the property 'noteTime'.");if(this.auto){if(this.chart.game.time>n.noteTime){if(n.noteType!=="hold")n.perfect(),this.perfect++;else{n.hold("perfect","perfect");const s=this.toJudge.findIndex(u=>n===u);this.toJudge.splice(s,1)}return!1}return!0}else return n.noteType==="drag"&&this.chart.game.time>n.noteTime-n.perfectTime&&(this.holdingKeys.length>0||this.touching>0)?(n.perfect(),this.perfect++,!1):this.chart.game.time>n.noteTime+n.missTime?(n.miss("late"),this.late++,this.miss++,!1):!0}),this.holding=this.holding.filter(n=>{if(!Y(n.noteTime))throw new TypeError("The note to be judge doesn't have the property 'noteTime'.");if(!Y(n.holdTime))throw new TypeError("The note to be judge doesn't have the property 'holdTime'.");if(this.auto){if(n.holdTime>this.chart.game.time-n.noteTime-100)return n.perfect(),this.perfect++,!1}else if(n.holdTime>this.chart.game.time-n.noteTime-100){if(n.res==="pre")throw new TypeError("The note type is unexpected 'pre' when judging hold note.");return n[n.res](n.detail),n.res!=="miss"&&this[n.res]++,!1}return!0})};this.chart.game.ticker.add(o)}isMulti(o){if(!Y(o.noteTime))return!1;const n=o.num,s=this.chart.notes[n-1];if(Y(s)&&Y(s.noteTime)&&s.noteTime===o.noteTime)return!0;const u=this.chart.notes[n+1];return!!(Y(u)&&Y(u.noteTime)&&u.noteTime===o.noteTime)}dispatchEvent(o,n){this.dispatch(o,n)}next(){const o=this.chart.notesArr,n=o.find(c=>Y(c.noteTime));let s=o.findIndex(c=>Y(c.noteTime)&&(c.noteTime>(n==null?void 0:n.noteTime)||c.noteType==="drag"&&c.noteTime<this.chart.game.time));s===-1&&(s=o.length+1);const u=o.splice(0,s);this.toJudge=u.filter(c=>Y(c.noteTime))}}const Ul=class extends Ri{constructor(r,o,n){var s,u,c;super(o.game),E(this,"played",!1),E(this,"speed",500),E(this,"alpha",1),E(this,"ctxFilter",""),E(this,"ctxShadow",{x:0,y:0,blur:0,color:""}),E(this,"key",0),E(this,"holding",!1),E(this,"destroyed",!1),E(this,"res","pre"),E(this,"detail","early"),E(this,"lastNode",-1),E(this,"lastD",0),E(this,"multi",!1),E(this,"px",0),E(this,"py",0),E(this,"inited",!1),E(this,"num",Ul.cnt++),E(this,"noteType"),E(this,"base"),E(this,"holdTime"),E(this,"noteTime"),E(this,"perfectTime"),E(this,"goodTime"),E(this,"missTime"),E(this,"timeNodes",[]),E(this,"dir",[0,0]),E(this,"rad",0),this.noteType=r,this.noteTime=n==null?void 0:n.playTime,this.base=o,this.perfectTime=(s=n==null?void 0:n.perfectTime)!=null?s:o.game.perfect,this.goodTime=(u=n==null?void 0:n.goodTime)!=null?u:o.game.good,this.missTime=(c=n==null?void 0:n.goodTime)!=null?c:o.game.miss,this.holdTime=n==null?void 0:n.time,Y(this.noteTime)&&(this.dir=this.calDir(),this.rad=Math.atan(this.dir[1]/this.dir[0])),this.register("opacity",1)}setSpeed(r){this.speed=r}perfect(){if(this.noteType==="hold")return this.holdEnd("perfect");const r=()=>{this.base.game.time>=this.noteTime&&this.hit("perfect")};this.noteType==="drag"?this.base.game.time>=this.noteTime?this.hit("perfect"):this.ticker.add(r):this.hit("perfect")}good(r){if(this.detail=r,this.noteType==="hold")return this.holdEnd("good");this.hit("good")}miss(r){if(this.detail=r,this.noteType==="hold")return this.holdEnd("miss");this.hit("miss",!0)}hold(r,o,n){if(this.noteType!=="hold")throw new TypeError("You are trying to hold non-hold note.");if(!Y(this.holdTime)||!Y(this.noteTime))throw new TypeError("This note has no noteTime or holdTime.");this.holding=!0,Y(n)&&(this.key=n),this.base.game.chart.judger.holding.push(this);const s={target:this.base.game.chart.judger,type:"hold",time:this.base.game.time-this.noteTime,totalTime:this.holdTime,res:r,note:this,base:this.base,detail:o};this.base.game.chart.judger.dispatchEvent("hold",s)}filter(r){return this.ctxFilter=r,this}opacity(r){return this.mode(Ei()).time(1).apply("opacity",r),this}shadow(r,o,n,s){return this.ctxShadow={x:r,y:o,blur:n,color:s},this}destroy(){this.destroyed=!0,this.ticker.destroy()}sort(){this.timeNodes.sort(([r],[o])=>r-o)}calDistance(){return Y(this.noteTime)?(this.checkNode(),-(this.base.game.time-this.timeNodes[this.lastNode][0])*this.speed/1e3+this.lastD):0}calPosition(){if(this.destroyed)return[this.px,this.py,NaN];const r=this.calDistance()+this.base.custom.radius;if(r<0)return[NaN,NaN,NaN];const o=r*this.dir[0]+this.x,n=r*this.dir[1]+this.y,s=o+this.base.x,u=n+this.base.y;return this.px=s,this.py=u,[s,u,r]}playSound(){this.base.game.ac.playSound(this.noteType)}calDir(){var r,o;if(!Y(this.noteTime))throw new TypeError("The note doesn't have noteTime.");const n=this.base.timeNodes;let s=this.base.initAngle*Math.PI/180;for(let u=0;u<n.length;u++){const[c,f]=n[u],m=(o=(r=n[u+1])==null?void 0:r[0])!=null?o:this.noteTime;if(m>this.noteTime){s+=(this.noteTime-c)*f/3e4*Math.PI;break}s+=(m-c)*f/3e4*Math.PI}return[Math.cos(s),Math.sin(s)]}checkNode(){var r,o;const n=this.base.game.time;let s=!1;for(let u=this.lastNode+1;u<this.timeNodes.length;u++){const[c]=this.timeNodes[u];c<=n&&(this.lastNode=u,s=!0)}if(s){let u=0;for(let c=this.timeNodes.length-1;c>=this.lastNode;c--){const[f,m]=this.timeNodes[c];u+=(((o=(r=this.timeNodes[c+1])==null?void 0:r[0])!=null?o:this.noteTime)-f)*m/1e3}this.lastD=u}}hit(r,o=!1){o||this.playSound(),this.res=r,this.played=!0,this.destroy(),this.base.game.renderer.addHitEffect(this),r==="miss"?this.base.game.chart.judger.combo=0:this.base.game.chart.judger.combo++;const n={target:this.base.game.chart.judger,type:"hit",res:r,note:this,base:this.base,detail:this.detail};this.base.game.chart.judger.dispatchEvent("hit",n)}holdEnd(r){this.played=!0,this.destroy(),this.base.game.renderer.addHitEffect(this),r==="miss"?this.base.game.chart.judger.combo=0:this.base.game.chart.judger.combo++;const o={target:this.base.game.chart.judger,type:"holdend",res:r,note:this,base:this.base,detail:this.detail,time:this.base.game.time-this.noteTime,totalTime:this.holdTime};this.base.game.chart.judger.dispatchEvent("holdend",o)}};let Ts=Ul;E(Ts,"cnt",0);class F1{constructor(o){E(this,"camera"),E(this,"notes",{}),E(this,"bases",{}),E(this,"basesDict",{}),E(this,"notesArr",[]),E(this,"game"),E(this,"judger",new j1(this)),E(this,"animate",{timing:{},generator:{},path:{},pathG:{}}),E(this,"attrSet",{note:{},base:{},camera:{}}),this.game=o}async extract(o){const{bases:n,notes:s,camera:u,option:c}=o;await new Promise(f=>{var m;for(const p of n){const _=p.id,w=new Es(_,this.game,p.x,p.y,Object.values(p.r)[0],p.angle);this.bases[w.num]=w,this.basesDict[_]=w,w.timeNodes.push(...Object.entries(p.bpm).map(S=>[parseFloat(S[0]),S[1]])),w.sort(),this.execute("base",p,w),this.executeAnimate("base",p.animate,w.num)}s.sort((p,_)=>{var w,S;const O=Y(p.config)&&Y(p.config.playTime),j=Y(_.config)&&Y(_.config.playTime);return O&&j?((w=p.config)==null?void 0:w.playTime)-((S=_.config)==null?void 0:S.playTime):O&&!j?-1:!O&&j?1:0});for(const p of s){const _=this.basesDict[p.base],w=new Ts(p.type,_,p.config);this.notes[w.num]=w,this.notesArr.push(w),w.timeNodes.push(...Object.entries(p.speed).map(S=>[parseFloat(S[0]),S[1]])),w.sort(),this.execute("note",p,w),this.executeAnimate("note",p.animate,w.num)}this.notesArr.forEach(p=>{p.multi=this.judger.isMulti(p)});const y=new v1(this.game,u.id,this.game.ctx);this.camera=y,this.executeAnimate("camera",u.animate),this.execute("camera",u,y),this.game.target.style.background=(m=c.background)!=null?m:"black",f("extract success.")}),this.game.length=this.notesArr.filter(f=>Y(f.noteTime)).length,this.judger.judgeMissAndDrag()}async restart(){Object.values(this.notes).forEach(o=>o.ticker.destroy()),Object.values(this.bases).forEach(o=>o.ticker.destroy()),this.notes={},this.bases={},this.notesArr=[],this.basesDict={},Ts.cnt=0,Es.cnt=0,this.judger.perfect=0,this.judger.good=0,this.judger.miss=0,this.judger.combo=0,this.judger.maxCombo=0,await Oi(1e3),await this.extract(this.game.mtt)}register(o,n,s){this.animate[o][n]=s}registerExecute(o,n,s){this.attrSet[o][n]=s}sortMTT(o){return Object.keys(o).map(n=>parseFloat(n)).sort((n,s)=>n-s)}extractMTTAnimate(o){const n=(c,f,m)=>{const y=m.map(_=>Ml(_)?n(_.fn,_.fnType,_.args):_),p=this.animate[f][c];return f==="timing"?p:p.apply(this,y)},s=n(o.mode.fn,o.mode.fnType,o.mode.args);let u;return o.type==="moveAs"?u=n(o.mode.pathFn,o.mode.pathType,o.mode.pathArg):u=void 0,{fn:s,path:u,...o}}executeAnimate(o,n,s){let u;o==="base"?u=this.bases[s]:o==="note"?u=this.notes[s]:u=this.camera;const c=n.sort((y,p)=>y.start-p.start).map(y=>this.extractMTTAnimate(y));let f=-1;const m=()=>{const y=c[f+1];if(!y)return this.game.ticker.remove(m);const p=y.start;this.game.time<p||(f++,u.mode(y.fn,y.shake).time(y.time),y.relation==="absolute"?u.absolute():u.relative(),y.custom?u.apply(y.type,y.n,y.first):y.path?u.moveAs(y.path):y.type==="move"?u.move(y.x,y.y):y.type==="rotate"?u.rotate(y.n):y.type==="resize"||y.type==="scale"?u.scale(y.n):y.type==="shake"&&u.shake(y.x,y.y))};this.game.ticker.add(m)}execute(o,n,s){const u=this.attrSet[o],c=f=>{let m=-1;const y=n[f],p=this.sortMTT(y),_=u[f],w=()=>{const S=p[m+1];if(!Y(S))return this.game.ticker.remove(w);this.game.time<S||(S===0&&setTimeout(()=>s.inited=!0,50),this.game.time>0&&!s.inited&&setTimeout(()=>s.inited=!0,50),m++,_(n[f][S],s))};this.game.ticker.add(w)};for(const f in u)c(f)}}function P1(r,o=1,n=u=>1,s=!1){return u=>{const c=o*u*Math.PI*2,f=Math.cos(c),m=Math.sin(c),y=r*n(n(s?1-u:u));return[y*f,y*m]}}function B1(r,o,...n){const s=[r].concat(n);s.push(o);const u=s.length,c=Array(u).fill(0).map((f,m)=>$l(m,u-1));return f=>{const m=c.map((p,_)=>p*s[_][0]*(1-f)**(u-_-1)*f**_),y=c.map((p,_)=>p*s[_][1]*(1-f)**(u-_-1)*f**_);return[xs(...m),xs(...y)]}}class D1 extends Ds{constructor(o){super({before:[],after:[],effectadd:[],effectend:[]}),E(this,"time",0),E(this,"game"),E(this,"renderer",{base:this.renderBases,tap:this.renderTap,hold:this.renderHold,drag:this.renderDrag}),E(this,"effect",{perfect:this.perfectEffect,good:this.goodEffect,miss:this.missEffect}),E(this,"effects",[]),this.game=o}start(){const o=()=>{this.game.status!=="playing"||this.game.time<=0||this.render()};this.game.ticker.add(o)}render(o){const n=this.game.ctx;n.clearRect(0,0,n.canvas.width,n.canvas.height),n.save();const s={target:this,type:"before",canvas:this.game.target,ctx:this.game.ctx};this.dispatch("before",s),this.game.chart.camera.effect();const u=this.game.chart.bases;for(const y in u){const p=u[y];p.custom.a!==0&&this.renderer.base.call(this,p)}const c=this.game.chart.notes;for(const y in c){const p=c[y];p.custom.opacity!==0&&(p.played||(p.noteType==="tap"&&this.renderer.tap.call(this,p),p.noteType==="hold"&&this.renderer.hold.call(this,p),p.noteType==="drag"&&this.renderer.drag.call(this,p)))}const f=this.effects;for(const y of f)y.res==="perfect"&&this.effect.perfect.call(this,y),y.res==="good"&&this.effect.good.call(this,y),y.res==="miss"&&this.effect.miss.call(this,y);n.restore();const m={target:this,type:"after",canvas:this.game.target,ctx:this.game.ctx};this.dispatch("after",m)}setBase(o){this.renderer.base=o}setNote(o,n){this.renderer[o]=n}setEffect(o,n){this.effect[o]=n}inGame(o,n,s=10){const u=this.game.chart.camera,c=u.size,f=o-960,m=n-540,[y,p]=u.trigo,_=f*y-m*p-u.x/c,w=f*p+m*y-u.y/c;return _**2+w**2-s**2<=Il/c**2}addHitEffect(o){const n={start:this.game.time,end:!1,res:o.res,note:o},s={set:(f,m,y)=>{if(typeof m=="symbol")return!1;if(m==="end"&&y===!0){const p=this.effects.findIndex(w=>w===u);this.effects.splice(p,1);const _={target:this,type:"effectend",canvas:this.game.target,ctx:this.game.ctx,effect:u};this.dispatch("effectend",_)}return f[m]=y,!0}},u=new Proxy(n,s);this.effects.push(u);const c={target:this,type:"effectadd",canvas:this.game.target,ctx:this.game.ctx,effect:u};this.dispatch("effectadd",c)}clearEffect(){this.effects=[]}renderTap(o){this.renderNonHold(o,"#00d2eb")}renderHold(o){}renderDrag(o){this.renderNonHold(o,"#f500d6")}renderNonHold(o,n){if(o.destroyed||Y(o.noteTime)&&this.game.time>o.noteTime+o.missTime||!o.inited)return;const[s,u,c]=o.calPosition();if(isNaN(s)||!this.inGame(s,u,this.game.drawWidth/2))return;const f=o.rad+o.angle*Math.PI/180,m=this.game.ctx,y=this.game.halfWidth,p=this.game.halfTopWidth,_=this.game.halfHeight,w=this.game.multiStroke,S=o.custom.opacity;m.save(),m.translate(s*this.game.scale,u*this.game.scale),m.rotate(f+Math.PI/2),m.filter=o.ctxFilter,m.strokeStyle="#fff",m.fillStyle=n,m.lineWidth=4*this.game.drawScale,o.multi&&(m.shadowColor="gold",m.strokeStyle=w),m.globalAlpha=S,c<o.base.custom.radius&&(m.globalAlpha=c/o.base.custom.radius*S),m.beginPath(),m.moveTo(-y,0),m.lineTo(-p,-_),m.lineTo(p,-_),m.lineTo(y,0),m.lineTo(p,_),m.lineTo(-p,_),m.closePath(),m.fill(),m.stroke(),m.restore()}renderBases(o){if(!this.inGame(o.x,o.y)||!o.inited)return;const n=o.calRad()+o.angle*Math.PI/180,s=this.game.ctx,u=this.game.scale,c=o.x*u,f=o.y*u,m=o.custom.radius*u,{r:y,g:p,b:_,a:w}=o.custom;s.save(),s.translate(c,f),s.rotate(n+Math.PI),s.filter=o.ctxFilter,s.moveTo(0,0),s.fillStyle=s.strokeStyle=`rgba(${y}, ${p}, ${_}, ${w})`,s.fillRect(-m,-m*.06,m,m*.12),s.beginPath(),s.arc(0,0,m*2/5,0,Math.PI*2),s.closePath(),s.lineWidth=m/10*u,s.fill(),s.beginPath(),s.lineCap="round",s.arc(0,0,m*.6,-Math.PI/8,+Math.PI/8),s.stroke(),s.closePath(),s.beginPath(),s.arc(0,0,m,0,Math.PI*2),s.lineWidth=2*u,s.globalAlpha=.6,s.stroke(),s.closePath(),s.restore()}playEffect(o,n){const s=this.game.time-o.start;if(s>500){o.end=!0;return}const[u,c]=o.note.calPosition(),f=s/4,m=this.game.ctx,y=this.game.scale;m.save(),m.strokeStyle=n,m.shadowBlur=5,m.shadowColor=n,m.globalAlpha=2-s/250,m.beginPath(),m.arc(u*y,c*y,f*this.game.drawScale*.8,0,Math.PI*2),m.closePath(),m.lineWidth=5,m.stroke(),m.restore()}perfectEffect(o){this.playEffect(o,"gold")}goodEffect(o){this.playEffect(o,"#19aff0")}missEffect(o){this.playEffect(o,"#8f0067")}}var zl={exports:{}},Ns={exports:{}},Wl=function(r,o){return function(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];return r.apply(o,n)}},N1=Wl,$s=Object.prototype.toString,Is=function(r){return function(o){var n=$s.call(o);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function wn(r){return r=r.toLowerCase(),function(o){return Is(o)===r}}function Ms(r){return Array.isArray(r)}function Ti(r){return typeof r>"u"}function $1(r){return r!==null&&!Ti(r)&&r.constructor!==null&&!Ti(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}var Hl=wn("ArrayBuffer");function I1(r){var o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(r):o=r&&r.buffer&&Hl(r.buffer),o}function M1(r){return typeof r=="string"}function L1(r){return typeof r=="number"}function ql(r){return r!==null&&typeof r=="object"}function _i(r){if(Is(r)!=="object")return!1;var o=Object.getPrototypeOf(r);return o===null||o===Object.prototype}var U1=wn("Date"),z1=wn("File"),W1=wn("Blob"),H1=wn("FileList");function Ls(r){return $s.call(r)==="[object Function]"}function q1(r){return ql(r)&&Ls(r.pipe)}function V1(r){var o="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||$s.call(r)===o||Ls(r.toString)&&r.toString()===o)}var J1=wn("URLSearchParams");function K1(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Y1(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Us(r,o){if(!(r===null||typeof r>"u"))if(typeof r!="object"&&(r=[r]),Ms(r))for(var n=0,s=r.length;n<s;n++)o.call(null,r[n],n,r);else for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&o.call(null,r[u],u,r)}function As(){var r={};function o(u,c){_i(r[c])&&_i(u)?r[c]=As(r[c],u):_i(u)?r[c]=As({},u):Ms(u)?r[c]=u.slice():r[c]=u}for(var n=0,s=arguments.length;n<s;n++)Us(arguments[n],o);return r}function X1(r,o,n){return Us(o,function(s,u){n&&typeof s=="function"?r[u]=N1(s,n):r[u]=s}),r}function G1(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}function Z1(r,o,n,s){r.prototype=Object.create(o.prototype,s),r.prototype.constructor=r,n&&Object.assign(r.prototype,n)}function Q1(r,o,n){var s,u,c,f={};o=o||{};do{for(s=Object.getOwnPropertyNames(r),u=s.length;u-- >0;)c=s[u],f[c]||(o[c]=r[c],f[c]=!0);r=Object.getPrototypeOf(r)}while(r&&(!n||n(r,o))&&r!==Object.prototype);return o}function t_(r,o,n){r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=o.length;var s=r.indexOf(o,n);return s!==-1&&s===n}function e_(r){if(!r)return null;var o=r.length;if(Ti(o))return null;for(var n=new Array(o);o-- >0;)n[o]=r[o];return n}var n_=function(r){return function(o){return r&&o instanceof r}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Lt={isArray:Ms,isArrayBuffer:Hl,isBuffer:$1,isFormData:V1,isArrayBufferView:I1,isString:M1,isNumber:L1,isObject:ql,isPlainObject:_i,isUndefined:Ti,isDate:U1,isFile:z1,isBlob:W1,isFunction:Ls,isStream:q1,isURLSearchParams:J1,isStandardBrowserEnv:Y1,forEach:Us,merge:As,extend:X1,trim:K1,stripBOM:G1,inherits:Z1,toFlatObject:Q1,kindOf:Is,kindOfTest:wn,endsWith:t_,toArray:e_,isTypedArray:n_,isFileList:H1},$n=Lt;function Bc(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Vl=function(r,o,n){if(!o)return r;var s;if(n)s=n(o);else if($n.isURLSearchParams(o))s=o.toString();else{var u=[];$n.forEach(o,function(f,m){f===null||typeof f>"u"||($n.isArray(f)?m=m+"[]":f=[f],$n.forEach(f,function(y){$n.isDate(y)?y=y.toISOString():$n.isObject(y)&&(y=JSON.stringify(y)),u.push(Bc(m)+"="+Bc(y))}))}),s=u.join("&")}if(s){var c=r.indexOf("#");c!==-1&&(r=r.slice(0,c)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r},r_=Lt;function ji(){this.handlers=[]}ji.prototype.use=function(r,o,n){return this.handlers.push({fulfilled:r,rejected:o,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};ji.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)};ji.prototype.forEach=function(r){r_.forEach(this.handlers,function(o){o!==null&&r(o)})};var i_=ji,o_=Lt,s_=function(r,o){o_.forEach(r,function(n,s){s!==o&&s.toUpperCase()===o.toUpperCase()&&(r[o]=n,delete r[s])})},Jl=Lt;function Un(r,o,n,s,u){Error.call(this),this.message=r,this.name="AxiosError",o&&(this.code=o),n&&(this.config=n),s&&(this.request=s),u&&(this.response=u)}Jl.inherits(Un,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Kl=Un.prototype,Yl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(r){Yl[r]={value:r}});Object.defineProperties(Un,Yl);Object.defineProperty(Kl,"isAxiosError",{value:!0});Un.from=function(r,o,n,s,u,c){var f=Object.create(Kl);return Jl.toFlatObject(r,f,function(m){return m!==Error.prototype}),Un.call(f,r.message,o,n,s,u),f.name=r.name,c&&Object.assign(f,c),f};var Vn=Un,Xl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Se=Lt;function a_(r,o){o=o||new FormData;var n=[];function s(c){return c===null?"":Se.isDate(c)?c.toISOString():Se.isArrayBuffer(c)||Se.isTypedArray(c)?typeof Blob=="function"?new Blob([c]):Buffer.from(c):c}function u(c,f){if(Se.isPlainObject(c)||Se.isArray(c)){if(n.indexOf(c)!==-1)throw Error("Circular reference detected in "+f);n.push(c),Se.forEach(c,function(m,y){if(!Se.isUndefined(m)){var p=f?f+"."+y:y,_;if(m&&!f&&typeof m=="object"){if(Se.endsWith(y,"{}"))m=JSON.stringify(m);else if(Se.endsWith(y,"[]")&&(_=Se.toArray(m))){_.forEach(function(w){!Se.isUndefined(w)&&o.append(p,s(w))});return}}u(m,p)}}),n.pop()}else o.append(f,s(c))}return u(r),o}var Gl=a_,us,Dc;function u_(){if(Dc)return us;Dc=1;var r=Vn;return us=function(o,n,s){var u=s.config.validateStatus;!s.status||!u||u(s.status)?o(s):n(new r("Request failed with status code "+s.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))},us}var cs,Nc;function c_(){if(Nc)return cs;Nc=1;var r=Lt;return cs=r.isStandardBrowserEnv()?function(){return{write:function(o,n,s,u,c,f){var m=[];m.push(o+"="+encodeURIComponent(n)),r.isNumber(s)&&m.push("expires="+new Date(s).toGMTString()),r.isString(u)&&m.push("path="+u),r.isString(c)&&m.push("domain="+c),f===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(o){var n=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),cs}var l_=function(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)},f_=function(r,o){return o?r.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):r},h_=l_,d_=f_,Zl=function(r,o){return r&&!h_(o)?d_(r,o):o},ls,$c;function p_(){if($c)return ls;$c=1;var r=Lt,o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return ls=function(n){var s={},u,c,f;return n&&r.forEach(n.split(`
`),function(m){if(f=m.indexOf(":"),u=r.trim(m.substr(0,f)).toLowerCase(),c=r.trim(m.substr(f+1)),u){if(s[u]&&o.indexOf(u)>=0)return;u==="set-cookie"?s[u]=(s[u]?s[u]:[]).concat([c]):s[u]=s[u]?s[u]+", "+c:c}}),s},ls}var fs,Ic;function m_(){if(Ic)return fs;Ic=1;var r=Lt;return fs=r.isStandardBrowserEnv()?function(){var o=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),s;function u(c){var f=c;return o&&(n.setAttribute("href",f),f=n.href),n.setAttribute("href",f),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=u(window.location.href),function(c){var f=r.isString(c)?u(c):c;return f.protocol===s.protocol&&f.host===s.host}}():function(){return function(){return!0}}(),fs}var hs,Mc;function Fi(){if(Mc)return hs;Mc=1;var r=Vn,o=Lt;function n(s){r.call(this,s==null?"canceled":s,r.ERR_CANCELED),this.name="CanceledError"}return o.inherits(n,r,{__CANCEL__:!0}),hs=n,hs}var Lc,Uc;function g_(){return Uc||(Uc=1,Lc=function(r){var o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return o&&o[1]||""}),Lc}var ds,zc;function y_(){if(zc)return ds;zc=1;var r=Lt,o=u_(),n=c_(),s=Vl,u=Zl,c=p_(),f=m_(),m=Xl,y=Vn,p=Fi(),_=g_();return ds=function(w){return new Promise(function(S,O){var j=w.data,B=w.headers,I=w.responseType,P;function D(){w.cancelToken&&w.cancelToken.unsubscribe(P),w.signal&&w.signal.removeEventListener("abort",P)}r.isFormData(j)&&r.isStandardBrowserEnv()&&delete B["Content-Type"];var $=new XMLHttpRequest;if(w.auth){var at=w.auth.username||"",J=w.auth.password?unescape(encodeURIComponent(w.auth.password)):"";B.Authorization="Basic "+btoa(at+":"+J)}var mt=u(w.baseURL,w.url);$.open(w.method.toUpperCase(),s(mt,w.params,w.paramsSerializer),!0),$.timeout=w.timeout;function _t(){if($){var bt="getAllResponseHeaders"in $?c($.getAllResponseHeaders()):null,Ut=!I||I==="text"||I==="json"?$.responseText:$.response,Pe={data:Ut,status:$.status,statusText:$.statusText,headers:bt,config:w,request:$};o(function(ve){S(ve),D()},function(ve){O(ve),D()},Pe),$=null}}if("onloadend"in $?$.onloadend=_t:$.onreadystatechange=function(){!$||$.readyState!==4||$.status===0&&!($.responseURL&&$.responseURL.indexOf("file:")===0)||setTimeout(_t)},$.onabort=function(){!$||(O(new y("Request aborted",y.ECONNABORTED,w,$)),$=null)},$.onerror=function(){O(new y("Network Error",y.ERR_NETWORK,w,$,$)),$=null},$.ontimeout=function(){var bt=w.timeout?"timeout of "+w.timeout+"ms exceeded":"timeout exceeded",Ut=w.transitional||m;w.timeoutErrorMessage&&(bt=w.timeoutErrorMessage),O(new y(bt,Ut.clarifyTimeoutError?y.ETIMEDOUT:y.ECONNABORTED,w,$)),$=null},r.isStandardBrowserEnv()){var Pt=(w.withCredentials||f(mt))&&w.xsrfCookieName?n.read(w.xsrfCookieName):void 0;Pt&&(B[w.xsrfHeaderName]=Pt)}"setRequestHeader"in $&&r.forEach(B,function(bt,Ut){typeof j>"u"&&Ut.toLowerCase()==="content-type"?delete B[Ut]:$.setRequestHeader(Ut,bt)}),r.isUndefined(w.withCredentials)||($.withCredentials=!!w.withCredentials),I&&I!=="json"&&($.responseType=w.responseType),typeof w.onDownloadProgress=="function"&&$.addEventListener("progress",w.onDownloadProgress),typeof w.onUploadProgress=="function"&&$.upload&&$.upload.addEventListener("progress",w.onUploadProgress),(w.cancelToken||w.signal)&&(P=function(bt){!$||(O(!bt||bt&&bt.type?new p:bt),$.abort(),$=null)},w.cancelToken&&w.cancelToken.subscribe(P),w.signal&&(w.signal.aborted?P():w.signal.addEventListener("abort",P))),j||(j=null);var rt=_(mt);if(rt&&["http","https","file"].indexOf(rt)===-1){O(new y("Unsupported protocol "+rt+":",y.ERR_BAD_REQUEST,w));return}$.send(j)})},ds}var Wc,Hc;function v_(){return Hc||(Hc=1,Wc=null),Wc}var Nt=Lt,qc=s_,Vc=Vn,__=Xl,w_=Gl,b_={"Content-Type":"application/x-www-form-urlencoded"};function Jc(r,o){!Nt.isUndefined(r)&&Nt.isUndefined(r["Content-Type"])&&(r["Content-Type"]=o)}function x_(){var r;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(r=y_()),r}function E_(r,o,n){if(Nt.isString(r))try{return(o||JSON.parse)(r),Nt.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(r)}var Pi={transitional:__,adapter:x_(),transformRequest:[function(r,o){if(qc(o,"Accept"),qc(o,"Content-Type"),Nt.isFormData(r)||Nt.isArrayBuffer(r)||Nt.isBuffer(r)||Nt.isStream(r)||Nt.isFile(r)||Nt.isBlob(r))return r;if(Nt.isArrayBufferView(r))return r.buffer;if(Nt.isURLSearchParams(r))return Jc(o,"application/x-www-form-urlencoded;charset=utf-8"),r.toString();var n=Nt.isObject(r),s=o&&o["Content-Type"],u;if((u=Nt.isFileList(r))||n&&s==="multipart/form-data"){var c=this.env&&this.env.FormData;return w_(u?{"files[]":r}:r,c&&new c)}else if(n||s==="application/json")return Jc(o,"application/json"),E_(r);return r}],transformResponse:[function(r){var o=this.transitional||Pi.transitional,n=o&&o.silentJSONParsing,s=o&&o.forcedJSONParsing,u=!n&&this.responseType==="json";if(u||s&&Nt.isString(r)&&r.length)try{return JSON.parse(r)}catch(c){if(u)throw c.name==="SyntaxError"?Vc.from(c,Vc.ERR_BAD_RESPONSE,this,null,this.response):c}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:v_()},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Nt.forEach(["delete","get","head"],function(r){Pi.headers[r]={}});Nt.forEach(["post","put","patch"],function(r){Pi.headers[r]=Nt.merge(b_)});var zs=Pi,T_=Lt,A_=zs,S_=function(r,o,n){var s=this||A_;return T_.forEach(n,function(u){r=u.call(s,r,o)}),r},Kc,Yc;function Ql(){return Yc||(Yc=1,Kc=function(r){return!!(r&&r.__CANCEL__)}),Kc}var Xc=Lt,ps=S_,k_=Ql(),C_=zs,O_=Fi();function ms(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new O_}var R_=function(r){ms(r),r.headers=r.headers||{},r.data=ps.call(r,r.data,r.headers,r.transformRequest),r.headers=Xc.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),Xc.forEach(["delete","get","head","post","put","patch","common"],function(n){delete r.headers[n]});var o=r.adapter||C_.adapter;return o(r).then(function(n){return ms(r),n.data=ps.call(r,n.data,n.headers,r.transformResponse),n},function(n){return k_(n)||(ms(r),n&&n.response&&(n.response.data=ps.call(r,n.response.data,n.response.headers,r.transformResponse))),Promise.reject(n)})},ae=Lt,tf=function(r,o){o=o||{};var n={};function s(p,_){return ae.isPlainObject(p)&&ae.isPlainObject(_)?ae.merge(p,_):ae.isPlainObject(_)?ae.merge({},_):ae.isArray(_)?_.slice():_}function u(p){if(ae.isUndefined(o[p])){if(!ae.isUndefined(r[p]))return s(void 0,r[p])}else return s(r[p],o[p])}function c(p){if(!ae.isUndefined(o[p]))return s(void 0,o[p])}function f(p){if(ae.isUndefined(o[p])){if(!ae.isUndefined(r[p]))return s(void 0,r[p])}else return s(void 0,o[p])}function m(p){if(p in o)return s(r[p],o[p]);if(p in r)return s(void 0,r[p])}var y={url:c,method:c,data:c,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:m};return ae.forEach(Object.keys(r).concat(Object.keys(o)),function(p){var _=y[p]||u,w=_(p);ae.isUndefined(w)&&_!==m||(n[p]=w)}),n},Gc,Zc;function ef(){return Zc||(Zc=1,Gc={version:"0.27.2"}),Gc}var j_=ef().version,rn=Vn,Ws={};["object","boolean","number","function","string","symbol"].forEach(function(r,o){Ws[r]=function(n){return typeof n===r||"a"+(o<1?"n ":" ")+r}});var Qc={};Ws.transitional=function(r,o,n){function s(u,c){return"[Axios v"+j_+"] Transitional option '"+u+"'"+c+(n?". "+n:"")}return function(u,c,f){if(r===!1)throw new rn(s(c," has been removed"+(o?" in "+o:"")),rn.ERR_DEPRECATED);return o&&!Qc[c]&&(Qc[c]=!0,console.warn(s(c," has been deprecated since v"+o+" and will be removed in the near future"))),r?r(u,c,f):!0}};function F_(r,o,n){if(typeof r!="object")throw new rn("options must be an object",rn.ERR_BAD_OPTION_VALUE);for(var s=Object.keys(r),u=s.length;u-- >0;){var c=s[u],f=o[c];if(f){var m=r[c],y=m===void 0||f(m,c,r);if(y!==!0)throw new rn("option "+c+" must be "+y,rn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new rn("Unknown option "+c,rn.ERR_BAD_OPTION)}}var P_={assertOptions:F_,validators:Ws},nf=Lt,B_=Vl,tl=i_,el=R_,Bi=tf,D_=Zl,rf=P_,In=rf.validators;function zn(r){this.defaults=r,this.interceptors={request:new tl,response:new tl}}zn.prototype.request=function(r,o){typeof r=="string"?(o=o||{},o.url=r):o=r||{},o=Bi(this.defaults,o),o.method?o.method=o.method.toLowerCase():this.defaults.method?o.method=this.defaults.method.toLowerCase():o.method="get";var n=o.transitional;n!==void 0&&rf.assertOptions(n,{silentJSONParsing:In.transitional(In.boolean),forcedJSONParsing:In.transitional(In.boolean),clarifyTimeoutError:In.transitional(In.boolean)},!1);var s=[],u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(o)===!1||(u=u&&w.synchronous,s.unshift(w.fulfilled,w.rejected))});var c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});var f;if(!u){var m=[el,void 0];for(Array.prototype.unshift.apply(m,s),m=m.concat(c),f=Promise.resolve(o);m.length;)f=f.then(m.shift(),m.shift());return f}for(var y=o;s.length;){var p=s.shift(),_=s.shift();try{y=p(y)}catch(w){_(w);break}}try{f=el(y)}catch(w){return Promise.reject(w)}for(;c.length;)f=f.then(c.shift(),c.shift());return f};zn.prototype.getUri=function(r){r=Bi(this.defaults,r);var o=D_(r.baseURL,r.url);return B_(o,r.params,r.paramsSerializer)};nf.forEach(["delete","get","head","options"],function(r){zn.prototype[r]=function(o,n){return this.request(Bi(n||{},{method:r,url:o,data:(n||{}).data}))}});nf.forEach(["post","put","patch"],function(r){function o(n){return function(s,u,c){return this.request(Bi(c||{},{method:r,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:u}))}}zn.prototype[r]=o(),zn.prototype[r+"Form"]=o(!0)});var N_=zn,gs,nl;function $_(){if(nl)return gs;nl=1;var r=Fi();function o(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(c){s=c});var u=this;this.promise.then(function(c){if(u._listeners){var f,m=u._listeners.length;for(f=0;f<m;f++)u._listeners[f](c);u._listeners=null}}),this.promise.then=function(c){var f,m=new Promise(function(y){u.subscribe(y),f=y}).then(c);return m.cancel=function(){u.unsubscribe(f)},m},n(function(c){u.reason||(u.reason=new r(c),s(u.reason))})}return o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},o.prototype.unsubscribe=function(n){if(this._listeners){var s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}},o.source=function(){var n,s=new o(function(u){n=u});return{token:s,cancel:n}},gs=o,gs}var rl,il;function I_(){return il||(il=1,rl=function(r){return function(o){return r.apply(null,o)}}),rl}var ys,ol;function M_(){if(ol)return ys;ol=1;var r=Lt;return ys=function(o){return r.isObject(o)&&o.isAxiosError===!0},ys}var sl=Lt,L_=Wl,wi=N_,U_=tf,z_=zs;function of(r){var o=new wi(r),n=L_(wi.prototype.request,o);return sl.extend(n,wi.prototype,o),sl.extend(n,o),n.create=function(s){return of(U_(r,s))},n}var te=of(z_);te.Axios=wi;te.CanceledError=Fi();te.CancelToken=$_();te.isCancel=Ql();te.VERSION=ef().version;te.toFormData=Gl;te.AxiosError=Vn;te.Cancel=te.CanceledError;te.all=function(r){return Promise.all(r)};te.spread=I_();te.isAxiosError=M_();Ns.exports=te;Ns.exports.default=te;(function(r){r.exports=Ns.exports})(zl);const W_=g1(zl.exports);class H_{constructor(o){E(this,"audio"),E(this,"status","pre"),E(this,"startTime",0),E(this,"seVolume",.5),E(this,"musicVolume",1),E(this,"offset",-100),E(this,"game"),E(this,"ac",new AudioContext),E(this,"sounds",{}),E(this,"mainGain",this.ac.createGain()),E(this,"musicNode"),this.game=o,this.syncTime()}set volume(o){this.mainGain.gain.value=o}get volume(){return this.mainGain.gain.value}async extract(o){const n=await this.ac.decodeAudioData(o);return this.audio=n,n}play(){if(this.status==="playing")throw new TypeError("The game music is playing now.");this.startTime=this.ac.currentTime,this.game.time=(this.ac.currentTime-this.startTime)*1e3;const o=this.ac.createGain(),n=this.ac.createBufferSource();this.musicNode=n,n.buffer=this.audio,n.connect(o),o.gain.value=this.musicVolume,o.connect(this.mainGain),this.mainGain.connect(this.ac.destination),n.start(),this.status="playing",this.startTime=this.ac.currentTime,n.addEventListener("ended",s=>{this.musicEnd()})}async pause(){if(this.status!=="playing")throw new TypeError("You are trying to pause an already paused music.");await this.ac.suspend(),this.status="pause"}async resume(){if(this.status!=="pause")throw new TypeError("You are trying to resume an already playing music.");await this.ac.resume(),this.status="playing"}async addSound(o,n){const s=await this.ac.decodeAudioData(n);this.sounds[o]=s}playSound(o){if(!Y(this.sounds[o]))return;const n=this.ac.createGain(),s=this.ac.createBufferSource();n.gain.value=this.seVolume,s.buffer=this.sounds[o],s.connect(n),n.connect(this.mainGain),this.mainGain.connect(this.ac.destination),s.start()}restart(){this.musicNode.stop(),this.syncTime(),this.status="pre",this.game.time=this.offset}sync(){this.status==="pre"?this.game.time=this.offset:this.game.time=(this.ac.currentTime-this.startTime)*1e3+this.offset}syncTime(){const o=()=>this.sync();this.game.ticker.add(o,!0)}async musicEnd(){await Oi(1e3),this.game.end()}}class q_ extends Ds{constructor(o,n){var s,u,c,f,m;if(super({load:[],start:[],restart:[],pause:[],resume:[],end:[]}),E(this,"audio"),E(this,"mtt"),E(this,"status","pre"),E(this,"time",0),E(this,"length",0),E(this,"ended",!1),E(this,"scoreCalculator",this.defaultScoreCalculator),E(this,"isMobile",window.innerWidth<window.innerHeight),E(this,"target"),E(this,"ctx"),E(this,"ticker",new Ps),E(this,"ac",new H_(this)),E(this,"chart",new F1(this)),E(this,"renderer",new D1(this)),E(this,"width"),E(this,"height"),E(this,"scale"),E(this,"noteScale",1),E(this,"noteWidth",this.isMobile?200:150),E(this,"drawScale"),E(this,"drawWidth"),E(this,"halfWidth"),E(this,"drawHeight"),E(this,"halfHeight"),E(this,"topWidth"),E(this,"halfTopWidth"),E(this,"multiStroke"),E(this,"perfect",50),E(this,"good",80),E(this,"miss",120),this.target=o,this.ctx=o.getContext("2d"),this.ctx.save(),this.width=o.width,this.height=o.height,this.scale=Math.min(this.width/1920,this.height/1080),o.width/o.height!==parseFloat((16/9).toFixed(7))){const y=this.width/1920,p=this.height/1080;if(y<p){const _=o.width*9/16;o.height=_,o.style.height=`${_}px`}else{const _=o.height*16/9;o.width=_,o.style.width=`${_}px`}}this.noteScale=(s=n==null?void 0:n.noteScale)!=null?s:1,this.noteWidth=(u=n==null?void 0:n.noteWidth)!=null?u:this.noteWidth,this.perfect=(c=n==null?void 0:n.perfect)!=null?c:50,this.good=(f=n==null?void 0:n.good)!=null?f:80,this.miss=(m=n==null?void 0:n.miss)!=null?m:120,this.drawScale=this.scale*this.noteScale,this.drawWidth=this.noteWidth*this.drawScale,this.halfWidth=this.drawWidth/2,this.drawHeight=this.drawWidth/10,this.halfHeight=this.drawHeight/2,this.topWidth=this.drawWidth-this.halfHeight*2,this.halfTopWidth=this.topWidth/2,this.multiStroke=this.ctx.createLinearGradient(0,-this.halfHeight,0,this.halfHeight),this.multiStroke.addColorStop(0,"#fff"),this.multiStroke.addColorStop(.5,"#fef267"),this.multiStroke.addColorStop(1,"#fff"),o.addEventListener("touchstart",this.chart.judger.touchstart),o.addEventListener("touchend",this.chart.judger.touchend),this.chart.register("generator","linear",Ei),this.chart.register("generator","bezier",E1),this.chart.register("generator","trigo",T1),this.chart.register("generator","power",A1),this.chart.register("generator","hyper",S1),this.chart.register("generator","inverseTrigo",k1),this.chart.register("generator","shake",C1),this.chart.register("pathG","circle",P1),this.chart.register("pathG","bezier",B1),this.chart.registerExecute("base","r",(y,p)=>p.setRadius(y)),this.chart.registerExecute("base","bpm",(y,p)=>p.setSpeed(y)),this.chart.registerExecute("base","rgba",(y,p)=>p.rgba(...y)),this.chart.registerExecute("base","filter",(y,p)=>p.filter(y)),this.chart.registerExecute("note","speed",(y,p)=>p.setSpeed(y)),this.chart.registerExecute("note","filter",(y,p)=>p.filter(y)),this.chart.registerExecute("note","shadow",(y,p)=>p.shadow(y.x,y.y,y.blur,y.color)),this.chart.registerExecute("note","opacity",(y,p)=>p.opacity(y)),this.chart.registerExecute("camera","css",(y,p)=>p.css(y))}async load(o,n,s,u){const c=Date.now();if(Y(this.audio)||Y(this.mtt))throw new TypeError("The game's music or chart has already been loaded.");const f=[this.loadMusic(o,s),this.loadMTT(n,u)];await Promise.all(f);const m={target:this,type:"load",time:Date.now()-c};this.dispatch("load",m)}async start(o=1e3){if(this.status!=="pre")throw new TypeError("The game has already started or ended.");await Oi(o),this.status="playing",this.ac.play(),this.renderer.start();const n={target:this,type:"start",music:this.ac.audio,mtt:this.mtt};this.dispatch("start",n)}pause(){const o=this.status;if(this.status==="pause")throw new TypeError("The game has already paused.");this.status="pause",this.ac.pause();const n={target:this,type:"pause",from:o,to:this.status};this.dispatch("pause",n)}resume(){const o=this.status;if(this.status==="playing")throw new TypeError("The game has already resumed.");this.status="playing",this.ac.resume();const n={target:this,type:"resume",from:o,to:this.status};this.dispatch("resume",n)}async restart(o=1e3){this.ticker.clear(),this.ctx.restore(),this.ctx.clearRect(0,0,this.target.width,this.target.height),this.renderer.clearEffect(),this.status="pre",this.chart.judger.toJudge=[],this.chart.camera.ticker.destroy(),this.ac.restart(),await this.chart.restart();const n={target:this,type:"restart",music:this.ac.audio,mtt:this.mtt};this.dispatch("restart",n),this.start(o)}end(){if(this.status==="exit")throw new TypeError("The game has already ended.");const o=this.status;this.ticker.destroy(),this.ac.pause(),this.ended=!0,this.status="exit",this.chart.camera.ticker.destroy();const n=this.chart.bases;Object.values(n).forEach(c=>c.ticker.destroy());const s=this.chart.notes;Object.values(s).forEach(c=>c.ticker.destroy());const u={target:this,type:"end",from:o,to:this.status};this.dispatch("end",u)}setOffset(o){if(this.status!=="pre")throw new TypeError("Offset can only be set before the game starts.");this.ac.offset=o}getScore(){const o={...this.getDetail(),length:this.length,maxCombo:this.chart.judger.maxCombo};return this.scoreCalculator(o)}getDetail(){const{perfect:o,good:n,miss:s,early:u,late:c}=this.chart.judger;return{perfect:o,good:n,miss:s,early:u,late:c}}setScoreCalculator(o){this.scoreCalculator=o}async setSound(o,n){const s=await this.post(n,"arraybuffer");await this.ac.addSound(o,s.data)}async post(o,n,s){const u={responseType:n,onDownloadProgress:s};return await W_.get(o,u)}async loadMusic(o,n){const s=await this.post(o,"arraybuffer",n);if(s.status!==200)return this.fail(`Fail to load url [${o}]`,s.status);const u=await this.ac.extract(s.data);this.audio=u}async loadMTT(o,n){const s=await this.post(o,"json",n);if(s.status!==200)return this.fail(`Fail to load url [${o}]`,s.status);this.mtt=s.data,this.chart.extract(this.mtt)}fail(o,n){console.error(`${n}: ${o}`)}defaultScoreCalculator(o){const n=9e5/this.length,s=this.chart.judger,u=s.maxCombo/this.length*1e5;return Math.round(n*s.perfect+n*.5*s.good+u)}}function V_(r,o){return new q_(r,o)}const J_=V_,Wn=Ps,sf={},bi={};let al=0;const Ce=new AudioContext,Ai=ot(0);async function K_(r,o){const n=await Mt.get(r,{responseType:"arraybuffer",onDownloadProgress:o}),s=await Ce.decodeAudioData(n.data);return bi[r]=s,n}async function wr(r,o=!1){const n=Ce.createGain(),s=Ce.createBufferSource();if(Bs.has(bi[r]))s.buffer=bi[r];else{const c=await Mt.get(r,{responseType:"arraybuffer"}),f=await Ce.decodeAudioData(c.data);bi[r]=f,s.buffer=f}s.loop=o,sf[al]=[s,n],s.connect(n),n.connect(Ce.destination),s.start();const u=al++;return r==="/Mutate-HTML/music/mutate.mp3"&&(Ai.value=u),u}function ul(r){const o=sf[r];if(!Bs.has(o))throw new ReferenceError("You are trying to get a nonexistent audio.");return o}const Y_=window.innerWidth<=window.innerHeight,cl=["F","D","C","B","A","S","FC","AP"];function Hs(){return yt()?{w:window.innerHeight*.95,h:window.innerWidth*.95}:{w:window.innerWidth*.95,h:window.innerHeight*.95}}function yt(){return Y_}function Ln(r){return r<1024?`${r}B`:r<1024**2?`${(r/1024).toFixed(2)}KB`:r<1024**3?`${(r/1024**2).toFixed(2)}MB`:r<1024**4?`${(r/1024**3).toFixed(2)}GB`:`${r}B`}function ll(r){return`${Math.floor(r/60)}:${(r%60).toString().padStart(2,"0")}`}function X_(r){return r<7e5?"F":r<8e5?"D":r<86e4?"C":r<9e5?"B":r<95e4?"A":r<1e6?"S":"AP"}function G_(r,o){return cl.indexOf(r)>cl.indexOf(o)}function af(r){return r==="F"?"#aaa":r==="AP"?"transparent":r==="FC"?"#66e9ff":r==="AUTO"?"#fc66ff":"#fff"}function vr(r){return r.match(/(F|D|C|B|A|S|FC|AP)$/)[0]}const Z_=an({__name:"cover",setup(r){const o=Ky("select");let n=new Wn;function s(){const u=document.getElementById("cover");u.style.opacity="0",u.addEventListener("transitionend",c=>{o.value=!0,n.destroy()})}return un(async()=>{await Qt.sleep(500);const u=document.getElementById("cover"),c=u.getContext("2d");Ai.value=await wr("/Mutate-HTML/music/mutate.mp3",!0);const f=Ce.currentTime;u.style.border="1px solid #fff",u.style.opacity="1";const{w:m,h:y}=Hs();u.width=m,u.height=y;let p=110,_=1.5;const w=[],S=O=>{for(let j=0;j<O;j++){let B,I;const P=~~(Math.random()*4);let D;P===1?(B=0,I=Math.random()*y,D=(Math.random()-.5)*Math.PI*.6):P===2?(B=m,I=Math.random()*y,D=(Math.random()+.5)*Math.PI*.6):P===3?(I=0,B=Math.random()*m,D=Math.random()*Math.PI*.6):(I=y,B=Math.random()*m,D=(Math.random()-1)*Math.PI*.6);const $=Math.cos(D),at=Math.sin(D),J=Math.random()*10+50,mt=`rgba(${~~(Math.random()*255)}, ${~~(Math.random()*255)}, ${~~(Math.random()*255)}, 0.5)`;w.push({x:B,y:I,r:J,vx:$,vy:at,color:mt})}};S(20),c.save(),n.add(O=>{c.restore(),c.save(),c.clearRect(0,0,u.width,u.height);const j=Ce.currentTime*1e3;O<1e3?(u.style.filter=`blur(${5-O/200}px)`,p=55-O/20,_=1+2*(O/2e3-.5)**2):(p=3,_=1),w.length<30&&S(1);const B=(~~j-f)%462;let I=0;B>362&&(I=(B-362)/100),B<100&&(I=1-B/100);for(let P=0;P<w.length;P++){const D=w[P];if(D.x+=D.vx*p,D.y+=D.vy*p,D.x<0-D.r||D.x>u.width+D.r||D.y<0-D.r||D.y>u.height+D.r){w.splice(P,1),P--;continue}c.filter="blur(25px)",c.fillStyle=D.color,c.beginPath(),c.arc(D.x,D.y,D.r,0,Math.PI*2),c.closePath(),c.fill(),c.filter="none"}c.shadowColor="#3df0ff",c.shadowBlur=8,c.shadowOffsetX=2,c.shadowOffsetY=2,c.textAlign="center",c.fillStyle="#f78fff",c.strokeStyle="#3df0ff",c.font=`${_*12+I}em normal`,c.filter=`blur(${(p-10)/10}px)`,c.fillText("MUTATE",u.width/2,u.height/2),c.strokeText("MUTATE",u.width/2,u.height/2),c.fillStyle="#fff",c.shadowBlur=0,c.shadowColor="",c.shadowOffsetX=0,c.shadowOffsetY=0,c.font="2em normal",c.fillText("\u70B9\u51FB\u5F00\u59CB\u6E38\u620F",u.width/2,u.height/2+40)})}),(u,c)=>(pt(),Ft("canvas",{id:"cover",onClick:s}))}});const cn=(r,o)=>{const n=r.__vccOpts||r;for(const[s,u]of o)n[s]=u;return n},Q_=cn(Z_,[["__scopeId","data-v-124f3c94"]]),uf={};async function tw(r,o){await Mt.get(r,{onDownloadProgress:o});const n=new Image;return n.src=r,await new Promise(s=>{n.addEventListener("load",u=>s("success"))}),uf[r.split("/").at(-1)]=n,n}const ew=r=>(Ss("data-v-7c603b7c"),r=r(),ks(),r),nw={key:0,id:"start-load"},rw=ew(()=>V("canvas",{id:"loading"},null,-1)),iw={key:1,id:"start-page"},ow=an({__name:"start",setup(r){const o=ot(!1),n=ot(0),s=3410663,u=ot(0);let c={};const f="/Mutate-HTML/";function m(){const _=Object.values(c).reduce((w,S)=>w+S,0);n.value=parseFloat((_/s*100).toFixed(2)),u.value=_}async function y(){const _=[p(`${f}music/mutate.mp3`,0,"arraybuffer"),p(`${f}se/tap.wav`,1,"arraybuffer"),p(`${f}se/drag.wav`,2,"arraybuffer"),p(`${f}image/base1.png`,3,"arraybuffer"),p(`${f}image/base2.png`,4,"arraybuffer"),p(`${f}image/base3.png`,5,"arraybuffer"),(async()=>{const w=await p(`${f}font/normal.ttf`,3,"arraybuffer"),S=new FontFace("normal",w.data);await S.load(),document.fonts.add(S)})()];await Promise.all(_),n.value=100}async function p(_,w,S){const O=j=>{c[w]=j.loaded,m()};return _.endsWith(".mp3")||_.endsWith(".wav")?await K_(_,O):_.endsWith(".png")||_.endsWith(".jpg")||_.endsWith(".jpeg")?await tw(_,O):await Mt.get(_,{responseType:S,onDownloadProgress:O})}return un(async()=>{const _=new Wn,w=document.getElementById("loading"),S=w.getContext("2d");setTimeout(()=>{w.style.opacity="1",w.style.width="80%",w.style.height="80%",w.style.filter="none"},50),yt()?(w.width=window.innerHeight*.95,w.height=window.innerWidth*.95):(w.width=window.innerWidth*.95,w.height=window.innerHeight*.95),S.strokeStyle="#eee",S.lineWidth=5,S.lineCap="round",_.add(O=>{const j=Math.PI*O/700,B=w.width,I=w.height,P=B/2,D=I/2;S.clearRect(0,0,w.width,w.height),S.beginPath(),S.arc(P,D,Math.min(B,I)/16,0,Math.PI*2),S.strokeStyle="#444",S.stroke(),S.beginPath(),S.arc(P,D,Math.min(B,I)/16,j,j+Math.PI/2),S.strokeStyle="#eee",S.stroke(),S.closePath(),S.textAlign="center",S.font="normal 4em Verdana",S.fillStyle="#eee",S.fillText(`loading${".".repeat(Math.floor(O/800)%4)}`,P,D+D/2),S.textAlign="right",S.font=`normal ${yt()?1:2}em Verdana`,S.fillText(`${Ln(u.value)} / ${Ln(s)}`,w.width-30,w.height-30)}),await y(),n.value=100,w.style.opacity="0",w.style.width="100%",w.style.height="100%",w.style.filter="blur(5px)",m(),w.addEventListener("transitionend",async()=>{o.value||(o.value=!0,_.destroy())})}),(_,w)=>{const S=hl;return pt(),Ft(gi,null,[o.value?ke("",!0):(pt(),Ft("div",nw,[rw,it(S,{percent:n.value,style:{width:"90%"}},null,8,["percent"])])),o.value?(pt(),Ft("div",iw,[it(Q_)])):ke("",!0)],64)}}});const sw=cn(ow,[["__scopeId","data-v-7c603b7c"]]);const aw={\u5355\u66F2:["\u7075","\u7EA2\u67AB"]},qe={\u7075:{file:{music:"1.mp3",image:"1.jpg",chart:{easy:"1_1.mtt",normal:"1_2.mtt",hard:"1_3.mtt"}},author:"\u5F31\u9E21\u7EFF\u6BDB\u602A",chart:"\u53E4\u7960",duration:158,hard:{easy:4,normal:7,hard:12}},\u7EA2\u67AB:{file:{music:"2.mp3",image:"2.jpg",chart:{easy:"2_1.mtt",normal:"2_2.mtt",hard:"2_3.mtt"}},author:"\u5F31\u9E21\u7EFF\u6BDB\u602A",chart:"\u53E4\u7960",duration:135,hard:{easy:3,normal:8,hard:14}}},uw=["id"],cw=an({__name:"scroll",props:{total:null,now:null,id:null},emits:["scroll"],setup(r,{expose:o,emit:n}){const s=r;let u,c=!1,f=s.now;function m(y=s.now){f=y;const p=s.total;if(p===0)return;f>p&&(console.warn("\u5F53\u524D\u6EDA\u52A8\u6761\u4F4D\u7F6E\u5927\u4E8E\u4E86\u603B\u957F\u5EA6"),f=p);const _=Math.min(u.canvas.height/p,1)*u.canvas.height,w=f/p*u.canvas.height;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.moveTo(20,Math.max(w+5,5)),u.lineTo(20,Math.min(w+_-5,u.canvas.height-5)),u.lineCap="round",u.lineWidth=6,u.strokeStyle="#fff",u.stroke()}return Yy(()=>{m()}),un(()=>{const y=document.getElementById(`scroll-${s.id}`);u=y.getContext("2d");const p=getComputedStyle(y);y.width=40,y.height=parseFloat(p.height),m(),y.addEventListener("mousedown",_=>{c=!0}),document.addEventListener("mouseup",_=>{c=!1,y.height<s.total&&n("scroll",f)}),document.addEventListener("mousemove",_=>{if(!c)return;const w=_.movementY;y.height<s.total&&(m(w+f),n("scroll",f+w))})}),o({draw:m}),(y,p)=>(pt(),Ft("canvas",{id:`scroll-${s.id}`,class:"scroll"},null,8,uw))}});const fl=cn(cw,[["__scopeId","data-v-e19906a4"]]),lw={id:"leftbar"},fw={id:"song-selector"},hw={id:"song-menu"},dw={id:"rightbar"},pw={id:"song-image"},mw={id:"song-top-info"},gw=["src"],yw={id:"info"},vw={id:"hard"},_w={id:"song-info"},ww={id:"music"},bw={id:"chart"},xw={id:"chart"},Ew={id:"score"},Tw={id:"score-num"},Aw={id:"start"},Sw=an({__name:"select",emits:["start","setting"],setup(r,{emit:o}){let n=localStorage.getItem("@mutate:select");n||(localStorage.setItem("@mutate:select","\u5355\u66F2@@\u7075@@0"),n="\u5355\u66F2@@\u7075@@0");const s=n.split("@@"),u=ot(s[0].split(",")),c=ot([s[1]]),f=ot("easy"),m=ot(parseFloat(s[2])),y=ot(0),p=ot(fl),_=yt()?window.innerHeight:window.innerWidth,w=ot(!1);let S,O,j,B,I,P,D;const $=Xy(()=>Pt(f.value));xi(c,Q=>{localStorage.setItem("@mutate:select",`${u.value.join(",")}@@${Q[0]}@@${m.value}`)});function at(){requestAnimationFrame(()=>p.value.draw())}function J(Q){if(parseFloat(getComputedStyle(O).height)>=y.value)return;const ft=parseFloat(getComputedStyle(O).height);Q+ft>=y.value?(m.value=y.value-ft,S.style.top=`${-m.value}px`):Q<=0?(m.value=0,S.style.top="0px"):(m.value=Q,S.style.top=`${-Q}px`),at()}async function mt(Q=0){await Qt.sleep(Q);const ft=getComputedStyle(S),Ct=getComputedStyle(j);y.value=parseFloat(ft.height)+2*parseFloat(Ct.padding)}function _t(Q){f.value=Q}function Pt(Q){return Q==="easy"?"#348f00":Q==="normal"?"#b8b400":Q==="hard"?"#7a0003":"#8f008a"}function rt(Q){const ft=Q%60;return`${Math.floor(Q/60)}m${ft}s`}function bt(){let Q=localStorage.getItem(`@mutate:score-${c.value[0]}-${f.value}`);return Q||(Q="0F"),Q.padStart(8,"0")}function Ut(){return localStorage.getItem(`@mutate:score-${c.value[0]}-${f.value}`)!==null}function Pe(Q){return`/Mutate-HTML/image/${Q}`}async function ve(){const Q={music:c.value[0],hard:f.value,auto:w.value};O.style.opacity="0";const ft=new Wn,[Ct,Bt]=ul(Ai.value);ft.add(zt=>{Bt.gain.value=(700-zt)/700}),await Qt.sleep(700),ft.destroy(),Ct.stop(),o("start",Q)}async function Be(){O.style.opacity="0";const Q=new Wn,[ft,Ct]=ul(Ai.value);Q.add(Bt=>{Ct.gain.value=(700-Bt)/700}),await Qt.sleep(700),Q.destroy(),ft.stop(),o("setting")}return un(async()=>{await Qt.sleep(200),O=document.getElementById("select"),j=document.getElementById("leftbar"),S=document.getElementById("song-menu"),B=document.getElementById("rightbar"),I=document.getElementById("song-info"),P=document.getElementById("score-num"),D=document.getElementById("rank"),mt(),j.addEventListener("wheel",zt=>{if(parseFloat(getComputedStyle(O).height)>=y.value)return;const At=Math.sign(zt.deltaY)*100;m.value+=At,J(m.value)});let Q=0;j.addEventListener("touchstart",zt=>{const At=zt.touches[0];Q=yt()?At.clientX:At.clientY}),j.addEventListener("touchmove",zt=>{if(zt.preventDefault(),parseFloat(getComputedStyle(O).height)>=y.value)return;const At=zt.touches[0],Et=yt()?At.clientX:At.clientY;m.value+=Et-Q,J(m.value),Q=Et});const ft=yt()?window.innerHeight/window.innerWidth:window.innerWidth/window.innerHeight;yt()&&(j.style.width="calc(25% + 48px)",B.style.width="calc(75% - 48px)"),I.style.fontSize=yt()?`${_/1e3}em`:`${_/900}em`,O.style.opacity="1",D.style.fontSize=yt()?`${_/800}em`:`${_/600}em`,P.style.fontSize=yt()?`${_/1e3}em`:`${_/800}em`;const{w:Ct,h:Bt}=Hs();if(ft>16/9){const zt=Bt*16/9,Et=(parseFloat(getComputedStyle(O).width)-zt)/2;O.style.paddingLeft=`${Et}px`,O.style.paddingRight=`${Et}px`}if(ft<16/9){const zt=Ct*9/16,Et=(parseFloat(getComputedStyle(O).height)-zt)/2;O.style.paddingTop=`${Et}px`,O.style.paddingBottom=`${Et}px`}await Qt.sleep(200),J(m.value)}),(Q,ft)=>{const Ct=gl,Bt=tv,zt=dl,At=pl,Et=ml,Di=Qy;return pt(),Ft("div",{id:"select",style:jt({"background-color":`${H($)}22`})},[V("div",lw,[V("div",fw,[V("div",hw,[it(zt,{mode:"inline",theme:"dark",openKeys:u.value,"onUpdate:openKeys":ft[1]||(ft[1]=_e=>u.value=_e),selectedKeys:c.value,"onUpdate:selectedKeys":ft[2]||(ft[2]=_e=>c.value=_e),style:jt({"font-size":H(yt)()?"1em":"1.5em"})},{default:Kt(()=>[(pt(!0),Ft(gi,null,is(H(aw),(_e,Oe)=>(pt(),on(Bt,{key:Oe,onTitleClick:ft[0]||(ft[0]=ue=>mt(300))},{title:Kt(()=>[Mn(dt(Oe),1)]),default:Kt(()=>[(pt(!0),Ft(gi,null,is(_e,(ue,Jn)=>(pt(),on(Ct,{key:ue,style:jt({"font-size":H(yt)()?"1em":"1.5em"})},{default:Kt(()=>[Mn(dt(ue)+"\xA0-\xA0"+dt(H(qe)[ue].author),1)]),_:2},1032,["style"]))),128))]),_:2},1024))),128))]),_:1},8,["openKeys","selectedKeys","style"])])]),it(fl,{id:"select",now:m.value,total:y.value,ref_key:"scroll",ref:p,onScroll:J},null,8,["now","total"]),it(At,{style:{"border-color":"#ddd4",height:"96%",top:"2%",margin:"0","margin-right":"8px"},type:"vertical",dashed:""})]),V("div",dw,[V("div",pw,[V("div",mw,[V("span",{id:"song-name",style:jt({"font-size":H(yt)()?`${H(_)/800}em`:`${H(_)/600}em`})},dt(c.value[0]),5),it(H(Gy),{id:"settings",style:jt({"margin-top":"2%","margin-right":"5%",transform:`scale(${H(_)/9}%)`,cursor:"pointer",transition:"all 0.2s linear"}),onClick:Be},null,8,["style"])]),it(At,{style:{"border-color":"#ddd4",margin:"0"},dashed:""}),V("img",{src:Pe(H(qe)[c.value[0]].file.image),id:"image"},null,8,gw)]),it(At,{style:{"border-color":"#ddd4",height:"100%"},type:"vertical",dashed:""}),V("div",yw,[V("div",vw,[(pt(!0),Ft(gi,null,is(H(qe)[c.value[0]].hard,(_e,Oe)=>(pt(),on(Et,{key:Oe,type:Oe===f.value?"primary":"default",size:"large",style:jt({height:H(yt)()?"50%":"100%",margin:"1%","font-size":H(yt)()?`${H(_)/1e3}em`:`${H(_)/550}em`,"text-align":"center","vertical-align":"middle","line-height":"100%","background-color":`${f.value===Oe?H($):"transparent"}`}),onClick:ue=>_t(Oe)},{default:Kt(()=>[Mn(dt(Oe)+"\xA0-\xA0"+dt(_e),1)]),_:2},1032,["type","style","onClick"]))),128))]),it(At,{style:{"border-color":"#ddd4","margin-bottom":"1%"},dashed:""}),V("div",_w,[V("span",ww,"\u66F2\u5E08\xA0\xA0\xA0\xA0"+dt(H(qe)[c.value[0]].author),1),V("span",bw,"\u8C31\u5E08\xA0\xA0\xA0\xA0"+dt(H(qe)[c.value[0]].chart),1),V("span",xw,"\u65F6\u957F\xA0\xA0\xA0\xA0"+dt(rt(H(qe)[c.value[0]].duration)),1)]),it(At,{style:{"border-color":"#ddd4",margin:"1%"},dashed:""}),V("div",Ew,[V("span",Tw,"\u6210\u7EE9\xA0\xA0\xA0\xA0"+dt(bt().match(/^[0-9]+/)[0]),1),V("span",{id:"rank",style:jt({color:H(af)(Ut()?H(vr)(bt()):"F"),background:H(vr)(bt())==="AP"?"linear-gradient(0.25turn, #3f87a6, #ebf8e1, gold, #3f87a6)":"","background-clip":H(vr)(bt())==="AP"?"text":"",WebkitBackgroundClip:H(vr)(bt())==="AP"?"text":""})},dt(Ut()?H(vr)(bt()):""),5)]),it(At,{style:{"border-color":"#ddd4",margin:"1%"},dashed:""}),V("div",Aw,[it(Di,{checked:w.value,"onUpdate:checked":ft[3]||(ft[3]=_e=>w.value=_e),style:jt({"font-size":H(yt)()?`${H(_)/3e3}em`:`${H(_)/1500}em`,"margin-left":"3%"})},{default:Kt(()=>[Mn("\u81EA\u52A8\u64AD\u653E")]),_:1},8,["checked","style"]),it(Et,{style:{width:"50%",height:"80%","background-color":"#ccc"},onClick:ve},{default:Kt(()=>[it(H(Zy),{style:jt({transform:`scale(${H(_)/4}%)`,color:"#000"})},null,8,["style"])]),_:1})])])])],4)}}});const kw=cn(Sw,[["__scopeId","data-v-7b828c8d"]]);function Cw(r){r.renderer.setBase(Rw),r.chart.camera.setGlobalEffects(jw)}function Ow(r){const o=r.target,n=r.ctx,s=o.game,u=n.canvas;n.save(),n.textBaseline="top",n.fillStyle="#fff",n.textAlign="right",n.font="100 32px normal",n.fillText(s.getScore().toString().padStart(7,"0"),u.width-20,15);const c=s.chart.judger.combo;n.beginPath(),n.moveTo(0,0),n.lineTo(u.width*o.game.time/1e3/o.game.ac.audio.duration,0),n.lineCap="square",n.lineWidth=8,n.stroke();const f=`${ll(Math.floor(o.game.time/1e3))} / ${ll(Math.floor(o.game.ac.audio.duration+1))}`;n.textAlign="left",n.font="100 24px normal",n.fillText(f,10,10),!(c<3&&!o.game.chart.judger.auto)&&(n.textAlign="center",n.font="100 48px normal",n.fillText(`${c}`,u.width/2,10),n.font="100 32px normal",o.game.chart.judger.auto?n.fillText("autoplay",u.width/2,50):n.fillText("combo",u.width/2,50),n.restore())}function Rw(r){if(!this.inGame(r.x,r.y)||!r.inited)return;const o=r.calRad()+r.angle*Math.PI/180;let n="";r.id.endsWith("-j")&&(n="base1.png"),r.id.endsWith("-i1")&&(n="base2.png"),r.id.endsWith("-i2")&&(n="base3.png");const s=uf[n];if(!s)return;const u=this.game.ctx,c=this.game.scale,f=r.x*c,m=r.y*c,y=r.custom.radius*c,{a:p}=r.custom;u.save(),u.translate(f,m),n!=="base1.png"&&u.rotate(o+Math.PI),r.ctxFilter.length>0&&(u.filter=r.ctxFilter),u.globalAlpha=p,u.drawImage(s,-y,-y,y*2,y*2),u.restore()}function jw(r){const o=r.target,n=r.game.scale,s=960*n,u=540*n,c=r.x*n,f=r.y*n;o.translate(-c+s,-f+u),o.rotate(r.angle*Math.PI/180),o.scale(r.size,r.size),o.translate(-s,-u),o.shadowBlur=4,o.shadowColor="black"}const Fw={id:"settle"},Pw=["src"],Bw={id:"song-name"},Dw={id:"name"},Nw={id:"song-detail"},$w={id:"detail-left"},Iw={id:"detail-right"},Mw=an({__name:"settle",props:{auto:{type:Boolean},hard:null,song:null,score:null,detail:null,maxCombo:null},emits:["exit"],setup(r,{emit:o}){var f;const n=r;function s(m){return`/Mutate-HTML/image/${m}`}const u=ot("D");if(n.detail.miss>0?u.value=X_(n.score):n.detail.good>0?u.value="FC":u.value="AP",!n.auto){const m=(f=localStorage.getItem(`@mutate:score-${n.song}-${n.hard}`))!=null?f:"0F",y=parseFloat(m.match(/^[0-9]+/)[0]),p=m.match(/(F|D|C|B|A|S|AP|FC)$/)[0],_=n.score>y?n.score:y,w=G_(u.value,p)?u.value:p;localStorage.setItem(`@mutate:score-${n.song}-${n.hard}`,`${_}${w}`)}async function c(){const m=document.getElementById("settle");m.style.opacity="0",await Qt.sleep(600),o("exit")}return un(async()=>{await Qt.sleep(200);const m=document.getElementById("settle");wr("/Mutate-HTML/music/mutate.mp3",!0),m.style.opacity="1",m.style.filter="none"}),(m,y)=>{const p=pl,_=ml;return pt(),Ft("div",Fw,[V("img",{id:"settle-img",src:s(H(qe)[r.song].file.image)},null,8,Pw),V("div",{id:"settle-right",style:jt({"font-size":H(yt)()?"2.5vh":"2.5vw"})},[V("div",Bw,[V("span",Dw,dt(r.song),1),V("span",null,dt(r.hard)+"\xA0\xA0\xA0\xA0Lv.\xA0"+dt(H(qe)[r.song].hard[r.hard]),1)]),it(p,{dashed:"",style:{width:"100%",margin:"0"}}),V("div",{id:"song-score",style:jt({"font-size":H(yt)()?"4vh":"4vw"})},[V("span",null,dt(r.score.toString().padStart(7,"0")),1),V("span",{id:"rank",style:jt({color:H(af)(r.auto?"AUTO":u.value),background:u.value==="AP"?"linear-gradient(0.25turn, #3f87a6, #ebf8e1, gold, #3f87a6)":"","background-clip":u.value==="AP"?"text":"",WebkitBackgroundClip:u.value==="AP"?"text":""})},dt(r.auto?"AUTO":u.value),5)],4),it(p,{dashed:"",style:{width:"100%",margin:"0"}}),V("div",Nw,[V("div",$w,[V("span",null,dt(r.detail.perfect)+"\xA0\xA0\xA0\xA0\u5B8C\u7F8E",1),V("span",null,dt(r.detail.good)+"\xA0\xA0\xA0\xA0\u826F\u597D",1),V("span",null,dt(r.detail.miss)+"\xA0\xA0\xA0\xA0\u9519\u8FC7",1)]),it(p,{type:"vertical",dashed:"",style:{height:"100%","border-color":"#ddd4"}}),V("div",Iw,[V("span",null,"\u63D0\u524D\xA0\xA0\xA0\xA0"+dt(r.detail.early),1),V("span",null,"\u8FC7\u665A\xA0\xA0\xA0\xA0"+dt(r.detail.late),1),V("span",null,"\u6700\u5927\u8FDE\u51FB\xA0\xA0\xA0\xA0"+dt(r.maxCombo),1)])]),it(p,{dashed:"",style:{width:"100%",margin:"0 0 10% 0"}}),it(_,{id:"confirm",style:jt({"font-size":H(yt)()?"3vh":"3vw"}),onClick:c},{default:Kt(()=>[it(H(ev),{style:{}})]),_:1},8,["style"])],4)])}}});const Lw=cn(Mw,[["__scopeId","data-v-d37be555"]]),Uw=r=>(Ss("data-v-0c7fc483"),r=r(),ks(),r),zw={id:"mutate-div"},Ww={key:0,id:"mutate-core"},Hw=Uw(()=>V("canvas",{id:"mutate-game",style:{width:"100%",height:"100%"}},null,-1)),qw=an({__name:"play",props:{auto:{type:Boolean},song:null,hard:null},emits:["exit"],setup(r,{emit:o}){var j;const n=r,s=ot([0,0]),u=ot([0,0]),c=ot(["0","0"]),f=ot(0),m=parseFloat((j=localStorage.getItem("@mutate:offset"))!=null?j:"0"),y=ot(!1),p=ot(0),_=ot(),w=ot(0),S=ot(!1);function O(){S.value=!0,o("exit")}return un(async()=>{const B=document.getElementById("mutate-div"),I=document.getElementById("mutate-core"),P=document.getElementById("mutate-game"),D=P.getContext("2d");let{w:$,h:at}=Hs();if($-=10,at-=10,$/at>16/9){const rt=at*16/9;P.height=at,P.width=rt,I.style.width=`${rt}px`,I.style.height=`${at}px`}else{const rt=$*9/16;P.height=rt,P.width=$,I.style.width=`${$}px`,I.style.height=`${rt}px`}await Qt.sleep(600);const J=J_(P),mt="/Mutate-HTML/";P.style.opacity="1",f.value=1;const _t=new Wn;_t.add(rt=>{const bt=Math.PI*rt/700,Ut=P.width,Pe=P.height,ve=Ut/2,Be=Pe/5*2;D.lineWidth=5,D.lineCap="round",D.clearRect(0,0,P.width,P.height),D.beginPath(),D.arc(ve,Be,Math.min(Ut,Pe)/16,0,Math.PI*2),D.strokeStyle="#444",D.stroke(),D.beginPath(),D.arc(ve,Be,Math.min(Ut,Pe)/16,bt,bt+Math.PI/2),D.strokeStyle="#eee",D.stroke(),D.closePath(),D.textAlign="center",D.font="normal 4em Verdana",D.fillStyle="#eee",D.fillText(`loading${".".repeat(Math.floor(rt/800)%4)}`,ve,Be+Be/2);const Q=Ln(s.value[0]),ft=Ln(u.value[0]);D.textAlign="left",D.font=`normal ${24*P.width/1920}px Verdana`,D.fillText(`\u97F3\u4E50\u52A0\u8F7D\u8FDB\u5EA6    ${Q} / ${ft}`,P.width/11,P.height*(1-.11));const Ct=Ln(s.value[1]),Bt=Ln(u.value[1]);D.fillText(`\u8C31\u9762\u52A0\u8F7D\u8FDB\u5EA6    ${Ct} / ${Bt}`,P.width/11,P.height*(1-.21)),c.value=[(s.value[0]/u.value[0]*100).toFixed(2),(s.value[1]/u.value[1]*100).toFixed(2)]});const Pt=qe[n.song];console.log(Pt),await J.load(`${mt}music/${Pt.file.music}`,`${mt}chart/${Pt.file.chart[n.hard]}`,rt=>{s.value[0]=rt.loaded,u.value[0]=rt.total},rt=>{s.value[1]=rt.loaded,u.value[1]=rt.total}),P.style.opacity="0",f.value=0,await Qt.sleep(600),_t.destroy(),D.clearRect(0,0,P.width,P.height),P.style.opacity="1",P.style.transition="",J.setOffset(-m),Cw(J),J.start(),J.setSound("tap","/Mutate-HTML/se/tap.wav"),J.setSound("drag","/Mutate-HTML/se/drag.wav"),n.auto&&(J.chart.judger.auto=!0),J.renderer.on("after",Ow),J.on("end",async()=>{I.style.opacity="0",p.value=J.getScore(),_.value=J.getDetail(),w.value=J.chart.judger.maxCombo,await Qt.sleep(600),B.style.backgroundColor="#111",y.value=!0})}),(B,I)=>{const P=hl;return pt(),Ft("div",zw,[!y.value&&!S.value?(pt(),Ft("div",Ww,[Hw,it(P,{percent:parseFloat(c.value[0]),style:jt({position:"absolute",bottom:"7%",width:"50%",left:"7%",opacity:f.value,transition:"opacity 0.6s linear"})},null,8,["percent","style"]),it(P,{percent:parseFloat(c.value[1]),style:jt({position:"absolute",bottom:"17%",width:"50%",left:"7%",opacity:f.value,transition:"opacity 0.6s linear"})},null,8,["percent","style"])])):ke("",!0),y.value&&!S.value?(pt(),on(Lw,{key:1,song:r.song,auto:r.auto,hard:r.hard,score:p.value,detail:_.value,"max-combo":w.value,onExit:O},null,8,["song","auto","hard","score","detail","max-combo"])):ke("",!0)])}}});const Vw=cn(qw,[["__scopeId","data-v-0c7fc483"]]);const Jw=r=>(Ss("data-v-5c0fc05c"),r=r(),ks(),r),Kw={id:"settings"},Yw={id:"back-div",style:{display:"flex","justify-content":"center","align-items":"center","justify-items":"center"}},Xw={key:0,id:"offset"},Gw=Jw(()=>V("canvas",{id:"offset-canvas"},null,-1)),Zw={id:"slider"},Qw={id:"slider-main"},tb={key:0,style:{"font-size":"1.4vw"}},eb={key:1,style:{"font-size":"1.4vw"}},nb={key:1,id:"option"},rb=an({__name:"setting",emits:["exit"],setup(r,{emit:o}){const n=ot(["offset"]),s=ot(0),u=ot(0),c=new Wn,f=localStorage.getItem("@mutate:offset");Bs.has(f)?s.value=parseInt(f):(localStorage.setItem("@mutate:offset","0"),s.value=0),xi(s,p=>{localStorage.setItem("@mutate:offset",p.toString())}),xi(n,p=>{c.clear(),p[0]==="offset"&&y()},{immediate:!0}),un(async()=>{await Qt.sleep(200);const p=document.getElementById("settings");p.style.opacity="1"});async function m(){const p=document.getElementById("settings");p.style.opacity="0",await Qt.sleep(600),wr("/Mutate-HTML/music/mutate.mp3",!0),c.destroy(),o("exit")}async function y(){await Qt.sleep(200);const p=document.getElementById("offset-canvas"),_=p.getContext("2d"),w=getComputedStyle(p);p.width=parseFloat(w.width),p.height=parseFloat(w.height);const S=p.width,O=p.height,j=Ce.currentTime;let B=0,I=0,P=1e3;c.add(async()=>{_.clearRect(0,0,S,O);const J=(Ce.currentTime-j)*1e3%2400;_.save();const mt=S*3/4+s.value/2400*S;_.strokeStyle="#ddd",_.lineWidth=2,_.beginPath(),_.moveTo(mt,0),_.lineTo(mt,O),_.stroke();const _t=J/2400*S;_.beginPath(),_.moveTo(_t,O/4),_.lineTo(_t+7,O/4+7),_.lineTo(_t+7,O*3/4-7),_.lineTo(_t,O*3/4),_.lineTo(_t-7,O*3/4-7),_.lineTo(_t-7,O/4+7),_.closePath(),_.fillStyle="#00d2eb",_.lineWidth=4,_.fill(),_.stroke(),P+=16.7;let Pt=2-P/500;Pt<0&&(Pt=0),_.globalAlpha=Pt,_.strokeStyle="#5f9",_.beginPath(),_.moveTo(I,0),_.lineTo(I,O),_.stroke(),_.restore();const rt=Math.floor(J/600)%4;(rt===1||rt===2)&&B!==rt?(B=rt,await wr("/Mutate-HTML/se/drag.wav")):rt===3&&B!==rt&&(B=rt,await wr("/Mutate-HTML/se/tap.wav"))});let D=[];document.addEventListener("keydown",at=>{if(!D.includes(at.keyCode)){D.push(at.keyCode);const J=(Ce.currentTime-j)*1e3%2400;I=J/2400*S,P=0,u.value=Math.round(J-1800-s.value)}}),document.addEventListener("keyup",at=>{const J=D.findIndex(mt=>mt===at.keyCode);J!==-1&&D.splice(J,1)});let $=0;p.addEventListener("touchstart",at=>{const J=$;if(at.touches.length>J){const mt=(Ce.currentTime-j)*1e3%2400;I=mt/2400*S,P=0,u.value=Math.round(mt-1800-s.value)}$=at.touches.length}),p.addEventListener("touchend",at=>{$=at.touches.length})}return(p,_)=>{const w=gl,S=dl,O=ov,j=sv,B=av,I=uv;return pt(),Ft("div",Kw,[it(I,{style:jt({width:H(yt)()?"95vh":"95vw",height:H(yt)()?"95vw":"95vh"})},{default:Kt(()=>[it(O,null,{default:Kt(()=>[V("div",Yw,[it(H(nv),{onClick:m,id:"back",style:{"font-size":"24px",cursor:"pointer",transition:"all 0.2s linear"}})]),it(S,{selectedKeys:n.value,"onUpdate:selectedKeys":_[0]||(_[0]=P=>n.value=P),theme:"dark",mode:"horizontal",style:{"font-size":"28px","font-family":"normal"}},{default:Kt(()=>[it(w,{key:"offset",style:{margin:"0 2% 0 2%"}},{default:Kt(()=>[Mn("\u6821\u51C6")]),_:1}),it(w,{key:"option",style:{margin:"0 2% 0 2%"}},{default:Kt(()=>[Mn("\u8BBE\u7F6E")]),_:1})]),_:1},8,["selectedKeys"])]),_:1}),it(B,null,{default:Kt(()=>[n.value[0]==="offset"?(pt(),Ft("div",Xw,[V("span",{id:"hint",style:jt({"font-size":H(yt)()?"2.5vh":"3vw"})},"\u8C03\u6574\u6ED1\u52A8\u6761\u4F7F\u5728\u7B2C\u4E09\u4E2A\u8282\u62CD\u6253\u51FB\u65F6\u6070\u597D\u5728\u6807\u51C6\u7EBF\u5904"+dt(H(yt)()?"\uFF08\u624B\u673A\u7AEF\u4E0D\u53EF\u62D6\u52A8\u6ED1\u52A8\u6761\uFF09":""),5),Gw,V("div",Zw,[V("span",{style:jt({"font-size":H(yt)()?"2vh":"2vw"})}," \u6253\u51FB\u5EF6\u8FDF\xA0\xA0\xA0\xA0"+dt(u.value>0?`+${u.value}`:u.value)+"ms ",5),V("span",{style:jt({"font-size":H(yt)()?"2vh":"2vw"})},dt(s.value>0?`+${s.value}`:s.value)+"ms",5),V("div",Qw,[it(H(rv),{style:{"font-size":"3vw",cursor:"pointer"},onClick:_[1]||(_[1]=P=>s.value<-300?s.value=-300:s.value-=5)}),it(j,{value:s.value,"onUpdate:value":_[2]||(_[2]=P=>s.value=P),id:"slider-slider",step:5,"tip-formatter":P=>`${P>0?`+${P}`:P}ms`,min:-300,max:300,included:!1,marks:{"-300":"-300ms","-200":"-200ms","-100":"-100ms",0:"0",100:"+100ms",200:"+200ms",300:"+300ms"}},{mark:Kt(({label:P,point:D})=>[D===0?(pt(),Ft("strong",tb,dt(P),1)):(pt(),Ft("p",eb,dt(P),1))]),_:1},8,["value","tip-formatter"]),it(H(iv),{style:{"font-size":"3vw",cursor:"pointer"},onClick:_[3]||(_[3]=P=>s.value>300?s.value=300:s.value+=5)})])])])):ke("",!0),n.value[0]==="option"?(pt(),Ft("div",nb)):ke("",!0)]),_:1})]),_:1},8,["style"])])}}});const ib=cn(rb,[["__scopeId","data-v-5c0fc05c"]]),ob={key:0,id:"start-tip"},sb=an({__name:"App",setup(r){const o=ot(!1),n=ot(!1),s=ot(!1),u=ot(!1),c=ot(!1),f=ot(!1),m=ot(""),y=ot("easy");xi(s,j=>{j===!0&&(o.value=!1);const B=document.getElementById("game");B.style.border="1px solid #fff"}),cv("select",s),un(()=>{const j=document.getElementById("game"),B=document.getElementById("start-tip");window.innerHeight>window.innerWidth&&(j.style.transform="rotate(90deg)",j.style.width="95vh",j.style.height="95vw"),B.style.opacity="1",j.addEventListener("touchmove",I=>I.preventDefault())});function p(){if(n.value)return;const j=document.getElementById("start-tip");j.style.opacity="0",j.addEventListener("transitionend",()=>{o.value=!0,n.value=!0})}function _(j){const{music:B,hard:I}=j;c.value=!0,s.value=!1,f.value=j.auto,m.value=B,y.value=I}function w(){s.value=!1,u.value=!0}function S(){u.value=!1,s.value=!0}function O(){c.value=!1,s.value=!0}return(j,B)=>(pt(),Ft("div",{id:"game",onClick:p},[n.value?ke("",!0):(pt(),Ft("span",ob,"\u70B9\u51FB\u4EE5\u52A0\u8F7D\u6E38\u620F")),o.value?(pt(),on(sw,{key:1})):ke("",!0),s.value?(pt(),on(kw,{key:2,onStart:_,onSetting:w})):ke("",!0),c.value?(pt(),on(Vw,{key:3,auto:f.value,song:m.value,hard:y.value,onExit:O},null,8,["auto","song","hard"])):ke("",!0),u.value?(pt(),on(ib,{key:4,onExit:S})):ke("",!0)]))}});const ab=cn(sb,[["__scopeId","data-v-3fc472d5"]]);lv(ab).mount("#app");export{ub as __vite_legacy_guard};
