import{r as Z,d as Mt,m as qe,i as cy,o as Te,a as st,c as wt,b as V,e as Gt,F as Bi,_ as xl,p as Ms,f as Ns,g as J,h as $i,w as Vn,j as vt,k as Ss,u as W,n as yt,M as Al,l as Jn,q as me,s as Yt,t as ht,v as Fl,x as ly,S as fy,y as Tl,C as hy,B as ji,z as dy,U as py,A as my,P as gy,L as Sl,R as vy,D as yy,E as Ls,G as Cl,H as kl,I as Bl,J as _y,K as wy,N as by,O as Ey,Q as xy,T as Ay,V as Fy,W as Ty,X as Sy}from"./antdv.61b7f8e3.js";function wE(){import("data:text/javascript,")}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerpolicy&&(c.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?c.credentials="include":u.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(u){if(u.ep)return;u.ep=!0;const c=n(u);fetch(u.href,c)}})();function Ol(r,i){return function(){return r.apply(i,arguments)}}const{toString:Dl}=Object.prototype,{getPrototypeOf:Us}=Object,zs=(r=>i=>{const n=Dl.call(i);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ve=r=>(r=r.toLowerCase(),i=>zs(i)===r),Pi=r=>i=>typeof i===r,{isArray:Sr}=Array,Cs=Pi("undefined");function Cy(r){return r!==null&&!Cs(r)&&r.constructor!==null&&!Cs(r.constructor)&&Xn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Rl=Ve("ArrayBuffer");function ky(r){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(r):i=r&&r.buffer&&Rl(r.buffer),i}const By=Pi("string"),Xn=Pi("function"),$l=Pi("number"),jl=r=>r!==null&&typeof r=="object",Oy=r=>r===!0||r===!1,Ai=r=>{if(zs(r)!=="object")return!1;const i=Us(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Dy=Ve("Date"),Ry=Ve("File"),$y=Ve("Blob"),jy=Ve("FileList"),Py=r=>jl(r)&&Xn(r.pipe),Iy=r=>{const i="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||Dl.call(r)===i||Xn(r.toString)&&r.toString()===i)},My=Ve("URLSearchParams"),Ny=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ii(r,i,{allOwnKeys:n=!1}={}){if(r===null||typeof r>"u")return;let s,u;if(typeof r!="object"&&(r=[r]),Sr(r))for(s=0,u=r.length;s<u;s++)i.call(null,r[s],s,r);else{const c=n?Object.getOwnPropertyNames(r):Object.keys(r),l=c.length;let p;for(s=0;s<l;s++)p=c[s],i.call(null,r[p],p,r)}}function ks(){const r={},i=(n,s)=>{Ai(r[s])&&Ai(n)?r[s]=ks(r[s],n):Ai(n)?r[s]=ks({},n):Sr(n)?r[s]=n.slice():r[s]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Ii(arguments[n],i);return r}const Ly=(r,i,n,{allOwnKeys:s}={})=>(Ii(i,(u,c)=>{n&&Xn(u)?r[c]=Ol(u,n):r[c]=u},{allOwnKeys:s}),r),Uy=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),zy=(r,i,n,s)=>{r.prototype=Object.create(i.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:i.prototype}),n&&Object.assign(r.prototype,n)},Wy=(r,i,n,s)=>{let u,c,l;const p={};if(i=i||{},r==null)return i;do{for(u=Object.getOwnPropertyNames(r),c=u.length;c-- >0;)l=u[c],(!s||s(l,r,i))&&!p[l]&&(i[l]=r[l],p[l]=!0);r=n!==!1&&Us(r)}while(r&&(!n||n(r,i))&&r!==Object.prototype);return i},Hy=(r,i,n)=>{r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=i.length;const s=r.indexOf(i,n);return s!==-1&&s===n},qy=r=>{if(!r)return null;if(Sr(r))return r;let i=r.length;if(!$l(i))return null;const n=new Array(i);for(;i-- >0;)n[i]=r[i];return n},Ky=(r=>i=>r&&i instanceof r)(typeof Uint8Array<"u"&&Us(Uint8Array)),Vy=(r,i)=>{const s=(r&&r[Symbol.iterator]).call(r);let u;for(;(u=s.next())&&!u.done;){const c=u.value;i.call(r,c[0],c[1])}},Jy=(r,i)=>{let n;const s=[];for(;(n=r.exec(i))!==null;)s.push(n);return s},Xy=Ve("HTMLFormElement"),Yy=r=>r.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,s,u){return s.toUpperCase()+u}),$c=(({hasOwnProperty:r})=>(i,n)=>r.call(i,n))(Object.prototype),Gy=Ve("RegExp"),Pl=(r,i)=>{const n=Object.getOwnPropertyDescriptors(r),s={};Ii(n,(u,c)=>{i(u,c,r)!==!1&&(s[c]=u)}),Object.defineProperties(r,s)},Zy=r=>{Pl(r,(i,n)=>{const s=r[n];if(!!Xn(s)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not read-only method '"+n+"'")})}})},Qy=(r,i)=>{const n={},s=u=>{u.forEach(c=>{n[c]=!0})};return Sr(r)?s(r):s(String(r).split(i)),n},t1=()=>{},e1=(r,i)=>(r=+r,Number.isFinite(r)?r:i),$={isArray:Sr,isArrayBuffer:Rl,isBuffer:Cy,isFormData:Iy,isArrayBufferView:ky,isString:By,isNumber:$l,isBoolean:Oy,isObject:jl,isPlainObject:Ai,isUndefined:Cs,isDate:Dy,isFile:Ry,isBlob:$y,isRegExp:Gy,isFunction:Xn,isStream:Py,isURLSearchParams:My,isTypedArray:Ky,isFileList:jy,forEach:Ii,merge:ks,extend:Ly,trim:Ny,stripBOM:Uy,inherits:zy,toFlatObject:Wy,kindOf:zs,kindOfTest:Ve,endsWith:Hy,toArray:qy,forEachEntry:Vy,matchAll:Jy,isHTMLForm:Xy,hasOwnProperty:$c,hasOwnProp:$c,reduceDescriptors:Pl,freezeMethods:Zy,toObjectSet:Qy,toCamelCase:Yy,noop:t1,toFiniteNumber:e1};function dt(r,i,n,s,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",i&&(this.code=i),n&&(this.config=n),s&&(this.request=s),u&&(this.response=u)}$.inherits(dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Il=dt.prototype,Ml={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Ml[r]={value:r}});Object.defineProperties(dt,Ml);Object.defineProperty(Il,"isAxiosError",{value:!0});dt.from=(r,i,n,s,u,c)=>{const l=Object.create(Il);return $.toFlatObject(r,l,function(m){return m!==Error.prototype},p=>p!=="isAxiosError"),dt.call(l,r.message,i,n,s,u),l.cause=r,l.name=r.name,c&&Object.assign(l,c),l};var n1=typeof self=="object"?self.FormData:window.FormData;function Bs(r){return $.isPlainObject(r)||$.isArray(r)}function Nl(r){return $.endsWith(r,"[]")?r.slice(0,-2):r}function jc(r,i,n){return r?r.concat(i).map(function(u,c){return u=Nl(u),!n&&c?"["+u+"]":u}).join(n?".":""):i}function r1(r){return $.isArray(r)&&!r.some(Bs)}const i1=$.toFlatObject($,{},null,function(i){return/^is[A-Z]/.test(i)});function o1(r){return r&&$.isFunction(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator]}function Mi(r,i,n){if(!$.isObject(r))throw new TypeError("target must be an object");i=i||new(n1||FormData),n=$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,I){return!$.isUndefined(I[O])});const s=n.metaTokens,u=n.visitor||_,c=n.dots,l=n.indexes,m=(n.Blob||typeof Blob<"u"&&Blob)&&o1(i);if(!$.isFunction(u))throw new TypeError("visitor must be a function");function h(F){if(F===null)return"";if($.isDate(F))return F.toISOString();if(!m&&$.isBlob(F))throw new dt("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(F)||$.isTypedArray(F)?m&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function _(F,O,I){let C=F;if(F&&!I&&typeof F=="object"){if($.endsWith(O,"{}"))O=s?O:O.slice(0,-2),F=JSON.stringify(F);else if($.isArray(F)&&r1(F)||$.isFileList(F)||$.endsWith(O,"[]")&&(C=$.toArray(F)))return O=Nl(O),C.forEach(function(B,U){!$.isUndefined(B)&&i.append(l===!0?jc([O],U,c):l===null?O:O+"[]",h(B))}),!1}return Bs(F)?!0:(i.append(jc(I,O,c),h(F)),!1)}const v=[],b=Object.assign(i1,{defaultVisitor:_,convertValue:h,isVisitable:Bs});function A(F,O){if(!$.isUndefined(F)){if(v.indexOf(F)!==-1)throw Error("Circular reference detected in "+O.join("."));v.push(F),$.forEach(F,function(C,j){(!$.isUndefined(C)&&u.call(i,C,$.isString(j)?j.trim():j,O,b))===!0&&A(C,O?O.concat(j):[j])}),v.pop()}}if(!$.isObject(r))throw new TypeError("data must be an object");return A(r),i}function Pc(r){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return i[s]})}function Ws(r,i){this._pairs=[],r&&Mi(r,this,i)}const Ll=Ws.prototype;Ll.append=function(i,n){this._pairs.push([i,n])};Ll.toString=function(i){const n=i?function(s){return i.call(this,s,Pc)}:Pc;return this._pairs.map(function(u){return n(u[0])+"="+n(u[1])},"").join("&")};function s1(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ul(r,i,n){if(!i)return r;const s=r.indexOf("#");s!==-1&&(r=r.slice(0,s));const u=n&&n.encode||s1,c=$.isURLSearchParams(i)?i.toString():new Ws(i,n).toString(u);return c&&(r+=(r.indexOf("?")===-1?"?":"&")+c),r}class Ic{constructor(){this.handlers=[]}use(i,n,s){return this.handlers.push({fulfilled:i,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){$.forEach(this.handlers,function(s){s!==null&&i(s)})}}const zl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},a1=typeof URLSearchParams<"u"?URLSearchParams:Ws,u1=FormData,c1=(()=>{let r;return typeof navigator<"u"&&((r=navigator.product)==="ReactNative"||r==="NativeScript"||r==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Ke={isBrowser:!0,classes:{URLSearchParams:a1,FormData:u1,Blob},isStandardBrowserEnv:c1,protocols:["http","https","file","blob","url","data"]};function l1(r,i){return Mi(r,new Ke.classes.URLSearchParams,Object.assign({visitor:function(n,s,u,c){return Ke.isNode&&$.isBuffer(n)?(this.append(s,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},i))}function f1(r){return $.matchAll(/\w+|\[(\w*)]/g,r).map(i=>i[0]==="[]"?"":i[1]||i[0])}function h1(r){const i={},n=Object.keys(r);let s;const u=n.length;let c;for(s=0;s<u;s++)c=n[s],i[c]=r[c];return i}function Wl(r){function i(n,s,u,c){let l=n[c++];const p=Number.isFinite(+l),m=c>=n.length;return l=!l&&$.isArray(u)?u.length:l,m?($.hasOwnProp(u,l)?u[l]=[u[l],s]:u[l]=s,!p):((!u[l]||!$.isObject(u[l]))&&(u[l]=[]),i(n,s,u[l],c)&&$.isArray(u[l])&&(u[l]=h1(u[l])),!p)}if($.isFormData(r)&&$.isFunction(r.entries)){const n={};return $.forEachEntry(r,(s,u)=>{i(f1(s),u,n,0)}),n}return null}function d1(r,i,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?r(n):i(new dt("Request failed with status code "+n.status,[dt.ERR_BAD_REQUEST,dt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const p1=Ke.isStandardBrowserEnv?function(){return{write:function(n,s,u,c,l,p){const m=[];m.push(n+"="+encodeURIComponent(s)),$.isNumber(u)&&m.push("expires="+new Date(u).toGMTString()),$.isString(c)&&m.push("path="+c),$.isString(l)&&m.push("domain="+l),p===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(n){const s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function m1(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function g1(r,i){return i?r.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):r}function Hl(r,i){return r&&!m1(i)?g1(r,i):i}const v1=Ke.isStandardBrowserEnv?function(){const i=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function u(c){let l=c;return i&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=u(window.location.href),function(l){const p=$.isString(l)?u(l):l;return p.protocol===s.protocol&&p.host===s.host}}():function(){return function(){return!0}}();function Cr(r,i,n){dt.call(this,r==null?"canceled":r,dt.ERR_CANCELED,i,n),this.name="CanceledError"}$.inherits(Cr,dt,{__CANCEL__:!0});function y1(r){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return i&&i[1]||""}const _1=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),w1=r=>{const i={};let n,s,u;return r&&r.split(`
`).forEach(function(l){u=l.indexOf(":"),n=l.substring(0,u).trim().toLowerCase(),s=l.substring(u+1).trim(),!(!n||i[n]&&_1[n])&&(n==="set-cookie"?i[n]?i[n].push(s):i[n]=[s]:i[n]=i[n]?i[n]+", "+s:s)}),i},Mc=Symbol("internals"),ql=Symbol("defaults");function Ar(r){return r&&String(r).trim().toLowerCase()}function xi(r){return r===!1||r==null?r:String(r)}function b1(r){const i=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(r);)i[s[1]]=s[2];return i}function Nc(r,i,n,s){if($.isFunction(s))return s.call(this,i,n);if(!!$.isString(i)){if($.isString(s))return i.indexOf(s)!==-1;if($.isRegExp(s))return s.test(i)}}function E1(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,n,s)=>n.toUpperCase()+s)}function x1(r,i){const n=$.toCamelCase(" "+i);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+n,{value:function(u,c,l){return this[s].call(this,i,u,c,l)},configurable:!0})})}function br(r,i){i=i.toLowerCase();const n=Object.keys(r);let s=n.length,u;for(;s-- >0;)if(u=n[s],i===u.toLowerCase())return u;return null}function ge(r,i){r&&this.set(r),this[ql]=i||null}Object.assign(ge.prototype,{set:function(r,i,n){const s=this;function u(c,l,p){const m=Ar(l);if(!m)throw new Error("header name must be a non-empty string");const h=br(s,m);h&&p!==!0&&(s[h]===!1||p===!1)||($.isArray(c)?c=c.map(xi):c=xi(c),s[h||l]=c)}return $.isPlainObject(r)?$.forEach(r,(c,l)=>{u(c,l,i)}):u(i,r,n),this},get:function(r,i){if(r=Ar(r),!r)return;const n=br(this,r);if(n){const s=this[n];if(!i)return s;if(i===!0)return b1(s);if($.isFunction(i))return i.call(this,s,n);if($.isRegExp(i))return i.exec(s);throw new TypeError("parser must be boolean|regexp|function")}},has:function(r,i){if(r=Ar(r),r){const n=br(this,r);return!!(n&&(!i||Nc(this,this[n],n,i)))}return!1},delete:function(r,i){const n=this;let s=!1;function u(c){if(c=Ar(c),c){const l=br(n,c);l&&(!i||Nc(n,n[l],l,i))&&(delete n[l],s=!0)}}return $.isArray(r)?r.forEach(u):u(r),s},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(r){const i=this,n={};return $.forEach(this,(s,u)=>{const c=br(n,u);if(c){i[c]=xi(s),delete i[u];return}const l=r?E1(u):String(u).trim();l!==u&&delete i[u],i[l]=xi(s),n[l]=!0}),this},toJSON:function(){const r=Object.create(null);return $.forEach(Object.assign({},this[ql]||null,this),(i,n)=>{i==null||i===!1||(r[n]=$.isArray(i)?i.join(", "):i)}),r}});Object.assign(ge,{from:function(r){return $.isString(r)?new this(w1(r)):r instanceof this?r:new this(r)},accessor:function(r){const n=(this[Mc]=this[Mc]={accessors:{}}).accessors,s=this.prototype;function u(c){const l=Ar(c);n[l]||(x1(s,c),n[l]=!0)}return $.isArray(r)?r.forEach(u):u(r),this}});ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);$.freezeMethods(ge.prototype);$.freezeMethods(ge);function A1(r,i){r=r||10;const n=new Array(r),s=new Array(r);let u=0,c=0,l;return i=i!==void 0?i:1e3,function(m){const h=Date.now(),_=s[c];l||(l=h),n[u]=m,s[u]=h;let v=c,b=0;for(;v!==u;)b+=n[v++],v=v%r;if(u=(u+1)%r,u===c&&(c=(c+1)%r),h-l<i)return;const A=_&&h-_;return A?Math.round(b*1e3/A):void 0}}function Lc(r,i){let n=0;const s=A1(50,250);return u=>{const c=u.loaded,l=u.lengthComputable?u.total:void 0,p=c-n,m=s(p),h=c<=l;n=c;const _={loaded:c,total:l,progress:l?c/l:void 0,bytes:p,rate:m||void 0,estimated:m&&l&&h?(l-c)/m:void 0};_[i?"download":"upload"]=!0,r(_)}}function Uc(r){return new Promise(function(n,s){let u=r.data;const c=ge.from(r.headers).normalize(),l=r.responseType;let p;function m(){r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}$.isFormData(u)&&Ke.isStandardBrowserEnv&&c.setContentType(!1);let h=new XMLHttpRequest;if(r.auth){const A=r.auth.username||"",F=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";c.set("Authorization","Basic "+btoa(A+":"+F))}const _=Hl(r.baseURL,r.url);h.open(r.method.toUpperCase(),Ul(_,r.params,r.paramsSerializer),!0),h.timeout=r.timeout;function v(){if(!h)return;const A=ge.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),O={data:!l||l==="text"||l==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:A,config:r,request:h};d1(function(C){n(C),m()},function(C){s(C),m()},O),h=null}if("onloadend"in h?h.onloadend=v:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(v)},h.onabort=function(){!h||(s(new dt("Request aborted",dt.ECONNABORTED,r,h)),h=null)},h.onerror=function(){s(new dt("Network Error",dt.ERR_NETWORK,r,h)),h=null},h.ontimeout=function(){let F=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const O=r.transitional||zl;r.timeoutErrorMessage&&(F=r.timeoutErrorMessage),s(new dt(F,O.clarifyTimeoutError?dt.ETIMEDOUT:dt.ECONNABORTED,r,h)),h=null},Ke.isStandardBrowserEnv){const A=(r.withCredentials||v1(_))&&r.xsrfCookieName&&p1.read(r.xsrfCookieName);A&&c.set(r.xsrfHeaderName,A)}u===void 0&&c.setContentType(null),"setRequestHeader"in h&&$.forEach(c.toJSON(),function(F,O){h.setRequestHeader(O,F)}),$.isUndefined(r.withCredentials)||(h.withCredentials=!!r.withCredentials),l&&l!=="json"&&(h.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&h.addEventListener("progress",Lc(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",Lc(r.onUploadProgress)),(r.cancelToken||r.signal)&&(p=A=>{!h||(s(!A||A.type?new Cr(null,r,h):A),h.abort(),h=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const b=y1(_);if(b&&Ke.protocols.indexOf(b)===-1){s(new dt("Unsupported protocol "+b+":",dt.ERR_BAD_REQUEST,r));return}h.send(u||null)})}const zc={http:Uc,xhr:Uc},Wc={getAdapter:r=>{if($.isString(r)){const i=zc[r];if(!r)throw Error($.hasOwnProp(r)?`Adapter '${r}' is not available in the build`:`Can not resolve adapter '${r}'`);return i}if(!$.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:zc},F1={"Content-Type":"application/x-www-form-urlencoded"};function T1(){let r;return typeof XMLHttpRequest<"u"?r=Wc.getAdapter("xhr"):typeof process<"u"&&$.kindOf(process)==="process"&&(r=Wc.getAdapter("http")),r}function S1(r,i,n){if($.isString(r))try{return(i||JSON.parse)(r),$.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(r)}const Yn={transitional:zl,adapter:T1(),transformRequest:[function(i,n){const s=n.getContentType()||"",u=s.indexOf("application/json")>-1,c=$.isObject(i);if(c&&$.isHTMLForm(i)&&(i=new FormData(i)),$.isFormData(i))return u&&u?JSON.stringify(Wl(i)):i;if($.isArrayBuffer(i)||$.isBuffer(i)||$.isStream(i)||$.isFile(i)||$.isBlob(i))return i;if($.isArrayBufferView(i))return i.buffer;if($.isURLSearchParams(i))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let p;if(c){if(s.indexOf("application/x-www-form-urlencoded")>-1)return l1(i,this.formSerializer).toString();if((p=$.isFileList(i))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Mi(p?{"files[]":i}:i,m&&new m,this.formSerializer)}}return c||u?(n.setContentType("application/json",!1),S1(i)):i}],transformResponse:[function(i){const n=this.transitional||Yn.transitional,s=n&&n.forcedJSONParsing,u=this.responseType==="json";if(i&&$.isString(i)&&(s&&!this.responseType||u)){const l=!(n&&n.silentJSONParsing)&&u;try{return JSON.parse(i)}catch(p){if(l)throw p.name==="SyntaxError"?dt.from(p,dt.ERR_BAD_RESPONSE,this,null,this.response):p}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ke.classes.FormData,Blob:Ke.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};$.forEach(["delete","get","head"],function(i){Yn.headers[i]={}});$.forEach(["post","put","patch"],function(i){Yn.headers[i]=$.merge(F1)});function ps(r,i){const n=this||Yn,s=i||n,u=ge.from(s.headers);let c=s.data;return $.forEach(r,function(p){c=p.call(n,c,u.normalize(),i?i.status:void 0)}),u.normalize(),c}function Kl(r){return!!(r&&r.__CANCEL__)}function ms(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Cr}function Hc(r){return ms(r),r.headers=ge.from(r.headers),r.data=ps.call(r,r.transformRequest),(r.adapter||Yn.adapter)(r).then(function(s){return ms(r),s.data=ps.call(r,r.transformResponse,s),s.headers=ge.from(s.headers),s},function(s){return Kl(s)||(ms(r),s&&s.response&&(s.response.data=ps.call(r,r.transformResponse,s.response),s.response.headers=ge.from(s.response.headers))),Promise.reject(s)})}function Fr(r,i){i=i||{};const n={};function s(h,_){return $.isPlainObject(h)&&$.isPlainObject(_)?$.merge(h,_):$.isPlainObject(_)?$.merge({},_):$.isArray(_)?_.slice():_}function u(h){if($.isUndefined(i[h])){if(!$.isUndefined(r[h]))return s(void 0,r[h])}else return s(r[h],i[h])}function c(h){if(!$.isUndefined(i[h]))return s(void 0,i[h])}function l(h){if($.isUndefined(i[h])){if(!$.isUndefined(r[h]))return s(void 0,r[h])}else return s(void 0,i[h])}function p(h){if(h in i)return s(r[h],i[h]);if(h in r)return s(void 0,r[h])}const m={url:c,method:c,data:c,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:p};return $.forEach(Object.keys(r).concat(Object.keys(i)),function(_){const v=m[_]||u,b=v(_);$.isUndefined(b)&&v!==p||(n[_]=b)}),n}const Vl="1.1.2",Hs={};["object","boolean","number","function","string","symbol"].forEach((r,i)=>{Hs[r]=function(s){return typeof s===r||"a"+(i<1?"n ":" ")+r}});const qc={};Hs.transitional=function(i,n,s){function u(c,l){return"[Axios v"+Vl+"] Transitional option '"+c+"'"+l+(s?". "+s:"")}return(c,l,p)=>{if(i===!1)throw new dt(u(l," has been removed"+(n?" in "+n:"")),dt.ERR_DEPRECATED);return n&&!qc[l]&&(qc[l]=!0,console.warn(u(l," has been deprecated since v"+n+" and will be removed in the near future"))),i?i(c,l,p):!0}};function C1(r,i,n){if(typeof r!="object")throw new dt("options must be an object",dt.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let u=s.length;for(;u-- >0;){const c=s[u],l=i[c];if(l){const p=r[c],m=p===void 0||l(p,c,r);if(m!==!0)throw new dt("option "+c+" must be "+m,dt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new dt("Unknown option "+c,dt.ERR_BAD_OPTION)}}const Jl={assertOptions:C1,validators:Hs},Un=Jl.validators;class wn{constructor(i){this.defaults=i,this.interceptors={request:new Ic,response:new Ic}}request(i,n){typeof i=="string"?(n=n||{},n.url=i):n=i||{},n=Fr(this.defaults,n);const s=n.transitional;s!==void 0&&Jl.assertOptions(s,{silentJSONParsing:Un.transitional(Un.boolean),forcedJSONParsing:Un.transitional(Un.boolean),clarifyTimeoutError:Un.transitional(Un.boolean)},!1),n.method=(n.method||this.defaults.method||"get").toLowerCase();const u=n.headers&&$.merge(n.headers.common,n.headers[n.method]);u&&$.forEach(["delete","get","head","post","put","patch","common"],function(A){delete n.headers[A]}),n.headers=new ge(n.headers,u);const c=[];let l=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(n)===!1||(l=l&&A.synchronous,c.unshift(A.fulfilled,A.rejected))});const p=[];this.interceptors.response.forEach(function(A){p.push(A.fulfilled,A.rejected)});let m,h=0,_;if(!l){const b=[Hc.bind(this),void 0];for(b.unshift.apply(b,c),b.push.apply(b,p),_=b.length,m=Promise.resolve(n);h<_;)m=m.then(b[h++],b[h++]);return m}_=c.length;let v=n;for(h=0;h<_;){const b=c[h++],A=c[h++];try{v=b(v)}catch(F){A.call(this,F);break}}try{m=Hc.call(this,v)}catch(b){return Promise.reject(b)}for(h=0,_=p.length;h<_;)m=m.then(p[h++],p[h++]);return m}getUri(i){i=Fr(this.defaults,i);const n=Hl(i.baseURL,i.url);return Ul(n,i.params,i.paramsSerializer)}}$.forEach(["delete","get","head","options"],function(i){wn.prototype[i]=function(n,s){return this.request(Fr(s||{},{method:i,url:n,data:(s||{}).data}))}});$.forEach(["post","put","patch"],function(i){function n(s){return function(c,l,p){return this.request(Fr(p||{},{method:i,headers:s?{"Content-Type":"multipart/form-data"}:{},url:c,data:l}))}}wn.prototype[i]=n(),wn.prototype[i+"Form"]=n(!0)});class qs{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const s=this;this.promise.then(u=>{if(!s._listeners)return;let c=s._listeners.length;for(;c-- >0;)s._listeners[c](u);s._listeners=null}),this.promise.then=u=>{let c;const l=new Promise(p=>{s.subscribe(p),c=p}).then(u);return l.cancel=function(){s.unsubscribe(c)},l},i(function(c,l,p){s.reason||(s.reason=new Cr(c,l,p),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const n=this._listeners.indexOf(i);n!==-1&&this._listeners.splice(n,1)}static source(){let i;return{token:new qs(function(u){i=u}),cancel:i}}}function k1(r){return function(n){return r.apply(null,n)}}function B1(r){return $.isObject(r)&&r.isAxiosError===!0}function Xl(r){const i=new wn(r),n=Ol(wn.prototype.request,i);return $.extend(n,wn.prototype,i,{allOwnKeys:!0}),$.extend(n,i,null,{allOwnKeys:!0}),n.create=function(u){return Xl(Fr(r,u))},n}const Ct=Xl(Yn);Ct.Axios=wn;Ct.CanceledError=Cr;Ct.CancelToken=qs;Ct.isCancel=Kl;Ct.VERSION=Vl;Ct.toFormData=Mi;Ct.AxiosError=dt;Ct.Cancel=Ct.CanceledError;Ct.all=function(i){return Promise.all(i)};Ct.spread=k1;Ct.isAxiosError=B1;Ct.formToJSON=r=>Wl($.isHTMLForm(r)?new FormData(r):r);var O1=Object.defineProperty,D1=(r,i,n)=>i in r?O1(r,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[i]=n,T=(r,i,n)=>(D1(r,typeof i!="symbol"?i+"":i,n),n),Er=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function R1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Os={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(r,i){(function(){var n,s="4.17.21",u=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",p="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",h=500,_="__lodash_placeholder__",v=1,b=2,A=4,F=1,O=2,I=1,C=2,j=4,B=8,U=16,q=32,M=64,H=128,L=256,jt=512,rt=30,ft="...",Re=800,ve=16,Qn=1,kr=2,Br=3,$e=1/0,Se=9007199254740991,Or=17976931348623157e292,un=0/0,Qt=4294967295,kt=Qt-1,Dr=Qt>>>1,tr=[["ary",H],["bind",I],["bindKey",C],["curry",B],["curryRight",U],["flip",jt],["partial",q],["partialRight",M],["rearg",L]],Ce="[object Arguments]",Xe="[object Array]",An="[object AsyncFunction]",cn="[object Boolean]",ln="[object Date]",qi="[object DOMException]",Fn="[object Error]",Rr="[object Function]",ra="[object GeneratorFunction]",ye="[object Map]",er="[object Number]",Tf="[object Null]",je="[object Object]",ia="[object Promise]",Sf="[object Proxy]",nr="[object RegExp]",_e="[object Set]",rr="[object String]",$r="[object Symbol]",Cf="[object Undefined]",ir="[object WeakMap]",kf="[object WeakSet]",or="[object ArrayBuffer]",Tn="[object DataView]",Ki="[object Float32Array]",Vi="[object Float64Array]",Ji="[object Int8Array]",Xi="[object Int16Array]",Yi="[object Int32Array]",Gi="[object Uint8Array]",Zi="[object Uint8ClampedArray]",Qi="[object Uint16Array]",to="[object Uint32Array]",Bf=/\b__p \+= '';/g,Of=/\b(__p \+=) '' \+/g,Df=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oa=/&(?:amp|lt|gt|quot|#39);/g,sa=/[&<>"']/g,Rf=RegExp(oa.source),$f=RegExp(sa.source),jf=/<%-([\s\S]+?)%>/g,Pf=/<%([\s\S]+?)%>/g,aa=/<%=([\s\S]+?)%>/g,If=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mf=/^\w*$/,Nf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eo=/[\\^$.*+?()[\]{}|]/g,Lf=RegExp(eo.source),no=/^\s+/,Uf=/\s/,zf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Wf=/\{\n\/\* \[wrapped with (.+)\] \*/,Hf=/,? & /,qf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Kf=/[()=,{}\[\]\/\s]/,Vf=/\\(\\)?/g,Jf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ua=/\w*$/,Xf=/^[-+]0x[0-9a-f]+$/i,Yf=/^0b[01]+$/i,Gf=/^\[object .+?Constructor\]$/,Zf=/^0o[0-7]+$/i,Qf=/^(?:0|[1-9]\d*)$/,th=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jr=/($^)/,eh=/['\n\r\u2028\u2029\\]/g,Pr="\\ud800-\\udfff",nh="\\u0300-\\u036f",rh="\\ufe20-\\ufe2f",ih="\\u20d0-\\u20ff",ca=nh+rh+ih,la="\\u2700-\\u27bf",fa="a-z\\xdf-\\xf6\\xf8-\\xff",oh="\\xac\\xb1\\xd7\\xf7",sh="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ah="\\u2000-\\u206f",uh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ha="A-Z\\xc0-\\xd6\\xd8-\\xde",da="\\ufe0e\\ufe0f",pa=oh+sh+ah+uh,ro="['\u2019]",ch="["+Pr+"]",ma="["+pa+"]",Ir="["+ca+"]",ga="\\d+",lh="["+la+"]",va="["+fa+"]",ya="[^"+Pr+pa+ga+la+fa+ha+"]",io="\\ud83c[\\udffb-\\udfff]",fh="(?:"+Ir+"|"+io+")",_a="[^"+Pr+"]",oo="(?:\\ud83c[\\udde6-\\uddff]){2}",so="[\\ud800-\\udbff][\\udc00-\\udfff]",Sn="["+ha+"]",wa="\\u200d",ba="(?:"+va+"|"+ya+")",hh="(?:"+Sn+"|"+ya+")",Ea="(?:"+ro+"(?:d|ll|m|re|s|t|ve))?",xa="(?:"+ro+"(?:D|LL|M|RE|S|T|VE))?",Aa=fh+"?",Fa="["+da+"]?",dh="(?:"+wa+"(?:"+[_a,oo,so].join("|")+")"+Fa+Aa+")*",ph="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",mh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ta=Fa+Aa+dh,gh="(?:"+[lh,oo,so].join("|")+")"+Ta,vh="(?:"+[_a+Ir+"?",Ir,oo,so,ch].join("|")+")",yh=RegExp(ro,"g"),_h=RegExp(Ir,"g"),ao=RegExp(io+"(?="+io+")|"+vh+Ta,"g"),wh=RegExp([Sn+"?"+va+"+"+Ea+"(?="+[ma,Sn,"$"].join("|")+")",hh+"+"+xa+"(?="+[ma,Sn+ba,"$"].join("|")+")",Sn+"?"+ba+"+"+Ea,Sn+"+"+xa,mh,ph,ga,gh].join("|"),"g"),bh=RegExp("["+wa+Pr+ca+da+"]"),Eh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ah=-1,Et={};Et[Ki]=Et[Vi]=Et[Ji]=Et[Xi]=Et[Yi]=Et[Gi]=Et[Zi]=Et[Qi]=Et[to]=!0,Et[Ce]=Et[Xe]=Et[or]=Et[cn]=Et[Tn]=Et[ln]=Et[Fn]=Et[Rr]=Et[ye]=Et[er]=Et[je]=Et[nr]=Et[_e]=Et[rr]=Et[ir]=!1;var bt={};bt[Ce]=bt[Xe]=bt[or]=bt[Tn]=bt[cn]=bt[ln]=bt[Ki]=bt[Vi]=bt[Ji]=bt[Xi]=bt[Yi]=bt[ye]=bt[er]=bt[je]=bt[nr]=bt[_e]=bt[rr]=bt[$r]=bt[Gi]=bt[Zi]=bt[Qi]=bt[to]=!0,bt[Fn]=bt[Rr]=bt[ir]=!1;var Fh={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Th={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Sh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ch={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kh=parseFloat,Bh=parseInt,Sa=typeof Er=="object"&&Er&&Er.Object===Object&&Er,Oh=typeof self=="object"&&self&&self.Object===Object&&self,Pt=Sa||Oh||Function("return this")(),uo=i&&!i.nodeType&&i,fn=uo&&!0&&r&&!r.nodeType&&r,Ca=fn&&fn.exports===uo,co=Ca&&Sa.process,ae=function(){try{var E=fn&&fn.require&&fn.require("util").types;return E||co&&co.binding&&co.binding("util")}catch(k){}}(),ka=ae&&ae.isArrayBuffer,Ba=ae&&ae.isDate,Oa=ae&&ae.isMap,Da=ae&&ae.isRegExp,Ra=ae&&ae.isSet,$a=ae&&ae.isTypedArray;function te(E,k,S){switch(S.length){case 0:return E.call(k);case 1:return E.call(k,S[0]);case 2:return E.call(k,S[0],S[1]);case 3:return E.call(k,S[0],S[1],S[2])}return E.apply(k,S)}function Dh(E,k,S,z){for(var Q=-1,pt=E==null?0:E.length;++Q<pt;){var Bt=E[Q];k(z,Bt,S(Bt),E)}return z}function ue(E,k){for(var S=-1,z=E==null?0:E.length;++S<z&&k(E[S],S,E)!==!1;);return E}function Rh(E,k){for(var S=E==null?0:E.length;S--&&k(E[S],S,E)!==!1;);return E}function ja(E,k){for(var S=-1,z=E==null?0:E.length;++S<z;)if(!k(E[S],S,E))return!1;return!0}function Ye(E,k){for(var S=-1,z=E==null?0:E.length,Q=0,pt=[];++S<z;){var Bt=E[S];k(Bt,S,E)&&(pt[Q++]=Bt)}return pt}function Mr(E,k){var S=E==null?0:E.length;return!!S&&Cn(E,k,0)>-1}function lo(E,k,S){for(var z=-1,Q=E==null?0:E.length;++z<Q;)if(S(k,E[z]))return!0;return!1}function xt(E,k){for(var S=-1,z=E==null?0:E.length,Q=Array(z);++S<z;)Q[S]=k(E[S],S,E);return Q}function Ge(E,k){for(var S=-1,z=k.length,Q=E.length;++S<z;)E[Q+S]=k[S];return E}function fo(E,k,S,z){var Q=-1,pt=E==null?0:E.length;for(z&&pt&&(S=E[++Q]);++Q<pt;)S=k(S,E[Q],Q,E);return S}function $h(E,k,S,z){var Q=E==null?0:E.length;for(z&&Q&&(S=E[--Q]);Q--;)S=k(S,E[Q],Q,E);return S}function ho(E,k){for(var S=-1,z=E==null?0:E.length;++S<z;)if(k(E[S],S,E))return!0;return!1}var jh=po("length");function Ph(E){return E.split("")}function Ih(E){return E.match(qf)||[]}function Pa(E,k,S){var z;return S(E,function(Q,pt,Bt){if(k(Q,pt,Bt))return z=pt,!1}),z}function Nr(E,k,S,z){for(var Q=E.length,pt=S+(z?1:-1);z?pt--:++pt<Q;)if(k(E[pt],pt,E))return pt;return-1}function Cn(E,k,S){return k===k?Xh(E,k,S):Nr(E,Ia,S)}function Mh(E,k,S,z){for(var Q=S-1,pt=E.length;++Q<pt;)if(z(E[Q],k))return Q;return-1}function Ia(E){return E!==E}function Ma(E,k){var S=E==null?0:E.length;return S?go(E,k)/S:un}function po(E){return function(k){return k==null?n:k[E]}}function mo(E){return function(k){return E==null?n:E[k]}}function Na(E,k,S,z,Q){return Q(E,function(pt,Bt,_t){S=z?(z=!1,pt):k(S,pt,Bt,_t)}),S}function Nh(E,k){var S=E.length;for(E.sort(k);S--;)E[S]=E[S].value;return E}function go(E,k){for(var S,z=-1,Q=E.length;++z<Q;){var pt=k(E[z]);pt!==n&&(S=S===n?pt:S+pt)}return S}function vo(E,k){for(var S=-1,z=Array(E);++S<E;)z[S]=k(S);return z}function Lh(E,k){return xt(k,function(S){return[S,E[S]]})}function La(E){return E&&E.slice(0,Ha(E)+1).replace(no,"")}function ee(E){return function(k){return E(k)}}function yo(E,k){return xt(k,function(S){return E[S]})}function sr(E,k){return E.has(k)}function Ua(E,k){for(var S=-1,z=E.length;++S<z&&Cn(k,E[S],0)>-1;);return S}function za(E,k){for(var S=E.length;S--&&Cn(k,E[S],0)>-1;);return S}function Uh(E,k){for(var S=E.length,z=0;S--;)E[S]===k&&++z;return z}var zh=mo(Fh),Wh=mo(Th);function Hh(E){return"\\"+Ch[E]}function qh(E,k){return E==null?n:E[k]}function kn(E){return bh.test(E)}function Kh(E){return Eh.test(E)}function Vh(E){for(var k,S=[];!(k=E.next()).done;)S.push(k.value);return S}function _o(E){var k=-1,S=Array(E.size);return E.forEach(function(z,Q){S[++k]=[Q,z]}),S}function Wa(E,k){return function(S){return E(k(S))}}function Ze(E,k){for(var S=-1,z=E.length,Q=0,pt=[];++S<z;){var Bt=E[S];(Bt===k||Bt===_)&&(E[S]=_,pt[Q++]=S)}return pt}function Lr(E){var k=-1,S=Array(E.size);return E.forEach(function(z){S[++k]=z}),S}function Jh(E){var k=-1,S=Array(E.size);return E.forEach(function(z){S[++k]=[z,z]}),S}function Xh(E,k,S){for(var z=S-1,Q=E.length;++z<Q;)if(E[z]===k)return z;return-1}function Yh(E,k,S){for(var z=S+1;z--;)if(E[z]===k)return z;return z}function Bn(E){return kn(E)?Zh(E):jh(E)}function we(E){return kn(E)?Qh(E):Ph(E)}function Ha(E){for(var k=E.length;k--&&Uf.test(E.charAt(k)););return k}var Gh=mo(Sh);function Zh(E){for(var k=ao.lastIndex=0;ao.test(E);)++k;return k}function Qh(E){return E.match(ao)||[]}function td(E){return E.match(wh)||[]}var ed=function E(k){k=k==null?Pt:On.defaults(Pt.Object(),k,On.pick(Pt,xh));var S=k.Array,z=k.Date,Q=k.Error,pt=k.Function,Bt=k.Math,_t=k.Object,wo=k.RegExp,nd=k.String,ce=k.TypeError,Ur=S.prototype,rd=pt.prototype,Dn=_t.prototype,zr=k["__core-js_shared__"],Wr=rd.toString,gt=Dn.hasOwnProperty,id=0,qa=function(){var t=/[^.]+$/.exec(zr&&zr.keys&&zr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Hr=Dn.toString,od=Wr.call(_t),sd=Pt._,ad=wo("^"+Wr.call(gt).replace(eo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qr=Ca?k.Buffer:n,Qe=k.Symbol,Kr=k.Uint8Array,Ka=qr?qr.allocUnsafe:n,Vr=Wa(_t.getPrototypeOf,_t),Va=_t.create,Ja=Dn.propertyIsEnumerable,Jr=Ur.splice,Xa=Qe?Qe.isConcatSpreadable:n,ar=Qe?Qe.iterator:n,hn=Qe?Qe.toStringTag:n,Xr=function(){try{var t=vn(_t,"defineProperty");return t({},"",{}),t}catch(e){}}(),ud=k.clearTimeout!==Pt.clearTimeout&&k.clearTimeout,cd=z&&z.now!==Pt.Date.now&&z.now,ld=k.setTimeout!==Pt.setTimeout&&k.setTimeout,Yr=Bt.ceil,Gr=Bt.floor,bo=_t.getOwnPropertySymbols,fd=qr?qr.isBuffer:n,Ya=k.isFinite,hd=Ur.join,dd=Wa(_t.keys,_t),Ot=Bt.max,Lt=Bt.min,pd=z.now,md=k.parseInt,Ga=Bt.random,gd=Ur.reverse,Eo=vn(k,"DataView"),ur=vn(k,"Map"),xo=vn(k,"Promise"),Rn=vn(k,"Set"),cr=vn(k,"WeakMap"),lr=vn(_t,"create"),Zr=cr&&new cr,$n={},vd=yn(Eo),yd=yn(ur),_d=yn(xo),wd=yn(Rn),bd=yn(cr),Qr=Qe?Qe.prototype:n,fr=Qr?Qr.valueOf:n,Za=Qr?Qr.toString:n;function d(t){if(Ft(t)&&!tt(t)&&!(t instanceof ct)){if(t instanceof le)return t;if(gt.call(t,"__wrapped__"))return Qu(t)}return new le(t)}var jn=function(){function t(){}return function(e){if(!At(e))return{};if(Va)return Va(e);t.prototype=e;var o=new t;return t.prototype=n,o}}();function ti(){}function le(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}d.templateSettings={escape:jf,evaluate:Pf,interpolate:aa,variable:"",imports:{_:d}},d.prototype=ti.prototype,d.prototype.constructor=d,le.prototype=jn(ti.prototype),le.prototype.constructor=le;function ct(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Qt,this.__views__=[]}function Ed(){var t=new ct(this.__wrapped__);return t.__actions__=Kt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Kt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Kt(this.__views__),t}function xd(){if(this.__filtered__){var t=new ct(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Ad(){var t=this.__wrapped__.value(),e=this.__dir__,o=tt(t),a=e<0,f=o?t.length:0,g=Pp(0,f,this.__views__),y=g.start,w=g.end,x=w-y,D=a?w:y-1,R=this.__iteratees__,P=R.length,N=0,K=Lt(x,this.__takeCount__);if(!o||!a&&f==x&&K==x)return Eu(t,this.__actions__);var Y=[];t:for(;x--&&N<K;){D+=e;for(var it=-1,G=t[D];++it<P;){var at=R[it],lt=at.iteratee,ie=at.type,qt=lt(G);if(ie==kr)G=qt;else if(!qt){if(ie==Qn)continue t;break t}}Y[N++]=G}return Y}ct.prototype=jn(ti.prototype),ct.prototype.constructor=ct;function dn(t){var e=-1,o=t==null?0:t.length;for(this.clear();++e<o;){var a=t[e];this.set(a[0],a[1])}}function Fd(){this.__data__=lr?lr(null):{},this.size=0}function Td(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Sd(t){var e=this.__data__;if(lr){var o=e[t];return o===m?n:o}return gt.call(e,t)?e[t]:n}function Cd(t){var e=this.__data__;return lr?e[t]!==n:gt.call(e,t)}function kd(t,e){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=lr&&e===n?m:e,this}dn.prototype.clear=Fd,dn.prototype.delete=Td,dn.prototype.get=Sd,dn.prototype.has=Cd,dn.prototype.set=kd;function Pe(t){var e=-1,o=t==null?0:t.length;for(this.clear();++e<o;){var a=t[e];this.set(a[0],a[1])}}function Bd(){this.__data__=[],this.size=0}function Od(t){var e=this.__data__,o=ei(e,t);if(o<0)return!1;var a=e.length-1;return o==a?e.pop():Jr.call(e,o,1),--this.size,!0}function Dd(t){var e=this.__data__,o=ei(e,t);return o<0?n:e[o][1]}function Rd(t){return ei(this.__data__,t)>-1}function $d(t,e){var o=this.__data__,a=ei(o,t);return a<0?(++this.size,o.push([t,e])):o[a][1]=e,this}Pe.prototype.clear=Bd,Pe.prototype.delete=Od,Pe.prototype.get=Dd,Pe.prototype.has=Rd,Pe.prototype.set=$d;function Ie(t){var e=-1,o=t==null?0:t.length;for(this.clear();++e<o;){var a=t[e];this.set(a[0],a[1])}}function jd(){this.size=0,this.__data__={hash:new dn,map:new(ur||Pe),string:new dn}}function Pd(t){var e=di(this,t).delete(t);return this.size-=e?1:0,e}function Id(t){return di(this,t).get(t)}function Md(t){return di(this,t).has(t)}function Nd(t,e){var o=di(this,t),a=o.size;return o.set(t,e),this.size+=o.size==a?0:1,this}Ie.prototype.clear=jd,Ie.prototype.delete=Pd,Ie.prototype.get=Id,Ie.prototype.has=Md,Ie.prototype.set=Nd;function pn(t){var e=-1,o=t==null?0:t.length;for(this.__data__=new Ie;++e<o;)this.add(t[e])}function Ld(t){return this.__data__.set(t,m),this}function Ud(t){return this.__data__.has(t)}pn.prototype.add=pn.prototype.push=Ld,pn.prototype.has=Ud;function be(t){var e=this.__data__=new Pe(t);this.size=e.size}function zd(){this.__data__=new Pe,this.size=0}function Wd(t){var e=this.__data__,o=e.delete(t);return this.size=e.size,o}function Hd(t){return this.__data__.get(t)}function qd(t){return this.__data__.has(t)}function Kd(t,e){var o=this.__data__;if(o instanceof Pe){var a=o.__data__;if(!ur||a.length<u-1)return a.push([t,e]),this.size=++o.size,this;o=this.__data__=new Ie(a)}return o.set(t,e),this.size=o.size,this}be.prototype.clear=zd,be.prototype.delete=Wd,be.prototype.get=Hd,be.prototype.has=qd,be.prototype.set=Kd;function Qa(t,e){var o=tt(t),a=!o&&_n(t),f=!o&&!a&&on(t),g=!o&&!a&&!f&&Nn(t),y=o||a||f||g,w=y?vo(t.length,nd):[],x=w.length;for(var D in t)(e||gt.call(t,D))&&!(y&&(D=="length"||f&&(D=="offset"||D=="parent")||g&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||Ue(D,x)))&&w.push(D);return w}function tu(t){var e=t.length;return e?t[$o(0,e-1)]:n}function Vd(t,e){return pi(Kt(t),mn(e,0,t.length))}function Jd(t){return pi(Kt(t))}function Ao(t,e,o){(o!==n&&!Ee(t[e],o)||o===n&&!(e in t))&&Me(t,e,o)}function hr(t,e,o){var a=t[e];(!(gt.call(t,e)&&Ee(a,o))||o===n&&!(e in t))&&Me(t,e,o)}function ei(t,e){for(var o=t.length;o--;)if(Ee(t[o][0],e))return o;return-1}function Xd(t,e,o,a){return tn(t,function(f,g,y){e(a,f,o(f),y)}),a}function eu(t,e){return t&&Be(e,Rt(e),t)}function Yd(t,e){return t&&Be(e,Jt(e),t)}function Me(t,e,o){e=="__proto__"&&Xr?Xr(t,e,{configurable:!0,enumerable:!0,value:o,writable:!0}):t[e]=o}function Fo(t,e){for(var o=-1,a=e.length,f=S(a),g=t==null;++o<a;)f[o]=g?n:os(t,e[o]);return f}function mn(t,e,o){return t===t&&(o!==n&&(t=t<=o?t:o),e!==n&&(t=t>=e?t:e)),t}function fe(t,e,o,a,f,g){var y,w=e&v,x=e&b,D=e&A;if(o&&(y=f?o(t,a,f,g):o(t)),y!==n)return y;if(!At(t))return t;var R=tt(t);if(R){if(y=Mp(t),!w)return Kt(t,y)}else{var P=Ut(t),N=P==Rr||P==ra;if(on(t))return Fu(t,w);if(P==je||P==Ce||N&&!f){if(y=x||N?{}:Hu(t),!w)return x?Sp(t,Yd(y,t)):Tp(t,eu(y,t))}else{if(!bt[P])return f?t:{};y=Np(t,P,w)}}g||(g=new be);var K=g.get(t);if(K)return K;g.set(t,y),_c(t)?t.forEach(function(G){y.add(fe(G,e,o,G,t,g))}):vc(t)&&t.forEach(function(G,at){y.set(at,fe(G,e,o,at,t,g))});var Y=D?x?qo:Ho:x?Jt:Rt,it=R?n:Y(t);return ue(it||t,function(G,at){it&&(at=G,G=t[at]),hr(y,at,fe(G,e,o,at,t,g))}),y}function Gd(t){var e=Rt(t);return function(o){return nu(o,t,e)}}function nu(t,e,o){var a=o.length;if(t==null)return!a;for(t=_t(t);a--;){var f=o[a],g=e[f],y=t[f];if(y===n&&!(f in t)||!g(y))return!1}return!0}function ru(t,e,o){if(typeof t!="function")throw new ce(l);return _r(function(){t.apply(n,o)},e)}function dr(t,e,o,a){var f=-1,g=Mr,y=!0,w=t.length,x=[],D=e.length;if(!w)return x;o&&(e=xt(e,ee(o))),a?(g=lo,y=!1):e.length>=u&&(g=sr,y=!1,e=new pn(e));t:for(;++f<w;){var R=t[f],P=o==null?R:o(R);if(R=a||R!==0?R:0,y&&P===P){for(var N=D;N--;)if(e[N]===P)continue t;x.push(R)}else g(e,P,a)||x.push(R)}return x}var tn=Bu(ke),iu=Bu(So,!0);function Zd(t,e){var o=!0;return tn(t,function(a,f,g){return o=!!e(a,f,g),o}),o}function ni(t,e,o){for(var a=-1,f=t.length;++a<f;){var g=t[a],y=e(g);if(y!=null&&(w===n?y===y&&!re(y):o(y,w)))var w=y,x=g}return x}function Qd(t,e,o,a){var f=t.length;for(o=nt(o),o<0&&(o=-o>f?0:f+o),a=a===n||a>f?f:nt(a),a<0&&(a+=f),a=o>a?0:bc(a);o<a;)t[o++]=e;return t}function ou(t,e){var o=[];return tn(t,function(a,f,g){e(a,f,g)&&o.push(a)}),o}function It(t,e,o,a,f){var g=-1,y=t.length;for(o||(o=Up),f||(f=[]);++g<y;){var w=t[g];e>0&&o(w)?e>1?It(w,e-1,o,a,f):Ge(f,w):a||(f[f.length]=w)}return f}var To=Ou(),su=Ou(!0);function ke(t,e){return t&&To(t,e,Rt)}function So(t,e){return t&&su(t,e,Rt)}function ri(t,e){return Ye(e,function(o){return ze(t[o])})}function gn(t,e){e=nn(e,t);for(var o=0,a=e.length;t!=null&&o<a;)t=t[Oe(e[o++])];return o&&o==a?t:n}function au(t,e,o){var a=e(t);return tt(t)?a:Ge(a,o(t))}function Wt(t){return t==null?t===n?Cf:Tf:hn&&hn in _t(t)?jp(t):Jp(t)}function Co(t,e){return t>e}function tp(t,e){return t!=null&&gt.call(t,e)}function ep(t,e){return t!=null&&e in _t(t)}function np(t,e,o){return t>=Lt(e,o)&&t<Ot(e,o)}function ko(t,e,o){for(var a=o?lo:Mr,f=t[0].length,g=t.length,y=g,w=S(g),x=1/0,D=[];y--;){var R=t[y];y&&e&&(R=xt(R,ee(e))),x=Lt(R.length,x),w[y]=!o&&(e||f>=120&&R.length>=120)?new pn(y&&R):n}R=t[0];var P=-1,N=w[0];t:for(;++P<f&&D.length<x;){var K=R[P],Y=e?e(K):K;if(K=o||K!==0?K:0,!(N?sr(N,Y):a(D,Y,o))){for(y=g;--y;){var it=w[y];if(!(it?sr(it,Y):a(t[y],Y,o)))continue t}N&&N.push(Y),D.push(K)}}return D}function rp(t,e,o,a){return ke(t,function(f,g,y){e(a,o(f),g,y)}),a}function pr(t,e,o){e=nn(e,t),t=Ju(t,e);var a=t==null?t:t[Oe(de(e))];return a==null?n:te(a,t,o)}function uu(t){return Ft(t)&&Wt(t)==Ce}function ip(t){return Ft(t)&&Wt(t)==or}function op(t){return Ft(t)&&Wt(t)==ln}function mr(t,e,o,a,f){return t===e?!0:t==null||e==null||!Ft(t)&&!Ft(e)?t!==t&&e!==e:sp(t,e,o,a,mr,f)}function sp(t,e,o,a,f,g){var y=tt(t),w=tt(e),x=y?Xe:Ut(t),D=w?Xe:Ut(e);x=x==Ce?je:x,D=D==Ce?je:D;var R=x==je,P=D==je,N=x==D;if(N&&on(t)){if(!on(e))return!1;y=!0,R=!1}if(N&&!R)return g||(g=new be),y||Nn(t)?Uu(t,e,o,a,f,g):Rp(t,e,x,o,a,f,g);if(!(o&F)){var K=R&&gt.call(t,"__wrapped__"),Y=P&&gt.call(e,"__wrapped__");if(K||Y){var it=K?t.value():t,G=Y?e.value():e;return g||(g=new be),f(it,G,o,a,g)}}return N?(g||(g=new be),$p(t,e,o,a,f,g)):!1}function ap(t){return Ft(t)&&Ut(t)==ye}function Bo(t,e,o,a){var f=o.length,g=f,y=!a;if(t==null)return!g;for(t=_t(t);f--;){var w=o[f];if(y&&w[2]?w[1]!==t[w[0]]:!(w[0]in t))return!1}for(;++f<g;){w=o[f];var x=w[0],D=t[x],R=w[1];if(y&&w[2]){if(D===n&&!(x in t))return!1}else{var P=new be;if(a)var N=a(D,R,x,t,e,P);if(!(N===n?mr(R,D,F|O,a,P):N))return!1}}return!0}function cu(t){if(!At(t)||Wp(t))return!1;var e=ze(t)?ad:Gf;return e.test(yn(t))}function up(t){return Ft(t)&&Wt(t)==nr}function cp(t){return Ft(t)&&Ut(t)==_e}function lp(t){return Ft(t)&&wi(t.length)&&!!Et[Wt(t)]}function lu(t){return typeof t=="function"?t:t==null?Xt:typeof t=="object"?tt(t)?du(t[0],t[1]):hu(t):Dc(t)}function Oo(t){if(!yr(t))return dd(t);var e=[];for(var o in _t(t))gt.call(t,o)&&o!="constructor"&&e.push(o);return e}function fp(t){if(!At(t))return Vp(t);var e=yr(t),o=[];for(var a in t)a=="constructor"&&(e||!gt.call(t,a))||o.push(a);return o}function Do(t,e){return t<e}function fu(t,e){var o=-1,a=Vt(t)?S(t.length):[];return tn(t,function(f,g,y){a[++o]=e(f,g,y)}),a}function hu(t){var e=Vo(t);return e.length==1&&e[0][2]?Ku(e[0][0],e[0][1]):function(o){return o===t||Bo(o,t,e)}}function du(t,e){return Xo(t)&&qu(e)?Ku(Oe(t),e):function(o){var a=os(o,t);return a===n&&a===e?ss(o,t):mr(e,a,F|O)}}function ii(t,e,o,a,f){t!==e&&To(e,function(g,y){if(f||(f=new be),At(g))hp(t,e,y,o,ii,a,f);else{var w=a?a(Go(t,y),g,y+"",t,e,f):n;w===n&&(w=g),Ao(t,y,w)}},Jt)}function hp(t,e,o,a,f,g,y){var w=Go(t,o),x=Go(e,o),D=y.get(x);if(D){Ao(t,o,D);return}var R=g?g(w,x,o+"",t,e,y):n,P=R===n;if(P){var N=tt(x),K=!N&&on(x),Y=!N&&!K&&Nn(x);R=x,N||K||Y?tt(w)?R=w:Tt(w)?R=Kt(w):K?(P=!1,R=Fu(x,!0)):Y?(P=!1,R=Tu(x,!0)):R=[]:wr(x)||_n(x)?(R=w,_n(w)?R=Ec(w):(!At(w)||ze(w))&&(R=Hu(x))):P=!1}P&&(y.set(x,R),f(R,x,a,g,y),y.delete(x)),Ao(t,o,R)}function pu(t,e){var o=t.length;if(o)return e+=e<0?o:0,Ue(e,o)?t[e]:n}function mu(t,e,o){e.length?e=xt(e,function(g){return tt(g)?function(y){return gn(y,g.length===1?g[0]:g)}:g}):e=[Xt];var a=-1;e=xt(e,ee(X()));var f=fu(t,function(g,y,w){var x=xt(e,function(D){return D(g)});return{criteria:x,index:++a,value:g}});return Nh(f,function(g,y){return Fp(g,y,o)})}function dp(t,e){return gu(t,e,function(o,a){return ss(t,a)})}function gu(t,e,o){for(var a=-1,f=e.length,g={};++a<f;){var y=e[a],w=gn(t,y);o(w,y)&&gr(g,nn(y,t),w)}return g}function pp(t){return function(e){return gn(e,t)}}function Ro(t,e,o,a){var f=a?Mh:Cn,g=-1,y=e.length,w=t;for(t===e&&(e=Kt(e)),o&&(w=xt(t,ee(o)));++g<y;)for(var x=0,D=e[g],R=o?o(D):D;(x=f(w,R,x,a))>-1;)w!==t&&Jr.call(w,x,1),Jr.call(t,x,1);return t}function vu(t,e){for(var o=t?e.length:0,a=o-1;o--;){var f=e[o];if(o==a||f!==g){var g=f;Ue(f)?Jr.call(t,f,1):Io(t,f)}}return t}function $o(t,e){return t+Gr(Ga()*(e-t+1))}function mp(t,e,o,a){for(var f=-1,g=Ot(Yr((e-t)/(o||1)),0),y=S(g);g--;)y[a?g:++f]=t,t+=o;return y}function jo(t,e){var o="";if(!t||e<1||e>Se)return o;do e%2&&(o+=t),e=Gr(e/2),e&&(t+=t);while(e);return o}function ot(t,e){return Zo(Vu(t,e,Xt),t+"")}function gp(t){return tu(Ln(t))}function vp(t,e){var o=Ln(t);return pi(o,mn(e,0,o.length))}function gr(t,e,o,a){if(!At(t))return t;e=nn(e,t);for(var f=-1,g=e.length,y=g-1,w=t;w!=null&&++f<g;){var x=Oe(e[f]),D=o;if(x==="__proto__"||x==="constructor"||x==="prototype")return t;if(f!=y){var R=w[x];D=a?a(R,x,w):n,D===n&&(D=At(R)?R:Ue(e[f+1])?[]:{})}hr(w,x,D),w=w[x]}return t}var yu=Zr?function(t,e){return Zr.set(t,e),t}:Xt,yp=Xr?function(t,e){return Xr(t,"toString",{configurable:!0,enumerable:!1,value:us(e),writable:!0})}:Xt;function _p(t){return pi(Ln(t))}function he(t,e,o){var a=-1,f=t.length;e<0&&(e=-e>f?0:f+e),o=o>f?f:o,o<0&&(o+=f),f=e>o?0:o-e>>>0,e>>>=0;for(var g=S(f);++a<f;)g[a]=t[a+e];return g}function wp(t,e){var o;return tn(t,function(a,f,g){return o=e(a,f,g),!o}),!!o}function oi(t,e,o){var a=0,f=t==null?a:t.length;if(typeof e=="number"&&e===e&&f<=Dr){for(;a<f;){var g=a+f>>>1,y=t[g];y!==null&&!re(y)&&(o?y<=e:y<e)?a=g+1:f=g}return f}return Po(t,e,Xt,o)}function Po(t,e,o,a){var f=0,g=t==null?0:t.length;if(g===0)return 0;e=o(e);for(var y=e!==e,w=e===null,x=re(e),D=e===n;f<g;){var R=Gr((f+g)/2),P=o(t[R]),N=P!==n,K=P===null,Y=P===P,it=re(P);if(y)var G=a||Y;else D?G=Y&&(a||N):w?G=Y&&N&&(a||!K):x?G=Y&&N&&!K&&(a||!it):K||it?G=!1:G=a?P<=e:P<e;G?f=R+1:g=R}return Lt(g,kt)}function _u(t,e){for(var o=-1,a=t.length,f=0,g=[];++o<a;){var y=t[o],w=e?e(y):y;if(!o||!Ee(w,x)){var x=w;g[f++]=y===0?0:y}}return g}function wu(t){return typeof t=="number"?t:re(t)?un:+t}function ne(t){if(typeof t=="string")return t;if(tt(t))return xt(t,ne)+"";if(re(t))return Za?Za.call(t):"";var e=t+"";return e=="0"&&1/t==-$e?"-0":e}function en(t,e,o){var a=-1,f=Mr,g=t.length,y=!0,w=[],x=w;if(o)y=!1,f=lo;else if(g>=u){var D=e?null:Op(t);if(D)return Lr(D);y=!1,f=sr,x=new pn}else x=e?[]:w;t:for(;++a<g;){var R=t[a],P=e?e(R):R;if(R=o||R!==0?R:0,y&&P===P){for(var N=x.length;N--;)if(x[N]===P)continue t;e&&x.push(P),w.push(R)}else f(x,P,o)||(x!==w&&x.push(P),w.push(R))}return w}function Io(t,e){return e=nn(e,t),t=Ju(t,e),t==null||delete t[Oe(de(e))]}function bu(t,e,o,a){return gr(t,e,o(gn(t,e)),a)}function si(t,e,o,a){for(var f=t.length,g=a?f:-1;(a?g--:++g<f)&&e(t[g],g,t););return o?he(t,a?0:g,a?g+1:f):he(t,a?g+1:0,a?f:g)}function Eu(t,e){var o=t;return o instanceof ct&&(o=o.value()),fo(e,function(a,f){return f.func.apply(f.thisArg,Ge([a],f.args))},o)}function Mo(t,e,o){var a=t.length;if(a<2)return a?en(t[0]):[];for(var f=-1,g=S(a);++f<a;)for(var y=t[f],w=-1;++w<a;)w!=f&&(g[f]=dr(g[f]||y,t[w],e,o));return en(It(g,1),e,o)}function xu(t,e,o){for(var a=-1,f=t.length,g=e.length,y={};++a<f;){var w=a<g?e[a]:n;o(y,t[a],w)}return y}function No(t){return Tt(t)?t:[]}function Lo(t){return typeof t=="function"?t:Xt}function nn(t,e){return tt(t)?t:Xo(t,e)?[t]:Zu(mt(t))}var bp=ot;function rn(t,e,o){var a=t.length;return o=o===n?a:o,!e&&o>=a?t:he(t,e,o)}var Au=ud||function(t){return Pt.clearTimeout(t)};function Fu(t,e){if(e)return t.slice();var o=t.length,a=Ka?Ka(o):new t.constructor(o);return t.copy(a),a}function Uo(t){var e=new t.constructor(t.byteLength);return new Kr(e).set(new Kr(t)),e}function Ep(t,e){var o=e?Uo(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.byteLength)}function xp(t){var e=new t.constructor(t.source,ua.exec(t));return e.lastIndex=t.lastIndex,e}function Ap(t){return fr?_t(fr.call(t)):{}}function Tu(t,e){var o=e?Uo(t.buffer):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}function Su(t,e){if(t!==e){var o=t!==n,a=t===null,f=t===t,g=re(t),y=e!==n,w=e===null,x=e===e,D=re(e);if(!w&&!D&&!g&&t>e||g&&y&&x&&!w&&!D||a&&y&&x||!o&&x||!f)return 1;if(!a&&!g&&!D&&t<e||D&&o&&f&&!a&&!g||w&&o&&f||!y&&f||!x)return-1}return 0}function Fp(t,e,o){for(var a=-1,f=t.criteria,g=e.criteria,y=f.length,w=o.length;++a<y;){var x=Su(f[a],g[a]);if(x){if(a>=w)return x;var D=o[a];return x*(D=="desc"?-1:1)}}return t.index-e.index}function Cu(t,e,o,a){for(var f=-1,g=t.length,y=o.length,w=-1,x=e.length,D=Ot(g-y,0),R=S(x+D),P=!a;++w<x;)R[w]=e[w];for(;++f<y;)(P||f<g)&&(R[o[f]]=t[f]);for(;D--;)R[w++]=t[f++];return R}function ku(t,e,o,a){for(var f=-1,g=t.length,y=-1,w=o.length,x=-1,D=e.length,R=Ot(g-w,0),P=S(R+D),N=!a;++f<R;)P[f]=t[f];for(var K=f;++x<D;)P[K+x]=e[x];for(;++y<w;)(N||f<g)&&(P[K+o[y]]=t[f++]);return P}function Kt(t,e){var o=-1,a=t.length;for(e||(e=S(a));++o<a;)e[o]=t[o];return e}function Be(t,e,o,a){var f=!o;o||(o={});for(var g=-1,y=e.length;++g<y;){var w=e[g],x=a?a(o[w],t[w],w,o,t):n;x===n&&(x=t[w]),f?Me(o,w,x):hr(o,w,x)}return o}function Tp(t,e){return Be(t,Jo(t),e)}function Sp(t,e){return Be(t,zu(t),e)}function ai(t,e){return function(o,a){var f=tt(o)?Dh:Xd,g=e?e():{};return f(o,t,X(a,2),g)}}function Pn(t){return ot(function(e,o){var a=-1,f=o.length,g=f>1?o[f-1]:n,y=f>2?o[2]:n;for(g=t.length>3&&typeof g=="function"?(f--,g):n,y&&Ht(o[0],o[1],y)&&(g=f<3?n:g,f=1),e=_t(e);++a<f;){var w=o[a];w&&t(e,w,a,g)}return e})}function Bu(t,e){return function(o,a){if(o==null)return o;if(!Vt(o))return t(o,a);for(var f=o.length,g=e?f:-1,y=_t(o);(e?g--:++g<f)&&a(y[g],g,y)!==!1;);return o}}function Ou(t){return function(e,o,a){for(var f=-1,g=_t(e),y=a(e),w=y.length;w--;){var x=y[t?w:++f];if(o(g[x],x,g)===!1)break}return e}}function Cp(t,e,o){var a=e&I,f=vr(t);function g(){var y=this&&this!==Pt&&this instanceof g?f:t;return y.apply(a?o:this,arguments)}return g}function Du(t){return function(e){e=mt(e);var o=kn(e)?we(e):n,a=o?o[0]:e.charAt(0),f=o?rn(o,1).join(""):e.slice(1);return a[t]()+f}}function In(t){return function(e){return fo(Bc(kc(e).replace(yh,"")),t,"")}}function vr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var o=jn(t.prototype),a=t.apply(o,e);return At(a)?a:o}}function kp(t,e,o){var a=vr(t);function f(){for(var g=arguments.length,y=S(g),w=g,x=Mn(f);w--;)y[w]=arguments[w];var D=g<3&&y[0]!==x&&y[g-1]!==x?[]:Ze(y,x);if(g-=D.length,g<o)return Iu(t,e,ui,f.placeholder,n,y,D,n,n,o-g);var R=this&&this!==Pt&&this instanceof f?a:t;return te(R,this,y)}return f}function Ru(t){return function(e,o,a){var f=_t(e);if(!Vt(e)){var g=X(o,3);e=Rt(e),o=function(w){return g(f[w],w,f)}}var y=t(e,o,a);return y>-1?f[g?e[y]:y]:n}}function $u(t){return Le(function(e){var o=e.length,a=o,f=le.prototype.thru;for(t&&e.reverse();a--;){var g=e[a];if(typeof g!="function")throw new ce(l);if(f&&!y&&hi(g)=="wrapper")var y=new le([],!0)}for(a=y?a:o;++a<o;){g=e[a];var w=hi(g),x=w=="wrapper"?Ko(g):n;x&&Yo(x[0])&&x[1]==(H|B|q|L)&&!x[4].length&&x[9]==1?y=y[hi(x[0])].apply(y,x[3]):y=g.length==1&&Yo(g)?y[w]():y.thru(g)}return function(){var D=arguments,R=D[0];if(y&&D.length==1&&tt(R))return y.plant(R).value();for(var P=0,N=o?e[P].apply(this,D):R;++P<o;)N=e[P].call(this,N);return N}})}function ui(t,e,o,a,f,g,y,w,x,D){var R=e&H,P=e&I,N=e&C,K=e&(B|U),Y=e&jt,it=N?n:vr(t);function G(){for(var at=arguments.length,lt=S(at),ie=at;ie--;)lt[ie]=arguments[ie];if(K)var qt=Mn(G),oe=Uh(lt,qt);if(a&&(lt=Cu(lt,a,f,K)),g&&(lt=ku(lt,g,y,K)),at-=oe,K&&at<D){var St=Ze(lt,qt);return Iu(t,e,ui,G.placeholder,o,lt,St,w,x,D-at)}var xe=P?o:this,He=N?xe[t]:t;return at=lt.length,w?lt=Xp(lt,w):Y&&at>1&&lt.reverse(),R&&x<at&&(lt.length=x),this&&this!==Pt&&this instanceof G&&(He=it||vr(He)),He.apply(xe,lt)}return G}function ju(t,e){return function(o,a){return rp(o,t,e(a),{})}}function ci(t,e){return function(o,a){var f;if(o===n&&a===n)return e;if(o!==n&&(f=o),a!==n){if(f===n)return a;typeof o=="string"||typeof a=="string"?(o=ne(o),a=ne(a)):(o=wu(o),a=wu(a)),f=t(o,a)}return f}}function zo(t){return Le(function(e){return e=xt(e,ee(X())),ot(function(o){var a=this;return t(e,function(f){return te(f,a,o)})})})}function li(t,e){e=e===n?" ":ne(e);var o=e.length;if(o<2)return o?jo(e,t):e;var a=jo(e,Yr(t/Bn(e)));return kn(e)?rn(we(a),0,t).join(""):a.slice(0,t)}function Bp(t,e,o,a){var f=e&I,g=vr(t);function y(){for(var w=-1,x=arguments.length,D=-1,R=a.length,P=S(R+x),N=this&&this!==Pt&&this instanceof y?g:t;++D<R;)P[D]=a[D];for(;x--;)P[D++]=arguments[++w];return te(N,f?o:this,P)}return y}function Pu(t){return function(e,o,a){return a&&typeof a!="number"&&Ht(e,o,a)&&(o=a=n),e=We(e),o===n?(o=e,e=0):o=We(o),a=a===n?e<o?1:-1:We(a),mp(e,o,a,t)}}function fi(t){return function(e,o){return typeof e=="string"&&typeof o=="string"||(e=pe(e),o=pe(o)),t(e,o)}}function Iu(t,e,o,a,f,g,y,w,x,D){var R=e&B,P=R?y:n,N=R?n:y,K=R?g:n,Y=R?n:g;e|=R?q:M,e&=~(R?M:q),e&j||(e&=~(I|C));var it=[t,e,f,K,P,Y,N,w,x,D],G=o.apply(n,it);return Yo(t)&&Xu(G,it),G.placeholder=a,Yu(G,t,e)}function Wo(t){var e=Bt[t];return function(o,a){if(o=pe(o),a=a==null?0:Lt(nt(a),292),a&&Ya(o)){var f=(mt(o)+"e").split("e"),g=e(f[0]+"e"+(+f[1]+a));return f=(mt(g)+"e").split("e"),+(f[0]+"e"+(+f[1]-a))}return e(o)}}var Op=Rn&&1/Lr(new Rn([,-0]))[1]==$e?function(t){return new Rn(t)}:fs;function Mu(t){return function(e){var o=Ut(e);return o==ye?_o(e):o==_e?Jh(e):Lh(e,t(e))}}function Ne(t,e,o,a,f,g,y,w){var x=e&C;if(!x&&typeof t!="function")throw new ce(l);var D=a?a.length:0;if(D||(e&=~(q|M),a=f=n),y=y===n?y:Ot(nt(y),0),w=w===n?w:nt(w),D-=f?f.length:0,e&M){var R=a,P=f;a=f=n}var N=x?n:Ko(t),K=[t,e,o,a,f,R,P,g,y,w];if(N&&Kp(K,N),t=K[0],e=K[1],o=K[2],a=K[3],f=K[4],w=K[9]=K[9]===n?x?0:t.length:Ot(K[9]-D,0),!w&&e&(B|U)&&(e&=~(B|U)),!e||e==I)var Y=Cp(t,e,o);else e==B||e==U?Y=kp(t,e,w):(e==q||e==(I|q))&&!f.length?Y=Bp(t,e,o,a):Y=ui.apply(n,K);var it=N?yu:Xu;return Yu(it(Y,K),t,e)}function Nu(t,e,o,a){return t===n||Ee(t,Dn[o])&&!gt.call(a,o)?e:t}function Lu(t,e,o,a,f,g){return At(t)&&At(e)&&(g.set(e,t),ii(t,e,n,Lu,g),g.delete(e)),t}function Dp(t){return wr(t)?n:t}function Uu(t,e,o,a,f,g){var y=o&F,w=t.length,x=e.length;if(w!=x&&!(y&&x>w))return!1;var D=g.get(t),R=g.get(e);if(D&&R)return D==e&&R==t;var P=-1,N=!0,K=o&O?new pn:n;for(g.set(t,e),g.set(e,t);++P<w;){var Y=t[P],it=e[P];if(a)var G=y?a(it,Y,P,e,t,g):a(Y,it,P,t,e,g);if(G!==n){if(G)continue;N=!1;break}if(K){if(!ho(e,function(at,lt){if(!sr(K,lt)&&(Y===at||f(Y,at,o,a,g)))return K.push(lt)})){N=!1;break}}else if(!(Y===it||f(Y,it,o,a,g))){N=!1;break}}return g.delete(t),g.delete(e),N}function Rp(t,e,o,a,f,g,y){switch(o){case Tn:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case or:return!(t.byteLength!=e.byteLength||!g(new Kr(t),new Kr(e)));case cn:case ln:case er:return Ee(+t,+e);case Fn:return t.name==e.name&&t.message==e.message;case nr:case rr:return t==e+"";case ye:var w=_o;case _e:var x=a&F;if(w||(w=Lr),t.size!=e.size&&!x)return!1;var D=y.get(t);if(D)return D==e;a|=O,y.set(t,e);var R=Uu(w(t),w(e),a,f,g,y);return y.delete(t),R;case $r:if(fr)return fr.call(t)==fr.call(e)}return!1}function $p(t,e,o,a,f,g){var y=o&F,w=Ho(t),x=w.length,D=Ho(e),R=D.length;if(x!=R&&!y)return!1;for(var P=x;P--;){var N=w[P];if(!(y?N in e:gt.call(e,N)))return!1}var K=g.get(t),Y=g.get(e);if(K&&Y)return K==e&&Y==t;var it=!0;g.set(t,e),g.set(e,t);for(var G=y;++P<x;){N=w[P];var at=t[N],lt=e[N];if(a)var ie=y?a(lt,at,N,e,t,g):a(at,lt,N,t,e,g);if(!(ie===n?at===lt||f(at,lt,o,a,g):ie)){it=!1;break}G||(G=N=="constructor")}if(it&&!G){var qt=t.constructor,oe=e.constructor;qt!=oe&&"constructor"in t&&"constructor"in e&&!(typeof qt=="function"&&qt instanceof qt&&typeof oe=="function"&&oe instanceof oe)&&(it=!1)}return g.delete(t),g.delete(e),it}function Le(t){return Zo(Vu(t,n,nc),t+"")}function Ho(t){return au(t,Rt,Jo)}function qo(t){return au(t,Jt,zu)}var Ko=Zr?function(t){return Zr.get(t)}:fs;function hi(t){for(var e=t.name+"",o=$n[e],a=gt.call($n,e)?o.length:0;a--;){var f=o[a],g=f.func;if(g==null||g==t)return f.name}return e}function Mn(t){var e=gt.call(d,"placeholder")?d:t;return e.placeholder}function X(){var t=d.iteratee||cs;return t=t===cs?lu:t,arguments.length?t(arguments[0],arguments[1]):t}function di(t,e){var o=t.__data__;return zp(e)?o[typeof e=="string"?"string":"hash"]:o.map}function Vo(t){for(var e=Rt(t),o=e.length;o--;){var a=e[o],f=t[a];e[o]=[a,f,qu(f)]}return e}function vn(t,e){var o=qh(t,e);return cu(o)?o:n}function jp(t){var e=gt.call(t,hn),o=t[hn];try{t[hn]=n;var a=!0}catch(g){}var f=Hr.call(t);return a&&(e?t[hn]=o:delete t[hn]),f}var Jo=bo?function(t){return t==null?[]:(t=_t(t),Ye(bo(t),function(e){return Ja.call(t,e)}))}:hs,zu=bo?function(t){for(var e=[];t;)Ge(e,Jo(t)),t=Vr(t);return e}:hs,Ut=Wt;(Eo&&Ut(new Eo(new ArrayBuffer(1)))!=Tn||ur&&Ut(new ur)!=ye||xo&&Ut(xo.resolve())!=ia||Rn&&Ut(new Rn)!=_e||cr&&Ut(new cr)!=ir)&&(Ut=function(t){var e=Wt(t),o=e==je?t.constructor:n,a=o?yn(o):"";if(a)switch(a){case vd:return Tn;case yd:return ye;case _d:return ia;case wd:return _e;case bd:return ir}return e});function Pp(t,e,o){for(var a=-1,f=o.length;++a<f;){var g=o[a],y=g.size;switch(g.type){case"drop":t+=y;break;case"dropRight":e-=y;break;case"take":e=Lt(e,t+y);break;case"takeRight":t=Ot(t,e-y);break}}return{start:t,end:e}}function Ip(t){var e=t.match(Wf);return e?e[1].split(Hf):[]}function Wu(t,e,o){e=nn(e,t);for(var a=-1,f=e.length,g=!1;++a<f;){var y=Oe(e[a]);if(!(g=t!=null&&o(t,y)))break;t=t[y]}return g||++a!=f?g:(f=t==null?0:t.length,!!f&&wi(f)&&Ue(y,f)&&(tt(t)||_n(t)))}function Mp(t){var e=t.length,o=new t.constructor(e);return e&&typeof t[0]=="string"&&gt.call(t,"index")&&(o.index=t.index,o.input=t.input),o}function Hu(t){return typeof t.constructor=="function"&&!yr(t)?jn(Vr(t)):{}}function Np(t,e,o){var a=t.constructor;switch(e){case or:return Uo(t);case cn:case ln:return new a(+t);case Tn:return Ep(t,o);case Ki:case Vi:case Ji:case Xi:case Yi:case Gi:case Zi:case Qi:case to:return Tu(t,o);case ye:return new a;case er:case rr:return new a(t);case nr:return xp(t);case _e:return new a;case $r:return Ap(t)}}function Lp(t,e){var o=e.length;if(!o)return t;var a=o-1;return e[a]=(o>1?"& ":"")+e[a],e=e.join(o>2?", ":" "),t.replace(zf,`{
/* [wrapped with `+e+`] */
`)}function Up(t){return tt(t)||_n(t)||!!(Xa&&t&&t[Xa])}function Ue(t,e){var o=typeof t;return e=e==null?Se:e,!!e&&(o=="number"||o!="symbol"&&Qf.test(t))&&t>-1&&t%1==0&&t<e}function Ht(t,e,o){if(!At(o))return!1;var a=typeof e;return(a=="number"?Vt(o)&&Ue(e,o.length):a=="string"&&e in o)?Ee(o[e],t):!1}function Xo(t,e){if(tt(t))return!1;var o=typeof t;return o=="number"||o=="symbol"||o=="boolean"||t==null||re(t)?!0:Mf.test(t)||!If.test(t)||e!=null&&t in _t(e)}function zp(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Yo(t){var e=hi(t),o=d[e];if(typeof o!="function"||!(e in ct.prototype))return!1;if(t===o)return!0;var a=Ko(o);return!!a&&t===a[0]}function Wp(t){return!!qa&&qa in t}var Hp=zr?ze:ds;function yr(t){var e=t&&t.constructor,o=typeof e=="function"&&e.prototype||Dn;return t===o}function qu(t){return t===t&&!At(t)}function Ku(t,e){return function(o){return o==null?!1:o[t]===e&&(e!==n||t in _t(o))}}function qp(t){var e=yi(t,function(a){return o.size===h&&o.clear(),a}),o=e.cache;return e}function Kp(t,e){var o=t[1],a=e[1],f=o|a,g=f<(I|C|H),y=a==H&&o==B||a==H&&o==L&&t[7].length<=e[8]||a==(H|L)&&e[7].length<=e[8]&&o==B;if(!(g||y))return t;a&I&&(t[2]=e[2],f|=o&I?0:j);var w=e[3];if(w){var x=t[3];t[3]=x?Cu(x,w,e[4]):w,t[4]=x?Ze(t[3],_):e[4]}return w=e[5],w&&(x=t[5],t[5]=x?ku(x,w,e[6]):w,t[6]=x?Ze(t[5],_):e[6]),w=e[7],w&&(t[7]=w),a&H&&(t[8]=t[8]==null?e[8]:Lt(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=f,t}function Vp(t){var e=[];if(t!=null)for(var o in _t(t))e.push(o);return e}function Jp(t){return Hr.call(t)}function Vu(t,e,o){return e=Ot(e===n?t.length-1:e,0),function(){for(var a=arguments,f=-1,g=Ot(a.length-e,0),y=S(g);++f<g;)y[f]=a[e+f];f=-1;for(var w=S(e+1);++f<e;)w[f]=a[f];return w[e]=o(y),te(t,this,w)}}function Ju(t,e){return e.length<2?t:gn(t,he(e,0,-1))}function Xp(t,e){for(var o=t.length,a=Lt(e.length,o),f=Kt(t);a--;){var g=e[a];t[a]=Ue(g,o)?f[g]:n}return t}function Go(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Xu=Gu(yu),_r=ld||function(t,e){return Pt.setTimeout(t,e)},Zo=Gu(yp);function Yu(t,e,o){var a=e+"";return Zo(t,Lp(a,Yp(Ip(a),o)))}function Gu(t){var e=0,o=0;return function(){var a=pd(),f=ve-(a-o);if(o=a,f>0){if(++e>=Re)return arguments[0]}else e=0;return t.apply(n,arguments)}}function pi(t,e){var o=-1,a=t.length,f=a-1;for(e=e===n?a:e;++o<e;){var g=$o(o,f),y=t[g];t[g]=t[o],t[o]=y}return t.length=e,t}var Zu=qp(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Nf,function(o,a,f,g){e.push(f?g.replace(Vf,"$1"):a||o)}),e});function Oe(t){if(typeof t=="string"||re(t))return t;var e=t+"";return e=="0"&&1/t==-$e?"-0":e}function yn(t){if(t!=null){try{return Wr.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Yp(t,e){return ue(tr,function(o){var a="_."+o[0];e&o[1]&&!Mr(t,a)&&t.push(a)}),t.sort()}function Qu(t){if(t instanceof ct)return t.clone();var e=new le(t.__wrapped__,t.__chain__);return e.__actions__=Kt(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Gp(t,e,o){(o?Ht(t,e,o):e===n)?e=1:e=Ot(nt(e),0);var a=t==null?0:t.length;if(!a||e<1)return[];for(var f=0,g=0,y=S(Yr(a/e));f<a;)y[g++]=he(t,f,f+=e);return y}function Zp(t){for(var e=-1,o=t==null?0:t.length,a=0,f=[];++e<o;){var g=t[e];g&&(f[a++]=g)}return f}function Qp(){var t=arguments.length;if(!t)return[];for(var e=S(t-1),o=arguments[0],a=t;a--;)e[a-1]=arguments[a];return Ge(tt(o)?Kt(o):[o],It(e,1))}var t0=ot(function(t,e){return Tt(t)?dr(t,It(e,1,Tt,!0)):[]}),e0=ot(function(t,e){var o=de(e);return Tt(o)&&(o=n),Tt(t)?dr(t,It(e,1,Tt,!0),X(o,2)):[]}),n0=ot(function(t,e){var o=de(e);return Tt(o)&&(o=n),Tt(t)?dr(t,It(e,1,Tt,!0),n,o):[]});function r0(t,e,o){var a=t==null?0:t.length;return a?(e=o||e===n?1:nt(e),he(t,e<0?0:e,a)):[]}function i0(t,e,o){var a=t==null?0:t.length;return a?(e=o||e===n?1:nt(e),e=a-e,he(t,0,e<0?0:e)):[]}function o0(t,e){return t&&t.length?si(t,X(e,3),!0,!0):[]}function s0(t,e){return t&&t.length?si(t,X(e,3),!0):[]}function a0(t,e,o,a){var f=t==null?0:t.length;return f?(o&&typeof o!="number"&&Ht(t,e,o)&&(o=0,a=f),Qd(t,e,o,a)):[]}function tc(t,e,o){var a=t==null?0:t.length;if(!a)return-1;var f=o==null?0:nt(o);return f<0&&(f=Ot(a+f,0)),Nr(t,X(e,3),f)}function ec(t,e,o){var a=t==null?0:t.length;if(!a)return-1;var f=a-1;return o!==n&&(f=nt(o),f=o<0?Ot(a+f,0):Lt(f,a-1)),Nr(t,X(e,3),f,!0)}function nc(t){var e=t==null?0:t.length;return e?It(t,1):[]}function u0(t){var e=t==null?0:t.length;return e?It(t,$e):[]}function c0(t,e){var o=t==null?0:t.length;return o?(e=e===n?1:nt(e),It(t,e)):[]}function l0(t){for(var e=-1,o=t==null?0:t.length,a={};++e<o;){var f=t[e];a[f[0]]=f[1]}return a}function rc(t){return t&&t.length?t[0]:n}function f0(t,e,o){var a=t==null?0:t.length;if(!a)return-1;var f=o==null?0:nt(o);return f<0&&(f=Ot(a+f,0)),Cn(t,e,f)}function h0(t){var e=t==null?0:t.length;return e?he(t,0,-1):[]}var d0=ot(function(t){var e=xt(t,No);return e.length&&e[0]===t[0]?ko(e):[]}),p0=ot(function(t){var e=de(t),o=xt(t,No);return e===de(o)?e=n:o.pop(),o.length&&o[0]===t[0]?ko(o,X(e,2)):[]}),m0=ot(function(t){var e=de(t),o=xt(t,No);return e=typeof e=="function"?e:n,e&&o.pop(),o.length&&o[0]===t[0]?ko(o,n,e):[]});function g0(t,e){return t==null?"":hd.call(t,e)}function de(t){var e=t==null?0:t.length;return e?t[e-1]:n}function v0(t,e,o){var a=t==null?0:t.length;if(!a)return-1;var f=a;return o!==n&&(f=nt(o),f=f<0?Ot(a+f,0):Lt(f,a-1)),e===e?Yh(t,e,f):Nr(t,Ia,f,!0)}function y0(t,e){return t&&t.length?pu(t,nt(e)):n}var _0=ot(ic);function ic(t,e){return t&&t.length&&e&&e.length?Ro(t,e):t}function w0(t,e,o){return t&&t.length&&e&&e.length?Ro(t,e,X(o,2)):t}function b0(t,e,o){return t&&t.length&&e&&e.length?Ro(t,e,n,o):t}var E0=Le(function(t,e){var o=t==null?0:t.length,a=Fo(t,e);return vu(t,xt(e,function(f){return Ue(f,o)?+f:f}).sort(Su)),a});function x0(t,e){var o=[];if(!(t&&t.length))return o;var a=-1,f=[],g=t.length;for(e=X(e,3);++a<g;){var y=t[a];e(y,a,t)&&(o.push(y),f.push(a))}return vu(t,f),o}function Qo(t){return t==null?t:gd.call(t)}function A0(t,e,o){var a=t==null?0:t.length;return a?(o&&typeof o!="number"&&Ht(t,e,o)?(e=0,o=a):(e=e==null?0:nt(e),o=o===n?a:nt(o)),he(t,e,o)):[]}function F0(t,e){return oi(t,e)}function T0(t,e,o){return Po(t,e,X(o,2))}function S0(t,e){var o=t==null?0:t.length;if(o){var a=oi(t,e);if(a<o&&Ee(t[a],e))return a}return-1}function C0(t,e){return oi(t,e,!0)}function k0(t,e,o){return Po(t,e,X(o,2),!0)}function B0(t,e){var o=t==null?0:t.length;if(o){var a=oi(t,e,!0)-1;if(Ee(t[a],e))return a}return-1}function O0(t){return t&&t.length?_u(t):[]}function D0(t,e){return t&&t.length?_u(t,X(e,2)):[]}function R0(t){var e=t==null?0:t.length;return e?he(t,1,e):[]}function $0(t,e,o){return t&&t.length?(e=o||e===n?1:nt(e),he(t,0,e<0?0:e)):[]}function j0(t,e,o){var a=t==null?0:t.length;return a?(e=o||e===n?1:nt(e),e=a-e,he(t,e<0?0:e,a)):[]}function P0(t,e){return t&&t.length?si(t,X(e,3),!1,!0):[]}function I0(t,e){return t&&t.length?si(t,X(e,3)):[]}var M0=ot(function(t){return en(It(t,1,Tt,!0))}),N0=ot(function(t){var e=de(t);return Tt(e)&&(e=n),en(It(t,1,Tt,!0),X(e,2))}),L0=ot(function(t){var e=de(t);return e=typeof e=="function"?e:n,en(It(t,1,Tt,!0),n,e)});function U0(t){return t&&t.length?en(t):[]}function z0(t,e){return t&&t.length?en(t,X(e,2)):[]}function W0(t,e){return e=typeof e=="function"?e:n,t&&t.length?en(t,n,e):[]}function ts(t){if(!(t&&t.length))return[];var e=0;return t=Ye(t,function(o){if(Tt(o))return e=Ot(o.length,e),!0}),vo(e,function(o){return xt(t,po(o))})}function oc(t,e){if(!(t&&t.length))return[];var o=ts(t);return e==null?o:xt(o,function(a){return te(e,n,a)})}var H0=ot(function(t,e){return Tt(t)?dr(t,e):[]}),q0=ot(function(t){return Mo(Ye(t,Tt))}),K0=ot(function(t){var e=de(t);return Tt(e)&&(e=n),Mo(Ye(t,Tt),X(e,2))}),V0=ot(function(t){var e=de(t);return e=typeof e=="function"?e:n,Mo(Ye(t,Tt),n,e)}),J0=ot(ts);function X0(t,e){return xu(t||[],e||[],hr)}function Y0(t,e){return xu(t||[],e||[],gr)}var G0=ot(function(t){var e=t.length,o=e>1?t[e-1]:n;return o=typeof o=="function"?(t.pop(),o):n,oc(t,o)});function sc(t){var e=d(t);return e.__chain__=!0,e}function Z0(t,e){return e(t),t}function mi(t,e){return e(t)}var Q0=Le(function(t){var e=t.length,o=e?t[0]:0,a=this.__wrapped__,f=function(g){return Fo(g,t)};return e>1||this.__actions__.length||!(a instanceof ct)||!Ue(o)?this.thru(f):(a=a.slice(o,+o+(e?1:0)),a.__actions__.push({func:mi,args:[f],thisArg:n}),new le(a,this.__chain__).thru(function(g){return e&&!g.length&&g.push(n),g}))});function tm(){return sc(this)}function em(){return new le(this.value(),this.__chain__)}function nm(){this.__values__===n&&(this.__values__=wc(this.value()));var t=this.__index__>=this.__values__.length,e=t?n:this.__values__[this.__index__++];return{done:t,value:e}}function rm(){return this}function im(t){for(var e,o=this;o instanceof ti;){var a=Qu(o);a.__index__=0,a.__values__=n,e?f.__wrapped__=a:e=a;var f=a;o=o.__wrapped__}return f.__wrapped__=t,e}function om(){var t=this.__wrapped__;if(t instanceof ct){var e=t;return this.__actions__.length&&(e=new ct(this)),e=e.reverse(),e.__actions__.push({func:mi,args:[Qo],thisArg:n}),new le(e,this.__chain__)}return this.thru(Qo)}function sm(){return Eu(this.__wrapped__,this.__actions__)}var am=ai(function(t,e,o){gt.call(t,o)?++t[o]:Me(t,o,1)});function um(t,e,o){var a=tt(t)?ja:Zd;return o&&Ht(t,e,o)&&(e=n),a(t,X(e,3))}function cm(t,e){var o=tt(t)?Ye:ou;return o(t,X(e,3))}var lm=Ru(tc),fm=Ru(ec);function hm(t,e){return It(gi(t,e),1)}function dm(t,e){return It(gi(t,e),$e)}function pm(t,e,o){return o=o===n?1:nt(o),It(gi(t,e),o)}function ac(t,e){var o=tt(t)?ue:tn;return o(t,X(e,3))}function uc(t,e){var o=tt(t)?Rh:iu;return o(t,X(e,3))}var mm=ai(function(t,e,o){gt.call(t,o)?t[o].push(e):Me(t,o,[e])});function gm(t,e,o,a){t=Vt(t)?t:Ln(t),o=o&&!a?nt(o):0;var f=t.length;return o<0&&(o=Ot(f+o,0)),bi(t)?o<=f&&t.indexOf(e,o)>-1:!!f&&Cn(t,e,o)>-1}var vm=ot(function(t,e,o){var a=-1,f=typeof e=="function",g=Vt(t)?S(t.length):[];return tn(t,function(y){g[++a]=f?te(e,y,o):pr(y,e,o)}),g}),ym=ai(function(t,e,o){Me(t,o,e)});function gi(t,e){var o=tt(t)?xt:fu;return o(t,X(e,3))}function _m(t,e,o,a){return t==null?[]:(tt(e)||(e=e==null?[]:[e]),o=a?n:o,tt(o)||(o=o==null?[]:[o]),mu(t,e,o))}var wm=ai(function(t,e,o){t[o?0:1].push(e)},function(){return[[],[]]});function bm(t,e,o){var a=tt(t)?fo:Na,f=arguments.length<3;return a(t,X(e,4),o,f,tn)}function Em(t,e,o){var a=tt(t)?$h:Na,f=arguments.length<3;return a(t,X(e,4),o,f,iu)}function xm(t,e){var o=tt(t)?Ye:ou;return o(t,_i(X(e,3)))}function Am(t){var e=tt(t)?tu:gp;return e(t)}function Fm(t,e,o){(o?Ht(t,e,o):e===n)?e=1:e=nt(e);var a=tt(t)?Vd:vp;return a(t,e)}function Tm(t){var e=tt(t)?Jd:_p;return e(t)}function Sm(t){if(t==null)return 0;if(Vt(t))return bi(t)?Bn(t):t.length;var e=Ut(t);return e==ye||e==_e?t.size:Oo(t).length}function Cm(t,e,o){var a=tt(t)?ho:wp;return o&&Ht(t,e,o)&&(e=n),a(t,X(e,3))}var km=ot(function(t,e){if(t==null)return[];var o=e.length;return o>1&&Ht(t,e[0],e[1])?e=[]:o>2&&Ht(e[0],e[1],e[2])&&(e=[e[0]]),mu(t,It(e,1),[])}),vi=cd||function(){return Pt.Date.now()};function Bm(t,e){if(typeof e!="function")throw new ce(l);return t=nt(t),function(){if(--t<1)return e.apply(this,arguments)}}function cc(t,e,o){return e=o?n:e,e=t&&e==null?t.length:e,Ne(t,H,n,n,n,n,e)}function lc(t,e){var o;if(typeof e!="function")throw new ce(l);return t=nt(t),function(){return--t>0&&(o=e.apply(this,arguments)),t<=1&&(e=n),o}}var es=ot(function(t,e,o){var a=I;if(o.length){var f=Ze(o,Mn(es));a|=q}return Ne(t,a,e,o,f)}),fc=ot(function(t,e,o){var a=I|C;if(o.length){var f=Ze(o,Mn(fc));a|=q}return Ne(e,a,t,o,f)});function hc(t,e,o){e=o?n:e;var a=Ne(t,B,n,n,n,n,n,e);return a.placeholder=hc.placeholder,a}function dc(t,e,o){e=o?n:e;var a=Ne(t,U,n,n,n,n,n,e);return a.placeholder=dc.placeholder,a}function pc(t,e,o){var a,f,g,y,w,x,D=0,R=!1,P=!1,N=!0;if(typeof t!="function")throw new ce(l);e=pe(e)||0,At(o)&&(R=!!o.leading,P="maxWait"in o,g=P?Ot(pe(o.maxWait)||0,e):g,N="trailing"in o?!!o.trailing:N);function K(St){var xe=a,He=f;return a=f=n,D=St,y=t.apply(He,xe),y}function Y(St){return D=St,w=_r(at,e),R?K(St):y}function it(St){var xe=St-x,He=St-D,Rc=e-xe;return P?Lt(Rc,g-He):Rc}function G(St){var xe=St-x,He=St-D;return x===n||xe>=e||xe<0||P&&He>=g}function at(){var St=vi();if(G(St))return lt(St);w=_r(at,it(St))}function lt(St){return w=n,N&&a?K(St):(a=f=n,y)}function ie(){w!==n&&Au(w),D=0,a=x=f=w=n}function qt(){return w===n?y:lt(vi())}function oe(){var St=vi(),xe=G(St);if(a=arguments,f=this,x=St,xe){if(w===n)return Y(x);if(P)return Au(w),w=_r(at,e),K(x)}return w===n&&(w=_r(at,e)),y}return oe.cancel=ie,oe.flush=qt,oe}var Om=ot(function(t,e){return ru(t,1,e)}),Dm=ot(function(t,e,o){return ru(t,pe(e)||0,o)});function Rm(t){return Ne(t,jt)}function yi(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new ce(l);var o=function(){var a=arguments,f=e?e.apply(this,a):a[0],g=o.cache;if(g.has(f))return g.get(f);var y=t.apply(this,a);return o.cache=g.set(f,y)||g,y};return o.cache=new(yi.Cache||Ie),o}yi.Cache=Ie;function _i(t){if(typeof t!="function")throw new ce(l);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function $m(t){return lc(2,t)}var jm=bp(function(t,e){e=e.length==1&&tt(e[0])?xt(e[0],ee(X())):xt(It(e,1),ee(X()));var o=e.length;return ot(function(a){for(var f=-1,g=Lt(a.length,o);++f<g;)a[f]=e[f].call(this,a[f]);return te(t,this,a)})}),ns=ot(function(t,e){var o=Ze(e,Mn(ns));return Ne(t,q,n,e,o)}),mc=ot(function(t,e){var o=Ze(e,Mn(mc));return Ne(t,M,n,e,o)}),Pm=Le(function(t,e){return Ne(t,L,n,n,n,e)});function Im(t,e){if(typeof t!="function")throw new ce(l);return e=e===n?e:nt(e),ot(t,e)}function Mm(t,e){if(typeof t!="function")throw new ce(l);return e=e==null?0:Ot(nt(e),0),ot(function(o){var a=o[e],f=rn(o,0,e);return a&&Ge(f,a),te(t,this,f)})}function Nm(t,e,o){var a=!0,f=!0;if(typeof t!="function")throw new ce(l);return At(o)&&(a="leading"in o?!!o.leading:a,f="trailing"in o?!!o.trailing:f),pc(t,e,{leading:a,maxWait:e,trailing:f})}function Lm(t){return cc(t,1)}function Um(t,e){return ns(Lo(e),t)}function zm(){if(!arguments.length)return[];var t=arguments[0];return tt(t)?t:[t]}function Wm(t){return fe(t,A)}function Hm(t,e){return e=typeof e=="function"?e:n,fe(t,A,e)}function qm(t){return fe(t,v|A)}function Km(t,e){return e=typeof e=="function"?e:n,fe(t,v|A,e)}function Vm(t,e){return e==null||nu(t,e,Rt(e))}function Ee(t,e){return t===e||t!==t&&e!==e}var Jm=fi(Co),Xm=fi(function(t,e){return t>=e}),_n=uu(function(){return arguments}())?uu:function(t){return Ft(t)&&gt.call(t,"callee")&&!Ja.call(t,"callee")},tt=S.isArray,Ym=ka?ee(ka):ip;function Vt(t){return t!=null&&wi(t.length)&&!ze(t)}function Tt(t){return Ft(t)&&Vt(t)}function Gm(t){return t===!0||t===!1||Ft(t)&&Wt(t)==cn}var on=fd||ds,Zm=Ba?ee(Ba):op;function Qm(t){return Ft(t)&&t.nodeType===1&&!wr(t)}function tg(t){if(t==null)return!0;if(Vt(t)&&(tt(t)||typeof t=="string"||typeof t.splice=="function"||on(t)||Nn(t)||_n(t)))return!t.length;var e=Ut(t);if(e==ye||e==_e)return!t.size;if(yr(t))return!Oo(t).length;for(var o in t)if(gt.call(t,o))return!1;return!0}function eg(t,e){return mr(t,e)}function ng(t,e,o){o=typeof o=="function"?o:n;var a=o?o(t,e):n;return a===n?mr(t,e,n,o):!!a}function rs(t){if(!Ft(t))return!1;var e=Wt(t);return e==Fn||e==qi||typeof t.message=="string"&&typeof t.name=="string"&&!wr(t)}function rg(t){return typeof t=="number"&&Ya(t)}function ze(t){if(!At(t))return!1;var e=Wt(t);return e==Rr||e==ra||e==An||e==Sf}function gc(t){return typeof t=="number"&&t==nt(t)}function wi(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Se}function At(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Ft(t){return t!=null&&typeof t=="object"}var vc=Oa?ee(Oa):ap;function ig(t,e){return t===e||Bo(t,e,Vo(e))}function og(t,e,o){return o=typeof o=="function"?o:n,Bo(t,e,Vo(e),o)}function sg(t){return yc(t)&&t!=+t}function ag(t){if(Hp(t))throw new Q(c);return cu(t)}function ug(t){return t===null}function cg(t){return t==null}function yc(t){return typeof t=="number"||Ft(t)&&Wt(t)==er}function wr(t){if(!Ft(t)||Wt(t)!=je)return!1;var e=Vr(t);if(e===null)return!0;var o=gt.call(e,"constructor")&&e.constructor;return typeof o=="function"&&o instanceof o&&Wr.call(o)==od}var is=Da?ee(Da):up;function lg(t){return gc(t)&&t>=-Se&&t<=Se}var _c=Ra?ee(Ra):cp;function bi(t){return typeof t=="string"||!tt(t)&&Ft(t)&&Wt(t)==rr}function re(t){return typeof t=="symbol"||Ft(t)&&Wt(t)==$r}var Nn=$a?ee($a):lp;function fg(t){return t===n}function hg(t){return Ft(t)&&Ut(t)==ir}function dg(t){return Ft(t)&&Wt(t)==kf}var pg=fi(Do),mg=fi(function(t,e){return t<=e});function wc(t){if(!t)return[];if(Vt(t))return bi(t)?we(t):Kt(t);if(ar&&t[ar])return Vh(t[ar]());var e=Ut(t),o=e==ye?_o:e==_e?Lr:Ln;return o(t)}function We(t){if(!t)return t===0?t:0;if(t=pe(t),t===$e||t===-$e){var e=t<0?-1:1;return e*Or}return t===t?t:0}function nt(t){var e=We(t),o=e%1;return e===e?o?e-o:e:0}function bc(t){return t?mn(nt(t),0,Qt):0}function pe(t){if(typeof t=="number")return t;if(re(t))return un;if(At(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=At(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=La(t);var o=Yf.test(t);return o||Zf.test(t)?Bh(t.slice(2),o?2:8):Xf.test(t)?un:+t}function Ec(t){return Be(t,Jt(t))}function gg(t){return t?mn(nt(t),-Se,Se):t===0?t:0}function mt(t){return t==null?"":ne(t)}var vg=Pn(function(t,e){if(yr(e)||Vt(e)){Be(e,Rt(e),t);return}for(var o in e)gt.call(e,o)&&hr(t,o,e[o])}),xc=Pn(function(t,e){Be(e,Jt(e),t)}),Ei=Pn(function(t,e,o,a){Be(e,Jt(e),t,a)}),yg=Pn(function(t,e,o,a){Be(e,Rt(e),t,a)}),_g=Le(Fo);function wg(t,e){var o=jn(t);return e==null?o:eu(o,e)}var bg=ot(function(t,e){t=_t(t);var o=-1,a=e.length,f=a>2?e[2]:n;for(f&&Ht(e[0],e[1],f)&&(a=1);++o<a;)for(var g=e[o],y=Jt(g),w=-1,x=y.length;++w<x;){var D=y[w],R=t[D];(R===n||Ee(R,Dn[D])&&!gt.call(t,D))&&(t[D]=g[D])}return t}),Eg=ot(function(t){return t.push(n,Lu),te(Ac,n,t)});function xg(t,e){return Pa(t,X(e,3),ke)}function Ag(t,e){return Pa(t,X(e,3),So)}function Fg(t,e){return t==null?t:To(t,X(e,3),Jt)}function Tg(t,e){return t==null?t:su(t,X(e,3),Jt)}function Sg(t,e){return t&&ke(t,X(e,3))}function Cg(t,e){return t&&So(t,X(e,3))}function kg(t){return t==null?[]:ri(t,Rt(t))}function Bg(t){return t==null?[]:ri(t,Jt(t))}function os(t,e,o){var a=t==null?n:gn(t,e);return a===n?o:a}function Og(t,e){return t!=null&&Wu(t,e,tp)}function ss(t,e){return t!=null&&Wu(t,e,ep)}var Dg=ju(function(t,e,o){e!=null&&typeof e.toString!="function"&&(e=Hr.call(e)),t[e]=o},us(Xt)),Rg=ju(function(t,e,o){e!=null&&typeof e.toString!="function"&&(e=Hr.call(e)),gt.call(t,e)?t[e].push(o):t[e]=[o]},X),$g=ot(pr);function Rt(t){return Vt(t)?Qa(t):Oo(t)}function Jt(t){return Vt(t)?Qa(t,!0):fp(t)}function jg(t,e){var o={};return e=X(e,3),ke(t,function(a,f,g){Me(o,e(a,f,g),a)}),o}function Pg(t,e){var o={};return e=X(e,3),ke(t,function(a,f,g){Me(o,f,e(a,f,g))}),o}var Ig=Pn(function(t,e,o){ii(t,e,o)}),Ac=Pn(function(t,e,o,a){ii(t,e,o,a)}),Mg=Le(function(t,e){var o={};if(t==null)return o;var a=!1;e=xt(e,function(g){return g=nn(g,t),a||(a=g.length>1),g}),Be(t,qo(t),o),a&&(o=fe(o,v|b|A,Dp));for(var f=e.length;f--;)Io(o,e[f]);return o});function Ng(t,e){return Fc(t,_i(X(e)))}var Lg=Le(function(t,e){return t==null?{}:dp(t,e)});function Fc(t,e){if(t==null)return{};var o=xt(qo(t),function(a){return[a]});return e=X(e),gu(t,o,function(a,f){return e(a,f[0])})}function Ug(t,e,o){e=nn(e,t);var a=-1,f=e.length;for(f||(f=1,t=n);++a<f;){var g=t==null?n:t[Oe(e[a])];g===n&&(a=f,g=o),t=ze(g)?g.call(t):g}return t}function zg(t,e,o){return t==null?t:gr(t,e,o)}function Wg(t,e,o,a){return a=typeof a=="function"?a:n,t==null?t:gr(t,e,o,a)}var Tc=Mu(Rt),Sc=Mu(Jt);function Hg(t,e,o){var a=tt(t),f=a||on(t)||Nn(t);if(e=X(e,4),o==null){var g=t&&t.constructor;f?o=a?new g:[]:At(t)?o=ze(g)?jn(Vr(t)):{}:o={}}return(f?ue:ke)(t,function(y,w,x){return e(o,y,w,x)}),o}function qg(t,e){return t==null?!0:Io(t,e)}function Kg(t,e,o){return t==null?t:bu(t,e,Lo(o))}function Vg(t,e,o,a){return a=typeof a=="function"?a:n,t==null?t:bu(t,e,Lo(o),a)}function Ln(t){return t==null?[]:yo(t,Rt(t))}function Jg(t){return t==null?[]:yo(t,Jt(t))}function Xg(t,e,o){return o===n&&(o=e,e=n),o!==n&&(o=pe(o),o=o===o?o:0),e!==n&&(e=pe(e),e=e===e?e:0),mn(pe(t),e,o)}function Yg(t,e,o){return e=We(e),o===n?(o=e,e=0):o=We(o),t=pe(t),np(t,e,o)}function Gg(t,e,o){if(o&&typeof o!="boolean"&&Ht(t,e,o)&&(e=o=n),o===n&&(typeof e=="boolean"?(o=e,e=n):typeof t=="boolean"&&(o=t,t=n)),t===n&&e===n?(t=0,e=1):(t=We(t),e===n?(e=t,t=0):e=We(e)),t>e){var a=t;t=e,e=a}if(o||t%1||e%1){var f=Ga();return Lt(t+f*(e-t+kh("1e-"+((f+"").length-1))),e)}return $o(t,e)}var Zg=In(function(t,e,o){return e=e.toLowerCase(),t+(o?Cc(e):e)});function Cc(t){return as(mt(t).toLowerCase())}function kc(t){return t=mt(t),t&&t.replace(th,zh).replace(_h,"")}function Qg(t,e,o){t=mt(t),e=ne(e);var a=t.length;o=o===n?a:mn(nt(o),0,a);var f=o;return o-=e.length,o>=0&&t.slice(o,f)==e}function tv(t){return t=mt(t),t&&$f.test(t)?t.replace(sa,Wh):t}function ev(t){return t=mt(t),t&&Lf.test(t)?t.replace(eo,"\\$&"):t}var nv=In(function(t,e,o){return t+(o?"-":"")+e.toLowerCase()}),rv=In(function(t,e,o){return t+(o?" ":"")+e.toLowerCase()}),iv=Du("toLowerCase");function ov(t,e,o){t=mt(t),e=nt(e);var a=e?Bn(t):0;if(!e||a>=e)return t;var f=(e-a)/2;return li(Gr(f),o)+t+li(Yr(f),o)}function sv(t,e,o){t=mt(t),e=nt(e);var a=e?Bn(t):0;return e&&a<e?t+li(e-a,o):t}function av(t,e,o){t=mt(t),e=nt(e);var a=e?Bn(t):0;return e&&a<e?li(e-a,o)+t:t}function uv(t,e,o){return o||e==null?e=0:e&&(e=+e),md(mt(t).replace(no,""),e||0)}function cv(t,e,o){return(o?Ht(t,e,o):e===n)?e=1:e=nt(e),jo(mt(t),e)}function lv(){var t=arguments,e=mt(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var fv=In(function(t,e,o){return t+(o?"_":"")+e.toLowerCase()});function hv(t,e,o){return o&&typeof o!="number"&&Ht(t,e,o)&&(e=o=n),o=o===n?Qt:o>>>0,o?(t=mt(t),t&&(typeof e=="string"||e!=null&&!is(e))&&(e=ne(e),!e&&kn(t))?rn(we(t),0,o):t.split(e,o)):[]}var dv=In(function(t,e,o){return t+(o?" ":"")+as(e)});function pv(t,e,o){return t=mt(t),o=o==null?0:mn(nt(o),0,t.length),e=ne(e),t.slice(o,o+e.length)==e}function mv(t,e,o){var a=d.templateSettings;o&&Ht(t,e,o)&&(e=n),t=mt(t),e=Ei({},e,a,Nu);var f=Ei({},e.imports,a.imports,Nu),g=Rt(f),y=yo(f,g),w,x,D=0,R=e.interpolate||jr,P="__p += '",N=wo((e.escape||jr).source+"|"+R.source+"|"+(R===aa?Jf:jr).source+"|"+(e.evaluate||jr).source+"|$","g"),K="//# sourceURL="+(gt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ah+"]")+`
`;t.replace(N,function(G,at,lt,ie,qt,oe){return lt||(lt=ie),P+=t.slice(D,oe).replace(eh,Hh),at&&(w=!0,P+=`' +
__e(`+at+`) +
'`),qt&&(x=!0,P+=`';
`+qt+`;
__p += '`),lt&&(P+=`' +
((__t = (`+lt+`)) == null ? '' : __t) +
'`),D=oe+G.length,G}),P+=`';
`;var Y=gt.call(e,"variable")&&e.variable;if(!Y)P=`with (obj) {
`+P+`
}
`;else if(Kf.test(Y))throw new Q(p);P=(x?P.replace(Bf,""):P).replace(Of,"$1").replace(Df,"$1;"),P="function("+(Y||"obj")+`) {
`+(Y?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(w?", __e = _.escape":"")+(x?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+P+`return __p
}`;var it=Oc(function(){return pt(g,K+"return "+P).apply(n,y)});if(it.source=P,rs(it))throw it;return it}function gv(t){return mt(t).toLowerCase()}function vv(t){return mt(t).toUpperCase()}function yv(t,e,o){if(t=mt(t),t&&(o||e===n))return La(t);if(!t||!(e=ne(e)))return t;var a=we(t),f=we(e),g=Ua(a,f),y=za(a,f)+1;return rn(a,g,y).join("")}function _v(t,e,o){if(t=mt(t),t&&(o||e===n))return t.slice(0,Ha(t)+1);if(!t||!(e=ne(e)))return t;var a=we(t),f=za(a,we(e))+1;return rn(a,0,f).join("")}function wv(t,e,o){if(t=mt(t),t&&(o||e===n))return t.replace(no,"");if(!t||!(e=ne(e)))return t;var a=we(t),f=Ua(a,we(e));return rn(a,f).join("")}function bv(t,e){var o=rt,a=ft;if(At(e)){var f="separator"in e?e.separator:f;o="length"in e?nt(e.length):o,a="omission"in e?ne(e.omission):a}t=mt(t);var g=t.length;if(kn(t)){var y=we(t);g=y.length}if(o>=g)return t;var w=o-Bn(a);if(w<1)return a;var x=y?rn(y,0,w).join(""):t.slice(0,w);if(f===n)return x+a;if(y&&(w+=x.length-w),is(f)){if(t.slice(w).search(f)){var D,R=x;for(f.global||(f=wo(f.source,mt(ua.exec(f))+"g")),f.lastIndex=0;D=f.exec(R);)var P=D.index;x=x.slice(0,P===n?w:P)}}else if(t.indexOf(ne(f),w)!=w){var N=x.lastIndexOf(f);N>-1&&(x=x.slice(0,N))}return x+a}function Ev(t){return t=mt(t),t&&Rf.test(t)?t.replace(oa,Gh):t}var xv=In(function(t,e,o){return t+(o?" ":"")+e.toUpperCase()}),as=Du("toUpperCase");function Bc(t,e,o){return t=mt(t),e=o?n:e,e===n?Kh(t)?td(t):Ih(t):t.match(e)||[]}var Oc=ot(function(t,e){try{return te(t,n,e)}catch(o){return rs(o)?o:new Q(o)}}),Av=Le(function(t,e){return ue(e,function(o){o=Oe(o),Me(t,o,es(t[o],t))}),t});function Fv(t){var e=t==null?0:t.length,o=X();return t=e?xt(t,function(a){if(typeof a[1]!="function")throw new ce(l);return[o(a[0]),a[1]]}):[],ot(function(a){for(var f=-1;++f<e;){var g=t[f];if(te(g[0],this,a))return te(g[1],this,a)}})}function Tv(t){return Gd(fe(t,v))}function us(t){return function(){return t}}function Sv(t,e){return t==null||t!==t?e:t}var Cv=$u(),kv=$u(!0);function Xt(t){return t}function cs(t){return lu(typeof t=="function"?t:fe(t,v))}function Bv(t){return hu(fe(t,v))}function Ov(t,e){return du(t,fe(e,v))}var Dv=ot(function(t,e){return function(o){return pr(o,t,e)}}),Rv=ot(function(t,e){return function(o){return pr(t,o,e)}});function ls(t,e,o){var a=Rt(e),f=ri(e,a);o==null&&!(At(e)&&(f.length||!a.length))&&(o=e,e=t,t=this,f=ri(e,Rt(e)));var g=!(At(o)&&"chain"in o)||!!o.chain,y=ze(t);return ue(f,function(w){var x=e[w];t[w]=x,y&&(t.prototype[w]=function(){var D=this.__chain__;if(g||D){var R=t(this.__wrapped__),P=R.__actions__=Kt(this.__actions__);return P.push({func:x,args:arguments,thisArg:t}),R.__chain__=D,R}return x.apply(t,Ge([this.value()],arguments))})}),t}function $v(){return Pt._===this&&(Pt._=sd),this}function fs(){}function jv(t){return t=nt(t),ot(function(e){return pu(e,t)})}var Pv=zo(xt),Iv=zo(ja),Mv=zo(ho);function Dc(t){return Xo(t)?po(Oe(t)):pp(t)}function Nv(t){return function(e){return t==null?n:gn(t,e)}}var Lv=Pu(),Uv=Pu(!0);function hs(){return[]}function ds(){return!1}function zv(){return{}}function Wv(){return""}function Hv(){return!0}function qv(t,e){if(t=nt(t),t<1||t>Se)return[];var o=Qt,a=Lt(t,Qt);e=X(e),t-=Qt;for(var f=vo(a,e);++o<t;)e(o);return f}function Kv(t){return tt(t)?xt(t,Oe):re(t)?[t]:Kt(Zu(mt(t)))}function Vv(t){var e=++id;return mt(t)+e}var Jv=ci(function(t,e){return t+e},0),Xv=Wo("ceil"),Yv=ci(function(t,e){return t/e},1),Gv=Wo("floor");function Zv(t){return t&&t.length?ni(t,Xt,Co):n}function Qv(t,e){return t&&t.length?ni(t,X(e,2),Co):n}function ty(t){return Ma(t,Xt)}function ey(t,e){return Ma(t,X(e,2))}function ny(t){return t&&t.length?ni(t,Xt,Do):n}function ry(t,e){return t&&t.length?ni(t,X(e,2),Do):n}var iy=ci(function(t,e){return t*e},1),oy=Wo("round"),sy=ci(function(t,e){return t-e},0);function ay(t){return t&&t.length?go(t,Xt):0}function uy(t,e){return t&&t.length?go(t,X(e,2)):0}return d.after=Bm,d.ary=cc,d.assign=vg,d.assignIn=xc,d.assignInWith=Ei,d.assignWith=yg,d.at=_g,d.before=lc,d.bind=es,d.bindAll=Av,d.bindKey=fc,d.castArray=zm,d.chain=sc,d.chunk=Gp,d.compact=Zp,d.concat=Qp,d.cond=Fv,d.conforms=Tv,d.constant=us,d.countBy=am,d.create=wg,d.curry=hc,d.curryRight=dc,d.debounce=pc,d.defaults=bg,d.defaultsDeep=Eg,d.defer=Om,d.delay=Dm,d.difference=t0,d.differenceBy=e0,d.differenceWith=n0,d.drop=r0,d.dropRight=i0,d.dropRightWhile=o0,d.dropWhile=s0,d.fill=a0,d.filter=cm,d.flatMap=hm,d.flatMapDeep=dm,d.flatMapDepth=pm,d.flatten=nc,d.flattenDeep=u0,d.flattenDepth=c0,d.flip=Rm,d.flow=Cv,d.flowRight=kv,d.fromPairs=l0,d.functions=kg,d.functionsIn=Bg,d.groupBy=mm,d.initial=h0,d.intersection=d0,d.intersectionBy=p0,d.intersectionWith=m0,d.invert=Dg,d.invertBy=Rg,d.invokeMap=vm,d.iteratee=cs,d.keyBy=ym,d.keys=Rt,d.keysIn=Jt,d.map=gi,d.mapKeys=jg,d.mapValues=Pg,d.matches=Bv,d.matchesProperty=Ov,d.memoize=yi,d.merge=Ig,d.mergeWith=Ac,d.method=Dv,d.methodOf=Rv,d.mixin=ls,d.negate=_i,d.nthArg=jv,d.omit=Mg,d.omitBy=Ng,d.once=$m,d.orderBy=_m,d.over=Pv,d.overArgs=jm,d.overEvery=Iv,d.overSome=Mv,d.partial=ns,d.partialRight=mc,d.partition=wm,d.pick=Lg,d.pickBy=Fc,d.property=Dc,d.propertyOf=Nv,d.pull=_0,d.pullAll=ic,d.pullAllBy=w0,d.pullAllWith=b0,d.pullAt=E0,d.range=Lv,d.rangeRight=Uv,d.rearg=Pm,d.reject=xm,d.remove=x0,d.rest=Im,d.reverse=Qo,d.sampleSize=Fm,d.set=zg,d.setWith=Wg,d.shuffle=Tm,d.slice=A0,d.sortBy=km,d.sortedUniq=O0,d.sortedUniqBy=D0,d.split=hv,d.spread=Mm,d.tail=R0,d.take=$0,d.takeRight=j0,d.takeRightWhile=P0,d.takeWhile=I0,d.tap=Z0,d.throttle=Nm,d.thru=mi,d.toArray=wc,d.toPairs=Tc,d.toPairsIn=Sc,d.toPath=Kv,d.toPlainObject=Ec,d.transform=Hg,d.unary=Lm,d.union=M0,d.unionBy=N0,d.unionWith=L0,d.uniq=U0,d.uniqBy=z0,d.uniqWith=W0,d.unset=qg,d.unzip=ts,d.unzipWith=oc,d.update=Kg,d.updateWith=Vg,d.values=Ln,d.valuesIn=Jg,d.without=H0,d.words=Bc,d.wrap=Um,d.xor=q0,d.xorBy=K0,d.xorWith=V0,d.zip=J0,d.zipObject=X0,d.zipObjectDeep=Y0,d.zipWith=G0,d.entries=Tc,d.entriesIn=Sc,d.extend=xc,d.extendWith=Ei,ls(d,d),d.add=Jv,d.attempt=Oc,d.camelCase=Zg,d.capitalize=Cc,d.ceil=Xv,d.clamp=Xg,d.clone=Wm,d.cloneDeep=qm,d.cloneDeepWith=Km,d.cloneWith=Hm,d.conformsTo=Vm,d.deburr=kc,d.defaultTo=Sv,d.divide=Yv,d.endsWith=Qg,d.eq=Ee,d.escape=tv,d.escapeRegExp=ev,d.every=um,d.find=lm,d.findIndex=tc,d.findKey=xg,d.findLast=fm,d.findLastIndex=ec,d.findLastKey=Ag,d.floor=Gv,d.forEach=ac,d.forEachRight=uc,d.forIn=Fg,d.forInRight=Tg,d.forOwn=Sg,d.forOwnRight=Cg,d.get=os,d.gt=Jm,d.gte=Xm,d.has=Og,d.hasIn=ss,d.head=rc,d.identity=Xt,d.includes=gm,d.indexOf=f0,d.inRange=Yg,d.invoke=$g,d.isArguments=_n,d.isArray=tt,d.isArrayBuffer=Ym,d.isArrayLike=Vt,d.isArrayLikeObject=Tt,d.isBoolean=Gm,d.isBuffer=on,d.isDate=Zm,d.isElement=Qm,d.isEmpty=tg,d.isEqual=eg,d.isEqualWith=ng,d.isError=rs,d.isFinite=rg,d.isFunction=ze,d.isInteger=gc,d.isLength=wi,d.isMap=vc,d.isMatch=ig,d.isMatchWith=og,d.isNaN=sg,d.isNative=ag,d.isNil=cg,d.isNull=ug,d.isNumber=yc,d.isObject=At,d.isObjectLike=Ft,d.isPlainObject=wr,d.isRegExp=is,d.isSafeInteger=lg,d.isSet=_c,d.isString=bi,d.isSymbol=re,d.isTypedArray=Nn,d.isUndefined=fg,d.isWeakMap=hg,d.isWeakSet=dg,d.join=g0,d.kebabCase=nv,d.last=de,d.lastIndexOf=v0,d.lowerCase=rv,d.lowerFirst=iv,d.lt=pg,d.lte=mg,d.max=Zv,d.maxBy=Qv,d.mean=ty,d.meanBy=ey,d.min=ny,d.minBy=ry,d.stubArray=hs,d.stubFalse=ds,d.stubObject=zv,d.stubString=Wv,d.stubTrue=Hv,d.multiply=iy,d.nth=y0,d.noConflict=$v,d.noop=fs,d.now=vi,d.pad=ov,d.padEnd=sv,d.padStart=av,d.parseInt=uv,d.random=Gg,d.reduce=bm,d.reduceRight=Em,d.repeat=cv,d.replace=lv,d.result=Ug,d.round=oy,d.runInContext=E,d.sample=Am,d.size=Sm,d.snakeCase=fv,d.some=Cm,d.sortedIndex=F0,d.sortedIndexBy=T0,d.sortedIndexOf=S0,d.sortedLastIndex=C0,d.sortedLastIndexBy=k0,d.sortedLastIndexOf=B0,d.startCase=dv,d.startsWith=pv,d.subtract=sy,d.sum=ay,d.sumBy=uy,d.template=mv,d.times=qv,d.toFinite=We,d.toInteger=nt,d.toLength=bc,d.toLower=gv,d.toNumber=pe,d.toSafeInteger=gg,d.toString=mt,d.toUpper=vv,d.trim=yv,d.trimEnd=_v,d.trimStart=wv,d.truncate=bv,d.unescape=Ev,d.uniqueId=Vv,d.upperCase=xv,d.upperFirst=as,d.each=ac,d.eachRight=uc,d.first=rc,ls(d,function(){var t={};return ke(d,function(e,o){gt.call(d.prototype,o)||(t[o]=e)}),t}(),{chain:!1}),d.VERSION=s,ue(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){d[t].placeholder=d}),ue(["drop","take"],function(t,e){ct.prototype[t]=function(o){o=o===n?1:Ot(nt(o),0);var a=this.__filtered__&&!e?new ct(this):this.clone();return a.__filtered__?a.__takeCount__=Lt(o,a.__takeCount__):a.__views__.push({size:Lt(o,Qt),type:t+(a.__dir__<0?"Right":"")}),a},ct.prototype[t+"Right"]=function(o){return this.reverse()[t](o).reverse()}}),ue(["filter","map","takeWhile"],function(t,e){var o=e+1,a=o==Qn||o==Br;ct.prototype[t]=function(f){var g=this.clone();return g.__iteratees__.push({iteratee:X(f,3),type:o}),g.__filtered__=g.__filtered__||a,g}}),ue(["head","last"],function(t,e){var o="take"+(e?"Right":"");ct.prototype[t]=function(){return this[o](1).value()[0]}}),ue(["initial","tail"],function(t,e){var o="drop"+(e?"":"Right");ct.prototype[t]=function(){return this.__filtered__?new ct(this):this[o](1)}}),ct.prototype.compact=function(){return this.filter(Xt)},ct.prototype.find=function(t){return this.filter(t).head()},ct.prototype.findLast=function(t){return this.reverse().find(t)},ct.prototype.invokeMap=ot(function(t,e){return typeof t=="function"?new ct(this):this.map(function(o){return pr(o,t,e)})}),ct.prototype.reject=function(t){return this.filter(_i(X(t)))},ct.prototype.slice=function(t,e){t=nt(t);var o=this;return o.__filtered__&&(t>0||e<0)?new ct(o):(t<0?o=o.takeRight(-t):t&&(o=o.drop(t)),e!==n&&(e=nt(e),o=e<0?o.dropRight(-e):o.take(e-t)),o)},ct.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},ct.prototype.toArray=function(){return this.take(Qt)},ke(ct.prototype,function(t,e){var o=/^(?:filter|find|map|reject)|While$/.test(e),a=/^(?:head|last)$/.test(e),f=d[a?"take"+(e=="last"?"Right":""):e],g=a||/^find/.test(e);!f||(d.prototype[e]=function(){var y=this.__wrapped__,w=a?[1]:arguments,x=y instanceof ct,D=w[0],R=x||tt(y),P=function(at){var lt=f.apply(d,Ge([at],w));return a&&N?lt[0]:lt};R&&o&&typeof D=="function"&&D.length!=1&&(x=R=!1);var N=this.__chain__,K=!!this.__actions__.length,Y=g&&!N,it=x&&!K;if(!g&&R){y=it?y:new ct(this);var G=t.apply(y,w);return G.__actions__.push({func:mi,args:[P],thisArg:n}),new le(G,N)}return Y&&it?t.apply(this,w):(G=this.thru(P),Y?a?G.value()[0]:G.value():G)})}),ue(["pop","push","shift","sort","splice","unshift"],function(t){var e=Ur[t],o=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",a=/^(?:pop|shift)$/.test(t);d.prototype[t]=function(){var f=arguments;if(a&&!this.__chain__){var g=this.value();return e.apply(tt(g)?g:[],f)}return this[o](function(y){return e.apply(tt(y)?y:[],f)})}}),ke(ct.prototype,function(t,e){var o=d[e];if(o){var a=o.name+"";gt.call($n,a)||($n[a]=[]),$n[a].push({name:e,func:o})}}),$n[ui(n,C).name]=[{name:"wrapper",func:n}],ct.prototype.clone=Ed,ct.prototype.reverse=xd,ct.prototype.value=Ad,d.prototype.at=Q0,d.prototype.chain=tm,d.prototype.commit=em,d.prototype.next=nm,d.prototype.plant=im,d.prototype.reverse=om,d.prototype.toJSON=d.prototype.valueOf=d.prototype.value=sm,d.prototype.first=d.prototype.head,ar&&(d.prototype[ar]=rm),d},On=ed();fn?((fn.exports=On)._=On,uo._=On):Pt._=On}).call(Er)})(Os,Os.exports);let Fi=[];const Yl=r=>{for(const i of Fi)if(i.status==="running")try{for(const n of i.funcs)n(r-i.startTime)}catch(n){i.destroy(),console.error(n)}requestAnimationFrame(Yl)};requestAnimationFrame(Yl);class Ks{constructor(){T(this,"funcs",[]),T(this,"status","stop"),T(this,"startTime",0),this.status="running",Fi.push(this),requestAnimationFrame(i=>this.startTime=i)}add(i,n=!1){return n?this.funcs.unshift(i):this.funcs.push(i),this}remove(i){const n=this.funcs.findIndex(s=>s===i);if(n===-1)throw new ReferenceError("You are going to remove nonexistent ticker function.");return this.funcs.splice(n,1),this}clear(){this.funcs=[]}destroy(){this.clear(),this.stop()}stop(){this.status="stop",Fi=Fi.filter(i=>i!==this)}}const $1={move:[],moveend:[],movestart:[],resize:[],resizeend:[],resizestart:[],rotate:[],rotateend:[],rotatestart:[],shake:[],shakeend:[],shakestart:[],start:[],end:[],animating:[]};async function Ni(r){await new Promise(i=>setTimeout(i,r))}class Li{constructor(i){T(this,"timing"),T(this,"shakeTiming"),T(this,"path"),T(this,"ticker",new Ks),T(this,"custom",{}),T(this,"relation","absolute"),T(this,"easeTime",0),T(this,"size",1),T(this,"angle",0),T(this,"game"),T(this,"listener",Os.exports.cloneDeep($1)),T(this,"targetValue",{system:{move:[0,0],moveAs:[0,0],resize:0,rotate:0,shake:0},custom:{}}),T(this,"animateFn",{system:{move:[()=>0,()=>0],moveAs:()=>0,resize:()=>0,rotate:()=>0,shake:()=>0},custom:{}}),T(this,"ox",0),T(this,"oy",0),T(this,"sx",0),T(this,"sy",0),T(this,"animating",{}),this.game=i,this.timing=n=>n,this.shakeTiming=n=>n,this.path=n=>[n,n],this.animating={move:!1,scale:!1,rotate:!1,shake:!1},this.ticker.add(()=>{const{animating:n}=this.listener;for(const s of n)s(this,"all")})}get x(){return this.ox+this.sx}get y(){return this.oy+this.sy}mode(i,n=!1){return n?this.shakeTiming=i:this.timing=i,this}time(i){return this.easeTime=i,this}relative(){return this.relation="relative",this}absolute(){return this.relation="absolute",this}move(i,n){return this.animating.move&&this.end(!0,"move"),this.applySys("ox",i,"move"),this.applySys("oy",n,"move"),this}rotate(i){return this.applySys("angle",i,"rotate"),this}scale(i){return this.applySys("size",i,"resize"),this}shake(i,n){var s,u;this.animating.shake===!0&&this.end(!0,"shake"),this.animating.shake=!0;const{easeTime:c,shakeTiming:l}=this,p=(u=(s=this.game)==null?void 0:s.time)!=null?u:Date.now();this.hook("start","shakestart");const m=()=>{var h,_;const v=((_=(h=this.game)==null?void 0:h.time)!=null?_:Date.now())-p;v>c&&(this.ticker.remove(m),this.animating.shake=!1,this.sx=0,this.sy=0,this.hook("end","shakeend"));const b=v/c,A=l(b);this.sx=A*i,this.sy=A*n};return this.ticker.add(m),this.animateFn.system.shake=m,this}moveAs(i){var n,s;this.animating.moveAs&&this.end(!0,"moveAs"),this.animating.moveAs=!0,this.path=i;const{easeTime:u,relation:c,timing:l}=this,p=(s=(n=this.game)==null?void 0:n.time)!=null?s:Date.now(),[m,h]=[this.x,this.y],[_,v]=(()=>{if(c==="absolute")return i(1);{const[A,F]=i(1);return[m+A,h+F]}})();this.hook("start","movestart");const b=()=>{var A,F;const O=((F=(A=this.game)==null?void 0:A.time)!=null?F:Date.now())-p;if(O>u){this.end(!0,"moveAs");return}const I=O/u,[C,j]=i(l(I));c==="absolute"?(this.ox=C,this.oy=j):(this.ox=m+C,this.oy=h+j)};return this.ticker.add(b,!0),this.animateFn.system.moveAs=b,this.targetValue.system.moveAs=[_,v],this}async all(){if(Object.values(this.animating).every(i=>i===!0))return this.error("There is no animates to be waited.");await new Promise(i=>{const n=()=>{Object.values(this.animating).every(s=>s===!1)&&(this.unlisten("end",n),i("all animated."))};this.listen("end",n)})}async n(i){const n=Object.values(this.animating).filter(u=>u===!0).length;if(n<i)return this.error(`You are trying to wait ${i} animate, but there are only ${n} animate animating.`);let s=0;await new Promise(u=>{const c=()=>{s++,s===i&&(this.unlisten("end",c),u(`${i} animated.`))};this.listen("end",c)})}async w(i){if(this.animating[i]===!1)return this.error(`The ${i} animate is not animating.`);await new Promise(n=>{const s=()=>{this.animating[i]===!1&&(this.unlisten("end",s),n(`${i} animated.`))};this.listen("end",s)})}listen(i,n){this.listener[i].push(n)}unlisten(i,n){const s=this.listener[i].findIndex(u=>u===n);if(s===-1)return this.error("You are trying to remove a nonexistent listener.");this.listener[i].splice(s,1)}register(i,n){if(typeof this.custom[i]=="number")return this.error(`Property ${i} has been regietered twice.`,"reregister");this.custom[i]=n,this.animating[i]=!1}apply(i,n,s=!1){var u,c;this.animating[i]===!0&&this.end(!1,i),i in this.custom||this.error(`You are trying to execute nonexistent property ${i}.`),this.animating[i]=!0;const l=this.custom[i],p=(c=(u=this.game)==null?void 0:u.time)!=null?c:Date.now(),{timing:m,relation:h,easeTime:_}=this,v=h==="absolute"?n-l:n;this.hook("start");const b=()=>{var A,F;const O=((F=(A=this.game)==null?void 0:A.time)!=null?F:Date.now())-p;if(O>_){this.end(!1,i);return}const I=O/_,C=m(I);this.custom[i]=l+C*v};return this.ticker.add(b,s),this.animateFn.custom[i]=b,this.targetValue.custom[i]=v+l,this}applySys(i,n,s){var u,c;s!=="move"&&this.animating[s]===!0&&this.end(!0,s),this.animating[s]=!0;const l=this[i],p=(c=(u=this.game)==null?void 0:u.time)!=null?c:Date.now(),m=this.timing,h=this.relation,_=this.easeTime,v=h==="absolute"?n-l:n;this.hook("start",`${s}start`);const b=()=>{var A,F;const O=((F=(A=this.game)==null?void 0:A.time)!=null?F:Date.now())-p;if(O>_){this.end(!0,s);return}const I=O/_,C=m(I);this[i]=l+v*C,i!=="oy"&&this.hook(s)};this.ticker.add(b,!0),i==="ox"?this.animateFn.system.move[0]=b:i==="oy"?this.animateFn.system.move[1]=b:this.animateFn.system[s]=b,s==="move"?(i==="ox"&&(this.targetValue.system.move[0]=v+l),i==="oy"&&(this.targetValue.system.move[1]=v+l)):s!=="shake"&&(this.targetValue.system[s]=v+l)}error(i,n){throw n==="repeat"?new Error(`Cannot execute the same animation twice. Info: ${i}`):n==="reregister"?new Error(`Cannot register a animated property twice. Info: ${i}`):new Error(i)}hook(...i){const n=Object.entries(this.listener).filter(s=>i.includes(s[0]));for(const[s,u]of n)for(const c of u)c(this,s)}end(i,n){if(i===!0)if(this.animating[n]=!1,n==="move"?(this.ticker.remove(this.animateFn.system.move[0]),this.ticker.remove(this.animateFn.system.move[1])):n==="moveAs"?this.ticker.remove(this.animateFn.system.moveAs):this.ticker.remove(this.animateFn.system[n]),n==="move"){const[s,u]=this.targetValue.system.move;this.ox=s,this.oy=u,this.hook("moveend","end")}else if(n==="moveAs"){const[s,u]=this.targetValue.system.moveAs;this.ox=s,this.oy=u,this.hook("moveend","end")}else n==="rotate"?(this.angle=this.targetValue.system.rotate,this.hook("rotateend","end")):n==="resize"?(this.size=this.targetValue.system.resize,this.hook("resizeend","end")):(this.sx=0,this.sy=0,this.hook("shakeend","end"));else this.animating[n]=!1,this.ticker.remove(this.animateFn.custom[n]),this.custom[n]=this.targetValue.custom[n],this.hook("end")}}const Dt=Object.freeze(Object.defineProperty({__proto__:null,sleep:Ni,AnimationBase:Li},Symbol.toStringTag,{value:"Module"}));class j1 extends Li{constructor(i,n,s){super(i),T(this,"saveStack",[]),T(this,"inited",!1),T(this,"effectFn",this.defaultEffect),T(this,"trigo",[0,0]),T(this,"target"),T(this,"id"),T(this,"game"),this.target=s,this.id=n,this.game=i,this.ticker.add(()=>{const u=this.angle/180*Math.PI;this.trigo=[Math.cos(u),Math.sin(u)]})}save(){return this.saveStack.push({x:this.ox,y:this.oy,angle:this.angle,size:this.size}),this}restore(){const i=this.saveStack.pop();if(!i)throw new RangeError("There is no saves to be restored.");return this.ox=i.x,this.oy=i.y,this.size=i.size,this.angle=i.angle,this}effect(){this.effectFn(this)}css(i){const n=this.target.canvas,s=i.replaceAll(`
`,";").replace(/;+/g,";").trim().split(";");for(const u of s){const[c,l]=u.split(/\s*:\s*/);let p=c.replace(/-([a-z])/g,m=>`-${m.toUpperCase()}`);p.length!==0&&(p=p[0].toLowerCase()+p.slice(1),c in n.style&&(n.style[c]=l))}}setGlobalEffects(i){this.effectFn=i}defaultEffect(){const i=this.target,n=this.game.scale,s=960*n,u=540*n,c=this.x*n,l=this.y*n;i.translate(-c,-l),i.translate(s,u),i.rotate(this.angle*Math.PI/180),i.scale(this.size,this.size),i.translate(-s,-u),i.shadowBlur=4,i.shadowColor="black"}}const Ds=(...r)=>r.reduce((i,n)=>i+n,0),gs=r=>{if(r===0)return 1;let i=r;for(;r>1;)r--,i*=r;return i},Gl=(r,i)=>Math.round(gs(i)/(gs(r)*gs(i-r))),an=(r,i,n=s=>1-i(1-s))=>r==="in"?i:r==="out"?n:r==="in-out"?s=>s<.5?i(s*2)/2:.5+n((s-.5)*2)/2:s=>s<.5?n(s*2)/2:.5+i((s-.5)*2)/2,P1=Math.cosh(2),I1=Math.acosh(2),M1=Math.tanh(3),N1=Math.atan(5);function Oi(){return r=>r}function L1(...r){const i=[0].concat(r);i.push(1);const n=i.length,s=Array(n).fill(0).map((u,c)=>Gl(c,n-1));return u=>{const c=s.map((l,p)=>l*i[p]*(1-u)**(n-p-1)*u**p);return Ds(...c)}}function U1(r,i){if(r==="sin"){const n=s=>Math.sin(s*Math.PI/2);return an(i,s=>1-n(1-s),n)}if(r==="sec"){const n=s=>1/Math.cos(s);return an(i,s=>n(s*Math.PI/3)-1)}throw new TypeError("Unexpected parameters are delivered in trigo timing function.")}function z1(r,i){if(!Number.isInteger(r))throw new TypeError("The first parameter of power timing function only allow integer.");return an(i,n=>n**r)}function W1(r,i){if(r==="sin")return an(i,n=>(Math.cosh(n*2)-1)/(P1-1));if(r==="tan"){const n=s=>Math.tanh(s*3)*1/M1;return an(i,s=>1-n(1-s),n)}if(r==="sec"){const n=s=>1/Math.cosh(s);return an(i,s=>1-(n(s*I1)-.5)*2)}throw new TypeError("Unexpected parameters are delivered in hyper timing function.")}function H1(r,i){if(r==="sin"){const n=s=>Math.asin(s)/Math.PI*2;return an(i,s=>1-n(1-s),n)}if(r==="tan"){const n=s=>Math.atan(s*5)/N1;return an(i,s=>1-n(1-s),n)}throw new TypeError("Unexpected parameters are delivered in inverse trigo timing function.")}function q1(r,i=()=>1){let n=-1;return s=>(n*=-1,s<.5?r*i(s*2)*n:r*i((1-s)*2)*n)}const Zl=(1920**2+1080**2)/4;function et(r){return r!=null}function K1(r,i){return typeof r===i}function Ql(r){return et(r)&&et(r.fnType)&&(r.fnType==="timing"||r.fnType==="generator"||r.fnType==="path")}function V1(r,i,...n){return typeof r(...n)===i}const Gn=Object.freeze(Object.defineProperty({__proto__:null,radius:Zl,has:et,is:K1,isMTTFn:Ql,isReturnType:V1},Symbol.toStringTag,{value:"Module"})),tf=class extends Li{constructor(r,i,n,s,u,c){super(i),T(this,"bpm",100),T(this,"lastNode",-1),T(this,"lastAngle",0),T(this,"rad",0),T(this,"inited",!1),T(this,"ctxFilter",""),T(this,"game"),T(this,"notes",[]),T(this,"num",tf.cnt++),T(this,"id"),T(this,"timeNodes",[]),T(this,"initAngle"),this.id=r,this.game=i,this.register("radius",u),this.register("r",255),this.register("g",180),this.register("b",32),this.register("a",1),this.ox=n,this.oy=s,this.initAngle=c}addNote(r){this.notes.push(r)}sort(){this.timeNodes.sort(([r],[i])=>r-i),this.notes.sort((r,i)=>{if(!et(r.noteTime)||!et(i.noteTime))throw new TypeError(`A note without note time is appended on the base ${this.id}`);return r.noteTime-i.noteTime})}setRadius(r){return this.mode(Oi()).time(1).apply("radius",r),this}rgba(r,i,n,s){return this.mode(Oi()).time(1),et(r)&&this.apply("r",r),et(i)&&this.apply("g",i),et(n)&&this.apply("b",n),et(s)&&this.apply("a",s),this}filter(r){return this.ctxFilter=r,this}setSpeed(r){this.bpm=r}calRad(){this.checkNode();const[r,i]=this.timeNodes[this.lastNode];return this.rad=this.lastAngle+(this.game.time-r)*i/3e4*Math.PI+this.initAngle*Math.PI/180}checkNode(){var r,i;const n=this.game.time;let s=!1;for(let u=this.lastNode+1;u<this.timeNodes.length;u++){const[c]=this.timeNodes[u];c<=n&&(this.lastNode=u,s=!0)}if(s){let u=0;for(let c=0;c<this.lastNode;c++){const[l,p]=this.timeNodes[c];u+=(((i=(r=this.timeNodes[c+1])==null?void 0:r[0])!=null?i:0)-l)*p/3e4*Math.PI}this.lastAngle=u}}};let Rs=tf;T(Rs,"cnt",0);class Vs{constructor(i){T(this,"events"),this.events=i}on(i,n,s={}){this.events[i].push({fn:n,option:s})}off(i,n){const s=this.events[i].findIndex(u=>u.fn===n);if(s===-1)throw new ReferenceError("You are trying to remove a nonexistent listener.");this.events[i].splice(s,1)}dispatch(i,n,s={}){try{for(const{fn:u,option:c}of this.events[i])u(n)}catch(u){throw u}return!0}}class J1 extends Vs{constructor(i){super({hit:[],hold:[],holdend:[]}),T(this,"toJudge",[]),T(this,"holding",[]),T(this,"holdingKeys",[]),T(this,"perfect",0),T(this,"good",0),T(this,"miss",0),T(this,"maxCombo",0),T(this,"early",0),T(this,"late",0),T(this,"touching",0),T(this,"auto",!1),T(this,"chart"),T(this,"c",0),T(this,"keydown",n=>{this.holdingKeys.includes(n.keyCode)||(this.chart.game.ac.sync(),this.holdingKeys.push(n.keyCode),this.judge(n.keyCode))}),T(this,"keyup",n=>{this.chart.game.ac.sync();const s=this.holdingKeys.findIndex(c=>c===n.keyCode);this.holdingKeys.splice(s,1);const u=this.holding.find(c=>c.key===n.keyCode);!et(u)||this.judgeHold(!1,u,n.keyCode)}),T(this,"touchstart",n=>{this.chart.game.ac.sync(),this.touching++,this.judge()}),T(this,"touchend",n=>{this.chart.game.ac.sync(),this.touching--,this.judgeHold(!1)}),this.chart=i,document.addEventListener("keydown",this.keydown),document.addEventListener("keyup",this.keyup)}set combo(i){this.c=i,i>this.maxCombo&&(this.maxCombo=i)}get combo(){return this.c}inJudge(i){return i<=this.perfect+this.good+this.miss+this.toJudge.length}judge(i){if(this.auto)return;const n=this.toJudge.slice(0,1)[0];if(!et(n))return;if(this.toJudge.length===0&&this.next(),n.noteType==="hold")return this.judgeHold(!0,n,i!=null?i:-10);if(n.noteType==="drag")return;const s=this.chart.game.time,u=n.noteTime;if(!et(u))return;const c=l=>s>u-l&&s<u+l;if(c(n.perfectTime))this.toJudge.shift(),n.perfect(),this.perfect++;else if(c(n.goodTime)){this.toJudge.shift();const l=s-u>n.perfectTime?"late":"early";n.good(l),this[l]++,this.good++}else if(c(n.missTime)){this.toJudge.shift();const l=s-u>n.goodTime?"late":"early";n.miss(l),this[l]++,this.miss++}}judgeHold(i,n,s){if(!this.auto){if(i)if(et(n)&&et(n.noteTime)){const u=this.chart.game.time,c=n.noteTime,l=m=>u>c-m&&u<c+m;l(n.perfectTime)?n.hold("perfect","perfect",s):l(n.goodTime)?n.hold("good",u-c>n.perfectTime?"late":"early",s):l(n.missTime)&&n.hold("miss",u-c>n.goodTime?"late":"early",s);const p=this.toJudge.findIndex(m=>m===n);this.toJudge.splice(p,1);return}else throw new TypeError("There is no note on judging first hold.");if(et(n)&&et(s)){if(n.key===s){const u=this.holding.findIndex(c=>c===n);return this.holding.splice(u,1),n.miss("late")}}else{const u=this.holding;if(u.length>this.touching){const c=u.length-this.touching;u.splice(0,c).forEach(l=>{const p=this.holding.findIndex(m=>m===n);this.holding.splice(p,1),l.miss("late")})}}}}judgeMissAndDrag(){const i=()=>{this.toJudge.length===0&&this.next(),this.toJudge=this.toJudge.filter(n=>{if(!et(n.noteTime))throw new TypeError("The note to be judge doesn't have the property 'noteTime'.");if(this.auto){if(this.chart.game.time>n.noteTime){if(n.noteType!=="hold")n.perfect(),this.perfect++;else{n.hold("perfect","perfect");const s=this.toJudge.findIndex(u=>n===u);this.toJudge.splice(s,1)}return!1}return!0}else return n.noteType==="drag"&&this.chart.game.time>n.noteTime-n.perfectTime&&(this.holdingKeys.length>0||this.touching>0)?(n.perfect(),this.perfect++,!1):this.chart.game.time>n.noteTime+n.missTime?(n.miss("late"),this.late++,this.miss++,!1):!0}),this.holding=this.holding.filter(n=>{if(!et(n.noteTime))throw new TypeError("The note to be judge doesn't have the property 'noteTime'.");if(!et(n.holdTime))throw new TypeError("The note to be judge doesn't have the property 'holdTime'.");if(this.auto){if(n.holdTime>this.chart.game.time-n.noteTime-100)return n.perfect(),this.perfect++,!1}else if(n.holdTime>this.chart.game.time-n.noteTime-100){if(n.res==="pre")throw new TypeError("The note type is unexpected 'pre' when judging hold note.");return n[n.res](n.detail),n.res!=="miss"&&this[n.res]++,!1}return!0})};this.chart.game.ticker.add(i)}isMulti(i){if(!et(i.noteTime))return!1;const n=i.num,s=this.chart.notes[n-1];if(et(s)&&et(s.noteTime)&&s.noteTime===i.noteTime)return!0;const u=this.chart.notes[n+1];return!!(et(u)&&et(u.noteTime)&&u.noteTime===i.noteTime)}dispatchEvent(i,n){this.dispatch(i,n)}next(){const i=this.chart.notesArr,n=i.find(c=>et(c.noteTime));let s=-1;for(let c=0;c<i.length;c++){const l=i[c];if(et(l.noteTime)){if(l.noteTime>(n==null?void 0:n.noteTime)&&l.noteType!=="drag"){s=c;break}l.noteType==="drag"&&l.noteTime>this.chart.game.time&&(s=c)}}(s===-1||s===0)&&(s=i.length+1);const u=i.splice(0,s);this.toJudge=u.filter(c=>et(c.noteTime))}}const ef=class extends Li{constructor(r,i,n){var s,u,c;super(i.game),T(this,"played",!1),T(this,"speed",500),T(this,"alpha",1),T(this,"ctxFilter",""),T(this,"ctxShadow",{x:0,y:0,blur:0,color:""}),T(this,"key",0),T(this,"holding",!1),T(this,"destroyed",!1),T(this,"res","pre"),T(this,"detail","early"),T(this,"lastNode",-1),T(this,"lastD",0),T(this,"multi",!1),T(this,"px",0),T(this,"py",0),T(this,"inited",!1),T(this,"num",ef.cnt++),T(this,"noteType"),T(this,"base"),T(this,"holdTime"),T(this,"noteTime"),T(this,"perfectTime"),T(this,"goodTime"),T(this,"missTime"),T(this,"timeNodes",[]),T(this,"dir",[0,0]),T(this,"rad",0),this.noteType=r,this.noteTime=n==null?void 0:n.playTime,this.base=i,this.perfectTime=(s=n==null?void 0:n.perfectTime)!=null?s:i.game.perfect,this.goodTime=(u=n==null?void 0:n.goodTime)!=null?u:i.game.good,this.missTime=(c=n==null?void 0:n.goodTime)!=null?c:i.game.miss,this.holdTime=n==null?void 0:n.time,et(this.noteTime)&&(this.dir=this.calDir(),this.rad=Math.atan(this.dir[1]/this.dir[0])),this.register("opacity",1)}setSpeed(r){this.speed=r}perfect(){if(this.noteType==="hold")return this.holdEnd("perfect");const r=()=>{this.base.game.time>=this.noteTime&&this.hit("perfect")};this.noteType==="drag"?this.base.game.time>=this.noteTime?this.hit("perfect"):this.ticker.add(r):this.hit("perfect")}good(r){if(this.detail=r,this.noteType==="hold")return this.holdEnd("good");this.hit("good")}miss(r){if(this.detail=r,this.noteType==="hold")return this.holdEnd("miss");this.hit("miss",!0)}hold(r,i,n){if(this.noteType!=="hold")throw new TypeError("You are trying to hold non-hold note.");if(!et(this.holdTime)||!et(this.noteTime))throw new TypeError("This note has no noteTime or holdTime.");this.holding=!0,et(n)&&(this.key=n),this.base.game.chart.judger.holding.push(this);const s={target:this.base.game.chart.judger,type:"hold",time:this.base.game.time-this.noteTime,totalTime:this.holdTime,res:r,note:this,base:this.base,detail:i};this.base.game.chart.judger.dispatchEvent("hold",s)}filter(r){return this.ctxFilter=r,this}opacity(r){return this.mode(Oi()).time(1).apply("opacity",r),this}shadow(r,i,n,s){return this.ctxShadow={x:r,y:i,blur:n,color:s},this}destroy(){this.destroyed=!0,this.ticker.destroy()}sort(){this.timeNodes.sort(([r],[i])=>r-i)}calDistance(){return et(this.noteTime)?(this.checkNode(),-(this.base.game.time-this.timeNodes[this.lastNode][0])*this.speed/1e3+this.lastD):0}calPosition(){if(this.destroyed)return[this.px,this.py,NaN];const r=this.calDistance()+this.base.custom.radius;if(r<0)return[NaN,NaN,NaN];const i=r*this.dir[0]+this.x,n=r*this.dir[1]+this.y,s=i+this.base.x,u=n+this.base.y;return this.px=s,this.py=u,[s,u,r]}playSound(){this.base.game.ac.playSound(this.noteType)}calDir(){var r,i;if(!et(this.noteTime))throw new TypeError("The note doesn't have noteTime.");const n=this.base.timeNodes;let s=this.base.initAngle*Math.PI/180;for(let u=0;u<n.length;u++){const[c,l]=n[u],p=(i=(r=n[u+1])==null?void 0:r[0])!=null?i:this.noteTime;if(p>this.noteTime){s+=(this.noteTime-c)*l/3e4*Math.PI;break}s+=(p-c)*l/3e4*Math.PI}return[Math.cos(s),Math.sin(s)]}checkNode(){var r,i;const n=this.base.game.time;let s=!1;for(let u=this.lastNode+1;u<this.timeNodes.length;u++){const[c]=this.timeNodes[u];c<=n&&(this.lastNode=u,s=!0)}if(s){let u=0;for(let c=this.timeNodes.length-1;c>=this.lastNode;c--){const[l,p]=this.timeNodes[c];u+=(((i=(r=this.timeNodes[c+1])==null?void 0:r[0])!=null?i:this.noteTime)-l)*p/1e3}this.lastD=u}}hit(r,i=!1){i||this.playSound(),this.res=r,this.played=!0,this.destroy(),this.base.game.renderer.addHitEffect(this),r==="miss"?this.base.game.chart.judger.combo=0:this.base.game.chart.judger.combo++;const n={target:this.base.game.chart.judger,type:"hit",res:r,note:this,base:this.base,detail:this.detail};this.base.game.chart.judger.dispatchEvent("hit",n)}holdEnd(r){this.played=!0,this.destroy(),this.base.game.renderer.addHitEffect(this),r==="miss"?this.base.game.chart.judger.combo=0:this.base.game.chart.judger.combo++;const i={target:this.base.game.chart.judger,type:"holdend",res:r,note:this,base:this.base,detail:this.detail,time:this.base.game.time-this.noteTime,totalTime:this.holdTime};this.base.game.chart.judger.dispatchEvent("holdend",i)}};let $s=ef;T($s,"cnt",0);class X1{constructor(i){T(this,"camera"),T(this,"notes",{}),T(this,"bases",{}),T(this,"basesDict",{}),T(this,"notesArr",[]),T(this,"game"),T(this,"judger",new J1(this)),T(this,"animate",{timing:{},generator:{},path:{},pathG:{}}),T(this,"attrSet",{note:{},base:{},camera:{}}),this.game=i}async extract(i){const{bases:n,notes:s,camera:u,option:c}=i;await new Promise(l=>{var p;for(const h of n){const _=h.id,v=new Rs(_,this.game,h.x,h.y,Object.values(h.r)[0],h.angle);this.bases[v.num]=v,this.basesDict[_]=v,v.timeNodes.push(...Object.entries(h.bpm).map(b=>[parseFloat(b[0]),b[1]])),v.sort(),this.execute("base",h,v),this.executeAnimate("base",h.animate,v.num)}s.sort((h,_)=>{var v,b;const A=et(h.config)&&et(h.config.playTime),F=et(_.config)&&et(_.config.playTime);return A&&F?((v=h.config)==null?void 0:v.playTime)-((b=_.config)==null?void 0:b.playTime):A&&!F?-1:!A&&F?1:0});for(const h of s){const _=this.basesDict[h.base],v=new $s(h.type,_,h.config);this.notes[v.num]=v,this.notesArr.push(v),v.timeNodes.push(...Object.entries(h.speed).map(b=>[parseFloat(b[0]),b[1]])),v.sort(),this.execute("note",h,v),this.executeAnimate("note",h.animate,v.num)}this.notesArr.forEach(h=>{h.multi=this.judger.isMulti(h)});const m=new j1(this.game,u.id,this.game.ctx);this.camera=m,this.executeAnimate("camera",u.animate),this.execute("camera",u,m),this.game.target.style.background=(p=c.background)!=null?p:"black",l("extract success.")}),this.game.length=this.notesArr.filter(l=>et(l.noteTime)).length,this.judger.judgeMissAndDrag()}async restart(){Object.values(this.notes).forEach(i=>i.ticker.destroy()),Object.values(this.bases).forEach(i=>i.ticker.destroy()),this.notes={},this.bases={},this.notesArr=[],this.basesDict={},$s.cnt=0,Rs.cnt=0,this.judger.perfect=0,this.judger.good=0,this.judger.miss=0,this.judger.combo=0,this.judger.maxCombo=0,await Ni(1e3),await this.extract(this.game.mtt)}register(i,n,s){this.animate[i][n]=s}registerExecute(i,n,s){this.attrSet[i][n]=s}sortMTT(i){return Object.keys(i).map(n=>parseFloat(n)).sort((n,s)=>n-s)}extractMTTAnimate(i){const n=(c,l,p)=>{const m=p.map(_=>Ql(_)?n(_.fn,_.fnType,_.args):_),h=this.animate[l][c];return l==="timing"?h:h.apply(this,m)},s=n(i.mode.fn,i.mode.fnType,i.mode.args);let u;return i.type==="moveAs"?u=n(i.mode.pathFn,i.mode.pathType,i.mode.pathArg):u=void 0,{fn:s,path:u,...i}}executeAnimate(i,n,s){let u;i==="base"?u=this.bases[s]:i==="note"?u=this.notes[s]:u=this.camera;const c=n.sort((m,h)=>m.start-h.start).map(m=>this.extractMTTAnimate(m));let l=-1;const p=()=>{const m=c[l+1];if(!m)return this.game.ticker.remove(p);const h=m.start;this.game.time<h||(l++,u.mode(m.fn,m.shake).time(m.time),m.relation==="absolute"?u.absolute():u.relative(),m.custom?u.apply(m.type,m.n,m.first):m.path?u.moveAs(m.path):m.type==="move"?u.move(m.x,m.y):m.type==="rotate"?u.rotate(m.n):m.type==="resize"||m.type==="scale"?u.scale(m.n):m.type==="shake"&&u.shake(m.x,m.y))};this.game.ticker.add(p)}execute(i,n,s){const u=this.attrSet[i],c=l=>{let p=-1;const m=n[l],h=this.sortMTT(m),_=u[l],v=()=>{const b=h[p+1];if(!et(b))return this.game.ticker.remove(v);this.game.time<b||(b===0&&setTimeout(()=>s.inited=!0,50),this.game.time>0&&!s.inited&&setTimeout(()=>s.inited=!0,50),p++,_(n[l][b],s))};this.game.ticker.add(v)};for(const l in u)c(l)}}function Y1(r,i=1,n=u=>1,s=!1){return u=>{const c=i*u*Math.PI*2,l=Math.cos(c),p=Math.sin(c),m=r*n(n(s?1-u:u));return[m*l,m*p]}}function G1(r,i,...n){const s=[r].concat(n);s.push(i);const u=s.length,c=Array(u).fill(0).map((l,p)=>Gl(p,u-1));return l=>{const p=c.map((h,_)=>h*s[_][0]*(1-l)**(u-_-1)*l**_),m=c.map((h,_)=>h*s[_][1]*(1-l)**(u-_-1)*l**_);return[Ds(...p),Ds(...m)]}}class Z1 extends Vs{constructor(i){super({before:[],after:[],effectadd:[],effectend:[]}),T(this,"time",0),T(this,"game"),T(this,"renderer",{base:this.renderBases,tap:this.renderTap,hold:this.renderHold,drag:this.renderDrag}),T(this,"effect",{perfect:this.perfectEffect,good:this.goodEffect,miss:this.missEffect}),T(this,"effects",[]),this.game=i}start(){const i=()=>{this.game.status!=="playing"||this.game.time<=0||this.render()};this.game.ticker.add(i)}render(i){const n=this.game.ctx;n.clearRect(0,0,n.canvas.width,n.canvas.height),n.save();const s={target:this,type:"before",canvas:this.game.target,ctx:this.game.ctx};this.dispatch("before",s),this.game.chart.camera.effect();const u=this.game.chart.bases;for(const m in u){const h=u[m];h.custom.a!==0&&this.renderer.base.call(this,h)}const c=this.game.chart.notes;for(const m in c){const h=c[m];h.custom.opacity!==0&&(h.played||(h.noteType==="tap"&&this.renderer.tap.call(this,h),h.noteType==="hold"&&this.renderer.hold.call(this,h),h.noteType==="drag"&&this.renderer.drag.call(this,h)))}const l=this.effects;for(const m of l)m.res==="perfect"&&this.effect.perfect.call(this,m),m.res==="good"&&this.effect.good.call(this,m),m.res==="miss"&&this.effect.miss.call(this,m);n.restore();const p={target:this,type:"after",canvas:this.game.target,ctx:this.game.ctx};this.dispatch("after",p)}setBase(i){this.renderer.base=i}setNote(i,n){this.renderer[i]=n}setEffect(i,n){this.effect[i]=n}inGame(i,n,s=10){const u=this.game.chart.camera,c=u.size,l=i-960,p=n-540,[m,h]=u.trigo,_=l*m-p*h-u.x/c,v=l*h+p*m-u.y/c;return _**2+v**2-s**2<=Zl/c**2}addHitEffect(i){const n={start:this.game.time,end:!1,res:i.res,note:i},s={set:(l,p,m)=>{if(typeof p=="symbol")return!1;if(p==="end"&&m===!0){const h=this.effects.findIndex(v=>v===u);this.effects.splice(h,1);const _={target:this,type:"effectend",canvas:this.game.target,ctx:this.game.ctx,effect:u};this.dispatch("effectend",_)}return l[p]=m,!0}},u=new Proxy(n,s);this.effects.push(u);const c={target:this,type:"effectadd",canvas:this.game.target,ctx:this.game.ctx,effect:u};this.dispatch("effectadd",c)}clearEffect(){this.effects=[]}renderTap(i){this.renderNonHold(i,"#00d2eb")}renderHold(i){}renderDrag(i){this.renderNonHold(i,"#f500d6")}renderNonHold(i,n){if(i.destroyed||et(i.noteTime)&&this.game.time>i.noteTime+i.missTime||!i.inited)return;const[s,u,c]=i.calPosition();if(isNaN(s)||!this.inGame(s,u,this.game.drawWidth/2))return;const l=i.rad+i.angle*Math.PI/180,p=this.game.ctx,m=this.game.halfWidth,h=this.game.halfTopWidth,_=this.game.halfHeight,v=this.game.multiStroke,b=i.custom.opacity;p.save(),p.translate(s*this.game.scale,u*this.game.scale),p.rotate(l+Math.PI/2),p.filter=i.ctxFilter,p.strokeStyle="#fff",p.fillStyle=n,p.lineWidth=4*this.game.drawScale,i.multi&&(p.shadowColor="gold",p.strokeStyle=v),p.globalAlpha=b,c<i.base.custom.radius&&(p.globalAlpha=c/i.base.custom.radius*b),p.beginPath(),p.moveTo(-m,0),p.lineTo(-h,-_),p.lineTo(h,-_),p.lineTo(m,0),p.lineTo(h,_),p.lineTo(-h,_),p.closePath(),p.fill(),p.stroke(),p.restore()}renderBases(i){if(!this.inGame(i.x,i.y)||!i.inited)return;const n=i.calRad()+i.angle*Math.PI/180,s=this.game.ctx,u=this.game.scale,c=i.x*u,l=i.y*u,p=i.custom.radius*u,{r:m,g:h,b:_,a:v}=i.custom;s.save(),s.translate(c,l),s.rotate(n+Math.PI),s.filter=i.ctxFilter,s.moveTo(0,0),s.fillStyle=s.strokeStyle=`rgba(${m}, ${h}, ${_}, ${v})`,s.fillRect(-p,-p*.06,p,p*.12),s.beginPath(),s.arc(0,0,p*2/5,0,Math.PI*2),s.closePath(),s.lineWidth=p/10*u,s.fill(),s.beginPath(),s.lineCap="round",s.arc(0,0,p*.6,-Math.PI/8,+Math.PI/8),s.stroke(),s.closePath(),s.beginPath(),s.arc(0,0,p,0,Math.PI*2),s.lineWidth=2*u,s.globalAlpha=.6,s.stroke(),s.closePath(),s.restore()}playEffect(i,n){const s=this.game.time-i.start;if(s>500){i.end=!0;return}const[u,c]=i.note.calPosition(),l=s/4,p=this.game.ctx,m=this.game.scale;p.save(),p.strokeStyle=n,p.shadowBlur=5,p.shadowColor=n,p.globalAlpha=2-s/250,p.beginPath(),p.arc(u*m,c*m,l*this.game.drawScale*.8,0,Math.PI*2),p.closePath(),p.lineWidth=5,p.stroke(),p.restore()}perfectEffect(i){this.playEffect(i,"gold")}goodEffect(i){this.playEffect(i,"#19aff0")}missEffect(i){this.playEffect(i,"#8f0067")}}var nf={exports:{}},Js={exports:{}},rf=function(r,i){return function(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];return r.apply(i,n)}},Q1=rf,Xs=Object.prototype.toString,Ys=function(r){return function(i){var n=Xs.call(i);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function xn(r){return r=r.toLowerCase(),function(i){return Ys(i)===r}}function Gs(r){return Array.isArray(r)}function Di(r){return typeof r>"u"}function t_(r){return r!==null&&!Di(r)&&r.constructor!==null&&!Di(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}var of=xn("ArrayBuffer");function e_(r){var i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(r):i=r&&r.buffer&&of(r.buffer),i}function n_(r){return typeof r=="string"}function r_(r){return typeof r=="number"}function sf(r){return r!==null&&typeof r=="object"}function Ti(r){if(Ys(r)!=="object")return!1;var i=Object.getPrototypeOf(r);return i===null||i===Object.prototype}var i_=xn("Date"),o_=xn("File"),s_=xn("Blob"),a_=xn("FileList");function Zs(r){return Xs.call(r)==="[object Function]"}function u_(r){return sf(r)&&Zs(r.pipe)}function c_(r){var i="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||Xs.call(r)===i||Zs(r.toString)&&r.toString()===i)}var l_=xn("URLSearchParams");function f_(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function h_(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Qs(r,i){if(!(r===null||typeof r>"u"))if(typeof r!="object"&&(r=[r]),Gs(r))for(var n=0,s=r.length;n<s;n++)i.call(null,r[n],n,r);else for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&i.call(null,r[u],u,r)}function js(){var r={};function i(u,c){Ti(r[c])&&Ti(u)?r[c]=js(r[c],u):Ti(u)?r[c]=js({},u):Gs(u)?r[c]=u.slice():r[c]=u}for(var n=0,s=arguments.length;n<s;n++)Qs(arguments[n],i);return r}function d_(r,i,n){return Qs(i,function(s,u){n&&typeof s=="function"?r[u]=Q1(s,n):r[u]=s}),r}function p_(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}function m_(r,i,n,s){r.prototype=Object.create(i.prototype,s),r.prototype.constructor=r,n&&Object.assign(r.prototype,n)}function g_(r,i,n){var s,u,c,l={};i=i||{};do{for(s=Object.getOwnPropertyNames(r),u=s.length;u-- >0;)c=s[u],l[c]||(i[c]=r[c],l[c]=!0);r=Object.getPrototypeOf(r)}while(r&&(!n||n(r,i))&&r!==Object.prototype);return i}function v_(r,i,n){r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=i.length;var s=r.indexOf(i,n);return s!==-1&&s===n}function y_(r){if(!r)return null;var i=r.length;if(Di(i))return null;for(var n=new Array(i);i-- >0;)n[i]=r[i];return n}var __=function(r){return function(i){return r&&i instanceof r}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Nt={isArray:Gs,isArrayBuffer:of,isBuffer:t_,isFormData:c_,isArrayBufferView:e_,isString:n_,isNumber:r_,isObject:sf,isPlainObject:Ti,isUndefined:Di,isDate:i_,isFile:o_,isBlob:s_,isFunction:Zs,isStream:u_,isURLSearchParams:l_,isStandardBrowserEnv:h_,forEach:Qs,merge:js,extend:d_,trim:f_,stripBOM:p_,inherits:m_,toFlatObject:g_,kindOf:Ys,kindOfTest:xn,endsWith:v_,toArray:y_,isTypedArray:__,isFileList:a_},zn=Nt;function Kc(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var af=function(r,i,n){if(!i)return r;var s;if(n)s=n(i);else if(zn.isURLSearchParams(i))s=i.toString();else{var u=[];zn.forEach(i,function(l,p){l===null||typeof l>"u"||(zn.isArray(l)?p=p+"[]":l=[l],zn.forEach(l,function(m){zn.isDate(m)?m=m.toISOString():zn.isObject(m)&&(m=JSON.stringify(m)),u.push(Kc(p)+"="+Kc(m))}))}),s=u.join("&")}if(s){var c=r.indexOf("#");c!==-1&&(r=r.slice(0,c)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r},w_=Nt;function Ui(){this.handlers=[]}Ui.prototype.use=function(r,i,n){return this.handlers.push({fulfilled:r,rejected:i,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Ui.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)};Ui.prototype.forEach=function(r){w_.forEach(this.handlers,function(i){i!==null&&r(i)})};var b_=Ui,E_=Nt,x_=function(r,i){E_.forEach(r,function(n,s){s!==i&&s.toUpperCase()===i.toUpperCase()&&(r[i]=n,delete r[s])})},uf=Nt;function qn(r,i,n,s,u){Error.call(this),this.message=r,this.name="AxiosError",i&&(this.code=i),n&&(this.config=n),s&&(this.request=s),u&&(this.response=u)}uf.inherits(qn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var cf=qn.prototype,lf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(r){lf[r]={value:r}});Object.defineProperties(qn,lf);Object.defineProperty(cf,"isAxiosError",{value:!0});qn.from=function(r,i,n,s,u,c){var l=Object.create(cf);return uf.toFlatObject(r,l,function(p){return p!==Error.prototype}),qn.call(l,r.message,i,n,s,u),l.name=r.name,c&&Object.assign(l,c),l};var Zn=qn,ff={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ae=Nt;function A_(r,i){i=i||new FormData;var n=[];function s(c){return c===null?"":Ae.isDate(c)?c.toISOString():Ae.isArrayBuffer(c)||Ae.isTypedArray(c)?typeof Blob=="function"?new Blob([c]):Buffer.from(c):c}function u(c,l){if(Ae.isPlainObject(c)||Ae.isArray(c)){if(n.indexOf(c)!==-1)throw Error("Circular reference detected in "+l);n.push(c),Ae.forEach(c,function(p,m){if(!Ae.isUndefined(p)){var h=l?l+"."+m:m,_;if(p&&!l&&typeof p=="object"){if(Ae.endsWith(m,"{}"))p=JSON.stringify(p);else if(Ae.endsWith(m,"[]")&&(_=Ae.toArray(p))){_.forEach(function(v){!Ae.isUndefined(v)&&i.append(h,s(v))});return}}u(p,h)}}),n.pop()}else i.append(l,s(c))}return u(r),i}var hf=A_,vs,Vc;function F_(){if(Vc)return vs;Vc=1;var r=Zn;return vs=function(i,n,s){var u=s.config.validateStatus;!s.status||!u||u(s.status)?i(s):n(new r("Request failed with status code "+s.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))},vs}var ys,Jc;function T_(){if(Jc)return ys;Jc=1;var r=Nt;return ys=r.isStandardBrowserEnv()?function(){return{write:function(i,n,s,u,c,l){var p=[];p.push(i+"="+encodeURIComponent(n)),r.isNumber(s)&&p.push("expires="+new Date(s).toGMTString()),r.isString(u)&&p.push("path="+u),r.isString(c)&&p.push("domain="+c),l===!0&&p.push("secure"),document.cookie=p.join("; ")},read:function(i){var n=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),ys}var S_=function(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)},C_=function(r,i){return i?r.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):r},k_=S_,B_=C_,df=function(r,i){return r&&!k_(i)?B_(r,i):i},_s,Xc;function O_(){if(Xc)return _s;Xc=1;var r=Nt,i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return _s=function(n){var s={},u,c,l;return n&&r.forEach(n.split(`
`),function(p){if(l=p.indexOf(":"),u=r.trim(p.substr(0,l)).toLowerCase(),c=r.trim(p.substr(l+1)),u){if(s[u]&&i.indexOf(u)>=0)return;u==="set-cookie"?s[u]=(s[u]?s[u]:[]).concat([c]):s[u]=s[u]?s[u]+", "+c:c}}),s},_s}var ws,Yc;function D_(){if(Yc)return ws;Yc=1;var r=Nt;return ws=r.isStandardBrowserEnv()?function(){var i=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),s;function u(c){var l=c;return i&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=u(window.location.href),function(c){var l=r.isString(c)?u(c):c;return l.protocol===s.protocol&&l.host===s.host}}():function(){return function(){return!0}}(),ws}var bs,Gc;function zi(){if(Gc)return bs;Gc=1;var r=Zn,i=Nt;function n(s){r.call(this,s==null?"canceled":s,r.ERR_CANCELED),this.name="CanceledError"}return i.inherits(n,r,{__CANCEL__:!0}),bs=n,bs}var Zc,Qc;function R_(){return Qc||(Qc=1,Zc=function(r){var i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return i&&i[1]||""}),Zc}var Es,tl;function $_(){if(tl)return Es;tl=1;var r=Nt,i=F_(),n=T_(),s=af,u=df,c=O_(),l=D_(),p=ff,m=Zn,h=zi(),_=R_();return Es=function(v){return new Promise(function(b,A){var F=v.data,O=v.headers,I=v.responseType,C;function j(){v.cancelToken&&v.cancelToken.unsubscribe(C),v.signal&&v.signal.removeEventListener("abort",C)}r.isFormData(F)&&r.isStandardBrowserEnv()&&delete O["Content-Type"];var B=new XMLHttpRequest;if(v.auth){var U=v.auth.username||"",q=v.auth.password?unescape(encodeURIComponent(v.auth.password)):"";O.Authorization="Basic "+btoa(U+":"+q)}var M=u(v.baseURL,v.url);B.open(v.method.toUpperCase(),s(M,v.params,v.paramsSerializer),!0),B.timeout=v.timeout;function H(){if(B){var rt="getAllResponseHeaders"in B?c(B.getAllResponseHeaders()):null,ft=!I||I==="text"||I==="json"?B.responseText:B.response,Re={data:ft,status:B.status,statusText:B.statusText,headers:rt,config:v,request:B};i(function(ve){b(ve),j()},function(ve){A(ve),j()},Re),B=null}}if("onloadend"in B?B.onloadend=H:B.onreadystatechange=function(){!B||B.readyState!==4||B.status===0&&!(B.responseURL&&B.responseURL.indexOf("file:")===0)||setTimeout(H)},B.onabort=function(){!B||(A(new m("Request aborted",m.ECONNABORTED,v,B)),B=null)},B.onerror=function(){A(new m("Network Error",m.ERR_NETWORK,v,B,B)),B=null},B.ontimeout=function(){var rt=v.timeout?"timeout of "+v.timeout+"ms exceeded":"timeout exceeded",ft=v.transitional||p;v.timeoutErrorMessage&&(rt=v.timeoutErrorMessage),A(new m(rt,ft.clarifyTimeoutError?m.ETIMEDOUT:m.ECONNABORTED,v,B)),B=null},r.isStandardBrowserEnv()){var L=(v.withCredentials||l(M))&&v.xsrfCookieName?n.read(v.xsrfCookieName):void 0;L&&(O[v.xsrfHeaderName]=L)}"setRequestHeader"in B&&r.forEach(O,function(rt,ft){typeof F>"u"&&ft.toLowerCase()==="content-type"?delete O[ft]:B.setRequestHeader(ft,rt)}),r.isUndefined(v.withCredentials)||(B.withCredentials=!!v.withCredentials),I&&I!=="json"&&(B.responseType=v.responseType),typeof v.onDownloadProgress=="function"&&B.addEventListener("progress",v.onDownloadProgress),typeof v.onUploadProgress=="function"&&B.upload&&B.upload.addEventListener("progress",v.onUploadProgress),(v.cancelToken||v.signal)&&(C=function(rt){!B||(A(!rt||rt&&rt.type?new h:rt),B.abort(),B=null)},v.cancelToken&&v.cancelToken.subscribe(C),v.signal&&(v.signal.aborted?C():v.signal.addEventListener("abort",C))),F||(F=null);var jt=_(M);if(jt&&["http","https","file"].indexOf(jt)===-1){A(new m("Unsupported protocol "+jt+":",m.ERR_BAD_REQUEST,v));return}B.send(F)})},Es}var el,nl;function j_(){return nl||(nl=1,el=null),el}var $t=Nt,rl=x_,il=Zn,P_=ff,I_=hf,M_={"Content-Type":"application/x-www-form-urlencoded"};function ol(r,i){!$t.isUndefined(r)&&$t.isUndefined(r["Content-Type"])&&(r["Content-Type"]=i)}function N_(){var r;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(r=$_()),r}function L_(r,i,n){if($t.isString(r))try{return(i||JSON.parse)(r),$t.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(r)}var Wi={transitional:P_,adapter:N_(),transformRequest:[function(r,i){if(rl(i,"Accept"),rl(i,"Content-Type"),$t.isFormData(r)||$t.isArrayBuffer(r)||$t.isBuffer(r)||$t.isStream(r)||$t.isFile(r)||$t.isBlob(r))return r;if($t.isArrayBufferView(r))return r.buffer;if($t.isURLSearchParams(r))return ol(i,"application/x-www-form-urlencoded;charset=utf-8"),r.toString();var n=$t.isObject(r),s=i&&i["Content-Type"],u;if((u=$t.isFileList(r))||n&&s==="multipart/form-data"){var c=this.env&&this.env.FormData;return I_(u?{"files[]":r}:r,c&&new c)}else if(n||s==="application/json")return ol(i,"application/json"),L_(r);return r}],transformResponse:[function(r){var i=this.transitional||Wi.transitional,n=i&&i.silentJSONParsing,s=i&&i.forcedJSONParsing,u=!n&&this.responseType==="json";if(u||s&&$t.isString(r)&&r.length)try{return JSON.parse(r)}catch(c){if(u)throw c.name==="SyntaxError"?il.from(c,il.ERR_BAD_RESPONSE,this,null,this.response):c}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:j_()},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};$t.forEach(["delete","get","head"],function(r){Wi.headers[r]={}});$t.forEach(["post","put","patch"],function(r){Wi.headers[r]=$t.merge(M_)});var ta=Wi,U_=Nt,z_=ta,W_=function(r,i,n){var s=this||z_;return U_.forEach(n,function(u){r=u.call(s,r,i)}),r},sl,al;function pf(){return al||(al=1,sl=function(r){return!!(r&&r.__CANCEL__)}),sl}var ul=Nt,xs=W_,H_=pf(),q_=ta,K_=zi();function As(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new K_}var V_=function(r){As(r),r.headers=r.headers||{},r.data=xs.call(r,r.data,r.headers,r.transformRequest),r.headers=ul.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),ul.forEach(["delete","get","head","post","put","patch","common"],function(n){delete r.headers[n]});var i=r.adapter||q_.adapter;return i(r).then(function(n){return As(r),n.data=xs.call(r,n.data,n.headers,r.transformResponse),n},function(n){return H_(n)||(As(r),n&&n.response&&(n.response.data=xs.call(r,n.response.data,n.response.headers,r.transformResponse))),Promise.reject(n)})},se=Nt,mf=function(r,i){i=i||{};var n={};function s(h,_){return se.isPlainObject(h)&&se.isPlainObject(_)?se.merge(h,_):se.isPlainObject(_)?se.merge({},_):se.isArray(_)?_.slice():_}function u(h){if(se.isUndefined(i[h])){if(!se.isUndefined(r[h]))return s(void 0,r[h])}else return s(r[h],i[h])}function c(h){if(!se.isUndefined(i[h]))return s(void 0,i[h])}function l(h){if(se.isUndefined(i[h])){if(!se.isUndefined(r[h]))return s(void 0,r[h])}else return s(void 0,i[h])}function p(h){if(h in i)return s(r[h],i[h]);if(h in r)return s(void 0,r[h])}var m={url:c,method:c,data:c,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:p};return se.forEach(Object.keys(r).concat(Object.keys(i)),function(h){var _=m[h]||u,v=_(h);se.isUndefined(v)&&_!==p||(n[h]=v)}),n},cl,ll;function gf(){return ll||(ll=1,cl={version:"0.27.2"}),cl}var J_=gf().version,sn=Zn,ea={};["object","boolean","number","function","string","symbol"].forEach(function(r,i){ea[r]=function(n){return typeof n===r||"a"+(i<1?"n ":" ")+r}});var fl={};ea.transitional=function(r,i,n){function s(u,c){return"[Axios v"+J_+"] Transitional option '"+u+"'"+c+(n?". "+n:"")}return function(u,c,l){if(r===!1)throw new sn(s(c," has been removed"+(i?" in "+i:"")),sn.ERR_DEPRECATED);return i&&!fl[c]&&(fl[c]=!0,console.warn(s(c," has been deprecated since v"+i+" and will be removed in the near future"))),r?r(u,c,l):!0}};function X_(r,i,n){if(typeof r!="object")throw new sn("options must be an object",sn.ERR_BAD_OPTION_VALUE);for(var s=Object.keys(r),u=s.length;u-- >0;){var c=s[u],l=i[c];if(l){var p=r[c],m=p===void 0||l(p,c,r);if(m!==!0)throw new sn("option "+c+" must be "+m,sn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new sn("Unknown option "+c,sn.ERR_BAD_OPTION)}}var Y_={assertOptions:X_,validators:ea},vf=Nt,G_=af,hl=b_,dl=V_,Hi=mf,Z_=df,yf=Y_,Wn=yf.validators;function Kn(r){this.defaults=r,this.interceptors={request:new hl,response:new hl}}Kn.prototype.request=function(r,i){typeof r=="string"?(i=i||{},i.url=r):i=r||{},i=Hi(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var n=i.transitional;n!==void 0&&yf.assertOptions(n,{silentJSONParsing:Wn.transitional(Wn.boolean),forcedJSONParsing:Wn.transitional(Wn.boolean),clarifyTimeoutError:Wn.transitional(Wn.boolean)},!1);var s=[],u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(i)===!1||(u=u&&v.synchronous,s.unshift(v.fulfilled,v.rejected))});var c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});var l;if(!u){var p=[dl,void 0];for(Array.prototype.unshift.apply(p,s),p=p.concat(c),l=Promise.resolve(i);p.length;)l=l.then(p.shift(),p.shift());return l}for(var m=i;s.length;){var h=s.shift(),_=s.shift();try{m=h(m)}catch(v){_(v);break}}try{l=dl(m)}catch(v){return Promise.reject(v)}for(;c.length;)l=l.then(c.shift(),c.shift());return l};Kn.prototype.getUri=function(r){r=Hi(this.defaults,r);var i=Z_(r.baseURL,r.url);return G_(i,r.params,r.paramsSerializer)};vf.forEach(["delete","get","head","options"],function(r){Kn.prototype[r]=function(i,n){return this.request(Hi(n||{},{method:r,url:i,data:(n||{}).data}))}});vf.forEach(["post","put","patch"],function(r){function i(n){return function(s,u,c){return this.request(Hi(c||{},{method:r,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:u}))}}Kn.prototype[r]=i(),Kn.prototype[r+"Form"]=i(!0)});var Q_=Kn,Fs,pl;function tw(){if(pl)return Fs;pl=1;var r=zi();function i(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(c){s=c});var u=this;this.promise.then(function(c){if(u._listeners){var l,p=u._listeners.length;for(l=0;l<p;l++)u._listeners[l](c);u._listeners=null}}),this.promise.then=function(c){var l,p=new Promise(function(m){u.subscribe(m),l=m}).then(c);return p.cancel=function(){u.unsubscribe(l)},p},n(function(c){u.reason||(u.reason=new r(c),s(u.reason))})}return i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},i.prototype.unsubscribe=function(n){if(this._listeners){var s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}},i.source=function(){var n,s=new i(function(u){n=u});return{token:s,cancel:n}},Fs=i,Fs}var ml,gl;function ew(){return gl||(gl=1,ml=function(r){return function(i){return r.apply(null,i)}}),ml}var Ts,vl;function nw(){if(vl)return Ts;vl=1;var r=Nt;return Ts=function(i){return r.isObject(i)&&i.isAxiosError===!0},Ts}var yl=Nt,rw=rf,Si=Q_,iw=mf,ow=ta;function _f(r){var i=new Si(r),n=rw(Si.prototype.request,i);return yl.extend(n,Si.prototype,i),yl.extend(n,i),n.create=function(s){return _f(iw(r,s))},n}var Zt=_f(ow);Zt.Axios=Si;Zt.CanceledError=zi();Zt.CancelToken=tw();Zt.isCancel=pf();Zt.VERSION=gf().version;Zt.toFormData=hf;Zt.AxiosError=Zn;Zt.Cancel=Zt.CanceledError;Zt.all=function(r){return Promise.all(r)};Zt.spread=ew();Zt.isAxiosError=nw();Js.exports=Zt;Js.exports.default=Zt;(function(r){r.exports=Js.exports})(nf);const sw=R1(nf.exports);class aw{constructor(i){T(this,"audio"),T(this,"status","pre"),T(this,"startTime",0),T(this,"seVolume",.5),T(this,"musicVolume",1),T(this,"offset",-100),T(this,"game"),T(this,"ac",new AudioContext),T(this,"sounds",{}),T(this,"mainGain",this.ac.createGain()),T(this,"musicNode"),this.game=i,this.syncTime()}set volume(i){this.mainGain.gain.value=i}get volume(){return this.mainGain.gain.value}async extract(i){const n=await this.ac.decodeAudioData(i);return this.audio=n,n}play(){if(this.status==="playing")throw new TypeError("The game music is playing now.");this.startTime=this.ac.currentTime,this.game.time=(this.ac.currentTime-this.startTime)*1e3;const i=this.ac.createGain(),n=this.ac.createBufferSource();this.musicNode=n,n.buffer=this.audio,n.connect(i),i.gain.value=this.musicVolume,i.connect(this.mainGain),this.mainGain.connect(this.ac.destination),n.start(),this.status="playing",this.startTime=this.ac.currentTime,n.addEventListener("ended",s=>{this.musicEnd()})}async pause(){if(this.status==="pause")throw new TypeError("You are trying to pause an already paused music.");await this.ac.suspend(),this.status="pause"}async resume(){if(this.status!=="pause")throw new TypeError("You are trying to resume an already playing music.");await this.ac.resume(),this.status="playing"}async addSound(i,n){const s=await this.ac.decodeAudioData(n);this.sounds[i]=s}playSound(i){if(!et(this.sounds[i]))return;const n=this.ac.createGain(),s=this.ac.createBufferSource();n.gain.value=this.seVolume,s.buffer=this.sounds[i],s.connect(n),n.connect(this.mainGain),this.mainGain.connect(this.ac.destination),s.start()}restart(){this.status="pre",this.musicNode.stop(),this.syncTime(),this.ac.resume(),this.game.time=this.offset}sync(){this.status==="pre"?this.game.time=this.offset:this.game.time=(this.ac.currentTime-this.startTime)*1e3+this.offset}syncTime(){const i=()=>this.sync();this.game.ticker.add(i,!0)}async musicEnd(){this.status!=="pre"&&(await Ni(1e3),this.game.end())}}class uw extends Vs{constructor(i,n){var s,u,c,l,p;if(super({load:[],start:[],restart:[],pause:[],resume:[],end:[]}),T(this,"audio"),T(this,"mtt"),T(this,"status","pre"),T(this,"time",0),T(this,"length",0),T(this,"ended",!1),T(this,"scoreCalculator",this.defaultScoreCalculator),T(this,"isMobile",window.innerWidth<window.innerHeight),T(this,"target"),T(this,"ctx"),T(this,"ticker",new Ks),T(this,"ac",new aw(this)),T(this,"chart",new X1(this)),T(this,"renderer",new Z1(this)),T(this,"width"),T(this,"height"),T(this,"scale"),T(this,"noteScale",1),T(this,"noteWidth",this.isMobile?200:150),T(this,"drawScale"),T(this,"drawWidth"),T(this,"halfWidth"),T(this,"drawHeight"),T(this,"halfHeight"),T(this,"topWidth"),T(this,"halfTopWidth"),T(this,"multiStroke"),T(this,"perfect",50),T(this,"good",80),T(this,"miss",120),this.target=i,this.ctx=i.getContext("2d"),this.ctx.save(),this.width=i.width,this.height=i.height,this.scale=Math.min(this.width/1920,this.height/1080),i.width/i.height!==parseFloat((16/9).toFixed(7))){const m=this.width/1920,h=this.height/1080;if(m<h){const _=i.width*9/16;i.height=_,i.style.height=`${_}px`}else{const _=i.height*16/9;i.width=_,i.style.width=`${_}px`}}this.noteScale=(s=n==null?void 0:n.noteScale)!=null?s:1,this.noteWidth=(u=n==null?void 0:n.noteWidth)!=null?u:this.noteWidth,this.perfect=(c=n==null?void 0:n.perfect)!=null?c:50,this.good=(l=n==null?void 0:n.good)!=null?l:80,this.miss=(p=n==null?void 0:n.miss)!=null?p:120,this.drawScale=this.scale*this.noteScale,this.drawWidth=this.noteWidth*this.drawScale,this.halfWidth=this.drawWidth/2,this.drawHeight=this.drawWidth/10,this.halfHeight=this.drawHeight/2,this.topWidth=this.drawWidth-this.halfHeight*2,this.halfTopWidth=this.topWidth/2,this.multiStroke=this.ctx.createLinearGradient(0,-this.halfHeight,0,this.halfHeight),this.multiStroke.addColorStop(0,"#fff"),this.multiStroke.addColorStop(.5,"#fef267"),this.multiStroke.addColorStop(1,"#fff"),i.addEventListener("touchstart",this.chart.judger.touchstart),i.addEventListener("touchend",this.chart.judger.touchend),this.chart.register("generator","linear",Oi),this.chart.register("generator","bezier",L1),this.chart.register("generator","trigo",U1),this.chart.register("generator","power",z1),this.chart.register("generator","hyper",W1),this.chart.register("generator","inverseTrigo",H1),this.chart.register("generator","shake",q1),this.chart.register("pathG","circle",Y1),this.chart.register("pathG","bezier",G1),this.chart.registerExecute("base","r",(m,h)=>h.setRadius(m)),this.chart.registerExecute("base","bpm",(m,h)=>h.setSpeed(m)),this.chart.registerExecute("base","rgba",(m,h)=>h.rgba(...m)),this.chart.registerExecute("base","filter",(m,h)=>h.filter(m)),this.chart.registerExecute("note","speed",(m,h)=>h.setSpeed(m)),this.chart.registerExecute("note","filter",(m,h)=>h.filter(m)),this.chart.registerExecute("note","shadow",(m,h)=>h.shadow(m.x,m.y,m.blur,m.color)),this.chart.registerExecute("note","opacity",(m,h)=>h.opacity(m)),this.chart.registerExecute("camera","css",(m,h)=>h.css(m))}async load(i,n,s,u){const c=Date.now();if(et(this.audio)||et(this.mtt))throw new TypeError("The game's music or chart has already been loaded.");const l=[this.loadMusic(i,s),this.loadMTT(n,u)];await Promise.all(l);const p={target:this,type:"load",time:Date.now()-c};this.dispatch("load",p)}async start(i=1e3){if(this.status!=="pre")throw new TypeError("The game has already started or ended.");await Ni(i),this.status="playing",this.ac.play(),this.renderer.start();const n={target:this,type:"start",music:this.ac.audio,mtt:this.mtt};this.dispatch("start",n)}pause(){const i=this.status;if(this.status==="pause")throw new TypeError("The game has already paused.");this.status="pause",this.ac.pause();const n={target:this,type:"pause",from:i,to:this.status};this.dispatch("pause",n)}resume(){const i=this.status;if(this.status==="playing")throw new TypeError("The game has already resumed.");this.status="playing",this.ac.resume();const n={target:this,type:"resume",from:i,to:this.status};this.dispatch("resume",n)}async restart(i=1e3){this.ticker.clear(),this.ctx.restore(),this.ctx.clearRect(0,0,this.target.width,this.target.height),this.renderer.clearEffect(),this.status="pre",this.chart.judger.toJudge=[],this.chart.camera.ticker.destroy(),this.ac.restart(),await this.chart.restart();const n={target:this,type:"restart",music:this.ac.audio,mtt:this.mtt};this.dispatch("restart",n),this.start(i)}end(){if(this.status==="exit")throw new TypeError("The game has already ended.");const i=this.status;this.ticker.destroy(),this.ac.pause(),this.ended=!0,this.status="exit",this.chart.camera.ticker.destroy();const n=this.chart.bases;Object.values(n).forEach(c=>c.ticker.destroy());const s=this.chart.notes;Object.values(s).forEach(c=>c.ticker.destroy());const u={target:this,type:"end",from:i,to:this.status};this.dispatch("end",u)}setOffset(i){if(this.status!=="pre")throw new TypeError("Offset can only be set before the game starts.");this.ac.offset=i}getScore(){const i={...this.getDetail(),length:this.length,maxCombo:this.chart.judger.maxCombo};return this.scoreCalculator(i)}getDetail(){const{perfect:i,good:n,miss:s,early:u,late:c}=this.chart.judger;return{perfect:i,good:n,miss:s,early:u,late:c}}setScoreCalculator(i){this.scoreCalculator=i}async setSound(i,n){const s=await this.post(n,"arraybuffer");await this.ac.addSound(i,s.data)}async post(i,n,s){const u={responseType:n,onDownloadProgress:s};return await sw.get(i,u)}async loadMusic(i,n){const s=await this.post(i,"arraybuffer",n);if(s.status!==200)return this.fail(`Fail to load url [${i}]`,s.status);const u=await this.ac.extract(s.data);this.audio=u}async loadMTT(i,n){const s=await this.post(i,"json",n);if(s.status!==200)return this.fail(`Fail to load url [${i}]`,s.status);this.mtt=s.data,this.chart.extract(this.mtt)}fail(i,n){console.error(`${n}: ${i}`)}defaultScoreCalculator(i){const n=9e5/this.length,s=this.chart.judger,u=s.maxCombo/this.length*1e5;return Math.round(n*s.perfect+n*.5*s.good+u)}}function cw(r,i){return new uw(r,i)}const lw=cw,bn=Ks,wf={},Ci={};let _l=0;const Fe=new AudioContext,Tr=Z(0);async function fw(r,i){const n=await Ct.get(r,{responseType:"arraybuffer",onDownloadProgress:i}),s=await Fe.decodeAudioData(n.data);return Ci[r]=s,n}async function En(r,i=!1){const n=Fe.createGain(),s=Fe.createBufferSource();if(Gn.has(Ci[r]))s.buffer=Ci[r];else{const c=await Ct.get(r,{responseType:"arraybuffer"}),l=await Fe.decodeAudioData(c.data);Ci[r]=l,s.buffer=l}s.loop=i,wf[_l]=[s,n],s.connect(n),n.connect(Fe.destination),s.start();const u=_l++;return r==="/Mutate-HTML/music/mutate.mp3"&&(Tr.value=u),u}function Ps(r){const i=wf[r];if(!Gn.has(i))throw new ReferenceError("You are trying to get a nonexistent audio.");return i}var bf={exports:{}};(function(r){var i=function(){var n=String.fromCharCode,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",c={};function l(m,h){if(!c[m]){c[m]={};for(var _=0;_<m.length;_++)c[m][m.charAt(_)]=_}return c[m][h]}var p={compressToBase64:function(m){if(m==null)return"";var h=p._compress(m,6,function(_){return s.charAt(_)});switch(h.length%4){default:case 0:return h;case 1:return h+"===";case 2:return h+"==";case 3:return h+"="}},decompressFromBase64:function(m){return m==null?"":m==""?null:p._decompress(m.length,32,function(h){return l(s,m.charAt(h))})},compressToUTF16:function(m){return m==null?"":p._compress(m,15,function(h){return n(h+32)})+" "},decompressFromUTF16:function(m){return m==null?"":m==""?null:p._decompress(m.length,16384,function(h){return m.charCodeAt(h)-32})},compressToUint8Array:function(m){for(var h=p.compress(m),_=new Uint8Array(h.length*2),v=0,b=h.length;v<b;v++){var A=h.charCodeAt(v);_[v*2]=A>>>8,_[v*2+1]=A%256}return _},decompressFromUint8Array:function(m){if(m==null)return p.decompress(m);for(var h=new Array(m.length/2),_=0,v=h.length;_<v;_++)h[_]=m[_*2]*256+m[_*2+1];var b=[];return h.forEach(function(A){b.push(n(A))}),p.decompress(b.join(""))},compressToEncodedURIComponent:function(m){return m==null?"":p._compress(m,6,function(h){return u.charAt(h)})},decompressFromEncodedURIComponent:function(m){return m==null?"":m==""?null:(m=m.replace(/ /g,"+"),p._decompress(m.length,32,function(h){return l(u,m.charAt(h))}))},compress:function(m){return p._compress(m,16,function(h){return n(h)})},_compress:function(m,h,_){if(m==null)return"";var v,b,A={},F={},O="",I="",C="",j=2,B=3,U=2,q=[],M=0,H=0,L;for(L=0;L<m.length;L+=1)if(O=m.charAt(L),Object.prototype.hasOwnProperty.call(A,O)||(A[O]=B++,F[O]=!0),I=C+O,Object.prototype.hasOwnProperty.call(A,I))C=I;else{if(Object.prototype.hasOwnProperty.call(F,C)){if(C.charCodeAt(0)<256){for(v=0;v<U;v++)M=M<<1,H==h-1?(H=0,q.push(_(M)),M=0):H++;for(b=C.charCodeAt(0),v=0;v<8;v++)M=M<<1|b&1,H==h-1?(H=0,q.push(_(M)),M=0):H++,b=b>>1}else{for(b=1,v=0;v<U;v++)M=M<<1|b,H==h-1?(H=0,q.push(_(M)),M=0):H++,b=0;for(b=C.charCodeAt(0),v=0;v<16;v++)M=M<<1|b&1,H==h-1?(H=0,q.push(_(M)),M=0):H++,b=b>>1}j--,j==0&&(j=Math.pow(2,U),U++),delete F[C]}else for(b=A[C],v=0;v<U;v++)M=M<<1|b&1,H==h-1?(H=0,q.push(_(M)),M=0):H++,b=b>>1;j--,j==0&&(j=Math.pow(2,U),U++),A[I]=B++,C=String(O)}if(C!==""){if(Object.prototype.hasOwnProperty.call(F,C)){if(C.charCodeAt(0)<256){for(v=0;v<U;v++)M=M<<1,H==h-1?(H=0,q.push(_(M)),M=0):H++;for(b=C.charCodeAt(0),v=0;v<8;v++)M=M<<1|b&1,H==h-1?(H=0,q.push(_(M)),M=0):H++,b=b>>1}else{for(b=1,v=0;v<U;v++)M=M<<1|b,H==h-1?(H=0,q.push(_(M)),M=0):H++,b=0;for(b=C.charCodeAt(0),v=0;v<16;v++)M=M<<1|b&1,H==h-1?(H=0,q.push(_(M)),M=0):H++,b=b>>1}j--,j==0&&(j=Math.pow(2,U),U++),delete F[C]}else for(b=A[C],v=0;v<U;v++)M=M<<1|b&1,H==h-1?(H=0,q.push(_(M)),M=0):H++,b=b>>1;j--,j==0&&(j=Math.pow(2,U),U++)}for(b=2,v=0;v<U;v++)M=M<<1|b&1,H==h-1?(H=0,q.push(_(M)),M=0):H++,b=b>>1;for(;;)if(M=M<<1,H==h-1){q.push(_(M));break}else H++;return q.join("")},decompress:function(m){return m==null?"":m==""?null:p._decompress(m.length,32768,function(h){return m.charCodeAt(h)})},_decompress:function(m,h,_){var v=[],b=4,A=4,F=3,O="",I=[],C,j,B,U,q,M,H,L={val:_(0),position:h,index:1};for(C=0;C<3;C+=1)v[C]=C;for(B=0,q=Math.pow(2,2),M=1;M!=q;)U=L.val&L.position,L.position>>=1,L.position==0&&(L.position=h,L.val=_(L.index++)),B|=(U>0?1:0)*M,M<<=1;switch(B){case 0:for(B=0,q=Math.pow(2,8),M=1;M!=q;)U=L.val&L.position,L.position>>=1,L.position==0&&(L.position=h,L.val=_(L.index++)),B|=(U>0?1:0)*M,M<<=1;H=n(B);break;case 1:for(B=0,q=Math.pow(2,16),M=1;M!=q;)U=L.val&L.position,L.position>>=1,L.position==0&&(L.position=h,L.val=_(L.index++)),B|=(U>0?1:0)*M,M<<=1;H=n(B);break;case 2:return""}for(v[3]=H,j=H,I.push(H);;){if(L.index>m)return"";for(B=0,q=Math.pow(2,F),M=1;M!=q;)U=L.val&L.position,L.position>>=1,L.position==0&&(L.position=h,L.val=_(L.index++)),B|=(U>0?1:0)*M,M<<=1;switch(H=B){case 0:for(B=0,q=Math.pow(2,8),M=1;M!=q;)U=L.val&L.position,L.position>>=1,L.position==0&&(L.position=h,L.val=_(L.index++)),B|=(U>0?1:0)*M,M<<=1;v[A++]=n(B),H=A-1,b--;break;case 1:for(B=0,q=Math.pow(2,16),M=1;M!=q;)U=L.val&L.position,L.position>>=1,L.position==0&&(L.position=h,L.val=_(L.index++)),B|=(U>0?1:0)*M,M<<=1;v[A++]=n(B),H=A-1,b--;break;case 2:return I.join("")}if(b==0&&(b=Math.pow(2,F),F++),v[H])O=v[H];else if(H===A)O=j+j.charAt(0);else return null;I.push(O),v[A++]=j+O.charAt(0),b--,j=O,b==0&&(b=Math.pow(2,F),F++)}}};return p}();r!=null&&(r.exports=i)})(bf);const hw=bf.exports;class dw extends Array{constructor(i,...n){super(`id:${i}`,...n)}clear(){this.splice(1,this.length-1)}check(){return!!/^id:[^_]+\#file:[^]+$/.test(this[0])}}let Ri;function pw(r,i){Ri=new dw(`${r}#file:${i}`)}function mw(r){Ri.push(r.toString())}function gw(r){!Ri.check()||r.append("route",hw.compressToBase64(JSON.stringify([...Ri])))}const vw=window.innerWidth<=window.innerHeight,wl=["F","D","C","B","A","S","FC","AP"];function na(){return ut()?{w:window.innerHeight*.95,h:window.innerWidth*.95}:{w:window.innerWidth*.95,h:window.innerHeight*.95}}function ut(){return vw}function Hn(r){return r<1024?`${r}B`:r<1024**2?`${(r/1024).toFixed(2)}KB`:r<1024**3?`${(r/1024**2).toFixed(2)}MB`:r<1024**4?`${(r/1024**3).toFixed(2)}GB`:`${r}B`}function Is(r){return`${Math.floor(r/60)}:${(r%60).toString().padStart(2,"0")}`}function yw(r){return r<7e5?"F":r<8e5?"D":r<85e4?"C":r<9e5?"B":r<95e4?"A":r<1e6?"S":"AP"}function _w(r,i){return wl.indexOf(r)>wl.indexOf(i)}function Ef(r){return r==="F"?"#aaa":r==="AP"?"transparent":r==="FC"?"#66e9ff":r==="AUTO"?"#fc66ff":"#fff"}function xr(r){return r.match(/(F|D|C|B|A|S|FC|AP)$/)[0]}async function ww(r,i,n,s){const u=new FormData;return u.append("type","score"),u.append("name","Mutate"),u.append("version","v0.1"),u.append("platform",xf()),u.append("hard",ki(i)),u.append("username",ki(s)),u.append("ending",ki(r)),u.append("lv","0"),u.append("hp",n.toString()),u.append("atk","0"),u.append("def","0"),u.append("mdef","0"),u.append("money","0"),u.append("experience","0"),u.append("steps","0"),u.append("norank","0"),u.append("seed","0"),u.append("totalTime","0"),u.append("base64","1"),gw(u),await Ct.postForm("/games/upload.php",u)}function xf(){const r=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];for(const i of r)if(navigator.userAgent.includes(i))return i==="iPhone"||i==="iPad"||i==="iPod"?"IOS":i==="Android"?"Android":"PC";return""}function ki(r){return btoa(encodeURIComponent(r).replace(/%([0-9A-F]{2})/g,(i,n)=>String.fromCharCode(parseInt(n,16))))}function bw(r){return r==="easy"?"0":r==="normal"?"1":r==="hard"?"2":r==="master"?"3":"0"}function Ew(r){if(!location.host.includes("h5mota.com"))return;const i=new FormData;i.append("type","people"),i.append("name","Mutate"),i.append("version","v0.1"),i.append("platform",xf()),i.append("hard",ki(r)),i.append("hardCode",bw(r)),i.append("base64","0"),Ct.postForm("/games/upload.php",i)}async function xw(){try{const i=(await Ct.get("/backend/user/getScore.php?tower=Mutate")).data.res;if(i.code==="-1")return alert("\u5F53\u524D\u672A\u767B\u5F55\uFF01"),!1;if(i.code==="-2")throw alert("\u672A\u77E5\u9519\u8BEF\uFF1A\u5854\u540D\u4E0D\u5339\u914D\uFF01"),new TypeError("Unexpected mismatch of tower name.");const n=i.res,s={easy:{},normal:{},hard:{},master:{}};for(const u of n){if(u.verify!==-1)continue;const c=u.hard,l=u.ending,p=u.hp;p>s[c][l]&&(s[c][l]=p)}for(const u in s)for(const c in s[u]){const l=s[u][c];c==="\u6559\u7A0B"&&localStorage.setItem("@mutate:score-\u6559\u7A0B",l),localStorage.setItem(`@mutate:score-${c}-${u}`,l)}}catch(r){return console.error(r),!1}return!0}const Aw=Mt({__name:"cover",setup(r){qe.config({top:"100px",duration:3});const i=cy("select");let n=new bn;function s(){const u=document.getElementById("cover");u.style.opacity="0",u.addEventListener("transitionend",c=>{i.value=!0,n.destroy(),location.host.includes("h5mota.com")?localStorage.getItem("@mutate:autoUpload")==="true"?qe.success({class:"auto-upload-green",content:"\u5DF2\u5F00\u542F\u81EA\u52A8\u4E0A\u4F20\u6210\u7EE9\u529F\u80FD\uFF01"}):qe.warn({content:"\u672A\u5F00\u542F\u81EA\u52A8\u4E0A\u4F20\u6210\u7EE9\u529F\u80FD\uFF01",class:"auto-upload-yellow"}):qe.warn({content:"\u5F53\u524D\u7F51\u5740\u4E0D\u5728h5mota.com\uFF0C\u5C06\u65E0\u6CD5\u4F53\u9A8C\u4E91\u5B58\u6863\u7B49\u529F\u80FD",class:"auto-upload-yellow"})})}return Te(async()=>{await Dt.sleep(500);const u=document.getElementById("cover"),c=u.getContext("2d");Tr.value=await En("/Mutate-HTML/music/mutate.mp3",!0);const l=Fe.currentTime;u.style.border="1px solid #fff",u.style.opacity="1";const{w:p,h:m}=na();u.width=p,u.height=m;let h=110,_=1.5;const v=[],b=A=>{for(let F=0;F<A;F++){let O,I;const C=~~(Math.random()*4);let j;C===1?(O=0,I=Math.random()*m,j=(Math.random()-.5)*Math.PI*.6):C===2?(O=p,I=Math.random()*m,j=(Math.random()+.5)*Math.PI*.6):C===3?(I=0,O=Math.random()*p,j=Math.random()*Math.PI*.6):(I=m,O=Math.random()*p,j=(Math.random()-1)*Math.PI*.6);const B=Math.cos(j),U=Math.sin(j),q=Math.random()*10+50,M=`rgba(${~~(Math.random()*255)}, ${~~(Math.random()*255)}, ${~~(Math.random()*255)}, 0.5)`;v.push({x:O,y:I,r:q,vx:B,vy:U,color:M})}};b(20),c.save(),n.add(A=>{c.restore(),c.save(),c.clearRect(0,0,u.width,u.height);const F=Fe.currentTime*1e3;A<1e3?(u.style.filter=`blur(${5-A/200}px)`,h=55-A/20,_=1+2*(A/2e3-.5)**2):(h=3,_=1),v.length<30&&b(1);const O=(~~F-l)%462;let I=0;O>362&&(I=(O-362)/100),O<100&&(I=1-O/100);for(let C=0;C<v.length;C++){const j=v[C];if(j.x+=j.vx*h,j.y+=j.vy*h,j.x<0-j.r||j.x>u.width+j.r||j.y<0-j.r||j.y>u.height+j.r){v.splice(C,1),C--;continue}c.filter="blur(25px)",c.fillStyle=j.color,c.beginPath(),c.arc(j.x,j.y,j.r,0,Math.PI*2),c.closePath(),c.fill(),c.filter="none"}c.shadowColor="#3df0ff",c.shadowBlur=8,c.shadowOffsetX=2,c.shadowOffsetY=2,c.textAlign="center",c.fillStyle="#f78fff",c.strokeStyle="#3df0ff",c.font=`${_*12+I}em normal`,c.filter=`blur(${(h-10)/10}px)`,c.fillText("MUTATE",u.width/2,u.height/2),c.strokeText("MUTATE",u.width/2,u.height/2),c.fillStyle="#fff",c.shadowBlur=0,c.shadowColor="",c.shadowOffsetX=0,c.shadowOffsetY=0,c.font="2em normal",c.fillText("\u70B9\u51FB\u5F00\u59CB\u6E38\u620F",u.width/2,u.height/2+40)})}),(u,c)=>(st(),wt("canvas",{id:"cover",onClick:s}))}});const zt=(r,i)=>{const n=r.__vccOpts||r;for(const[s,u]of i)n[s]=u;return n},Fw=zt(Aw,[["__scopeId","data-v-de438e43"]]);Array.prototype.at||(Array.prototype.at=function(r){return r>=0?this[r]:this[this.length+r]});const Af={};async function Tw(r,i){await Ct.get(r,{onDownloadProgress:i});const n=new Image;return n.src=r,await new Promise(s=>{n.addEventListener("load",u=>s("success"))}),Af[r.split("/").at(-1)]=n,n}const Sw=r=>(Ms("data-v-52b8738d"),r=r(),Ns(),r),Cw={key:0,id:"start-load"},kw=Sw(()=>J("canvas",{id:"loading"},null,-1)),Bw={key:1,id:"start-page"},Ow=Mt({__name:"start",setup(r){const i=Z(!1),n=Z(0),s=4001031,u=Z(0);let c={};const l="/Mutate-HTML/";function p(){const _=Object.values(c).reduce((v,b)=>v+b,0);n.value=parseFloat((_/s*100).toFixed(2)),u.value=_}async function m(){const _=[h(`${l}music/mutate.mp3`,0,"arraybuffer"),h(`${l}se/tap.wav`,1,"arraybuffer"),h(`${l}se/drag.wav`,2,"arraybuffer"),h(`${l}se/pause.mp3`,2,"arraybuffer"),h(`${l}image/base1.png`,3,"arraybuffer"),h(`${l}image/base2.png`,4,"arraybuffer"),h(`${l}image/base3.png`,5,"arraybuffer"),(async()=>{const v=await h(`${l}font/normal.ttf`,6,"arraybuffer"),b=new FontFace("normal",v.data);await b.load(),document.fonts.add(b)})()];await Promise.all(_),n.value=100}async function h(_,v,b){const A=F=>{c[v]=F.loaded,p()};return _.endsWith(".mp3")||_.endsWith(".wav")?await fw(_,A):_.endsWith(".png")||_.endsWith(".jpg")||_.endsWith(".jpeg")?await Tw(_,A):await Ct.get(_,{responseType:b,onDownloadProgress:A})}return Te(async()=>{const _=new bn,v=document.getElementById("loading"),b=v.getContext("2d");setTimeout(()=>{v.style.opacity="1",v.style.width="80%",v.style.height="80%",v.style.filter="none"},50),ut()?(v.width=window.innerHeight*.95,v.height=window.innerWidth*.95):(v.width=window.innerWidth*.95,v.height=window.innerHeight*.95),b.strokeStyle="#eee",b.lineWidth=5,b.lineCap="round",_.add(A=>{const F=Math.PI*A/700,O=v.width,I=v.height,C=O/2,j=I/2;b.clearRect(0,0,v.width,v.height),b.beginPath(),b.arc(C,j,Math.min(O,I)/16,0,Math.PI*2),b.strokeStyle="#444",b.stroke(),b.beginPath(),b.arc(C,j,Math.min(O,I)/16,F,F+Math.PI/2),b.strokeStyle="#eee",b.stroke(),b.closePath(),b.textAlign="center",b.font="normal 4em Verdana",b.fillStyle="#eee",b.fillText(`loading${".".repeat(Math.floor(A/800)%4)}`,C,j+j/2),b.textAlign="right",b.font=`normal ${ut()?1:2}em Verdana`,b.fillText(`${Hn(u.value)} / ${Hn(s)}`,v.width-30,v.height-30)}),await m(),n.value=100,v.style.opacity="0",v.style.width="100%",v.style.height="100%",v.style.filter="blur(5px)",p(),v.addEventListener("transitionend",async()=>{i.value||(i.value=!0,_.destroy())})}),(_,v)=>{const b=xl;return st(),wt(Bi,null,[i.value?Gt("",!0):(st(),wt("div",Cw,[kw,V(b,{percent:n.value,style:{width:"90%"}},null,8,["percent"])])),i.value?(st(),wt("div",Bw,[V(Fw)])):Gt("",!0)],64)}}});const Dw=zt(Ow,[["__scopeId","data-v-52b8738d"]]);const Rw=["id"],$w=Mt({__name:"scroll",props:{total:null,scroll:null,id:null},emits:["update:scroll"],setup(r,{emit:i}){const n=r;let s,u=!1,c=n.scroll;function l(p=n.scroll){c=p;const m=n.total;if(m===0)return;c>m&&(console.warn("\u5F53\u524D\u6EDA\u52A8\u6761\u4F4D\u7F6E\u5927\u4E8E\u4E86\u603B\u957F\u5EA6"),c=m);const h=Math.min(s.canvas.height/m,1)*s.canvas.height,_=c/m*s.canvas.height;s.clearRect(0,0,s.canvas.width,s.canvas.height),s.beginPath(),s.moveTo(20,Math.max(_+5,5)),s.lineTo(20,Math.min(_+h-5,s.canvas.height-5)),s.lineCap="round",s.lineWidth=6,s.strokeStyle="#fff",s.stroke()}return $i(()=>{l()}),Te(()=>{const p=document.getElementById(`scroll-${n.id}`);s=p.getContext("2d");const m=getComputedStyle(p);p.width=40,p.height=parseFloat(m.height),l(),p.addEventListener("mousedown",h=>{u=!0}),document.addEventListener("mouseup",h=>{u=!1,p.height<n.total&&i("update:scroll",c)}),document.addEventListener("mousemove",h=>{if(!u)return;const _=h.movementY;p.height<n.total&&(l(_+c),i("update:scroll",c+_))})}),(p,m)=>(st(),wt("canvas",{id:`scroll-${n.id}`,class:"scroll"},null,8,Rw))}});const Ff=zt($w,[["__scopeId","data-v-9521ae37"]]),jw={\u6559\u7A0B:["\u6559\u7A0B"],\u5355\u66F2:["\u7075"]},De={\u6559\u7A0B:{file:{music:"mutate.mp3",image:"mutate.png",chart:{easy:"tutorial.mtt",normal:"tutorial.mtt",hard:"tutorial.mtt"}},author:"\u53E4\u7960",chart:"\u53E4\u7960",duration:108,hard:{easy:2,normal:2,hard:2}},\u7075:{file:{music:"1.mp3",image:"1.jpg",chart:{easy:"1_1.mtt",normal:"1_2.mtt",hard:"1_3.mtt"}},author:"\u5F31\u9E21\u7EFF\u6BDB\u602A",chart:"\u53E4\u7960",duration:158,hard:{easy:4,normal:9,hard:13}}},Pw={id:"leftbar"},Iw={id:"song-selector"},Mw={id:"song-menu"},Nw=Mt({__name:"select-leftbar",props:{selectedKeys:null,openKeys:null,scroll:null,hard:null},emits:["update:selectedKeys","update:openKeys"],setup(r,{emit:i}){const n=r;let s,u,c;const l=Z(n.selectedKeys),p=Z(n.openKeys),m=Z(parseFloat(n.scroll)),h=Z(0);Vn(m,b=>v(b));async function _(b=0){await Dt.sleep(b);const A=getComputedStyle(u),F=getComputedStyle(s);h.value=parseFloat(A.height)+2*parseFloat(F.padding)}function v(b){if(parseFloat(getComputedStyle(c).height)>=h.value)return;const A=parseFloat(getComputedStyle(c).height);b+A>=h.value?(m.value=h.value-A,u.style.top=`${-m.value}px`):b<=0?(m.value=0,u.style.top="0px"):(m.value=b,u.style.top=`${-b}px`)}return $i(()=>{l.value=n.selectedKeys,p.value=n.openKeys,localStorage.setItem("@mutate:select",`${p.value.join(",")}@@${l.value[0]}@@${m.value}@@${n.hard}`)}),Te(()=>{s=document.getElementById("leftbar"),u=document.getElementById("song-menu"),c=document.getElementById("leftbar"),_(),s.addEventListener("wheel",A=>{if(parseFloat(getComputedStyle(c).height)>=h.value)return;const F=Math.sign(A.deltaY)*100;m.value+=F,v(m.value)});let b=0;s.addEventListener("touchstart",A=>{const F=A.touches[0];b=ut()?F.clientX:F.clientY}),s.addEventListener("touchmove",A=>{if(A.preventDefault(),parseFloat(getComputedStyle(c).height)>=h.value)return;const F=A.touches[0],O=ut()?F.clientX:F.clientY;m.value+=O-b,v(m.value),b=O})}),(b,A)=>{const F=Fl,O=ly,I=Al,C=Jn;return st(),wt("div",Pw,[J("div",Iw,[J("div",Mw,[V(I,{mode:"inline",theme:"dark",openKeys:p.value,"onUpdate:openKeys":A[1]||(A[1]=j=>p.value=j),selectedKeys:l.value,"onUpdate:selectedKeys":A[2]||(A[2]=j=>l.value=j),onOpenChange:A[3]||(A[3]=j=>i("update:openKeys",p.value)),onSelect:A[4]||(A[4]=j=>i("update:selectedKeys",l.value)),style:yt({"font-size":W(ut)()?"1em":"1.5em"})},{default:vt(()=>[(st(!0),wt(Bi,null,Ss(W(jw),(j,B)=>(st(),me(O,{key:B,onTitleClick:A[0]||(A[0]=U=>_(300))},{title:vt(()=>[Yt(ht(B),1)]),default:vt(()=>[(st(!0),wt(Bi,null,Ss(j,(U,q)=>(st(),me(F,{key:U,style:yt({"font-size":W(ut)()?"1em":"1.5em"})},{default:vt(()=>[Yt(ht(U)+"\xA0-\xA0"+ht(W(De)[U].author),1)]),_:2},1032,["style"]))),128))]),_:2},1024))),128))]),_:1},8,["openKeys","selectedKeys","style"])])]),V(Ff,{id:"select",scroll:m.value,"onUpdate:scroll":A[5]||(A[5]=j=>m.value=j),total:h.value},null,8,["scroll","total"]),V(C,{style:{"border-color":"#ddd4",height:"96%",top:"2%",margin:"0","margin-right":"8px"},type:"vertical",dashed:""})])}}});const Lw=zt(Nw,[["__scopeId","data-v-8440b7f4"]]),Uw={id:"song-image"},zw={id:"song-top-info"},Ww=["src"],Hw=Mt({__name:"select-songimage",props:{selectedKeys:null},emits:["openSetting"],setup(r,{emit:i}){const n=r,s=Z(n.selectedKeys),u=ut()?window.innerHeight:window.innerWidth;function c(l){return`/Mutate-HTML/image/${l}`}return $i(()=>{s.value=n.selectedKeys}),(l,p)=>{const m=Jn;return st(),wt("div",Uw,[J("div",zw,[J("span",{id:"song-name",style:yt({"font-size":W(ut)()?`${W(u)/800}em`:`${W(u)/600}em`})},ht(s.value[0]),5),V(W(fy),{id:"settings",style:yt({"margin-top":"2%","margin-right":"5%",transform:`scale(${W(u)/9}%)`,cursor:"pointer",transition:"all 0.2s linear"}),onClick:p[0]||(p[0]=h=>i("openSetting"))},null,8,["style"])]),V(m,{style:{"border-color":"#ddd4",margin:"0"},dashed:""}),J("img",{src:c(W(De)[s.value[0]].file.image),id:"image"},null,8,Ww)])}}});const qw=zt(Hw,[["__scopeId","data-v-cba294a0"]]);const Kw={id:"info"},Vw={id:"hard"},Jw={id:"song-info"},Xw={id:"music"},Yw={id:"chart"},Gw={id:"chart"},Zw={id:"score"},Qw={id:"score-num"},tb={id:"start"},eb=Mt({__name:"select-songinfo",props:{selectedKeys:null,hard:null},emits:["play","update:hard"],setup(r,{emit:i}){const n=r,s=Z(n.hard),u=Z(!1),c=Tl(()=>v(s.value)),l=Z(n.selectedKeys),p=ut()?window.innerHeight:window.innerWidth;function m(A){s.value=A}Vn(s,A=>{i("update:hard",A)});function h(){var F;if(l.value[0]==="\u6559\u7A0B")return((F=localStorage.getItem("@mutate:score-\u6559\u7A0B"))!=null?F:"0F").padStart(8,"0");let A=localStorage.getItem(`@mutate:score-${l.value[0]}-${s.value}`);return A||(A="0F"),A.padStart(8,"0")}function _(){return l.value[0]!=="\u6559\u7A0B"?localStorage.getItem(`@mutate:score-${l.value[0]}-${s.value}`)!==null:localStorage.getItem("@mutate:score-\u6559\u7A0B")!==null}function v(A){return A==="easy"?"#348f00":A==="normal"?"#b8b400":A==="hard"?"#7a0003":"#8f008a"}function b(){i("play",{music:l.value[0],hard:s.value,auto:u.value})}return $i(()=>{l.value=n.selectedKeys}),(A,F)=>{const O=ji,I=Jn,C=dy;return st(),wt("div",Kw,[J("div",Vw,[(st(!0),wt(Bi,null,Ss(W(De)[l.value[0]].hard,(j,B)=>(st(),me(O,{key:B,type:B===s.value?"primary":"default",size:"large",style:yt({height:W(ut)()?"50%":"100%",margin:"1%","font-size":W(ut)()?`${W(p)/1e3}em`:`${W(p)/550}em`,"text-align":"center","vertical-align":"middle","line-height":"100%","background-color":`${s.value===B?W(c):"transparent"}`}),onClick:U=>m(B)},{default:vt(()=>[Yt(ht(B)+"\xA0-\xA0"+ht(j),1)]),_:2},1032,["type","style","onClick"]))),128))]),V(I,{style:{"border-color":"#ddd4","margin-bottom":"1%"},dashed:""}),J("div",Jw,[J("span",Xw,"\u66F2\u5E08\xA0\xA0\xA0\xA0"+ht(W(De)[l.value[0]].author),1),J("span",Yw,"\u8C31\u5E08\xA0\xA0\xA0\xA0"+ht(W(De)[l.value[0]].chart),1),J("span",Gw,"\u65F6\u957F\xA0\xA0\xA0\xA0"+ht(W(Is)(W(De)[l.value[0]].duration)),1)]),V(I,{style:{"border-color":"#ddd4",margin:"1%"},dashed:""}),J("div",Zw,[J("span",Qw,"\u6210\u7EE9\xA0\xA0\xA0\xA0"+ht(h().match(/^[0-9]+/)[0]),1),J("span",{id:"rank",style:yt({color:W(Ef)(_()?W(xr)(h()):"F"),background:W(xr)(h())==="AP"?"linear-gradient(0.25turn, #3f87a6, #ebf8e1, gold, #3f87a6)":"","background-clip":W(xr)(h())==="AP"?"text":"",WebkitBackgroundClip:W(xr)(h())==="AP"?"text":""})},ht(_()?W(xr)(h()):""),5)]),V(I,{style:{"border-color":"#ddd4",margin:"1%"},dashed:""}),J("div",tb,[V(C,{checked:u.value,"onUpdate:checked":F[0]||(F[0]=j=>u.value=j),style:yt({"font-size":W(ut)()?`${W(p)/3e3}em`:`${W(p)/1500}em`,"margin-left":"3%"})},{default:vt(()=>[Yt("\u81EA\u52A8\u64AD\u653E")]),_:1},8,["checked","style"]),V(O,{style:{width:"50%",height:"80%","background-color":"#ccc"},onClick:b},{default:vt(()=>[V(W(hy),{style:yt({transform:`scale(${W(p)/4}%)`,color:"#000"})},null,8,["style"])]),_:1})])])}}});const nb=zt(eb,[["__scopeId","data-v-78bcef01"]]),rb={id:"rightbar"},ib=Mt({__name:"select",emits:["start","setting"],setup(r,{emit:i}){let n=localStorage.getItem("@mutate:select");n||(localStorage.setItem("@mutate:select","\u6559\u7A0B@@\u6559\u7A0B@@0@@easy"),n="\u6559\u7A0B@@\u6559\u7A0B@@0@@easy");const s=n.split("@@"),u=Z(s[0].split(",")),c=Z([s[1]]),l=Z(s[3]),p=ut()?window.innerHeight:window.innerWidth;let m,h,_,v;const b=Tl(()=>A(l.value));function A(I){return I==="easy"?"#348f00":I==="normal"?"#b8b400":I==="hard"?"#7a0003":"#8f008a"}async function F(I){m.style.opacity="0";const C=new bn,[j,B]=Ps(Tr.value);C.add(U=>{B.gain.value=(700-U)/700}),await Dt.sleep(700),C.destroy(),j.stop(),Ew(l.value),i("start",I)}async function O(){m.style.opacity="0";const I=new bn,[C,j]=Ps(Tr.value);I.add(B=>{j.gain.value=(700-B)/700}),await Dt.sleep(700),I.destroy(),C.stop(),i("setting")}return Te(async()=>{await Dt.sleep(200),m=document.getElementById("select"),h=document.getElementById("song-info"),_=document.getElementById("score-num"),v=document.getElementById("rank");const I=ut()?window.innerHeight/window.innerWidth:window.innerWidth/window.innerHeight;h.style.fontSize=ut()?`${p/1e3}em`:`${p/900}em`,m.style.opacity="1",v.style.fontSize=ut()?`${p/800}em`:`${p/600}em`,_.style.fontSize=ut()?`${p/1e3}em`:`${p/800}em`;const{w:C,h:j}=na();if(I>16/9){const B=j*16/9,q=(parseFloat(getComputedStyle(m).width)-B)/2;m.style.paddingLeft=`${q}px`,m.style.paddingRight=`${q}px`}if(I<16/9){const B=C*9/16,q=(parseFloat(getComputedStyle(m).height)-B)/2;m.style.paddingTop=`${q}px`,m.style.paddingBottom=`${q}px`}}),(I,C)=>{const j=Jn;return st(),wt("div",{id:"select",style:yt({"background-color":`${W(b)}22`})},[V(Lw,{selectedKeys:c.value,"onUpdate:selectedKeys":C[0]||(C[0]=B=>c.value=B),openKeys:u.value,"onUpdate:openKeys":C[1]||(C[1]=B=>u.value=B),hard:l.value,scroll:W(s)[2]},null,8,["selectedKeys","openKeys","hard","scroll"]),J("div",rb,[V(qw,{selectedKeys:c.value,onOpenSetting:O},null,8,["selectedKeys"]),V(j,{style:{"border-color":"#ddd4",height:"100%"},type:"vertical",dashed:""}),V(nb,{selectedKeys:c.value,hard:l.value,"onUpdate:hard":C[2]||(C[2]=B=>l.value=B),onPlay:F},null,8,["selectedKeys","hard"])])],4)}}});const ob=zt(ib,[["__scopeId","data-v-4c00684d"]]);function sb(r){r.renderer.setNote("hold",ub),r.renderer.setBase(cb),r.chart.camera.setGlobalEffects(lb)}function ab(r){const i=r.target,n=r.ctx,s=i.game,u=n.canvas;n.save(),n.textBaseline="top",n.fillStyle="#fff",n.textAlign="right",n.font="100 32px normal",n.fillText(s.getScore().toString().padStart(7,"0"),u.width-20,15);const c=s.chart.judger.combo;n.beginPath(),n.moveTo(0,0),n.lineTo(u.width*i.game.time/1e3/i.game.ac.audio.duration,0),n.lineCap="square",n.lineWidth=8,n.stroke();const l=`${Is(Math.floor(i.game.time/1e3))} / ${Is(Math.floor(i.game.ac.audio.duration+1))}`;n.textAlign="left",n.font="100 24px normal",n.fillText(l,60,10),!(c<3&&!i.game.chart.judger.auto)&&(n.textAlign="center",n.font="100 48px normal",n.fillText(`${c}`,u.width/2,10),n.font="100 32px normal",i.game.chart.judger.auto?n.fillText("autoplay",u.width/2,50):n.fillText("combo",u.width/2,50),n.restore())}function ub(r){}function cb(r){if(!this.inGame(r.x,r.y)||!r.inited)return;const i=r.calRad()+r.angle*Math.PI/180;let n="";r.id.endsWith("-j")&&(n="base1.png"),r.id.endsWith("-i1")&&(n="base2.png"),r.id.endsWith("-i2")&&(n="base3.png");const s=Af[n];if(!s)return;const u=this.game.ctx,c=this.game.scale,l=r.x*c,p=r.y*c,m=r.custom.radius*c,{a:h}=r.custom;u.save(),u.translate(l,p),n!=="base1.png"&&u.rotate(i+Math.PI),r.ctxFilter.length>0&&(u.filter=r.ctxFilter),u.globalAlpha=h,u.drawImage(s,-m,-m,m*2,m*2),u.restore()}function lb(r){const i=r.target,n=r.game.scale,s=960*n,u=540*n,c=r.x*n,l=r.y*n;i.translate(-c+s,-l+u),i.rotate(r.angle*Math.PI/180),i.scale(r.size,r.size),i.translate(-s,-u),i.shadowBlur=4,i.shadowColor="black"}const fb={id:"settle"},hb=["src"],db={id:"song-name"},pb={id:"name"},mb={id:"song-detail"},gb={id:"detail-left"},vb={id:"detail-right"},yb={id:"buttons"},_b=Mt({__name:"settle",props:{auto:{type:Boolean},hard:null,song:null,score:null,detail:null,maxCombo:null},emits:["exit"],setup(r,{emit:i}){var v,b;const n=r,s=Z(!1),u=Z(!1),c=Z(n.auto?"\u81EA\u52A8\u64AD\u653E":"\u4E0A\u4F20\u6210\u7EE9"),l=localStorage.getItem("@mutate:autoUpload")==="true";function p(A){return`/Mutate-HTML/image/${A}`}const m=Z("D");if(n.detail.miss>0?m.value=yw(n.score):n.detail.good>0?m.value="FC":m.value="AP",!n.auto){let A=(v=localStorage.getItem(`@mutate:score-${n.song}-${n.hard}`))!=null?v:"0F";n.song==="\u6559\u7A0B"&&(A=(b=localStorage.getItem("@mutate:score-\u6559\u7A0B"))!=null?b:"0F");const F=parseFloat(A.match(/^[0-9]+/)[0]),O=A.match(/(F|D|C|B|A|S|AP|FC)$/)[0],I=n.score>F?n.score:F,C=_w(m.value,O)?m.value:O;n.song==="\u6559\u7A0B"?localStorage.setItem("@mutate:score-\u6559\u7A0B",`${I}${C}`):localStorage.setItem(`@mutate:score-${n.song}-${n.hard}`,`${I}${C}`)}async function h(){const A=document.getElementById("settle");A.style.transition="opacity 0.6s linear",await Dt.sleep(50),A.style.opacity="0",await Dt.sleep(600),i("exit")}async function _(A=!1){if(!location.host.includes("h5mota.com")){u.value=!0,c.value="\u65E0\u6CD5\u4E0A\u4F20",qe.warn("\u5F53\u524D\u4E0D\u5728h5mota.com\uFF0C\u65E0\u6CD5\u4E0A\u4F20\u6210\u7EE9");return}if(n.auto)return c.value="\u81EA\u52A8\u64AD\u653E",u.value=!0,A?void 0:qe.error("\u81EA\u52A8\u64AD\u653E\u4E0D\u80FD\u4E0A\u4F20\u6210\u7EE9\uFF01");const F=document.cookie.match(new RegExp("(^| )id=([^;]+)"));if(!Gn.has(F)||F[2]==="")return localStorage.setItem("@mutate:autoUpload","false"),u.value=!0,qe.error("\u7528\u6237\u672A\u767B\u5F55\uFF0C\u5DF2\u5173\u95ED\u81EA\u52A8\u4E0A\u4F20\u6210\u7EE9\u7684\u529F\u80FD\uFF01\u767B\u5F55\u540E\u53EF\u4EE5\u4E0A\u4F20\u6210\u7EE9\uFF0C\u5E76\u4F53\u9A8C\u6062\u590D\u5B58\u6863\u529F\u80FD\uFF01");s.value=!0,c.value="\u4E0A\u4F20\u4E2D";const O=await ww(n.song,n.hard,n.score,F[2]);console.log(O),c.value="\u4E0A\u4F20\u6210\u529F",n.auto||qe.success({content:"\u6210\u7EE9\u5DF2\u81EA\u52A8\u4E0A\u4F20\uFF01",class:"auto-upload-green"}),s.value=!1,u.value=!0}return Te(async()=>{await Dt.sleep(200);const A=document.getElementById("settle");En("/Mutate-HTML/music/mutate.mp3",!0),A.style.opacity="1",A.style.filter="none",l&&_(!0)}),(A,F)=>{const O=Jn,I=ji;return st(),wt("div",fb,[J("img",{id:"settle-img",src:p(W(De)[r.song].file.image)},null,8,hb),J("div",{id:"settle-right",style:yt({"font-size":W(ut)()?"2.5vh":"2.5vw"})},[J("div",db,[J("span",pb,ht(r.song),1),J("span",null,ht(r.hard)+"\xA0\xA0\xA0\xA0Lv.\xA0"+ht(W(De)[r.song].hard[r.hard]),1)]),V(O,{dashed:"",style:{width:"100%",margin:"0"}}),J("div",{id:"song-score",style:yt({"font-size":W(ut)()?"4vh":"4vw"})},[J("span",null,ht(r.score.toString().padStart(6,"0")),1),J("span",{id:"rank",style:yt({color:W(Ef)(r.auto?"AUTO":m.value),background:m.value==="AP"?"linear-gradient(0.25turn, #3f87a6, #ebf8e1, gold, #3f87a6)":"","background-clip":m.value==="AP"?"text":"",WebkitBackgroundClip:m.value==="AP"?"text":""})},ht(r.auto?"AUTO":m.value),5)],4),V(O,{dashed:"",style:{width:"100%",margin:"0"}}),J("div",mb,[J("div",gb,[J("span",null,ht(r.detail.perfect)+"\xA0\xA0\xA0\xA0\u5B8C\u7F8E",1),J("span",null,ht(r.detail.good)+"\xA0\xA0\xA0\xA0\u826F\u597D",1),J("span",null,ht(r.detail.miss)+"\xA0\xA0\xA0\xA0\u9519\u8FC7",1)]),V(O,{type:"vertical",dashed:"",style:{height:"100%","border-color":"#ddd4"}}),J("div",vb,[J("span",null,"\u63D0\u524D\xA0\xA0\xA0\xA0"+ht(r.detail.early),1),J("span",null,"\u8FC7\u665A\xA0\xA0\xA0\xA0"+ht(r.detail.late),1),J("span",null,"\u6700\u5927\u8FDE\u51FB\xA0\xA0\xA0\xA0"+ht(r.maxCombo),1)])]),V(O,{dashed:"",style:{width:"100%",margin:"0 0 10% 0"}}),J("div",yb,[V(I,{id:"upload",style:yt({"font-size":W(ut)()?"2vh":"2vw"}),loading:s.value,disabled:u.value,onClick:F[0]||(F[0]=C=>_(!1))},{default:vt(()=>[V(W(py)),J("span",null,ht(c.value),1)]),_:1},8,["style","loading","disabled"]),V(I,{id:"confirm",style:yt({"font-size":W(ut)()?"3vh":"3vw"}),onClick:h},{default:vt(()=>[V(W(my))]),_:1},8,["style"])])],4)])}}});const wb=zt(_b,[["__scopeId","data-v-7af36900"]]);function bb(r){r.renderer.on("after",Eb)}function Eb(r){const i=r.target,n=r.ctx,s=i.game.time;n.save(),n.fillStyle="#fff",n.textAlign="center",n.textBaseline="middle",n.font=`${n.canvas.width/40}px normal`,s>=1e3&&s<=5e3&&xb(n,s),s>=6e3&&s<=1e4&&Ab(n,s),s>=15e3&&s<=19e3&&Fb(n,s),s>=24e3&&s<=28e3&&Tb(n,s),s>=37e3&&s<=41e3&&Sb(n,s),s>=52e3&&s<=56e3&&Cb(n,s),s>=73e3&&s<=77e3&&kb(n,s),s>=88e3&&s<=92e3&&Bb(n,s),s>=93e3&&s<=97e3&&Ob(n,s),n.restore()}function Je(r,i,n,s){const u=2-Math.abs(s-n)/1e3;r.globalAlpha=u,r.fillText(i,r.canvas.width/2,r.canvas.height/3)}function xb(r,i){Je(r,"\u6B22\u8FCE\u6765\u5230Mutate\uFF01\u4E0B\u9762\u4F60\u5C06\u6765\u5B66\u4E60\u6E38\u620F\u7684\u57FA\u672C\u73A9\u6CD5",i,3e3)}function Ab(r,i){Je(r,`\u9996\u5148\u662Ftap\u97F3\u7B26\uFF0C\u4F60\u53EA\u9700\u8981\u5728\u5B83\u5230\u8FBE\u5224\u5B9A\u5708\u7684\u65F6\u523B${ut()?"\u70B9\u51FB\u5C4F\u5E55\u4EFB\u610F\u4F4D\u7F6E":"\u6309\u4E0B\u4EFB\u610F\u6309\u952E"}\u5373\u53EF`,i,8e3)}function Fb(r,i){Je(r,`\u5F88\u597D\uFF01\u4E0B\u9762\u662Fdrag\u97F3\u7B26\uFF0C\u4F60\u53EA\u9700\u8981\u5728\u5B83\u5230\u8FBE\u5224\u5B9A\u5708\u7684\u65F6\u523B${ut()?"\u6709\u624B\u6307\u6309\u5728\u5C4F\u5E55\u4E0A":"\u6709\u6309\u952E\u88AB\u6309\u4F4F"}\u5373\u53EF`,i,17e3)}function Tb(r,i){Je(r,"\u8FD9\u662F\u6700\u57FA\u7840\u7684\u73A9\u6CD5\uFF0C\u9664\u6B64\u4E4B\u5916\uFF0C\u97F3\u7B26\u8FD8\u53EF\u80FD\u4ECE\u5404\u4E2A\u65B9\u5411\u800C\u6765",i,26e3)}function Sb(r,i){Je(r,"\u57FA\u5730\u7684\u5927\u5C0F\u4E5F\u53EF\u4EE5\u968F\u610F\u6539\u53D8",i,39e3)}function Cb(r,i){Je(r,"\u57FA\u5730\u8FD8\u53EF\u4EE5\u79FB\u52A8\u3001\u900F\u660E\u3001\u6D88\u5931\uFF0C\u751A\u81F3\u662F\u62C6\u5206\u5F00\uFF0C\u4F46\u672C\u4F53\u4E00\u5B9A\u662F\u5224\u5B9A\u5708",i,54e3)}function kb(r,i){Je(r,"\u57FA\u5730\u8FD8\u53EF\u4EE5\u662F\u591A\u4E2A",i,75e3)}function Bb(r,i){Je(r,"\u5230\u6B64\u4E3A\u6B62\uFF0C\u4F60\u5DF2\u7ECF\u5B66\u4F1A\u4E86\u8FD9\u4E2A\u6E38\u620F\u600E\u4E48\u6E38\u73A9\u4E86!",i,9e4)}function Ob(r,i){Je(r,"\u5728\u6559\u7A0B\u7ED3\u675F\u540E\uFF0C\u5FEB\u53BB\u4F53\u9A8C\u8FD9\u4E2A\u6E38\u620F\u5427\uFF01",i,95e3)}function Db(r,i=1,n=[0,0],s=0,u=l=>1,c=!1){return l=>{const p=i*l*Math.PI*2+s*Math.PI/180,m=Math.cos(p),h=Math.sin(p),_=r*u(u(c?1-l:l));return[_*m+n[0],_*h+n[1]]}}const Rb=r=>(Ms("data-v-bc15e002"),r=r(),Ns(),r),$b={id:"mutate-div"},jb={key:0,id:"mutate-core"},Pb=Rb(()=>J("canvas",{id:"mutate-game",style:{width:"100%",height:"100%"}},null,-1)),Ib={key:3,id:"time-back"},Mb=Mt({__name:"play",props:{auto:{type:Boolean},song:null,hard:null},emits:["exit"],setup(r,{emit:i}){var H;const n=r,s=Z([0,0]),u=Z([0,0]),c=Z(["0","0"]),l=Z(0),p=parseFloat((H=localStorage.getItem("@mutate:offset"))!=null?H:"0"),m=Z(!1),h=Z(0),_=Z(),v=Z(0),b=Z(!1),A=Z(!1),F=Z(3),O=Z(!1),I=Z(0);let C;function j(){b.value=!0,i("exit")}function B(){if(A.value||l.value!==0)return;const L=document.getElementById("mutate-core");L.style.filter="blur(10px)brightness(50%)",C.pause(),A.value=!0,En("/Mutate-HTML/se/pause.mp3")}async function U(){const L=document.getElementById("mutate-core");O.value=!0,F.value=3,await Dt.sleep(1e3),F.value=2,await Dt.sleep(1e3),F.value=1,L.style.filter="none",await Dt.sleep(1e3),O.value=!1,A.value=!1,C.resume()}async function q(){const L=document.getElementById("mutate-div");L.style.opacity="0",await Dt.sleep(700),L.style.opacity="1";const jt=document.getElementById("mutate-core");jt.style.filter="none",C.restart(0),A.value=!1}async function M(){const L=document.getElementById("mutate-div");L.style.opacity="0",await Dt.sleep(600),i("exit"),En("/Mutate-HTML/music/mutate.mp3",!0)}return Te(async()=>{var un,Qt;const L=document.getElementById("mutate-div"),jt=document.getElementById("mutate-core"),rt=document.getElementById("mutate-game"),ft=rt.getContext("2d");ft.clearRect(0,0,rt.width,rt.height);let{w:Re,h:ve}=na();if(Re-=10,ve-=10,Re/ve>16/9){const kt=ve*16/9;rt.height=ve,rt.width=kt,jt.style.width=`${kt}px`,jt.style.height=`${ve}px`}else{const kt=Re*9/16;rt.height=kt,rt.width=Re,jt.style.width=`${Re}px`,jt.style.height=`${kt}px`}await Dt.sleep(600),C=lw(rt);const Qn="/Mutate-HTML/";rt.style.opacity="1",l.value=1,jt.style.opacity="1",L.style.opacity="1";const kr=new bn;kr.add(kt=>{const Dr=Math.PI*kt/700,tr=rt.width,Ce=rt.height,Xe=tr/2,An=Ce/5*2;ft.lineWidth=5,ft.lineCap="round",ft.clearRect(0,0,rt.width,rt.height),ft.beginPath(),ft.arc(Xe,An,Math.min(tr,Ce)/16,0,Math.PI*2),ft.strokeStyle="#444",ft.stroke(),ft.beginPath(),ft.arc(Xe,An,Math.min(tr,Ce)/16,Dr,Dr+Math.PI/2),ft.strokeStyle="#eee",ft.stroke(),ft.closePath(),ft.textAlign="center",ft.font="normal 4em Verdana",ft.fillStyle="#eee",ft.fillText(`loading${".".repeat(Math.floor(kt/800)%4)}`,Xe,An+An/2);const cn=Hn(s.value[0]),ln=Hn(u.value[0]);ft.textAlign="left",ft.font=`normal ${24*rt.width/1920}px Verdana`,ft.fillText(`\u97F3\u4E50\u52A0\u8F7D\u8FDB\u5EA6    ${cn} / ${ln}`,rt.width/11,rt.height*(1-.11));const qi=Hn(s.value[1]),Fn=Hn(u.value[1]);ft.fillText(`\u8C31\u9762\u52A0\u8F7D\u8FDB\u5EA6    ${qi} / ${Fn}`,rt.width/11,rt.height*(1-.21)),c.value=[(s.value[0]/u.value[0]*100).toFixed(2),(s.value[1]/u.value[1]*100).toFixed(2)]});const Br=De[n.song];C.chart.register("pathG","circle2",Db),await C.load(`${Qn}music/${Br.file.music}`,`${Qn}chart/${Br.file.chart[n.hard]}`,kt=>{s.value[0]=kt.loaded,u.value[0]=kt.total},kt=>{s.value[1]=kt.loaded,u.value[1]=kt.total}),rt.style.opacity="0",l.value=0,await Dt.sleep(600),I.value=1,kr.destroy(),ft.clearRect(0,0,rt.width,rt.height),rt.style.opacity="1",rt.style.transition="",C.setOffset(-p),sb(C),C.start(),C.setSound("tap","/Mutate-HTML/se/tap.wav"),C.setSound("drag","/Mutate-HTML/se/drag.wav"),n.auto&&(C.chart.judger.auto=!0);const $e=parseInt((un=localStorage.getItem("@mutate:seVolume"))!=null?un:"50")/100;C.ac.seVolume=$e;const Se=parseInt((Qt=localStorage.getItem("@mutate:musicVolume"))!=null?Qt:"100")/100;C.ac.musicVolume=Se,C.renderer.on("after",ab),n.song==="\u6559\u7A0B"&&bb(C),n.auto||(C.chart.judger.on("hit",kt=>{mw(C.time)}),pw(n.song,De[n.song].file.chart[n.hard].slice(0,-4)));const Or=kt=>{kt.key==="Escape"&&B()};document.addEventListener("keydown",Or),C.on("end",async()=>{jt.style.opacity="0",h.value=C.getScore(),_.value=C.getDetail(),v.value=C.chart.judger.maxCombo,document.removeEventListener("keydown",Or),await Dt.sleep(600),L.style.backgroundColor="#111",m.value=!0})}),(L,jt)=>{const rt=xl;return st(),wt("div",$b,[!m.value&&!b.value?(st(),wt("div",jb,[Pb,V(rt,{percent:parseFloat(c.value[0]),style:yt({position:"absolute",bottom:"7%",width:"50%",left:"7%",opacity:l.value,transition:"opacity 0.6s linear"})},null,8,["percent","style"]),V(rt,{percent:parseFloat(c.value[1]),style:yt({position:"absolute",bottom:"17%",width:"50%",left:"7%",opacity:l.value,transition:"opacity 0.6s linear"})},null,8,["percent","style"]),V(W(gy),{style:yt({position:"absolute",left:"10px",top:"10px","font-size":"32px","font-weight":"900",cursor:"pointer",opacity:I.value,transition:"all 0.6s linear"}),onClick:B},null,8,["style"])])):Gt("",!0),m.value&&!b.value?(st(),me(wb,{key:1,song:r.song,auto:r.auto,hard:r.hard,score:h.value,detail:_.value,"max-combo":v.value,onExit:j},null,8,["song","auto","hard","score","detail","max-combo"])):Gt("",!0),!O.value&&A.value?(st(),wt("div",{key:2,id:"pause",style:yt({"font-size":W(ut)()?"3vh":"3vw"})},[V(W(Sl),{style:{margin:"25%"},onClick:M}),V(W(vy),{style:{margin:"25%"},onClick:q}),V(W(yy),{style:{margin:"25%"},onClick:U})],4)):Gt("",!0),A.value&&O.value?(st(),wt("span",Ib,ht(F.value),1)):Gt("",!0)])}}});const Nb=zt(Mb,[["__scopeId","data-v-bc15e002"]]);const bl=Mt({__name:"settingButton",emits:["click"],setup(r,{emit:i}){return(n,s)=>{const u=ji;return st(),me(u,{style:yt({"font-size":W(ut)()?"2.5vh":"2.5vw"}),onClick:s[0]||(s[0]=c=>i("click"))},{default:vt(()=>[Ls(n.$slots,"default")]),_:3},8,["style"])}}});const Lb={id:"setting"},Ub={id:"setting-info"},zb={style:{"margin-right":"3%"}},Wb={id:"setting-slider"},Hb=Mt({__name:"settingOne",props:{defaultValue:null,storage:null,min:null,max:null,step:null},emits:["update:value"],setup(r,{emit:i}){const n=r,s=Z(n.defaultValue),u=localStorage.getItem(n.storage);Gn.has(u)&&(s.value=parseInt(u));function c(l){i("update:value",l),s.value=l,localStorage.setItem(n.storage,s.value.toString())}return(l,p)=>{var h,_,v,b,A,F,O,I,C,j,B;const m=Bl;return st(),wt("div",Lb,[J("div",Ub,[J("span",null,[Ls(l.$slots,"default",{},void 0,!0)]),J("span",zb,ht(s.value),1)]),J("div",Wb,[V(W(Cl),{style:{cursor:"pointer"},onClick:p[0]||(p[0]=U=>{var q;return c(s.value-((q=r.step)!=null?q:5))})}),V(m,{id:"slider-slider",value:s.value,"onUpdate:value":p[1]||(p[1]=U=>s.value=U),min:(h=r.min)!=null?h:0,max:(_=r.max)!=null?_:100,marks:{[(v=r.min)!=null?v:0]:(b=r.min)!=null?b:0,[(((A=r.min)!=null?A:0)+((F=r.max)!=null?F:100))/2]:(((O=r.min)!=null?O:0)+((I=r.max)!=null?I:100))/2,[(C=r.max)!=null?C:100]:(j=r.max)!=null?j:100},step:(B=r.step)!=null?B:1,"tip-formatter":null,onChange:c},{mark:vt(({label:U})=>[J("p",{style:yt({"font-size":W(ut)()?"1.4vh":"1.4vw"})},ht(U),5)]),_:1},8,["value","min","max","marks","step"]),V(W(kl),{style:{cursor:"pointer"},onClick:p[2]||(p[2]=U=>{var q;return c(s.value+((q=r.step)!=null?q:5))})})])])}}});const El=zt(Hb,[["__scopeId","data-v-b52ccb0d"]]);const qb={id:"switch"},Kb=Mt({__name:"switchSetting",props:{defaultOn:{type:Boolean},storage:null},setup(r){const i=r,n=Z(i.defaultOn),s=localStorage.getItem(i.storage);return Gn.has(s)?n.value=s==="true":localStorage.setItem(i.storage,`${i.defaultOn}`),Vn(n,u=>{i.storage==="@mutate:autoUpload"&&u===!0&&!location.host.includes("h5mota.com")&&(qe.warn({content:"\u5F53\u524D\u4E0D\u5728h5mota.com\uFF0C\u65E0\u6CD5\u5F00\u542F\u6B64\u529F\u80FD",class:"auto-upload-yellow"}),n.value=!1),localStorage.setItem(i.storage,`${n.value}`)}),(u,c)=>{const l=_y;return st(),wt("div",qb,[J("span",{id:"name",style:yt({"font-size":W(ut)()?"2vh":"2vw"})},[Ls(u.$slots,"default",{},void 0,!0)],4),V(l,{id:"switch",checked:n.value,"onUpdate:checked":c[0]||(c[0]=p=>n.value=p),"checked-children":"on","un-checked-children":"off"},null,8,["checked"])])}}});const Vb=zt(Kb,[["__scopeId","data-v-f4d675be"]]),Jb={id:"option"},Xb={id:"option-main"},Yb={id:"left"},Gb={id:"right"},Zb={id:"functions"},Qb={style:{"font-family":"normal","font-size":"1.4vw"}},tE=Mt({__name:"setting-option",setup(r){const i=Z(!1),n=Z(""),s=Z("recover"),u=Z(0),c=Z(0);Vn(u,_=>l(_));function l(_){const v=document.getElementById("option-main");if(parseFloat(getComputedStyle(v).height)>=c.value)return;const b=parseFloat(getComputedStyle(v).height);_+b>=c.value?(u.value=c.value-b,v.style.top=`${-u.value}px`):_<=0?(u.value=0,v.style.top="0px"):(u.value=_,v.style.top=`${-_}px`)}function p(){i.value=!0,n.value="\u6B64\u64CD\u4F5C\u5C06\u5C1D\u8BD5\u4ECE\u4F60\u4E0A\u4F20\u7684\u5F55\u50CF\u901A\u8FC7\u7684\u6210\u7EE9\u4E2D\u6062\u590D\u4F60\u7684\u5B58\u6863\uFF0C\u6B64\u64CD\u4F5C\u5C06\u4F1A\u8986\u76D6\u5F53\u524D\u5B58\u6863\uFF0C\u8BF7\u5728\u5B58\u6863\u4E22\u5931\u540E\u4F7F\u7528\u8BE5\u529F\u80FD",s.value="recover"}function m(){i.value=!0,n.value="\u6B64\u64CD\u4F5C\u5C06\u4F1A\u5220\u9664\u4F60\u7684\u6B64\u6E38\u620F\u7684\u6240\u6709\u5B58\u6863\uFF0C\u53CA\u9664\u504F\u79FB\u5916\u7684\u8BBE\u7F6E\u4FE1\u606F\uFF0C\u8BF7\u614E\u91CD\u64CD\u4F5C\uFF01\uFF01",s.value="clear"}async function h(){if(s.value==="recover"){const _=await xw();alert(_?"\u6062\u590D\u6210\u529F\uFF01":"\u6062\u590D\u5931\u8D25\uFF01"),i.value=!1}if(s.value==="clear"){try{const _=localStorage.getItem("@mutate:offset");localStorage.clear(),localStorage.setItem("@mutate:played","true"),localStorage.setItem("@mutate:offset",_!=null?_:"0"),alert("\u6E05\u9664\u6210\u529F\uFF01")}catch(_){alert("\u6E05\u9664\u5931\u8D25\uFF01")}i.value=!1}}return Te(()=>{const _=document.getElementById("option-main"),v=getComputedStyle(_);c.value=parseFloat(v.top),u.value=0}),(_,v)=>{const b=Jn,A=ji,F=wy;return st(),wt("div",Jb,[J("div",Xb,[J("div",Yb,[V(El,{"default-value":50,storage:"@mutate:seVolume"},{default:vt(()=>[Yt("\u97F3\u6548\u97F3\u91CF")]),_:1}),V(Vb,{"default-on":!0,storage:"@mutate:autoUpload"},{default:vt(()=>[Yt("\u901A\u5173\u540E\u81EA\u52A8\u4E0A\u4F20\u6210\u7EE9")]),_:1})]),V(b,{type:"vertical",dashed:"",id:"option-divider"}),J("div",Gb,[V(El,{"default-value":100,storage:"@mutate:musicVolume"},{default:vt(()=>[Yt("\u97F3\u4E50\u97F3\u91CF")]),_:1}),J("div",Zb,[V(bl,{onClick:p},{default:vt(()=>[Yt("\u6062\u590D\u6570\u636E")]),_:1}),V(bl,{onClick:m,danger:!0},{default:vt(()=>[Yt("\u6E05\u9664\u6570\u636E")]),_:1}),V(F,{visible:i.value,"onUpdate:visible":v[1]||(v[1]=O=>i.value=O),title:"\u8B66\u544A",style:{"font-family":"normal"}},{footer:vt(()=>[V(A,{class:"alert",key:"cancel",onClick:v[0]||(v[0]=O=>i.value=!1)},{default:vt(()=>[Yt("\u53D6\u6D88")]),_:1}),V(A,{class:"alert",key:"confirm",danger:!0,onClick:h},{default:vt(()=>[Yt("\u786E\u5B9A")]),_:1})]),default:vt(()=>[J("p",Qb,ht(n.value),1)]),_:1},8,["visible"])])]),V(Ff,{total:c.value,scroll:u.value,"onUpdate:scroll":v[2]||(v[2]=O=>u.value=O),id:"option"},null,8,["total","scroll"])])])}}});const eE=zt(tE,[["__scopeId","data-v-61fb4bbc"]]),nE=r=>(Ms("data-v-ccdcd887"),r=r(),Ns(),r),rE={id:"offset"},iE=nE(()=>J("canvas",{id:"offset-canvas"},null,-1)),oE={id:"slider"},sE={id:"slider-main"},aE=Mt({__name:"setting-offset",setup(r){const i=Z(0),n=Z(0),s=new bn;Vn(i,l=>{localStorage.setItem("@mutate:offset",l.toString())});const u=localStorage.getItem("@mutate:offset");Gn.has(u)?i.value=parseInt(u):(localStorage.setItem("@mutate:offset","0"),i.value=0);async function c(){const l=document.getElementById("offset-canvas"),p=l.getContext("2d"),m=getComputedStyle(l);l.width=parseFloat(m.width),l.height=parseFloat(m.height);const h=l.width,_=l.height,v=Fe.currentTime;let b=0,A=0,F=1e3;s.add(async()=>{p.clearRect(0,0,h,_);const j=(Fe.currentTime-v)*1e3%2400;p.save();const B=h*3/4+i.value/2400*h;p.strokeStyle="#ddd",p.lineWidth=2,p.beginPath(),p.moveTo(B,0),p.lineTo(B,_),p.stroke();const U=j/2400*h;p.beginPath(),p.moveTo(U,_/4),p.lineTo(U+7,_/4+7),p.lineTo(U+7,_*3/4-7),p.lineTo(U,_*3/4),p.lineTo(U-7,_*3/4-7),p.lineTo(U-7,_/4+7),p.closePath(),p.fillStyle="#00d2eb",p.lineWidth=4,p.fill(),p.stroke(),F+=16.7;let q=2-F/500;q<0&&(q=0),p.globalAlpha=q,p.strokeStyle="#5f9",p.beginPath(),p.moveTo(A,0),p.lineTo(A,_),p.stroke(),p.restore();const M=Math.floor(j/600)%4;(M===1||M===2)&&b!==M?(b=M,await En("/Mutate-HTML/se/drag.wav")):M===3&&b!==M&&(b=M,await En("/Mutate-HTML/se/tap.wav"))});let O=[];document.addEventListener("keydown",C=>{if(!O.includes(C.keyCode)){O.push(C.keyCode);const j=(Fe.currentTime-v)*1e3%2400;A=j/2400*h,F=0,n.value=Math.round(j-1800-i.value)}}),document.addEventListener("keyup",C=>{const j=O.findIndex(B=>B===C.keyCode);j!==-1&&O.splice(j,1)});let I=0;l.addEventListener("touchstart",C=>{const j=I;if(C.touches.length>j){const B=(Fe.currentTime-v)*1e3%2400;A=B/2400*h,F=0,n.value=Math.round(B-1800-i.value)}I=C.touches.length}),l.addEventListener("touchend",C=>{I=C.touches.length})}return Te(()=>{c()}),by(()=>{s.destroy()}),(l,p)=>{const m=Bl;return st(),wt("div",rE,[J("span",{id:"hint",style:yt({"font-size":W(ut)()?"2.5vh":"3vw"})},"\u8C03\u6574\u6ED1\u52A8\u6761\u4F7F\u5728\u7B2C\u4E09\u4E2A\u8282\u62CD\u6253\u51FB\u65F6\u6070\u597D\u5728\u6807\u51C6\u7EBF\u5904"+ht(W(ut)()?"\uFF08\u624B\u673A\u7AEF\u4E0D\u53EF\u62D6\u52A8\u6ED1\u52A8\u6761\uFF09":""),5),iE,J("div",oE,[J("span",{style:yt({"font-size":W(ut)()?"2vh":"2vw"})}," \u6253\u51FB\u5EF6\u8FDF\xA0\xA0\xA0\xA0"+ht(n.value>0?`+${n.value}`:n.value)+"ms ",5),J("span",{style:yt({"font-size":W(ut)()?"2vh":"2vw"})},ht(i.value>0?`+${i.value}`:i.value)+"ms",5),J("div",sE,[V(W(Cl),{style:{"font-size":"3vw",cursor:"pointer"},onClick:p[0]||(p[0]=h=>i.value<-300?i.value=-300:i.value-=5)}),V(m,{value:i.value,"onUpdate:value":p[1]||(p[1]=h=>i.value=h),id:"slider-slider",step:5,"tip-formatter":null,min:-300,max:300,included:!1,marks:{"-300":"-300ms","-200":"-200ms","-100":"-100ms",0:"0",100:"+100ms",200:"+200ms",300:"+300ms"}},{mark:vt(({label:h,point:_})=>[_===0?(st(),wt("strong",{key:0,style:yt({"font-size":W(ut)()?"1.4vh":"1.4vw"})},ht(h),5)):(st(),wt("p",{key:1,style:yt({"font-size":W(ut)()?"1.4vh":"1.4vw"})},ht(h),5))]),_:1},8,["value"]),V(W(kl),{style:{"font-size":"3vw",cursor:"pointer"},onClick:p[2]||(p[2]=h=>i.value>300?i.value=300:i.value+=5)})])])])}}});const uE=zt(aE,[["__scopeId","data-v-ccdcd887"]]),cE=Ey('<span class="desc" data-v-dc5cc949>\u6E38\u620F\u4F5C\u8005</span><span data-v-dc5cc949>\u53E4\u7960</span><span class="desc" data-v-dc5cc949>\u6E38\u620F\u7248\u672C</span><span data-v-dc5cc949>v0.1</span><span class="desc" data-v-dc5cc949>\u5F15\u64CE\u5F00\u6E90\u5730\u5740</span><a href="https://github.com/unanmed/Mutate" target="_blank" data-v-dc5cc949>https://github.com/unanmed/Mutate</a><span class="desc" data-v-dc5cc949>\u6E38\u620F\u5F00\u6E90\u5730\u5740</span><a href="https://github.com/unanmed/Mutate-HTML" target="_blank" data-v-dc5cc949>https://github.com/unanmed/Mutate-HTML</a><span class="desc" data-v-dc5cc949>\u66F2\u5E08</span><span data-v-dc5cc949>\u5F31\u9E21\u7EFF\u6BDB\u602A\xA0\xA0\u53E4\u7960</span><span class="desc" data-v-dc5cc949>\u8C31\u5E08</span><span data-v-dc5cc949>\u53E4\u7960</span><span class="desc" data-v-dc5cc949>\u7279\u522B\u9E23\u8C22</span><span data-v-dc5cc949>\u7075\u68A6\xA0\xA0\u963F\u5C14\u6CD5</span>',14),lE=[cE],fE=Mt({__name:"setting-about",setup(r){return(i,n)=>(st(),wt("div",{id:"info",style:yt({"font-size":W(ut)()?"1.7vh":"1.7vw"})},lE,4))}});const hE=zt(fE,[["__scopeId","data-v-dc5cc949"]]),dE={id:"settings"},pE={id:"back-div",style:{display:"flex","justify-content":"center","align-items":"center","justify-items":"center"}},mE=Mt({__name:"setting",emits:["exit"],setup(r,{emit:i}){const n=Z(["offset"]);Te(async()=>{await Dt.sleep(200);const u=document.getElementById("settings");u.style.opacity="1"});async function s(){const u=document.getElementById("settings");u.style.opacity="0",await Dt.sleep(600),En("/Mutate-HTML/music/mutate.mp3",!0),i("exit")}return(u,c)=>{const l=Fl,p=Al,m=xy,h=Ay,_=Fy;return st(),wt("div",dE,[V(_,{style:yt({width:W(ut)()?"95vh":"95vw",height:W(ut)()?"95vw":"95vh"})},{default:vt(()=>[V(m,null,{default:vt(()=>[J("div",pE,[V(W(Sl),{onClick:s,id:"back",style:{"font-size":"24px",cursor:"pointer",transition:"all 0.2s linear"}})]),V(p,{selectedKeys:n.value,"onUpdate:selectedKeys":c[0]||(c[0]=v=>n.value=v),theme:"dark",mode:"horizontal",style:{"font-size":"28px","font-family":"normal"}},{default:vt(()=>[V(l,{key:"offset",style:{margin:"0 2% 0 2%"}},{default:vt(()=>[Yt("\u6821\u51C6")]),_:1}),V(l,{key:"option",style:{margin:"0 2% 0 2%"}},{default:vt(()=>[Yt("\u8BBE\u7F6E")]),_:1}),V(l,{key:"about",style:{margin:"0 2% 0 2%"}},{default:vt(()=>[Yt("\u5173\u4E8E")]),_:1})]),_:1},8,["selectedKeys"])]),_:1}),V(h,{style:{"background-color":"#111"}},{default:vt(()=>[n.value[0]==="offset"?(st(),me(uE,{key:0})):Gt("",!0),n.value[0]==="option"?(st(),me(eE,{key:1})):Gt("",!0),n.value[0]==="about"?(st(),me(hE,{key:2})):Gt("",!0)]),_:1})]),_:1},8,["style"])])}}});const gE=zt(mE,[["__scopeId","data-v-f8680189"]]),vE={key:0,id:"start-tip"},yE=Mt({__name:"App",setup(r){const i=Z(!1),n=Z(!1),s=Z(!1),u=Z(!1),c=Z(!1),l=Z(!1),p=Z(""),m=Z("easy");Vn(s,async F=>{var I;if(F===!0){if(((I=localStorage.getItem("@mutate:played"))!=null?I:"false")==="false"){localStorage.setItem("@mutate:played","true"),s.value=!1;const j=new bn,[B,U]=Ps(Tr.value);j.add(q=>{U.gain.value=(700-q)/700}),await Dt.sleep(700),j.destroy(),B.stop(),u.value=!0}i.value=!1}const O=document.getElementById("game");O.style.border="1px solid #fff"}),Ty("select",s),Te(()=>{const F=document.getElementById("game"),O=document.getElementById("start-tip");window.innerHeight>window.innerWidth&&(F.style.transform="rotate(90deg)",F.style.width="95vh",F.style.height="95vw"),O.style.opacity="1",F.addEventListener("touchmove",I=>I.preventDefault())});function h(){if(n.value)return;const F=document.getElementById("start-tip");F.style.opacity="0",F.addEventListener("transitionend",()=>{i.value=!0,n.value=!0})}function _(F){const{music:O,hard:I}=F;c.value=!0,s.value=!1,l.value=F.auto,p.value=O,m.value=I}function v(){s.value=!1,u.value=!0}function b(){u.value=!1,s.value=!0}function A(){c.value=!1,s.value=!0}return(F,O)=>(st(),wt("div",{id:"game",onClick:h},[n.value?Gt("",!0):(st(),wt("span",vE,"\u70B9\u51FB\u4EE5\u52A0\u8F7D\u6E38\u620F")),i.value?(st(),me(Dw,{key:1})):Gt("",!0),s.value?(st(),me(ob,{key:2,onStart:_,onSetting:v})):Gt("",!0),c.value?(st(),me(Nb,{key:3,auto:l.value,song:p.value,hard:m.value,onExit:A},null,8,["auto","song","hard"])):Gt("",!0),u.value?(st(),me(gE,{key:4,onExit:b})):Gt("",!0)]))}});const _E=zt(yE,[["__scopeId","data-v-d9680ef0"]]);Sy(_E).mount("#app");export{wE as __vite_legacy_guard};
