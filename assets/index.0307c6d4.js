import{r as K,d as Vt,i as oy,o as Se,a as et,c as yt,b as z,e as Lt,F as Fi,_ as bl,p as Po,f as Io,g as H,h as Oi,w as Ri,j as vt,k as To,u as L,l as Rc,n as mt,M as xl,m as qn,q as ae,s as oe,t as ft,v as El,x as ay,S as uy,y as Al,C as cy,B as No,z as ly,U as fy,A as hy,P as dy,L as Tl,R as py,D as my,E as gy,G as Sl,H as Fl,I as Cl,J as vy,K as yy,N as _y,O as wy,Q as by,T as xy,V as Ey,W as Ay}from"./antdv.c4582f96.js";function fx(){import("data:text/javascript,")}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function n(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerpolicy&&(c.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?c.credentials="include":u.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(u){if(u.ep)return;u.ep=!0;const c=n(u);fetch(u.href,c)}})();function kl(r,i){return function(){return r.apply(i,arguments)}}const{toString:Bl}=Object.prototype,{getPrototypeOf:Mo}=Object,Lo=(r=>i=>{const n=Bl.call(i);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),qe=r=>(r=r.toLowerCase(),i=>Lo(i)===r),ji=r=>i=>typeof i===r,{isArray:Ar}=Array,So=ji("undefined");function Ty(r){return r!==null&&!So(r)&&r.constructor!==null&&!So(r.constructor)&&Kn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Ol=qe("ArrayBuffer");function Sy(r){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(r):i=r&&r.buffer&&Ol(r.buffer),i}const Fy=ji("string"),Kn=ji("function"),Rl=ji("number"),jl=r=>r!==null&&typeof r=="object",Cy=r=>r===!0||r===!1,xi=r=>{if(Lo(r)!=="object")return!1;const i=Mo(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},ky=qe("Date"),By=qe("File"),Oy=qe("Blob"),Ry=qe("FileList"),jy=r=>jl(r)&&Kn(r.pipe),Dy=r=>{const i="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||Bl.call(r)===i||Kn(r.toString)&&r.toString()===i)},$y=qe("URLSearchParams"),Py=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Di(r,i,{allOwnKeys:n=!1}={}){if(r===null||typeof r>"u")return;let o,u;if(typeof r!="object"&&(r=[r]),Ar(r))for(o=0,u=r.length;o<u;o++)i.call(null,r[o],o,r);else{const c=n?Object.getOwnPropertyNames(r):Object.keys(r),f=c.length;let p;for(o=0;o<f;o++)p=c[o],i.call(null,r[p],p,r)}}function Fo(){const r={},i=(n,o)=>{xi(r[o])&&xi(n)?r[o]=Fo(r[o],n):xi(n)?r[o]=Fo({},n):Ar(n)?r[o]=n.slice():r[o]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Di(arguments[n],i);return r}const Iy=(r,i,n,{allOwnKeys:o}={})=>(Di(i,(u,c)=>{n&&Kn(u)?r[c]=kl(u,n):r[c]=u},{allOwnKeys:o}),r),Ny=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),My=(r,i,n,o)=>{r.prototype=Object.create(i.prototype,o),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:i.prototype}),n&&Object.assign(r.prototype,n)},Ly=(r,i,n,o)=>{let u,c,f;const p={};if(i=i||{},r==null)return i;do{for(u=Object.getOwnPropertyNames(r),c=u.length;c-- >0;)f=u[c],(!o||o(f,r,i))&&!p[f]&&(i[f]=r[f],p[f]=!0);r=n!==!1&&Mo(r)}while(r&&(!n||n(r,i))&&r!==Object.prototype);return i},Uy=(r,i,n)=>{r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=i.length;const o=r.indexOf(i,n);return o!==-1&&o===n},zy=r=>{if(!r)return null;if(Ar(r))return r;let i=r.length;if(!Rl(i))return null;const n=new Array(i);for(;i-- >0;)n[i]=r[i];return n},Wy=(r=>i=>r&&i instanceof r)(typeof Uint8Array<"u"&&Mo(Uint8Array)),Hy=(r,i)=>{const o=(r&&r[Symbol.iterator]).call(r);let u;for(;(u=o.next())&&!u.done;){const c=u.value;i.call(r,c[0],c[1])}},Vy=(r,i)=>{let n;const o=[];for(;(n=r.exec(i))!==null;)o.push(n);return o},qy=qe("HTMLFormElement"),Ky=r=>r.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,o,u){return o.toUpperCase()+u}),jc=(({hasOwnProperty:r})=>(i,n)=>r.call(i,n))(Object.prototype),Jy=qe("RegExp"),Dl=(r,i)=>{const n=Object.getOwnPropertyDescriptors(r),o={};Di(n,(u,c)=>{i(u,c,r)!==!1&&(o[c]=u)}),Object.defineProperties(r,o)},Yy=r=>{Dl(r,(i,n)=>{const o=r[n];if(!!Kn(o)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not read-only method '"+n+"'")})}})},Xy=(r,i)=>{const n={},o=u=>{u.forEach(c=>{n[c]=!0})};return Ar(r)?o(r):o(String(r).split(i)),n},Gy=()=>{},Qy=(r,i)=>(r=+r,Number.isFinite(r)?r:i),O={isArray:Ar,isArrayBuffer:Ol,isBuffer:Ty,isFormData:Dy,isArrayBufferView:Sy,isString:Fy,isNumber:Rl,isBoolean:Cy,isObject:jl,isPlainObject:xi,isUndefined:So,isDate:ky,isFile:By,isBlob:Oy,isRegExp:Jy,isFunction:Kn,isStream:jy,isURLSearchParams:$y,isTypedArray:Wy,isFileList:Ry,forEach:Di,merge:Fo,extend:Iy,trim:Py,stripBOM:Ny,inherits:My,toFlatObject:Ly,kindOf:Lo,kindOfTest:qe,endsWith:Uy,toArray:zy,forEachEntry:Hy,matchAll:Vy,isHTMLForm:qy,hasOwnProperty:jc,hasOwnProp:jc,reduceDescriptors:Dl,freezeMethods:Yy,toObjectSet:Xy,toCamelCase:Ky,noop:Gy,toFiniteNumber:Qy};function ut(r,i,n,o,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",i&&(this.code=i),n&&(this.config=n),o&&(this.request=o),u&&(this.response=u)}O.inherits(ut,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const $l=ut.prototype,Pl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Pl[r]={value:r}});Object.defineProperties(ut,Pl);Object.defineProperty($l,"isAxiosError",{value:!0});ut.from=(r,i,n,o,u,c)=>{const f=Object.create($l);return O.toFlatObject(r,f,function(g){return g!==Error.prototype},p=>p!=="isAxiosError"),ut.call(f,r.message,i,n,o,u),f.cause=r,f.name=r.name,c&&Object.assign(f,c),f};var Zy=typeof self=="object"?self.FormData:window.FormData;function Co(r){return O.isPlainObject(r)||O.isArray(r)}function Il(r){return O.endsWith(r,"[]")?r.slice(0,-2):r}function Dc(r,i,n){return r?r.concat(i).map(function(u,c){return u=Il(u),!n&&c?"["+u+"]":u}).join(n?".":""):i}function t1(r){return O.isArray(r)&&!r.some(Co)}const e1=O.toFlatObject(O,{},null,function(i){return/^is[A-Z]/.test(i)});function n1(r){return r&&O.isFunction(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator]}function $i(r,i,n){if(!O.isObject(r))throw new TypeError("target must be an object");i=i||new(Zy||FormData),n=O.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,I){return!O.isUndefined(I[D])});const o=n.metaTokens,u=n.visitor||w,c=n.dots,f=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&n1(i);if(!O.isFunction(u))throw new TypeError("visitor must be a function");function m(F){if(F===null)return"";if(O.isDate(F))return F.toISOString();if(!g&&O.isBlob(F))throw new ut("Blob is not supported. Use a Buffer instead.");return O.isArrayBuffer(F)||O.isTypedArray(F)?g&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function w(F,D,I){let j=F;if(F&&!I&&typeof F=="object"){if(O.endsWith(D,"{}"))D=o?D:D.slice(0,-2),F=JSON.stringify(F);else if(O.isArray(F)&&t1(F)||O.isFileList(F)||O.endsWith(D,"[]")&&(j=O.toArray(F)))return D=Il(D),j.forEach(function($,Z){!O.isUndefined($)&&i.append(f===!0?Dc([D],Z,c):f===null?D:D+"[]",m($))}),!1}return Co(F)?!0:(i.append(Dc(I,D,c),m(F)),!1)}const y=[],E=Object.assign(e1,{defaultVisitor:w,convertValue:m,isVisitable:Co});function A(F,D){if(!O.isUndefined(F)){if(y.indexOf(F)!==-1)throw Error("Circular reference detected in "+D.join("."));y.push(F),O.forEach(F,function(j,P){(!O.isUndefined(j)&&u.call(i,j,O.isString(P)?P.trim():P,D,E))===!0&&A(j,D?D.concat(P):[P])}),y.pop()}}if(!O.isObject(r))throw new TypeError("data must be an object");return A(r),i}function $c(r){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(o){return i[o]})}function Uo(r,i){this._pairs=[],r&&$i(r,this,i)}const Nl=Uo.prototype;Nl.append=function(i,n){this._pairs.push([i,n])};Nl.toString=function(i){const n=i?function(o){return i.call(this,o,$c)}:$c;return this._pairs.map(function(u){return n(u[0])+"="+n(u[1])},"").join("&")};function r1(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ml(r,i,n){if(!i)return r;const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o));const u=n&&n.encode||r1,c=O.isURLSearchParams(i)?i.toString():new Uo(i,n).toString(u);return c&&(r+=(r.indexOf("?")===-1?"?":"&")+c),r}class Pc{constructor(){this.handlers=[]}use(i,n,o){return this.handlers.push({fulfilled:i,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){O.forEach(this.handlers,function(o){o!==null&&i(o)})}}const Ll={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},i1=typeof URLSearchParams<"u"?URLSearchParams:Uo,s1=FormData,o1=(()=>{let r;return typeof navigator<"u"&&((r=navigator.product)==="ReactNative"||r==="NativeScript"||r==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Ve={isBrowser:!0,classes:{URLSearchParams:i1,FormData:s1,Blob},isStandardBrowserEnv:o1,protocols:["http","https","file","blob","url","data"]};function a1(r,i){return $i(r,new Ve.classes.URLSearchParams,Object.assign({visitor:function(n,o,u,c){return Ve.isNode&&O.isBuffer(n)?(this.append(o,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},i))}function u1(r){return O.matchAll(/\w+|\[(\w*)]/g,r).map(i=>i[0]==="[]"?"":i[1]||i[0])}function c1(r){const i={},n=Object.keys(r);let o;const u=n.length;let c;for(o=0;o<u;o++)c=n[o],i[c]=r[c];return i}function Ul(r){function i(n,o,u,c){let f=n[c++];const p=Number.isFinite(+f),g=c>=n.length;return f=!f&&O.isArray(u)?u.length:f,g?(O.hasOwnProp(u,f)?u[f]=[u[f],o]:u[f]=o,!p):((!u[f]||!O.isObject(u[f]))&&(u[f]=[]),i(n,o,u[f],c)&&O.isArray(u[f])&&(u[f]=c1(u[f])),!p)}if(O.isFormData(r)&&O.isFunction(r.entries)){const n={};return O.forEachEntry(r,(o,u)=>{i(u1(o),u,n,0)}),n}return null}function l1(r,i,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?r(n):i(new ut("Request failed with status code "+n.status,[ut.ERR_BAD_REQUEST,ut.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const f1=Ve.isStandardBrowserEnv?function(){return{write:function(n,o,u,c,f,p){const g=[];g.push(n+"="+encodeURIComponent(o)),O.isNumber(u)&&g.push("expires="+new Date(u).toGMTString()),O.isString(c)&&g.push("path="+c),O.isString(f)&&g.push("domain="+f),p===!0&&g.push("secure"),document.cookie=g.join("; ")},read:function(n){const o=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function h1(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function d1(r,i){return i?r.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):r}function zl(r,i){return r&&!h1(i)?d1(r,i):i}const p1=Ve.isStandardBrowserEnv?function(){const i=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let o;function u(c){let f=c;return i&&(n.setAttribute("href",f),f=n.href),n.setAttribute("href",f),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return o=u(window.location.href),function(f){const p=O.isString(f)?u(f):f;return p.protocol===o.protocol&&p.host===o.host}}():function(){return function(){return!0}}();function Tr(r,i,n){ut.call(this,r==null?"canceled":r,ut.ERR_CANCELED,i,n),this.name="CanceledError"}O.inherits(Tr,ut,{__CANCEL__:!0});function m1(r){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return i&&i[1]||""}const g1=O.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),v1=r=>{const i={};let n,o,u;return r&&r.split(`
`).forEach(function(f){u=f.indexOf(":"),n=f.substring(0,u).trim().toLowerCase(),o=f.substring(u+1).trim(),!(!n||i[n]&&g1[n])&&(n==="set-cookie"?i[n]?i[n].push(o):i[n]=[o]:i[n]=i[n]?i[n]+", "+o:o)}),i},Ic=Symbol("internals"),Wl=Symbol("defaults");function br(r){return r&&String(r).trim().toLowerCase()}function bi(r){return r===!1||r==null?r:String(r)}function y1(r){const i=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(r);)i[o[1]]=o[2];return i}function Nc(r,i,n,o){if(O.isFunction(o))return o.call(this,i,n);if(!!O.isString(i)){if(O.isString(o))return i.indexOf(o)!==-1;if(O.isRegExp(o))return o.test(i)}}function _1(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,n,o)=>n.toUpperCase()+o)}function w1(r,i){const n=O.toCamelCase(" "+i);["get","set","has"].forEach(o=>{Object.defineProperty(r,o+n,{value:function(u,c,f){return this[o].call(this,i,u,c,f)},configurable:!0})})}function yr(r,i){i=i.toLowerCase();const n=Object.keys(r);let o=n.length,u;for(;o-- >0;)if(u=n[o],i===u.toLowerCase())return u;return null}function ge(r,i){r&&this.set(r),this[Wl]=i||null}Object.assign(ge.prototype,{set:function(r,i,n){const o=this;function u(c,f,p){const g=br(f);if(!g)throw new Error("header name must be a non-empty string");const m=yr(o,g);m&&p!==!0&&(o[m]===!1||p===!1)||(O.isArray(c)?c=c.map(bi):c=bi(c),o[m||f]=c)}return O.isPlainObject(r)?O.forEach(r,(c,f)=>{u(c,f,i)}):u(i,r,n),this},get:function(r,i){if(r=br(r),!r)return;const n=yr(this,r);if(n){const o=this[n];if(!i)return o;if(i===!0)return y1(o);if(O.isFunction(i))return i.call(this,o,n);if(O.isRegExp(i))return i.exec(o);throw new TypeError("parser must be boolean|regexp|function")}},has:function(r,i){if(r=br(r),r){const n=yr(this,r);return!!(n&&(!i||Nc(this,this[n],n,i)))}return!1},delete:function(r,i){const n=this;let o=!1;function u(c){if(c=br(c),c){const f=yr(n,c);f&&(!i||Nc(n,n[f],f,i))&&(delete n[f],o=!0)}}return O.isArray(r)?r.forEach(u):u(r),o},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(r){const i=this,n={};return O.forEach(this,(o,u)=>{const c=yr(n,u);if(c){i[c]=bi(o),delete i[u];return}const f=r?_1(u):String(u).trim();f!==u&&delete i[u],i[f]=bi(o),n[f]=!0}),this},toJSON:function(){const r=Object.create(null);return O.forEach(Object.assign({},this[Wl]||null,this),(i,n)=>{i==null||i===!1||(r[n]=O.isArray(i)?i.join(", "):i)}),r}});Object.assign(ge,{from:function(r){return O.isString(r)?new this(v1(r)):r instanceof this?r:new this(r)},accessor:function(r){const n=(this[Ic]=this[Ic]={accessors:{}}).accessors,o=this.prototype;function u(c){const f=br(c);n[f]||(w1(o,c),n[f]=!0)}return O.isArray(r)?r.forEach(u):u(r),this}});ge.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);O.freezeMethods(ge.prototype);O.freezeMethods(ge);function b1(r,i){r=r||10;const n=new Array(r),o=new Array(r);let u=0,c=0,f;return i=i!==void 0?i:1e3,function(g){const m=Date.now(),w=o[c];f||(f=m),n[u]=g,o[u]=m;let y=c,E=0;for(;y!==u;)E+=n[y++],y=y%r;if(u=(u+1)%r,u===c&&(c=(c+1)%r),m-f<i)return;const A=w&&m-w;return A?Math.round(E*1e3/A):void 0}}function Mc(r,i){let n=0;const o=b1(50,250);return u=>{const c=u.loaded,f=u.lengthComputable?u.total:void 0,p=c-n,g=o(p),m=c<=f;n=c;const w={loaded:c,total:f,progress:f?c/f:void 0,bytes:p,rate:g||void 0,estimated:g&&f&&m?(f-c)/g:void 0};w[i?"download":"upload"]=!0,r(w)}}function Lc(r){return new Promise(function(n,o){let u=r.data;const c=ge.from(r.headers).normalize(),f=r.responseType;let p;function g(){r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}O.isFormData(u)&&Ve.isStandardBrowserEnv&&c.setContentType(!1);let m=new XMLHttpRequest;if(r.auth){const A=r.auth.username||"",F=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";c.set("Authorization","Basic "+btoa(A+":"+F))}const w=zl(r.baseURL,r.url);m.open(r.method.toUpperCase(),Ml(w,r.params,r.paramsSerializer),!0),m.timeout=r.timeout;function y(){if(!m)return;const A=ge.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),D={data:!f||f==="text"||f==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:A,config:r,request:m};l1(function(j){n(j),g()},function(j){o(j),g()},D),m=null}if("onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(y)},m.onabort=function(){!m||(o(new ut("Request aborted",ut.ECONNABORTED,r,m)),m=null)},m.onerror=function(){o(new ut("Network Error",ut.ERR_NETWORK,r,m)),m=null},m.ontimeout=function(){let F=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const D=r.transitional||Ll;r.timeoutErrorMessage&&(F=r.timeoutErrorMessage),o(new ut(F,D.clarifyTimeoutError?ut.ETIMEDOUT:ut.ECONNABORTED,r,m)),m=null},Ve.isStandardBrowserEnv){const A=(r.withCredentials||p1(w))&&r.xsrfCookieName&&f1.read(r.xsrfCookieName);A&&c.set(r.xsrfHeaderName,A)}u===void 0&&c.setContentType(null),"setRequestHeader"in m&&O.forEach(c.toJSON(),function(F,D){m.setRequestHeader(D,F)}),O.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),f&&f!=="json"&&(m.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&m.addEventListener("progress",Mc(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",Mc(r.onUploadProgress)),(r.cancelToken||r.signal)&&(p=A=>{!m||(o(!A||A.type?new Tr(null,r,m):A),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const E=m1(w);if(E&&Ve.protocols.indexOf(E)===-1){o(new ut("Unsupported protocol "+E+":",ut.ERR_BAD_REQUEST,r));return}m.send(u||null)})}const Uc={http:Lc,xhr:Lc},zc={getAdapter:r=>{if(O.isString(r)){const i=Uc[r];if(!r)throw Error(O.hasOwnProp(r)?`Adapter '${r}' is not available in the build`:`Can not resolve adapter '${r}'`);return i}if(!O.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Uc},x1={"Content-Type":"application/x-www-form-urlencoded"};function E1(){let r;return typeof XMLHttpRequest<"u"?r=zc.getAdapter("xhr"):typeof process<"u"&&O.kindOf(process)==="process"&&(r=zc.getAdapter("http")),r}function A1(r,i,n){if(O.isString(r))try{return(i||JSON.parse)(r),O.trim(r)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(r)}const Jn={transitional:Ll,adapter:E1(),transformRequest:[function(i,n){const o=n.getContentType()||"",u=o.indexOf("application/json")>-1,c=O.isObject(i);if(c&&O.isHTMLForm(i)&&(i=new FormData(i)),O.isFormData(i))return u&&u?JSON.stringify(Ul(i)):i;if(O.isArrayBuffer(i)||O.isBuffer(i)||O.isStream(i)||O.isFile(i)||O.isBlob(i))return i;if(O.isArrayBufferView(i))return i.buffer;if(O.isURLSearchParams(i))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let p;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return a1(i,this.formSerializer).toString();if((p=O.isFileList(i))||o.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return $i(p?{"files[]":i}:i,g&&new g,this.formSerializer)}}return c||u?(n.setContentType("application/json",!1),A1(i)):i}],transformResponse:[function(i){const n=this.transitional||Jn.transitional,o=n&&n.forcedJSONParsing,u=this.responseType==="json";if(i&&O.isString(i)&&(o&&!this.responseType||u)){const f=!(n&&n.silentJSONParsing)&&u;try{return JSON.parse(i)}catch(p){if(f)throw p.name==="SyntaxError"?ut.from(p,ut.ERR_BAD_RESPONSE,this,null,this.response):p}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ve.classes.FormData,Blob:Ve.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};O.forEach(["delete","get","head"],function(i){Jn.headers[i]={}});O.forEach(["post","put","patch"],function(i){Jn.headers[i]=O.merge(x1)});function lo(r,i){const n=this||Jn,o=i||n,u=ge.from(o.headers);let c=o.data;return O.forEach(r,function(p){c=p.call(n,c,u.normalize(),i?i.status:void 0)}),u.normalize(),c}function Hl(r){return!!(r&&r.__CANCEL__)}function fo(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Tr}function Wc(r){return fo(r),r.headers=ge.from(r.headers),r.data=lo.call(r,r.transformRequest),(r.adapter||Jn.adapter)(r).then(function(o){return fo(r),o.data=lo.call(r,r.transformResponse,o),o.headers=ge.from(o.headers),o},function(o){return Hl(o)||(fo(r),o&&o.response&&(o.response.data=lo.call(r,r.transformResponse,o.response),o.response.headers=ge.from(o.response.headers))),Promise.reject(o)})}function xr(r,i){i=i||{};const n={};function o(m,w){return O.isPlainObject(m)&&O.isPlainObject(w)?O.merge(m,w):O.isPlainObject(w)?O.merge({},w):O.isArray(w)?w.slice():w}function u(m){if(O.isUndefined(i[m])){if(!O.isUndefined(r[m]))return o(void 0,r[m])}else return o(r[m],i[m])}function c(m){if(!O.isUndefined(i[m]))return o(void 0,i[m])}function f(m){if(O.isUndefined(i[m])){if(!O.isUndefined(r[m]))return o(void 0,r[m])}else return o(void 0,i[m])}function p(m){if(m in i)return o(r[m],i[m]);if(m in r)return o(void 0,r[m])}const g={url:c,method:c,data:c,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:p};return O.forEach(Object.keys(r).concat(Object.keys(i)),function(w){const y=g[w]||u,E=y(w);O.isUndefined(E)&&y!==p||(n[w]=E)}),n}const Vl="1.1.2",zo={};["object","boolean","number","function","string","symbol"].forEach((r,i)=>{zo[r]=function(o){return typeof o===r||"a"+(i<1?"n ":" ")+r}});const Hc={};zo.transitional=function(i,n,o){function u(c,f){return"[Axios v"+Vl+"] Transitional option '"+c+"'"+f+(o?". "+o:"")}return(c,f,p)=>{if(i===!1)throw new ut(u(f," has been removed"+(n?" in "+n:"")),ut.ERR_DEPRECATED);return n&&!Hc[f]&&(Hc[f]=!0,console.warn(u(f," has been deprecated since v"+n+" and will be removed in the near future"))),i?i(c,f,p):!0}};function T1(r,i,n){if(typeof r!="object")throw new ut("options must be an object",ut.ERR_BAD_OPTION_VALUE);const o=Object.keys(r);let u=o.length;for(;u-- >0;){const c=o[u],f=i[c];if(f){const p=r[c],g=p===void 0||f(p,c,r);if(g!==!0)throw new ut("option "+c+" must be "+g,ut.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ut("Unknown option "+c,ut.ERR_BAD_OPTION)}}const ql={assertOptions:T1,validators:zo},Ln=ql.validators;class _n{constructor(i){this.defaults=i,this.interceptors={request:new Pc,response:new Pc}}request(i,n){typeof i=="string"?(n=n||{},n.url=i):n=i||{},n=xr(this.defaults,n);const o=n.transitional;o!==void 0&&ql.assertOptions(o,{silentJSONParsing:Ln.transitional(Ln.boolean),forcedJSONParsing:Ln.transitional(Ln.boolean),clarifyTimeoutError:Ln.transitional(Ln.boolean)},!1),n.method=(n.method||this.defaults.method||"get").toLowerCase();const u=n.headers&&O.merge(n.headers.common,n.headers[n.method]);u&&O.forEach(["delete","get","head","post","put","patch","common"],function(A){delete n.headers[A]}),n.headers=new ge(n.headers,u);const c=[];let f=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(n)===!1||(f=f&&A.synchronous,c.unshift(A.fulfilled,A.rejected))});const p=[];this.interceptors.response.forEach(function(A){p.push(A.fulfilled,A.rejected)});let g,m=0,w;if(!f){const E=[Wc.bind(this),void 0];for(E.unshift.apply(E,c),E.push.apply(E,p),w=E.length,g=Promise.resolve(n);m<w;)g=g.then(E[m++],E[m++]);return g}w=c.length;let y=n;for(m=0;m<w;){const E=c[m++],A=c[m++];try{y=E(y)}catch(F){A.call(this,F);break}}try{g=Wc.call(this,y)}catch(E){return Promise.reject(E)}for(m=0,w=p.length;m<w;)g=g.then(p[m++],p[m++]);return g}getUri(i){i=xr(this.defaults,i);const n=zl(i.baseURL,i.url);return Ml(n,i.params,i.paramsSerializer)}}O.forEach(["delete","get","head","options"],function(i){_n.prototype[i]=function(n,o){return this.request(xr(o||{},{method:i,url:n,data:(o||{}).data}))}});O.forEach(["post","put","patch"],function(i){function n(o){return function(c,f,p){return this.request(xr(p||{},{method:i,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:f}))}}_n.prototype[i]=n(),_n.prototype[i+"Form"]=n(!0)});class Wo{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const o=this;this.promise.then(u=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](u);o._listeners=null}),this.promise.then=u=>{let c;const f=new Promise(p=>{o.subscribe(p),c=p}).then(u);return f.cancel=function(){o.unsubscribe(c)},f},i(function(c,f,p){o.reason||(o.reason=new Tr(c,f,p),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const n=this._listeners.indexOf(i);n!==-1&&this._listeners.splice(n,1)}static source(){let i;return{token:new Wo(function(u){i=u}),cancel:i}}}function S1(r){return function(n){return r.apply(null,n)}}function F1(r){return O.isObject(r)&&r.isAxiosError===!0}function Kl(r){const i=new _n(r),n=kl(_n.prototype.request,i);return O.extend(n,_n.prototype,i,{allOwnKeys:!0}),O.extend(n,i,null,{allOwnKeys:!0}),n.create=function(u){return Kl(xr(r,u))},n}const Bt=Kl(Jn);Bt.Axios=_n;Bt.CanceledError=Tr;Bt.CancelToken=Wo;Bt.isCancel=Hl;Bt.VERSION=Vl;Bt.toFormData=$i;Bt.AxiosError=ut;Bt.Cancel=Bt.CanceledError;Bt.all=function(i){return Promise.all(i)};Bt.spread=S1;Bt.isAxiosError=F1;Bt.formToJSON=r=>Ul(O.isHTMLForm(r)?new FormData(r):r);var C1=Object.defineProperty,k1=(r,i,n)=>i in r?C1(r,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[i]=n,T=(r,i,n)=>(k1(r,typeof i!="symbol"?i+"":i,n),n),_r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function B1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ko={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(r,i){(function(){var n,o="4.17.21",u=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",p="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",m=500,w="__lodash_placeholder__",y=1,E=2,A=4,F=1,D=2,I=1,j=2,P=4,$=8,Z=16,ot=32,xt=64,Ut=128,At=256,Dt=512,nt=30,ct="...",je=800,ve=16,Xn=1,Fr=2,Cr=3,De=1/0,Fe=9007199254740991,kr=17976931348623157e292,an=0/0,Qt=4294967295,Ft=Qt-1,Br=Qt>>>1,Gn=[["ary",Ut],["bind",I],["bindKey",j],["curry",$],["curryRight",Z],["flip",Dt],["partial",ot],["partialRight",xt],["rearg",At]],Ce="[object Arguments]",Je="[object Array]",En="[object AsyncFunction]",un="[object Boolean]",cn="[object Date]",zi="[object DOMException]",An="[object Error]",Or="[object Function]",ea="[object GeneratorFunction]",ye="[object Map]",Qn="[object Number]",Ef="[object Null]",$e="[object Object]",na="[object Promise]",Af="[object Proxy]",Zn="[object RegExp]",_e="[object Set]",tr="[object String]",Rr="[object Symbol]",Tf="[object Undefined]",er="[object WeakMap]",Sf="[object WeakSet]",nr="[object ArrayBuffer]",Tn="[object DataView]",Wi="[object Float32Array]",Hi="[object Float64Array]",Vi="[object Int8Array]",qi="[object Int16Array]",Ki="[object Int32Array]",Ji="[object Uint8Array]",Yi="[object Uint8ClampedArray]",Xi="[object Uint16Array]",Gi="[object Uint32Array]",Ff=/\b__p \+= '';/g,Cf=/\b(__p \+=) '' \+/g,kf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ra=/&(?:amp|lt|gt|quot|#39);/g,ia=/[&<>"']/g,Bf=RegExp(ra.source),Of=RegExp(ia.source),Rf=/<%-([\s\S]+?)%>/g,jf=/<%([\s\S]+?)%>/g,sa=/<%=([\s\S]+?)%>/g,Df=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$f=/^\w*$/,Pf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qi=/[\\^$.*+?()[\]{}|]/g,If=RegExp(Qi.source),Zi=/^\s+/,Nf=/\s/,Mf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Lf=/\{\n\/\* \[wrapped with (.+)\] \*/,Uf=/,? & /,zf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wf=/[()=,{}\[\]\/\s]/,Hf=/\\(\\)?/g,Vf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,oa=/\w*$/,qf=/^[-+]0x[0-9a-f]+$/i,Kf=/^0b[01]+$/i,Jf=/^\[object .+?Constructor\]$/,Yf=/^0o[0-7]+$/i,Xf=/^(?:0|[1-9]\d*)$/,Gf=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jr=/($^)/,Qf=/['\n\r\u2028\u2029\\]/g,Dr="\\ud800-\\udfff",Zf="\\u0300-\\u036f",th="\\ufe20-\\ufe2f",eh="\\u20d0-\\u20ff",aa=Zf+th+eh,ua="\\u2700-\\u27bf",ca="a-z\\xdf-\\xf6\\xf8-\\xff",nh="\\xac\\xb1\\xd7\\xf7",rh="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ih="\\u2000-\\u206f",sh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",la="A-Z\\xc0-\\xd6\\xd8-\\xde",fa="\\ufe0e\\ufe0f",ha=nh+rh+ih+sh,ts="['\u2019]",oh="["+Dr+"]",da="["+ha+"]",$r="["+aa+"]",pa="\\d+",ah="["+ua+"]",ma="["+ca+"]",ga="[^"+Dr+ha+pa+ua+ca+la+"]",es="\\ud83c[\\udffb-\\udfff]",uh="(?:"+$r+"|"+es+")",va="[^"+Dr+"]",ns="(?:\\ud83c[\\udde6-\\uddff]){2}",rs="[\\ud800-\\udbff][\\udc00-\\udfff]",Sn="["+la+"]",ya="\\u200d",_a="(?:"+ma+"|"+ga+")",ch="(?:"+Sn+"|"+ga+")",wa="(?:"+ts+"(?:d|ll|m|re|s|t|ve))?",ba="(?:"+ts+"(?:D|LL|M|RE|S|T|VE))?",xa=uh+"?",Ea="["+fa+"]?",lh="(?:"+ya+"(?:"+[va,ns,rs].join("|")+")"+Ea+xa+")*",fh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Aa=Ea+xa+lh,dh="(?:"+[ah,ns,rs].join("|")+")"+Aa,ph="(?:"+[va+$r+"?",$r,ns,rs,oh].join("|")+")",mh=RegExp(ts,"g"),gh=RegExp($r,"g"),is=RegExp(es+"(?="+es+")|"+ph+Aa,"g"),vh=RegExp([Sn+"?"+ma+"+"+wa+"(?="+[da,Sn,"$"].join("|")+")",ch+"+"+ba+"(?="+[da,Sn+_a,"$"].join("|")+")",Sn+"?"+_a+"+"+wa,Sn+"+"+ba,hh,fh,pa,dh].join("|"),"g"),yh=RegExp("["+ya+Dr+aa+fa+"]"),_h=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bh=-1,_t={};_t[Wi]=_t[Hi]=_t[Vi]=_t[qi]=_t[Ki]=_t[Ji]=_t[Yi]=_t[Xi]=_t[Gi]=!0,_t[Ce]=_t[Je]=_t[nr]=_t[un]=_t[Tn]=_t[cn]=_t[An]=_t[Or]=_t[ye]=_t[Qn]=_t[$e]=_t[Zn]=_t[_e]=_t[tr]=_t[er]=!1;var gt={};gt[Ce]=gt[Je]=gt[nr]=gt[Tn]=gt[un]=gt[cn]=gt[Wi]=gt[Hi]=gt[Vi]=gt[qi]=gt[Ki]=gt[ye]=gt[Qn]=gt[$e]=gt[Zn]=gt[_e]=gt[tr]=gt[Rr]=gt[Ji]=gt[Yi]=gt[Xi]=gt[Gi]=!0,gt[An]=gt[Or]=gt[er]=!1;var xh={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Eh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ah={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Th={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Sh=parseFloat,Fh=parseInt,Ta=typeof _r=="object"&&_r&&_r.Object===Object&&_r,Ch=typeof self=="object"&&self&&self.Object===Object&&self,$t=Ta||Ch||Function("return this")(),ss=i&&!i.nodeType&&i,ln=ss&&!0&&r&&!r.nodeType&&r,Sa=ln&&ln.exports===ss,os=Sa&&Ta.process,ue=function(){try{var b=ln&&ln.require&&ln.require("util").types;return b||os&&os.binding&&os.binding("util")}catch(C){}}(),Fa=ue&&ue.isArrayBuffer,Ca=ue&&ue.isDate,ka=ue&&ue.isMap,Ba=ue&&ue.isRegExp,Oa=ue&&ue.isSet,Ra=ue&&ue.isTypedArray;function Zt(b,C,S){switch(S.length){case 0:return b.call(C);case 1:return b.call(C,S[0]);case 2:return b.call(C,S[0],S[1]);case 3:return b.call(C,S[0],S[1],S[2])}return b.apply(C,S)}function kh(b,C,S,M){for(var J=-1,lt=b==null?0:b.length;++J<lt;){var Ct=b[J];C(M,Ct,S(Ct),b)}return M}function ce(b,C){for(var S=-1,M=b==null?0:b.length;++S<M&&C(b[S],S,b)!==!1;);return b}function Bh(b,C){for(var S=b==null?0:b.length;S--&&C(b[S],S,b)!==!1;);return b}function ja(b,C){for(var S=-1,M=b==null?0:b.length;++S<M;)if(!C(b[S],S,b))return!1;return!0}function Ye(b,C){for(var S=-1,M=b==null?0:b.length,J=0,lt=[];++S<M;){var Ct=b[S];C(Ct,S,b)&&(lt[J++]=Ct)}return lt}function Pr(b,C){var S=b==null?0:b.length;return!!S&&Fn(b,C,0)>-1}function as(b,C,S){for(var M=-1,J=b==null?0:b.length;++M<J;)if(S(C,b[M]))return!0;return!1}function wt(b,C){for(var S=-1,M=b==null?0:b.length,J=Array(M);++S<M;)J[S]=C(b[S],S,b);return J}function Xe(b,C){for(var S=-1,M=C.length,J=b.length;++S<M;)b[J+S]=C[S];return b}function us(b,C,S,M){var J=-1,lt=b==null?0:b.length;for(M&&lt&&(S=b[++J]);++J<lt;)S=C(S,b[J],J,b);return S}function Oh(b,C,S,M){var J=b==null?0:b.length;for(M&&J&&(S=b[--J]);J--;)S=C(S,b[J],J,b);return S}function cs(b,C){for(var S=-1,M=b==null?0:b.length;++S<M;)if(C(b[S],S,b))return!0;return!1}var Rh=ls("length");function jh(b){return b.split("")}function Dh(b){return b.match(zf)||[]}function Da(b,C,S){var M;return S(b,function(J,lt,Ct){if(C(J,lt,Ct))return M=lt,!1}),M}function Ir(b,C,S,M){for(var J=b.length,lt=S+(M?1:-1);M?lt--:++lt<J;)if(C(b[lt],lt,b))return lt;return-1}function Fn(b,C,S){return C===C?qh(b,C,S):Ir(b,$a,S)}function $h(b,C,S,M){for(var J=S-1,lt=b.length;++J<lt;)if(M(b[J],C))return J;return-1}function $a(b){return b!==b}function Pa(b,C){var S=b==null?0:b.length;return S?hs(b,C)/S:an}function ls(b){return function(C){return C==null?n:C[b]}}function fs(b){return function(C){return b==null?n:b[C]}}function Ia(b,C,S,M,J){return J(b,function(lt,Ct,pt){S=M?(M=!1,lt):C(S,lt,Ct,pt)}),S}function Ph(b,C){var S=b.length;for(b.sort(C);S--;)b[S]=b[S].value;return b}function hs(b,C){for(var S,M=-1,J=b.length;++M<J;){var lt=C(b[M]);lt!==n&&(S=S===n?lt:S+lt)}return S}function ds(b,C){for(var S=-1,M=Array(b);++S<b;)M[S]=C(S);return M}function Ih(b,C){return wt(C,function(S){return[S,b[S]]})}function Na(b){return b&&b.slice(0,za(b)+1).replace(Zi,"")}function te(b){return function(C){return b(C)}}function ps(b,C){return wt(C,function(S){return b[S]})}function rr(b,C){return b.has(C)}function Ma(b,C){for(var S=-1,M=b.length;++S<M&&Fn(C,b[S],0)>-1;);return S}function La(b,C){for(var S=b.length;S--&&Fn(C,b[S],0)>-1;);return S}function Nh(b,C){for(var S=b.length,M=0;S--;)b[S]===C&&++M;return M}var Mh=fs(xh),Lh=fs(Eh);function Uh(b){return"\\"+Th[b]}function zh(b,C){return b==null?n:b[C]}function Cn(b){return yh.test(b)}function Wh(b){return _h.test(b)}function Hh(b){for(var C,S=[];!(C=b.next()).done;)S.push(C.value);return S}function ms(b){var C=-1,S=Array(b.size);return b.forEach(function(M,J){S[++C]=[J,M]}),S}function Ua(b,C){return function(S){return b(C(S))}}function Ge(b,C){for(var S=-1,M=b.length,J=0,lt=[];++S<M;){var Ct=b[S];(Ct===C||Ct===w)&&(b[S]=w,lt[J++]=S)}return lt}function Nr(b){var C=-1,S=Array(b.size);return b.forEach(function(M){S[++C]=M}),S}function Vh(b){var C=-1,S=Array(b.size);return b.forEach(function(M){S[++C]=[M,M]}),S}function qh(b,C,S){for(var M=S-1,J=b.length;++M<J;)if(b[M]===C)return M;return-1}function Kh(b,C,S){for(var M=S+1;M--;)if(b[M]===C)return M;return M}function kn(b){return Cn(b)?Yh(b):Rh(b)}function we(b){return Cn(b)?Xh(b):jh(b)}function za(b){for(var C=b.length;C--&&Nf.test(b.charAt(C)););return C}var Jh=fs(Ah);function Yh(b){for(var C=is.lastIndex=0;is.test(b);)++C;return C}function Xh(b){return b.match(is)||[]}function Gh(b){return b.match(vh)||[]}var Qh=function b(C){C=C==null?$t:Bn.defaults($t.Object(),C,Bn.pick($t,wh));var S=C.Array,M=C.Date,J=C.Error,lt=C.Function,Ct=C.Math,pt=C.Object,gs=C.RegExp,Zh=C.String,le=C.TypeError,Mr=S.prototype,td=lt.prototype,On=pt.prototype,Lr=C["__core-js_shared__"],Ur=td.toString,dt=On.hasOwnProperty,ed=0,Wa=function(){var t=/[^.]+$/.exec(Lr&&Lr.keys&&Lr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),zr=On.toString,nd=Ur.call(pt),rd=$t._,id=gs("^"+Ur.call(dt).replace(Qi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wr=Sa?C.Buffer:n,Qe=C.Symbol,Hr=C.Uint8Array,Ha=Wr?Wr.allocUnsafe:n,Vr=Ua(pt.getPrototypeOf,pt),Va=pt.create,qa=On.propertyIsEnumerable,qr=Mr.splice,Ka=Qe?Qe.isConcatSpreadable:n,ir=Qe?Qe.iterator:n,fn=Qe?Qe.toStringTag:n,Kr=function(){try{var t=gn(pt,"defineProperty");return t({},"",{}),t}catch(e){}}(),sd=C.clearTimeout!==$t.clearTimeout&&C.clearTimeout,od=M&&M.now!==$t.Date.now&&M.now,ad=C.setTimeout!==$t.setTimeout&&C.setTimeout,Jr=Ct.ceil,Yr=Ct.floor,vs=pt.getOwnPropertySymbols,ud=Wr?Wr.isBuffer:n,Ja=C.isFinite,cd=Mr.join,ld=Ua(pt.keys,pt),kt=Ct.max,Nt=Ct.min,fd=M.now,hd=C.parseInt,Ya=Ct.random,dd=Mr.reverse,ys=gn(C,"DataView"),sr=gn(C,"Map"),_s=gn(C,"Promise"),Rn=gn(C,"Set"),or=gn(C,"WeakMap"),ar=gn(pt,"create"),Xr=or&&new or,jn={},pd=vn(ys),md=vn(sr),gd=vn(_s),vd=vn(Rn),yd=vn(or),Gr=Qe?Qe.prototype:n,ur=Gr?Gr.valueOf:n,Xa=Gr?Gr.toString:n;function h(t){if(Et(t)&&!Y(t)&&!(t instanceof it)){if(t instanceof fe)return t;if(dt.call(t,"__wrapped__"))return Gu(t)}return new fe(t)}var Dn=function(){function t(){}return function(e){if(!bt(e))return{};if(Va)return Va(e);t.prototype=e;var s=new t;return t.prototype=n,s}}();function Qr(){}function fe(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}h.templateSettings={escape:Rf,evaluate:jf,interpolate:sa,variable:"",imports:{_:h}},h.prototype=Qr.prototype,h.prototype.constructor=h,fe.prototype=Dn(Qr.prototype),fe.prototype.constructor=fe;function it(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Qt,this.__views__=[]}function _d(){var t=new it(this.__wrapped__);return t.__actions__=Kt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Kt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Kt(this.__views__),t}function wd(){if(this.__filtered__){var t=new it(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function bd(){var t=this.__wrapped__.value(),e=this.__dir__,s=Y(t),a=e<0,l=s?t.length:0,d=jp(0,l,this.__views__),v=d.start,_=d.end,x=_-v,k=a?_:v-1,B=this.__iteratees__,R=B.length,N=0,U=Nt(x,this.__takeCount__);if(!s||!a&&l==x&&U==x)return wu(t,this.__actions__);var V=[];t:for(;x--&&N<U;){k+=e;for(var Q=-1,q=t[k];++Q<R;){var rt=B[Q],at=rt.iteratee,re=rt.type,Ht=at(q);if(re==Fr)q=Ht;else if(!Ht){if(re==Xn)continue t;break t}}V[N++]=q}return V}it.prototype=Dn(Qr.prototype),it.prototype.constructor=it;function hn(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var a=t[e];this.set(a[0],a[1])}}function xd(){this.__data__=ar?ar(null):{},this.size=0}function Ed(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ad(t){var e=this.__data__;if(ar){var s=e[t];return s===g?n:s}return dt.call(e,t)?e[t]:n}function Td(t){var e=this.__data__;return ar?e[t]!==n:dt.call(e,t)}function Sd(t,e){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=ar&&e===n?g:e,this}hn.prototype.clear=xd,hn.prototype.delete=Ed,hn.prototype.get=Ad,hn.prototype.has=Td,hn.prototype.set=Sd;function Pe(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var a=t[e];this.set(a[0],a[1])}}function Fd(){this.__data__=[],this.size=0}function Cd(t){var e=this.__data__,s=Zr(e,t);if(s<0)return!1;var a=e.length-1;return s==a?e.pop():qr.call(e,s,1),--this.size,!0}function kd(t){var e=this.__data__,s=Zr(e,t);return s<0?n:e[s][1]}function Bd(t){return Zr(this.__data__,t)>-1}function Od(t,e){var s=this.__data__,a=Zr(s,t);return a<0?(++this.size,s.push([t,e])):s[a][1]=e,this}Pe.prototype.clear=Fd,Pe.prototype.delete=Cd,Pe.prototype.get=kd,Pe.prototype.has=Bd,Pe.prototype.set=Od;function Ie(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var a=t[e];this.set(a[0],a[1])}}function Rd(){this.size=0,this.__data__={hash:new hn,map:new(sr||Pe),string:new hn}}function jd(t){var e=fi(this,t).delete(t);return this.size-=e?1:0,e}function Dd(t){return fi(this,t).get(t)}function $d(t){return fi(this,t).has(t)}function Pd(t,e){var s=fi(this,t),a=s.size;return s.set(t,e),this.size+=s.size==a?0:1,this}Ie.prototype.clear=Rd,Ie.prototype.delete=jd,Ie.prototype.get=Dd,Ie.prototype.has=$d,Ie.prototype.set=Pd;function dn(t){var e=-1,s=t==null?0:t.length;for(this.__data__=new Ie;++e<s;)this.add(t[e])}function Id(t){return this.__data__.set(t,g),this}function Nd(t){return this.__data__.has(t)}dn.prototype.add=dn.prototype.push=Id,dn.prototype.has=Nd;function be(t){var e=this.__data__=new Pe(t);this.size=e.size}function Md(){this.__data__=new Pe,this.size=0}function Ld(t){var e=this.__data__,s=e.delete(t);return this.size=e.size,s}function Ud(t){return this.__data__.get(t)}function zd(t){return this.__data__.has(t)}function Wd(t,e){var s=this.__data__;if(s instanceof Pe){var a=s.__data__;if(!sr||a.length<u-1)return a.push([t,e]),this.size=++s.size,this;s=this.__data__=new Ie(a)}return s.set(t,e),this.size=s.size,this}be.prototype.clear=Md,be.prototype.delete=Ld,be.prototype.get=Ud,be.prototype.has=zd,be.prototype.set=Wd;function Ga(t,e){var s=Y(t),a=!s&&yn(t),l=!s&&!a&&rn(t),d=!s&&!a&&!l&&Nn(t),v=s||a||l||d,_=v?ds(t.length,Zh):[],x=_.length;for(var k in t)(e||dt.call(t,k))&&!(v&&(k=="length"||l&&(k=="offset"||k=="parent")||d&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||Ue(k,x)))&&_.push(k);return _}function Qa(t){var e=t.length;return e?t[Bs(0,e-1)]:n}function Hd(t,e){return hi(Kt(t),pn(e,0,t.length))}function Vd(t){return hi(Kt(t))}function ws(t,e,s){(s!==n&&!xe(t[e],s)||s===n&&!(e in t))&&Ne(t,e,s)}function cr(t,e,s){var a=t[e];(!(dt.call(t,e)&&xe(a,s))||s===n&&!(e in t))&&Ne(t,e,s)}function Zr(t,e){for(var s=t.length;s--;)if(xe(t[s][0],e))return s;return-1}function qd(t,e,s,a){return Ze(t,function(l,d,v){e(a,l,s(l),v)}),a}function Za(t,e){return t&&Be(e,Ot(e),t)}function Kd(t,e){return t&&Be(e,Yt(e),t)}function Ne(t,e,s){e=="__proto__"&&Kr?Kr(t,e,{configurable:!0,enumerable:!0,value:s,writable:!0}):t[e]=s}function bs(t,e){for(var s=-1,a=e.length,l=S(a),d=t==null;++s<a;)l[s]=d?n:eo(t,e[s]);return l}function pn(t,e,s){return t===t&&(s!==n&&(t=t<=s?t:s),e!==n&&(t=t>=e?t:e)),t}function he(t,e,s,a,l,d){var v,_=e&y,x=e&E,k=e&A;if(s&&(v=l?s(t,a,l,d):s(t)),v!==n)return v;if(!bt(t))return t;var B=Y(t);if(B){if(v=$p(t),!_)return Kt(t,v)}else{var R=Mt(t),N=R==Or||R==ea;if(rn(t))return Eu(t,_);if(R==$e||R==Ce||N&&!l){if(v=x||N?{}:zu(t),!_)return x?Ap(t,Kd(v,t)):Ep(t,Za(v,t))}else{if(!gt[R])return l?t:{};v=Pp(t,R,_)}}d||(d=new be);var U=d.get(t);if(U)return U;d.set(t,v),vc(t)?t.forEach(function(q){v.add(he(q,e,s,q,t,d))}):mc(t)&&t.forEach(function(q,rt){v.set(rt,he(q,e,s,rt,t,d))});var V=k?x?Us:Ls:x?Yt:Ot,Q=B?n:V(t);return ce(Q||t,function(q,rt){Q&&(rt=q,q=t[rt]),cr(v,rt,he(q,e,s,rt,t,d))}),v}function Jd(t){var e=Ot(t);return function(s){return tu(s,t,e)}}function tu(t,e,s){var a=s.length;if(t==null)return!a;for(t=pt(t);a--;){var l=s[a],d=e[l],v=t[l];if(v===n&&!(l in t)||!d(v))return!1}return!0}function eu(t,e,s){if(typeof t!="function")throw new le(f);return gr(function(){t.apply(n,s)},e)}function lr(t,e,s,a){var l=-1,d=Pr,v=!0,_=t.length,x=[],k=e.length;if(!_)return x;s&&(e=wt(e,te(s))),a?(d=as,v=!1):e.length>=u&&(d=rr,v=!1,e=new dn(e));t:for(;++l<_;){var B=t[l],R=s==null?B:s(B);if(B=a||B!==0?B:0,v&&R===R){for(var N=k;N--;)if(e[N]===R)continue t;x.push(B)}else d(e,R,a)||x.push(B)}return x}var Ze=Cu(ke),nu=Cu(Es,!0);function Yd(t,e){var s=!0;return Ze(t,function(a,l,d){return s=!!e(a,l,d),s}),s}function ti(t,e,s){for(var a=-1,l=t.length;++a<l;){var d=t[a],v=e(d);if(v!=null&&(_===n?v===v&&!ne(v):s(v,_)))var _=v,x=d}return x}function Xd(t,e,s,a){var l=t.length;for(s=G(s),s<0&&(s=-s>l?0:l+s),a=a===n||a>l?l:G(a),a<0&&(a+=l),a=s>a?0:_c(a);s<a;)t[s++]=e;return t}function ru(t,e){var s=[];return Ze(t,function(a,l,d){e(a,l,d)&&s.push(a)}),s}function Pt(t,e,s,a,l){var d=-1,v=t.length;for(s||(s=Np),l||(l=[]);++d<v;){var _=t[d];e>0&&s(_)?e>1?Pt(_,e-1,s,a,l):Xe(l,_):a||(l[l.length]=_)}return l}var xs=ku(),iu=ku(!0);function ke(t,e){return t&&xs(t,e,Ot)}function Es(t,e){return t&&iu(t,e,Ot)}function ei(t,e){return Ye(e,function(s){return ze(t[s])})}function mn(t,e){e=en(e,t);for(var s=0,a=e.length;t!=null&&s<a;)t=t[Oe(e[s++])];return s&&s==a?t:n}function su(t,e,s){var a=e(t);return Y(t)?a:Xe(a,s(t))}function zt(t){return t==null?t===n?Tf:Ef:fn&&fn in pt(t)?Rp(t):Vp(t)}function As(t,e){return t>e}function Gd(t,e){return t!=null&&dt.call(t,e)}function Qd(t,e){return t!=null&&e in pt(t)}function Zd(t,e,s){return t>=Nt(e,s)&&t<kt(e,s)}function Ts(t,e,s){for(var a=s?as:Pr,l=t[0].length,d=t.length,v=d,_=S(d),x=1/0,k=[];v--;){var B=t[v];v&&e&&(B=wt(B,te(e))),x=Nt(B.length,x),_[v]=!s&&(e||l>=120&&B.length>=120)?new dn(v&&B):n}B=t[0];var R=-1,N=_[0];t:for(;++R<l&&k.length<x;){var U=B[R],V=e?e(U):U;if(U=s||U!==0?U:0,!(N?rr(N,V):a(k,V,s))){for(v=d;--v;){var Q=_[v];if(!(Q?rr(Q,V):a(t[v],V,s)))continue t}N&&N.push(V),k.push(U)}}return k}function tp(t,e,s,a){return ke(t,function(l,d,v){e(a,s(l),d,v)}),a}function fr(t,e,s){e=en(e,t),t=qu(t,e);var a=t==null?t:t[Oe(pe(e))];return a==null?n:Zt(a,t,s)}function ou(t){return Et(t)&&zt(t)==Ce}function ep(t){return Et(t)&&zt(t)==nr}function np(t){return Et(t)&&zt(t)==cn}function hr(t,e,s,a,l){return t===e?!0:t==null||e==null||!Et(t)&&!Et(e)?t!==t&&e!==e:rp(t,e,s,a,hr,l)}function rp(t,e,s,a,l,d){var v=Y(t),_=Y(e),x=v?Je:Mt(t),k=_?Je:Mt(e);x=x==Ce?$e:x,k=k==Ce?$e:k;var B=x==$e,R=k==$e,N=x==k;if(N&&rn(t)){if(!rn(e))return!1;v=!0,B=!1}if(N&&!B)return d||(d=new be),v||Nn(t)?Mu(t,e,s,a,l,d):Bp(t,e,x,s,a,l,d);if(!(s&F)){var U=B&&dt.call(t,"__wrapped__"),V=R&&dt.call(e,"__wrapped__");if(U||V){var Q=U?t.value():t,q=V?e.value():e;return d||(d=new be),l(Q,q,s,a,d)}}return N?(d||(d=new be),Op(t,e,s,a,l,d)):!1}function ip(t){return Et(t)&&Mt(t)==ye}function Ss(t,e,s,a){var l=s.length,d=l,v=!a;if(t==null)return!d;for(t=pt(t);l--;){var _=s[l];if(v&&_[2]?_[1]!==t[_[0]]:!(_[0]in t))return!1}for(;++l<d;){_=s[l];var x=_[0],k=t[x],B=_[1];if(v&&_[2]){if(k===n&&!(x in t))return!1}else{var R=new be;if(a)var N=a(k,B,x,t,e,R);if(!(N===n?hr(B,k,F|D,a,R):N))return!1}}return!0}function au(t){if(!bt(t)||Lp(t))return!1;var e=ze(t)?id:Jf;return e.test(vn(t))}function sp(t){return Et(t)&&zt(t)==Zn}function op(t){return Et(t)&&Mt(t)==_e}function ap(t){return Et(t)&&yi(t.length)&&!!_t[zt(t)]}function uu(t){return typeof t=="function"?t:t==null?Xt:typeof t=="object"?Y(t)?fu(t[0],t[1]):lu(t):Bc(t)}function Fs(t){if(!mr(t))return ld(t);var e=[];for(var s in pt(t))dt.call(t,s)&&s!="constructor"&&e.push(s);return e}function up(t){if(!bt(t))return Hp(t);var e=mr(t),s=[];for(var a in t)a=="constructor"&&(e||!dt.call(t,a))||s.push(a);return s}function Cs(t,e){return t<e}function cu(t,e){var s=-1,a=Jt(t)?S(t.length):[];return Ze(t,function(l,d,v){a[++s]=e(l,d,v)}),a}function lu(t){var e=Ws(t);return e.length==1&&e[0][2]?Hu(e[0][0],e[0][1]):function(s){return s===t||Ss(s,t,e)}}function fu(t,e){return Vs(t)&&Wu(e)?Hu(Oe(t),e):function(s){var a=eo(s,t);return a===n&&a===e?no(s,t):hr(e,a,F|D)}}function ni(t,e,s,a,l){t!==e&&xs(e,function(d,v){if(l||(l=new be),bt(d))cp(t,e,v,s,ni,a,l);else{var _=a?a(Ks(t,v),d,v+"",t,e,l):n;_===n&&(_=d),ws(t,v,_)}},Yt)}function cp(t,e,s,a,l,d,v){var _=Ks(t,s),x=Ks(e,s),k=v.get(x);if(k){ws(t,s,k);return}var B=d?d(_,x,s+"",t,e,v):n,R=B===n;if(R){var N=Y(x),U=!N&&rn(x),V=!N&&!U&&Nn(x);B=x,N||U||V?Y(_)?B=_:Tt(_)?B=Kt(_):U?(R=!1,B=Eu(x,!0)):V?(R=!1,B=Au(x,!0)):B=[]:vr(x)||yn(x)?(B=_,yn(_)?B=wc(_):(!bt(_)||ze(_))&&(B=zu(x))):R=!1}R&&(v.set(x,B),l(B,x,a,d,v),v.delete(x)),ws(t,s,B)}function hu(t,e){var s=t.length;if(s)return e+=e<0?s:0,Ue(e,s)?t[e]:n}function du(t,e,s){e.length?e=wt(e,function(d){return Y(d)?function(v){return mn(v,d.length===1?d[0]:d)}:d}):e=[Xt];var a=-1;e=wt(e,te(W()));var l=cu(t,function(d,v,_){var x=wt(e,function(k){return k(d)});return{criteria:x,index:++a,value:d}});return Ph(l,function(d,v){return xp(d,v,s)})}function lp(t,e){return pu(t,e,function(s,a){return no(t,a)})}function pu(t,e,s){for(var a=-1,l=e.length,d={};++a<l;){var v=e[a],_=mn(t,v);s(_,v)&&dr(d,en(v,t),_)}return d}function fp(t){return function(e){return mn(e,t)}}function ks(t,e,s,a){var l=a?$h:Fn,d=-1,v=e.length,_=t;for(t===e&&(e=Kt(e)),s&&(_=wt(t,te(s)));++d<v;)for(var x=0,k=e[d],B=s?s(k):k;(x=l(_,B,x,a))>-1;)_!==t&&qr.call(_,x,1),qr.call(t,x,1);return t}function mu(t,e){for(var s=t?e.length:0,a=s-1;s--;){var l=e[s];if(s==a||l!==d){var d=l;Ue(l)?qr.call(t,l,1):js(t,l)}}return t}function Bs(t,e){return t+Yr(Ya()*(e-t+1))}function hp(t,e,s,a){for(var l=-1,d=kt(Jr((e-t)/(s||1)),0),v=S(d);d--;)v[a?d:++l]=t,t+=s;return v}function Os(t,e){var s="";if(!t||e<1||e>Fe)return s;do e%2&&(s+=t),e=Yr(e/2),e&&(t+=t);while(e);return s}function tt(t,e){return Js(Vu(t,e,Xt),t+"")}function dp(t){return Qa(Mn(t))}function pp(t,e){var s=Mn(t);return hi(s,pn(e,0,s.length))}function dr(t,e,s,a){if(!bt(t))return t;e=en(e,t);for(var l=-1,d=e.length,v=d-1,_=t;_!=null&&++l<d;){var x=Oe(e[l]),k=s;if(x==="__proto__"||x==="constructor"||x==="prototype")return t;if(l!=v){var B=_[x];k=a?a(B,x,_):n,k===n&&(k=bt(B)?B:Ue(e[l+1])?[]:{})}cr(_,x,k),_=_[x]}return t}var gu=Xr?function(t,e){return Xr.set(t,e),t}:Xt,mp=Kr?function(t,e){return Kr(t,"toString",{configurable:!0,enumerable:!1,value:io(e),writable:!0})}:Xt;function gp(t){return hi(Mn(t))}function de(t,e,s){var a=-1,l=t.length;e<0&&(e=-e>l?0:l+e),s=s>l?l:s,s<0&&(s+=l),l=e>s?0:s-e>>>0,e>>>=0;for(var d=S(l);++a<l;)d[a]=t[a+e];return d}function vp(t,e){var s;return Ze(t,function(a,l,d){return s=e(a,l,d),!s}),!!s}function ri(t,e,s){var a=0,l=t==null?a:t.length;if(typeof e=="number"&&e===e&&l<=Br){for(;a<l;){var d=a+l>>>1,v=t[d];v!==null&&!ne(v)&&(s?v<=e:v<e)?a=d+1:l=d}return l}return Rs(t,e,Xt,s)}function Rs(t,e,s,a){var l=0,d=t==null?0:t.length;if(d===0)return 0;e=s(e);for(var v=e!==e,_=e===null,x=ne(e),k=e===n;l<d;){var B=Yr((l+d)/2),R=s(t[B]),N=R!==n,U=R===null,V=R===R,Q=ne(R);if(v)var q=a||V;else k?q=V&&(a||N):_?q=V&&N&&(a||!U):x?q=V&&N&&!U&&(a||!Q):U||Q?q=!1:q=a?R<=e:R<e;q?l=B+1:d=B}return Nt(d,Ft)}function vu(t,e){for(var s=-1,a=t.length,l=0,d=[];++s<a;){var v=t[s],_=e?e(v):v;if(!s||!xe(_,x)){var x=_;d[l++]=v===0?0:v}}return d}function yu(t){return typeof t=="number"?t:ne(t)?an:+t}function ee(t){if(typeof t=="string")return t;if(Y(t))return wt(t,ee)+"";if(ne(t))return Xa?Xa.call(t):"";var e=t+"";return e=="0"&&1/t==-De?"-0":e}function tn(t,e,s){var a=-1,l=Pr,d=t.length,v=!0,_=[],x=_;if(s)v=!1,l=as;else if(d>=u){var k=e?null:Cp(t);if(k)return Nr(k);v=!1,l=rr,x=new dn}else x=e?[]:_;t:for(;++a<d;){var B=t[a],R=e?e(B):B;if(B=s||B!==0?B:0,v&&R===R){for(var N=x.length;N--;)if(x[N]===R)continue t;e&&x.push(R),_.push(B)}else l(x,R,s)||(x!==_&&x.push(R),_.push(B))}return _}function js(t,e){return e=en(e,t),t=qu(t,e),t==null||delete t[Oe(pe(e))]}function _u(t,e,s,a){return dr(t,e,s(mn(t,e)),a)}function ii(t,e,s,a){for(var l=t.length,d=a?l:-1;(a?d--:++d<l)&&e(t[d],d,t););return s?de(t,a?0:d,a?d+1:l):de(t,a?d+1:0,a?l:d)}function wu(t,e){var s=t;return s instanceof it&&(s=s.value()),us(e,function(a,l){return l.func.apply(l.thisArg,Xe([a],l.args))},s)}function Ds(t,e,s){var a=t.length;if(a<2)return a?tn(t[0]):[];for(var l=-1,d=S(a);++l<a;)for(var v=t[l],_=-1;++_<a;)_!=l&&(d[l]=lr(d[l]||v,t[_],e,s));return tn(Pt(d,1),e,s)}function bu(t,e,s){for(var a=-1,l=t.length,d=e.length,v={};++a<l;){var _=a<d?e[a]:n;s(v,t[a],_)}return v}function $s(t){return Tt(t)?t:[]}function Ps(t){return typeof t=="function"?t:Xt}function en(t,e){return Y(t)?t:Vs(t,e)?[t]:Xu(ht(t))}var yp=tt;function nn(t,e,s){var a=t.length;return s=s===n?a:s,!e&&s>=a?t:de(t,e,s)}var xu=sd||function(t){return $t.clearTimeout(t)};function Eu(t,e){if(e)return t.slice();var s=t.length,a=Ha?Ha(s):new t.constructor(s);return t.copy(a),a}function Is(t){var e=new t.constructor(t.byteLength);return new Hr(e).set(new Hr(t)),e}function _p(t,e){var s=e?Is(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.byteLength)}function wp(t){var e=new t.constructor(t.source,oa.exec(t));return e.lastIndex=t.lastIndex,e}function bp(t){return ur?pt(ur.call(t)):{}}function Au(t,e){var s=e?Is(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.length)}function Tu(t,e){if(t!==e){var s=t!==n,a=t===null,l=t===t,d=ne(t),v=e!==n,_=e===null,x=e===e,k=ne(e);if(!_&&!k&&!d&&t>e||d&&v&&x&&!_&&!k||a&&v&&x||!s&&x||!l)return 1;if(!a&&!d&&!k&&t<e||k&&s&&l&&!a&&!d||_&&s&&l||!v&&l||!x)return-1}return 0}function xp(t,e,s){for(var a=-1,l=t.criteria,d=e.criteria,v=l.length,_=s.length;++a<v;){var x=Tu(l[a],d[a]);if(x){if(a>=_)return x;var k=s[a];return x*(k=="desc"?-1:1)}}return t.index-e.index}function Su(t,e,s,a){for(var l=-1,d=t.length,v=s.length,_=-1,x=e.length,k=kt(d-v,0),B=S(x+k),R=!a;++_<x;)B[_]=e[_];for(;++l<v;)(R||l<d)&&(B[s[l]]=t[l]);for(;k--;)B[_++]=t[l++];return B}function Fu(t,e,s,a){for(var l=-1,d=t.length,v=-1,_=s.length,x=-1,k=e.length,B=kt(d-_,0),R=S(B+k),N=!a;++l<B;)R[l]=t[l];for(var U=l;++x<k;)R[U+x]=e[x];for(;++v<_;)(N||l<d)&&(R[U+s[v]]=t[l++]);return R}function Kt(t,e){var s=-1,a=t.length;for(e||(e=S(a));++s<a;)e[s]=t[s];return e}function Be(t,e,s,a){var l=!s;s||(s={});for(var d=-1,v=e.length;++d<v;){var _=e[d],x=a?a(s[_],t[_],_,s,t):n;x===n&&(x=t[_]),l?Ne(s,_,x):cr(s,_,x)}return s}function Ep(t,e){return Be(t,Hs(t),e)}function Ap(t,e){return Be(t,Lu(t),e)}function si(t,e){return function(s,a){var l=Y(s)?kh:qd,d=e?e():{};return l(s,t,W(a,2),d)}}function $n(t){return tt(function(e,s){var a=-1,l=s.length,d=l>1?s[l-1]:n,v=l>2?s[2]:n;for(d=t.length>3&&typeof d=="function"?(l--,d):n,v&&Wt(s[0],s[1],v)&&(d=l<3?n:d,l=1),e=pt(e);++a<l;){var _=s[a];_&&t(e,_,a,d)}return e})}function Cu(t,e){return function(s,a){if(s==null)return s;if(!Jt(s))return t(s,a);for(var l=s.length,d=e?l:-1,v=pt(s);(e?d--:++d<l)&&a(v[d],d,v)!==!1;);return s}}function ku(t){return function(e,s,a){for(var l=-1,d=pt(e),v=a(e),_=v.length;_--;){var x=v[t?_:++l];if(s(d[x],x,d)===!1)break}return e}}function Tp(t,e,s){var a=e&I,l=pr(t);function d(){var v=this&&this!==$t&&this instanceof d?l:t;return v.apply(a?s:this,arguments)}return d}function Bu(t){return function(e){e=ht(e);var s=Cn(e)?we(e):n,a=s?s[0]:e.charAt(0),l=s?nn(s,1).join(""):e.slice(1);return a[t]()+l}}function Pn(t){return function(e){return us(Cc(Fc(e).replace(mh,"")),t,"")}}function pr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var s=Dn(t.prototype),a=t.apply(s,e);return bt(a)?a:s}}function Sp(t,e,s){var a=pr(t);function l(){for(var d=arguments.length,v=S(d),_=d,x=In(l);_--;)v[_]=arguments[_];var k=d<3&&v[0]!==x&&v[d-1]!==x?[]:Ge(v,x);if(d-=k.length,d<s)return $u(t,e,oi,l.placeholder,n,v,k,n,n,s-d);var B=this&&this!==$t&&this instanceof l?a:t;return Zt(B,this,v)}return l}function Ou(t){return function(e,s,a){var l=pt(e);if(!Jt(e)){var d=W(s,3);e=Ot(e),s=function(_){return d(l[_],_,l)}}var v=t(e,s,a);return v>-1?l[d?e[v]:v]:n}}function Ru(t){return Le(function(e){var s=e.length,a=s,l=fe.prototype.thru;for(t&&e.reverse();a--;){var d=e[a];if(typeof d!="function")throw new le(f);if(l&&!v&&li(d)=="wrapper")var v=new fe([],!0)}for(a=v?a:s;++a<s;){d=e[a];var _=li(d),x=_=="wrapper"?zs(d):n;x&&qs(x[0])&&x[1]==(Ut|$|ot|At)&&!x[4].length&&x[9]==1?v=v[li(x[0])].apply(v,x[3]):v=d.length==1&&qs(d)?v[_]():v.thru(d)}return function(){var k=arguments,B=k[0];if(v&&k.length==1&&Y(B))return v.plant(B).value();for(var R=0,N=s?e[R].apply(this,k):B;++R<s;)N=e[R].call(this,N);return N}})}function oi(t,e,s,a,l,d,v,_,x,k){var B=e&Ut,R=e&I,N=e&j,U=e&($|Z),V=e&Dt,Q=N?n:pr(t);function q(){for(var rt=arguments.length,at=S(rt),re=rt;re--;)at[re]=arguments[re];if(U)var Ht=In(q),ie=Nh(at,Ht);if(a&&(at=Su(at,a,l,U)),d&&(at=Fu(at,d,v,U)),rt-=ie,U&&rt<k){var St=Ge(at,Ht);return $u(t,e,oi,q.placeholder,s,at,St,_,x,k-rt)}var Ee=R?s:this,He=N?Ee[t]:t;return rt=at.length,_?at=qp(at,_):V&&rt>1&&at.reverse(),B&&x<rt&&(at.length=x),this&&this!==$t&&this instanceof q&&(He=Q||pr(He)),He.apply(Ee,at)}return q}function ju(t,e){return function(s,a){return tp(s,t,e(a),{})}}function ai(t,e){return function(s,a){var l;if(s===n&&a===n)return e;if(s!==n&&(l=s),a!==n){if(l===n)return a;typeof s=="string"||typeof a=="string"?(s=ee(s),a=ee(a)):(s=yu(s),a=yu(a)),l=t(s,a)}return l}}function Ns(t){return Le(function(e){return e=wt(e,te(W())),tt(function(s){var a=this;return t(e,function(l){return Zt(l,a,s)})})})}function ui(t,e){e=e===n?" ":ee(e);var s=e.length;if(s<2)return s?Os(e,t):e;var a=Os(e,Jr(t/kn(e)));return Cn(e)?nn(we(a),0,t).join(""):a.slice(0,t)}function Fp(t,e,s,a){var l=e&I,d=pr(t);function v(){for(var _=-1,x=arguments.length,k=-1,B=a.length,R=S(B+x),N=this&&this!==$t&&this instanceof v?d:t;++k<B;)R[k]=a[k];for(;x--;)R[k++]=arguments[++_];return Zt(N,l?s:this,R)}return v}function Du(t){return function(e,s,a){return a&&typeof a!="number"&&Wt(e,s,a)&&(s=a=n),e=We(e),s===n?(s=e,e=0):s=We(s),a=a===n?e<s?1:-1:We(a),hp(e,s,a,t)}}function ci(t){return function(e,s){return typeof e=="string"&&typeof s=="string"||(e=me(e),s=me(s)),t(e,s)}}function $u(t,e,s,a,l,d,v,_,x,k){var B=e&$,R=B?v:n,N=B?n:v,U=B?d:n,V=B?n:d;e|=B?ot:xt,e&=~(B?xt:ot),e&P||(e&=~(I|j));var Q=[t,e,l,U,R,V,N,_,x,k],q=s.apply(n,Q);return qs(t)&&Ku(q,Q),q.placeholder=a,Ju(q,t,e)}function Ms(t){var e=Ct[t];return function(s,a){if(s=me(s),a=a==null?0:Nt(G(a),292),a&&Ja(s)){var l=(ht(s)+"e").split("e"),d=e(l[0]+"e"+(+l[1]+a));return l=(ht(d)+"e").split("e"),+(l[0]+"e"+(+l[1]-a))}return e(s)}}var Cp=Rn&&1/Nr(new Rn([,-0]))[1]==De?function(t){return new Rn(t)}:ao;function Pu(t){return function(e){var s=Mt(e);return s==ye?ms(e):s==_e?Vh(e):Ih(e,t(e))}}function Me(t,e,s,a,l,d,v,_){var x=e&j;if(!x&&typeof t!="function")throw new le(f);var k=a?a.length:0;if(k||(e&=~(ot|xt),a=l=n),v=v===n?v:kt(G(v),0),_=_===n?_:G(_),k-=l?l.length:0,e&xt){var B=a,R=l;a=l=n}var N=x?n:zs(t),U=[t,e,s,a,l,B,R,d,v,_];if(N&&Wp(U,N),t=U[0],e=U[1],s=U[2],a=U[3],l=U[4],_=U[9]=U[9]===n?x?0:t.length:kt(U[9]-k,0),!_&&e&($|Z)&&(e&=~($|Z)),!e||e==I)var V=Tp(t,e,s);else e==$||e==Z?V=Sp(t,e,_):(e==ot||e==(I|ot))&&!l.length?V=Fp(t,e,s,a):V=oi.apply(n,U);var Q=N?gu:Ku;return Ju(Q(V,U),t,e)}function Iu(t,e,s,a){return t===n||xe(t,On[s])&&!dt.call(a,s)?e:t}function Nu(t,e,s,a,l,d){return bt(t)&&bt(e)&&(d.set(e,t),ni(t,e,n,Nu,d),d.delete(e)),t}function kp(t){return vr(t)?n:t}function Mu(t,e,s,a,l,d){var v=s&F,_=t.length,x=e.length;if(_!=x&&!(v&&x>_))return!1;var k=d.get(t),B=d.get(e);if(k&&B)return k==e&&B==t;var R=-1,N=!0,U=s&D?new dn:n;for(d.set(t,e),d.set(e,t);++R<_;){var V=t[R],Q=e[R];if(a)var q=v?a(Q,V,R,e,t,d):a(V,Q,R,t,e,d);if(q!==n){if(q)continue;N=!1;break}if(U){if(!cs(e,function(rt,at){if(!rr(U,at)&&(V===rt||l(V,rt,s,a,d)))return U.push(at)})){N=!1;break}}else if(!(V===Q||l(V,Q,s,a,d))){N=!1;break}}return d.delete(t),d.delete(e),N}function Bp(t,e,s,a,l,d,v){switch(s){case Tn:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case nr:return!(t.byteLength!=e.byteLength||!d(new Hr(t),new Hr(e)));case un:case cn:case Qn:return xe(+t,+e);case An:return t.name==e.name&&t.message==e.message;case Zn:case tr:return t==e+"";case ye:var _=ms;case _e:var x=a&F;if(_||(_=Nr),t.size!=e.size&&!x)return!1;var k=v.get(t);if(k)return k==e;a|=D,v.set(t,e);var B=Mu(_(t),_(e),a,l,d,v);return v.delete(t),B;case Rr:if(ur)return ur.call(t)==ur.call(e)}return!1}function Op(t,e,s,a,l,d){var v=s&F,_=Ls(t),x=_.length,k=Ls(e),B=k.length;if(x!=B&&!v)return!1;for(var R=x;R--;){var N=_[R];if(!(v?N in e:dt.call(e,N)))return!1}var U=d.get(t),V=d.get(e);if(U&&V)return U==e&&V==t;var Q=!0;d.set(t,e),d.set(e,t);for(var q=v;++R<x;){N=_[R];var rt=t[N],at=e[N];if(a)var re=v?a(at,rt,N,e,t,d):a(rt,at,N,t,e,d);if(!(re===n?rt===at||l(rt,at,s,a,d):re)){Q=!1;break}q||(q=N=="constructor")}if(Q&&!q){var Ht=t.constructor,ie=e.constructor;Ht!=ie&&"constructor"in t&&"constructor"in e&&!(typeof Ht=="function"&&Ht instanceof Ht&&typeof ie=="function"&&ie instanceof ie)&&(Q=!1)}return d.delete(t),d.delete(e),Q}function Le(t){return Js(Vu(t,n,tc),t+"")}function Ls(t){return su(t,Ot,Hs)}function Us(t){return su(t,Yt,Lu)}var zs=Xr?function(t){return Xr.get(t)}:ao;function li(t){for(var e=t.name+"",s=jn[e],a=dt.call(jn,e)?s.length:0;a--;){var l=s[a],d=l.func;if(d==null||d==t)return l.name}return e}function In(t){var e=dt.call(h,"placeholder")?h:t;return e.placeholder}function W(){var t=h.iteratee||so;return t=t===so?uu:t,arguments.length?t(arguments[0],arguments[1]):t}function fi(t,e){var s=t.__data__;return Mp(e)?s[typeof e=="string"?"string":"hash"]:s.map}function Ws(t){for(var e=Ot(t),s=e.length;s--;){var a=e[s],l=t[a];e[s]=[a,l,Wu(l)]}return e}function gn(t,e){var s=zh(t,e);return au(s)?s:n}function Rp(t){var e=dt.call(t,fn),s=t[fn];try{t[fn]=n;var a=!0}catch(d){}var l=zr.call(t);return a&&(e?t[fn]=s:delete t[fn]),l}var Hs=vs?function(t){return t==null?[]:(t=pt(t),Ye(vs(t),function(e){return qa.call(t,e)}))}:uo,Lu=vs?function(t){for(var e=[];t;)Xe(e,Hs(t)),t=Vr(t);return e}:uo,Mt=zt;(ys&&Mt(new ys(new ArrayBuffer(1)))!=Tn||sr&&Mt(new sr)!=ye||_s&&Mt(_s.resolve())!=na||Rn&&Mt(new Rn)!=_e||or&&Mt(new or)!=er)&&(Mt=function(t){var e=zt(t),s=e==$e?t.constructor:n,a=s?vn(s):"";if(a)switch(a){case pd:return Tn;case md:return ye;case gd:return na;case vd:return _e;case yd:return er}return e});function jp(t,e,s){for(var a=-1,l=s.length;++a<l;){var d=s[a],v=d.size;switch(d.type){case"drop":t+=v;break;case"dropRight":e-=v;break;case"take":e=Nt(e,t+v);break;case"takeRight":t=kt(t,e-v);break}}return{start:t,end:e}}function Dp(t){var e=t.match(Lf);return e?e[1].split(Uf):[]}function Uu(t,e,s){e=en(e,t);for(var a=-1,l=e.length,d=!1;++a<l;){var v=Oe(e[a]);if(!(d=t!=null&&s(t,v)))break;t=t[v]}return d||++a!=l?d:(l=t==null?0:t.length,!!l&&yi(l)&&Ue(v,l)&&(Y(t)||yn(t)))}function $p(t){var e=t.length,s=new t.constructor(e);return e&&typeof t[0]=="string"&&dt.call(t,"index")&&(s.index=t.index,s.input=t.input),s}function zu(t){return typeof t.constructor=="function"&&!mr(t)?Dn(Vr(t)):{}}function Pp(t,e,s){var a=t.constructor;switch(e){case nr:return Is(t);case un:case cn:return new a(+t);case Tn:return _p(t,s);case Wi:case Hi:case Vi:case qi:case Ki:case Ji:case Yi:case Xi:case Gi:return Au(t,s);case ye:return new a;case Qn:case tr:return new a(t);case Zn:return wp(t);case _e:return new a;case Rr:return bp(t)}}function Ip(t,e){var s=e.length;if(!s)return t;var a=s-1;return e[a]=(s>1?"& ":"")+e[a],e=e.join(s>2?", ":" "),t.replace(Mf,`{
/* [wrapped with `+e+`] */
`)}function Np(t){return Y(t)||yn(t)||!!(Ka&&t&&t[Ka])}function Ue(t,e){var s=typeof t;return e=e==null?Fe:e,!!e&&(s=="number"||s!="symbol"&&Xf.test(t))&&t>-1&&t%1==0&&t<e}function Wt(t,e,s){if(!bt(s))return!1;var a=typeof e;return(a=="number"?Jt(s)&&Ue(e,s.length):a=="string"&&e in s)?xe(s[e],t):!1}function Vs(t,e){if(Y(t))return!1;var s=typeof t;return s=="number"||s=="symbol"||s=="boolean"||t==null||ne(t)?!0:$f.test(t)||!Df.test(t)||e!=null&&t in pt(e)}function Mp(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function qs(t){var e=li(t),s=h[e];if(typeof s!="function"||!(e in it.prototype))return!1;if(t===s)return!0;var a=zs(s);return!!a&&t===a[0]}function Lp(t){return!!Wa&&Wa in t}var Up=Lr?ze:co;function mr(t){var e=t&&t.constructor,s=typeof e=="function"&&e.prototype||On;return t===s}function Wu(t){return t===t&&!bt(t)}function Hu(t,e){return function(s){return s==null?!1:s[t]===e&&(e!==n||t in pt(s))}}function zp(t){var e=gi(t,function(a){return s.size===m&&s.clear(),a}),s=e.cache;return e}function Wp(t,e){var s=t[1],a=e[1],l=s|a,d=l<(I|j|Ut),v=a==Ut&&s==$||a==Ut&&s==At&&t[7].length<=e[8]||a==(Ut|At)&&e[7].length<=e[8]&&s==$;if(!(d||v))return t;a&I&&(t[2]=e[2],l|=s&I?0:P);var _=e[3];if(_){var x=t[3];t[3]=x?Su(x,_,e[4]):_,t[4]=x?Ge(t[3],w):e[4]}return _=e[5],_&&(x=t[5],t[5]=x?Fu(x,_,e[6]):_,t[6]=x?Ge(t[5],w):e[6]),_=e[7],_&&(t[7]=_),a&Ut&&(t[8]=t[8]==null?e[8]:Nt(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=l,t}function Hp(t){var e=[];if(t!=null)for(var s in pt(t))e.push(s);return e}function Vp(t){return zr.call(t)}function Vu(t,e,s){return e=kt(e===n?t.length-1:e,0),function(){for(var a=arguments,l=-1,d=kt(a.length-e,0),v=S(d);++l<d;)v[l]=a[e+l];l=-1;for(var _=S(e+1);++l<e;)_[l]=a[l];return _[e]=s(v),Zt(t,this,_)}}function qu(t,e){return e.length<2?t:mn(t,de(e,0,-1))}function qp(t,e){for(var s=t.length,a=Nt(e.length,s),l=Kt(t);a--;){var d=e[a];t[a]=Ue(d,s)?l[d]:n}return t}function Ks(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Ku=Yu(gu),gr=ad||function(t,e){return $t.setTimeout(t,e)},Js=Yu(mp);function Ju(t,e,s){var a=e+"";return Js(t,Ip(a,Kp(Dp(a),s)))}function Yu(t){var e=0,s=0;return function(){var a=fd(),l=ve-(a-s);if(s=a,l>0){if(++e>=je)return arguments[0]}else e=0;return t.apply(n,arguments)}}function hi(t,e){var s=-1,a=t.length,l=a-1;for(e=e===n?a:e;++s<e;){var d=Bs(s,l),v=t[d];t[d]=t[s],t[s]=v}return t.length=e,t}var Xu=zp(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Pf,function(s,a,l,d){e.push(l?d.replace(Hf,"$1"):a||s)}),e});function Oe(t){if(typeof t=="string"||ne(t))return t;var e=t+"";return e=="0"&&1/t==-De?"-0":e}function vn(t){if(t!=null){try{return Ur.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Kp(t,e){return ce(Gn,function(s){var a="_."+s[0];e&s[1]&&!Pr(t,a)&&t.push(a)}),t.sort()}function Gu(t){if(t instanceof it)return t.clone();var e=new fe(t.__wrapped__,t.__chain__);return e.__actions__=Kt(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Jp(t,e,s){(s?Wt(t,e,s):e===n)?e=1:e=kt(G(e),0);var a=t==null?0:t.length;if(!a||e<1)return[];for(var l=0,d=0,v=S(Jr(a/e));l<a;)v[d++]=de(t,l,l+=e);return v}function Yp(t){for(var e=-1,s=t==null?0:t.length,a=0,l=[];++e<s;){var d=t[e];d&&(l[a++]=d)}return l}function Xp(){var t=arguments.length;if(!t)return[];for(var e=S(t-1),s=arguments[0],a=t;a--;)e[a-1]=arguments[a];return Xe(Y(s)?Kt(s):[s],Pt(e,1))}var Gp=tt(function(t,e){return Tt(t)?lr(t,Pt(e,1,Tt,!0)):[]}),Qp=tt(function(t,e){var s=pe(e);return Tt(s)&&(s=n),Tt(t)?lr(t,Pt(e,1,Tt,!0),W(s,2)):[]}),Zp=tt(function(t,e){var s=pe(e);return Tt(s)&&(s=n),Tt(t)?lr(t,Pt(e,1,Tt,!0),n,s):[]});function t0(t,e,s){var a=t==null?0:t.length;return a?(e=s||e===n?1:G(e),de(t,e<0?0:e,a)):[]}function e0(t,e,s){var a=t==null?0:t.length;return a?(e=s||e===n?1:G(e),e=a-e,de(t,0,e<0?0:e)):[]}function n0(t,e){return t&&t.length?ii(t,W(e,3),!0,!0):[]}function r0(t,e){return t&&t.length?ii(t,W(e,3),!0):[]}function i0(t,e,s,a){var l=t==null?0:t.length;return l?(s&&typeof s!="number"&&Wt(t,e,s)&&(s=0,a=l),Xd(t,e,s,a)):[]}function Qu(t,e,s){var a=t==null?0:t.length;if(!a)return-1;var l=s==null?0:G(s);return l<0&&(l=kt(a+l,0)),Ir(t,W(e,3),l)}function Zu(t,e,s){var a=t==null?0:t.length;if(!a)return-1;var l=a-1;return s!==n&&(l=G(s),l=s<0?kt(a+l,0):Nt(l,a-1)),Ir(t,W(e,3),l,!0)}function tc(t){var e=t==null?0:t.length;return e?Pt(t,1):[]}function s0(t){var e=t==null?0:t.length;return e?Pt(t,De):[]}function o0(t,e){var s=t==null?0:t.length;return s?(e=e===n?1:G(e),Pt(t,e)):[]}function a0(t){for(var e=-1,s=t==null?0:t.length,a={};++e<s;){var l=t[e];a[l[0]]=l[1]}return a}function ec(t){return t&&t.length?t[0]:n}function u0(t,e,s){var a=t==null?0:t.length;if(!a)return-1;var l=s==null?0:G(s);return l<0&&(l=kt(a+l,0)),Fn(t,e,l)}function c0(t){var e=t==null?0:t.length;return e?de(t,0,-1):[]}var l0=tt(function(t){var e=wt(t,$s);return e.length&&e[0]===t[0]?Ts(e):[]}),f0=tt(function(t){var e=pe(t),s=wt(t,$s);return e===pe(s)?e=n:s.pop(),s.length&&s[0]===t[0]?Ts(s,W(e,2)):[]}),h0=tt(function(t){var e=pe(t),s=wt(t,$s);return e=typeof e=="function"?e:n,e&&s.pop(),s.length&&s[0]===t[0]?Ts(s,n,e):[]});function d0(t,e){return t==null?"":cd.call(t,e)}function pe(t){var e=t==null?0:t.length;return e?t[e-1]:n}function p0(t,e,s){var a=t==null?0:t.length;if(!a)return-1;var l=a;return s!==n&&(l=G(s),l=l<0?kt(a+l,0):Nt(l,a-1)),e===e?Kh(t,e,l):Ir(t,$a,l,!0)}function m0(t,e){return t&&t.length?hu(t,G(e)):n}var g0=tt(nc);function nc(t,e){return t&&t.length&&e&&e.length?ks(t,e):t}function v0(t,e,s){return t&&t.length&&e&&e.length?ks(t,e,W(s,2)):t}function y0(t,e,s){return t&&t.length&&e&&e.length?ks(t,e,n,s):t}var _0=Le(function(t,e){var s=t==null?0:t.length,a=bs(t,e);return mu(t,wt(e,function(l){return Ue(l,s)?+l:l}).sort(Tu)),a});function w0(t,e){var s=[];if(!(t&&t.length))return s;var a=-1,l=[],d=t.length;for(e=W(e,3);++a<d;){var v=t[a];e(v,a,t)&&(s.push(v),l.push(a))}return mu(t,l),s}function Ys(t){return t==null?t:dd.call(t)}function b0(t,e,s){var a=t==null?0:t.length;return a?(s&&typeof s!="number"&&Wt(t,e,s)?(e=0,s=a):(e=e==null?0:G(e),s=s===n?a:G(s)),de(t,e,s)):[]}function x0(t,e){return ri(t,e)}function E0(t,e,s){return Rs(t,e,W(s,2))}function A0(t,e){var s=t==null?0:t.length;if(s){var a=ri(t,e);if(a<s&&xe(t[a],e))return a}return-1}function T0(t,e){return ri(t,e,!0)}function S0(t,e,s){return Rs(t,e,W(s,2),!0)}function F0(t,e){var s=t==null?0:t.length;if(s){var a=ri(t,e,!0)-1;if(xe(t[a],e))return a}return-1}function C0(t){return t&&t.length?vu(t):[]}function k0(t,e){return t&&t.length?vu(t,W(e,2)):[]}function B0(t){var e=t==null?0:t.length;return e?de(t,1,e):[]}function O0(t,e,s){return t&&t.length?(e=s||e===n?1:G(e),de(t,0,e<0?0:e)):[]}function R0(t,e,s){var a=t==null?0:t.length;return a?(e=s||e===n?1:G(e),e=a-e,de(t,e<0?0:e,a)):[]}function j0(t,e){return t&&t.length?ii(t,W(e,3),!1,!0):[]}function D0(t,e){return t&&t.length?ii(t,W(e,3)):[]}var $0=tt(function(t){return tn(Pt(t,1,Tt,!0))}),P0=tt(function(t){var e=pe(t);return Tt(e)&&(e=n),tn(Pt(t,1,Tt,!0),W(e,2))}),I0=tt(function(t){var e=pe(t);return e=typeof e=="function"?e:n,tn(Pt(t,1,Tt,!0),n,e)});function N0(t){return t&&t.length?tn(t):[]}function M0(t,e){return t&&t.length?tn(t,W(e,2)):[]}function L0(t,e){return e=typeof e=="function"?e:n,t&&t.length?tn(t,n,e):[]}function Xs(t){if(!(t&&t.length))return[];var e=0;return t=Ye(t,function(s){if(Tt(s))return e=kt(s.length,e),!0}),ds(e,function(s){return wt(t,ls(s))})}function rc(t,e){if(!(t&&t.length))return[];var s=Xs(t);return e==null?s:wt(s,function(a){return Zt(e,n,a)})}var U0=tt(function(t,e){return Tt(t)?lr(t,e):[]}),z0=tt(function(t){return Ds(Ye(t,Tt))}),W0=tt(function(t){var e=pe(t);return Tt(e)&&(e=n),Ds(Ye(t,Tt),W(e,2))}),H0=tt(function(t){var e=pe(t);return e=typeof e=="function"?e:n,Ds(Ye(t,Tt),n,e)}),V0=tt(Xs);function q0(t,e){return bu(t||[],e||[],cr)}function K0(t,e){return bu(t||[],e||[],dr)}var J0=tt(function(t){var e=t.length,s=e>1?t[e-1]:n;return s=typeof s=="function"?(t.pop(),s):n,rc(t,s)});function ic(t){var e=h(t);return e.__chain__=!0,e}function Y0(t,e){return e(t),t}function di(t,e){return e(t)}var X0=Le(function(t){var e=t.length,s=e?t[0]:0,a=this.__wrapped__,l=function(d){return bs(d,t)};return e>1||this.__actions__.length||!(a instanceof it)||!Ue(s)?this.thru(l):(a=a.slice(s,+s+(e?1:0)),a.__actions__.push({func:di,args:[l],thisArg:n}),new fe(a,this.__chain__).thru(function(d){return e&&!d.length&&d.push(n),d}))});function G0(){return ic(this)}function Q0(){return new fe(this.value(),this.__chain__)}function Z0(){this.__values__===n&&(this.__values__=yc(this.value()));var t=this.__index__>=this.__values__.length,e=t?n:this.__values__[this.__index__++];return{done:t,value:e}}function tm(){return this}function em(t){for(var e,s=this;s instanceof Qr;){var a=Gu(s);a.__index__=0,a.__values__=n,e?l.__wrapped__=a:e=a;var l=a;s=s.__wrapped__}return l.__wrapped__=t,e}function nm(){var t=this.__wrapped__;if(t instanceof it){var e=t;return this.__actions__.length&&(e=new it(this)),e=e.reverse(),e.__actions__.push({func:di,args:[Ys],thisArg:n}),new fe(e,this.__chain__)}return this.thru(Ys)}function rm(){return wu(this.__wrapped__,this.__actions__)}var im=si(function(t,e,s){dt.call(t,s)?++t[s]:Ne(t,s,1)});function sm(t,e,s){var a=Y(t)?ja:Yd;return s&&Wt(t,e,s)&&(e=n),a(t,W(e,3))}function om(t,e){var s=Y(t)?Ye:ru;return s(t,W(e,3))}var am=Ou(Qu),um=Ou(Zu);function cm(t,e){return Pt(pi(t,e),1)}function lm(t,e){return Pt(pi(t,e),De)}function fm(t,e,s){return s=s===n?1:G(s),Pt(pi(t,e),s)}function sc(t,e){var s=Y(t)?ce:Ze;return s(t,W(e,3))}function oc(t,e){var s=Y(t)?Bh:nu;return s(t,W(e,3))}var hm=si(function(t,e,s){dt.call(t,s)?t[s].push(e):Ne(t,s,[e])});function dm(t,e,s,a){t=Jt(t)?t:Mn(t),s=s&&!a?G(s):0;var l=t.length;return s<0&&(s=kt(l+s,0)),_i(t)?s<=l&&t.indexOf(e,s)>-1:!!l&&Fn(t,e,s)>-1}var pm=tt(function(t,e,s){var a=-1,l=typeof e=="function",d=Jt(t)?S(t.length):[];return Ze(t,function(v){d[++a]=l?Zt(e,v,s):fr(v,e,s)}),d}),mm=si(function(t,e,s){Ne(t,s,e)});function pi(t,e){var s=Y(t)?wt:cu;return s(t,W(e,3))}function gm(t,e,s,a){return t==null?[]:(Y(e)||(e=e==null?[]:[e]),s=a?n:s,Y(s)||(s=s==null?[]:[s]),du(t,e,s))}var vm=si(function(t,e,s){t[s?0:1].push(e)},function(){return[[],[]]});function ym(t,e,s){var a=Y(t)?us:Ia,l=arguments.length<3;return a(t,W(e,4),s,l,Ze)}function _m(t,e,s){var a=Y(t)?Oh:Ia,l=arguments.length<3;return a(t,W(e,4),s,l,nu)}function wm(t,e){var s=Y(t)?Ye:ru;return s(t,vi(W(e,3)))}function bm(t){var e=Y(t)?Qa:dp;return e(t)}function xm(t,e,s){(s?Wt(t,e,s):e===n)?e=1:e=G(e);var a=Y(t)?Hd:pp;return a(t,e)}function Em(t){var e=Y(t)?Vd:gp;return e(t)}function Am(t){if(t==null)return 0;if(Jt(t))return _i(t)?kn(t):t.length;var e=Mt(t);return e==ye||e==_e?t.size:Fs(t).length}function Tm(t,e,s){var a=Y(t)?cs:vp;return s&&Wt(t,e,s)&&(e=n),a(t,W(e,3))}var Sm=tt(function(t,e){if(t==null)return[];var s=e.length;return s>1&&Wt(t,e[0],e[1])?e=[]:s>2&&Wt(e[0],e[1],e[2])&&(e=[e[0]]),du(t,Pt(e,1),[])}),mi=od||function(){return $t.Date.now()};function Fm(t,e){if(typeof e!="function")throw new le(f);return t=G(t),function(){if(--t<1)return e.apply(this,arguments)}}function ac(t,e,s){return e=s?n:e,e=t&&e==null?t.length:e,Me(t,Ut,n,n,n,n,e)}function uc(t,e){var s;if(typeof e!="function")throw new le(f);return t=G(t),function(){return--t>0&&(s=e.apply(this,arguments)),t<=1&&(e=n),s}}var Gs=tt(function(t,e,s){var a=I;if(s.length){var l=Ge(s,In(Gs));a|=ot}return Me(t,a,e,s,l)}),cc=tt(function(t,e,s){var a=I|j;if(s.length){var l=Ge(s,In(cc));a|=ot}return Me(e,a,t,s,l)});function lc(t,e,s){e=s?n:e;var a=Me(t,$,n,n,n,n,n,e);return a.placeholder=lc.placeholder,a}function fc(t,e,s){e=s?n:e;var a=Me(t,Z,n,n,n,n,n,e);return a.placeholder=fc.placeholder,a}function hc(t,e,s){var a,l,d,v,_,x,k=0,B=!1,R=!1,N=!0;if(typeof t!="function")throw new le(f);e=me(e)||0,bt(s)&&(B=!!s.leading,R="maxWait"in s,d=R?kt(me(s.maxWait)||0,e):d,N="trailing"in s?!!s.trailing:N);function U(St){var Ee=a,He=l;return a=l=n,k=St,v=t.apply(He,Ee),v}function V(St){return k=St,_=gr(rt,e),B?U(St):v}function Q(St){var Ee=St-x,He=St-k,Oc=e-Ee;return R?Nt(Oc,d-He):Oc}function q(St){var Ee=St-x,He=St-k;return x===n||Ee>=e||Ee<0||R&&He>=d}function rt(){var St=mi();if(q(St))return at(St);_=gr(rt,Q(St))}function at(St){return _=n,N&&a?U(St):(a=l=n,v)}function re(){_!==n&&xu(_),k=0,a=x=l=_=n}function Ht(){return _===n?v:at(mi())}function ie(){var St=mi(),Ee=q(St);if(a=arguments,l=this,x=St,Ee){if(_===n)return V(x);if(R)return xu(_),_=gr(rt,e),U(x)}return _===n&&(_=gr(rt,e)),v}return ie.cancel=re,ie.flush=Ht,ie}var Cm=tt(function(t,e){return eu(t,1,e)}),km=tt(function(t,e,s){return eu(t,me(e)||0,s)});function Bm(t){return Me(t,Dt)}function gi(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new le(f);var s=function(){var a=arguments,l=e?e.apply(this,a):a[0],d=s.cache;if(d.has(l))return d.get(l);var v=t.apply(this,a);return s.cache=d.set(l,v)||d,v};return s.cache=new(gi.Cache||Ie),s}gi.Cache=Ie;function vi(t){if(typeof t!="function")throw new le(f);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Om(t){return uc(2,t)}var Rm=yp(function(t,e){e=e.length==1&&Y(e[0])?wt(e[0],te(W())):wt(Pt(e,1),te(W()));var s=e.length;return tt(function(a){for(var l=-1,d=Nt(a.length,s);++l<d;)a[l]=e[l].call(this,a[l]);return Zt(t,this,a)})}),Qs=tt(function(t,e){var s=Ge(e,In(Qs));return Me(t,ot,n,e,s)}),dc=tt(function(t,e){var s=Ge(e,In(dc));return Me(t,xt,n,e,s)}),jm=Le(function(t,e){return Me(t,At,n,n,n,e)});function Dm(t,e){if(typeof t!="function")throw new le(f);return e=e===n?e:G(e),tt(t,e)}function $m(t,e){if(typeof t!="function")throw new le(f);return e=e==null?0:kt(G(e),0),tt(function(s){var a=s[e],l=nn(s,0,e);return a&&Xe(l,a),Zt(t,this,l)})}function Pm(t,e,s){var a=!0,l=!0;if(typeof t!="function")throw new le(f);return bt(s)&&(a="leading"in s?!!s.leading:a,l="trailing"in s?!!s.trailing:l),hc(t,e,{leading:a,maxWait:e,trailing:l})}function Im(t){return ac(t,1)}function Nm(t,e){return Qs(Ps(e),t)}function Mm(){if(!arguments.length)return[];var t=arguments[0];return Y(t)?t:[t]}function Lm(t){return he(t,A)}function Um(t,e){return e=typeof e=="function"?e:n,he(t,A,e)}function zm(t){return he(t,y|A)}function Wm(t,e){return e=typeof e=="function"?e:n,he(t,y|A,e)}function Hm(t,e){return e==null||tu(t,e,Ot(e))}function xe(t,e){return t===e||t!==t&&e!==e}var Vm=ci(As),qm=ci(function(t,e){return t>=e}),yn=ou(function(){return arguments}())?ou:function(t){return Et(t)&&dt.call(t,"callee")&&!qa.call(t,"callee")},Y=S.isArray,Km=Fa?te(Fa):ep;function Jt(t){return t!=null&&yi(t.length)&&!ze(t)}function Tt(t){return Et(t)&&Jt(t)}function Jm(t){return t===!0||t===!1||Et(t)&&zt(t)==un}var rn=ud||co,Ym=Ca?te(Ca):np;function Xm(t){return Et(t)&&t.nodeType===1&&!vr(t)}function Gm(t){if(t==null)return!0;if(Jt(t)&&(Y(t)||typeof t=="string"||typeof t.splice=="function"||rn(t)||Nn(t)||yn(t)))return!t.length;var e=Mt(t);if(e==ye||e==_e)return!t.size;if(mr(t))return!Fs(t).length;for(var s in t)if(dt.call(t,s))return!1;return!0}function Qm(t,e){return hr(t,e)}function Zm(t,e,s){s=typeof s=="function"?s:n;var a=s?s(t,e):n;return a===n?hr(t,e,n,s):!!a}function Zs(t){if(!Et(t))return!1;var e=zt(t);return e==An||e==zi||typeof t.message=="string"&&typeof t.name=="string"&&!vr(t)}function tg(t){return typeof t=="number"&&Ja(t)}function ze(t){if(!bt(t))return!1;var e=zt(t);return e==Or||e==ea||e==En||e==Af}function pc(t){return typeof t=="number"&&t==G(t)}function yi(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Fe}function bt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Et(t){return t!=null&&typeof t=="object"}var mc=ka?te(ka):ip;function eg(t,e){return t===e||Ss(t,e,Ws(e))}function ng(t,e,s){return s=typeof s=="function"?s:n,Ss(t,e,Ws(e),s)}function rg(t){return gc(t)&&t!=+t}function ig(t){if(Up(t))throw new J(c);return au(t)}function sg(t){return t===null}function og(t){return t==null}function gc(t){return typeof t=="number"||Et(t)&&zt(t)==Qn}function vr(t){if(!Et(t)||zt(t)!=$e)return!1;var e=Vr(t);if(e===null)return!0;var s=dt.call(e,"constructor")&&e.constructor;return typeof s=="function"&&s instanceof s&&Ur.call(s)==nd}var to=Ba?te(Ba):sp;function ag(t){return pc(t)&&t>=-Fe&&t<=Fe}var vc=Oa?te(Oa):op;function _i(t){return typeof t=="string"||!Y(t)&&Et(t)&&zt(t)==tr}function ne(t){return typeof t=="symbol"||Et(t)&&zt(t)==Rr}var Nn=Ra?te(Ra):ap;function ug(t){return t===n}function cg(t){return Et(t)&&Mt(t)==er}function lg(t){return Et(t)&&zt(t)==Sf}var fg=ci(Cs),hg=ci(function(t,e){return t<=e});function yc(t){if(!t)return[];if(Jt(t))return _i(t)?we(t):Kt(t);if(ir&&t[ir])return Hh(t[ir]());var e=Mt(t),s=e==ye?ms:e==_e?Nr:Mn;return s(t)}function We(t){if(!t)return t===0?t:0;if(t=me(t),t===De||t===-De){var e=t<0?-1:1;return e*kr}return t===t?t:0}function G(t){var e=We(t),s=e%1;return e===e?s?e-s:e:0}function _c(t){return t?pn(G(t),0,Qt):0}function me(t){if(typeof t=="number")return t;if(ne(t))return an;if(bt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=bt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Na(t);var s=Kf.test(t);return s||Yf.test(t)?Fh(t.slice(2),s?2:8):qf.test(t)?an:+t}function wc(t){return Be(t,Yt(t))}function dg(t){return t?pn(G(t),-Fe,Fe):t===0?t:0}function ht(t){return t==null?"":ee(t)}var pg=$n(function(t,e){if(mr(e)||Jt(e)){Be(e,Ot(e),t);return}for(var s in e)dt.call(e,s)&&cr(t,s,e[s])}),bc=$n(function(t,e){Be(e,Yt(e),t)}),wi=$n(function(t,e,s,a){Be(e,Yt(e),t,a)}),mg=$n(function(t,e,s,a){Be(e,Ot(e),t,a)}),gg=Le(bs);function vg(t,e){var s=Dn(t);return e==null?s:Za(s,e)}var yg=tt(function(t,e){t=pt(t);var s=-1,a=e.length,l=a>2?e[2]:n;for(l&&Wt(e[0],e[1],l)&&(a=1);++s<a;)for(var d=e[s],v=Yt(d),_=-1,x=v.length;++_<x;){var k=v[_],B=t[k];(B===n||xe(B,On[k])&&!dt.call(t,k))&&(t[k]=d[k])}return t}),_g=tt(function(t){return t.push(n,Nu),Zt(xc,n,t)});function wg(t,e){return Da(t,W(e,3),ke)}function bg(t,e){return Da(t,W(e,3),Es)}function xg(t,e){return t==null?t:xs(t,W(e,3),Yt)}function Eg(t,e){return t==null?t:iu(t,W(e,3),Yt)}function Ag(t,e){return t&&ke(t,W(e,3))}function Tg(t,e){return t&&Es(t,W(e,3))}function Sg(t){return t==null?[]:ei(t,Ot(t))}function Fg(t){return t==null?[]:ei(t,Yt(t))}function eo(t,e,s){var a=t==null?n:mn(t,e);return a===n?s:a}function Cg(t,e){return t!=null&&Uu(t,e,Gd)}function no(t,e){return t!=null&&Uu(t,e,Qd)}var kg=ju(function(t,e,s){e!=null&&typeof e.toString!="function"&&(e=zr.call(e)),t[e]=s},io(Xt)),Bg=ju(function(t,e,s){e!=null&&typeof e.toString!="function"&&(e=zr.call(e)),dt.call(t,e)?t[e].push(s):t[e]=[s]},W),Og=tt(fr);function Ot(t){return Jt(t)?Ga(t):Fs(t)}function Yt(t){return Jt(t)?Ga(t,!0):up(t)}function Rg(t,e){var s={};return e=W(e,3),ke(t,function(a,l,d){Ne(s,e(a,l,d),a)}),s}function jg(t,e){var s={};return e=W(e,3),ke(t,function(a,l,d){Ne(s,l,e(a,l,d))}),s}var Dg=$n(function(t,e,s){ni(t,e,s)}),xc=$n(function(t,e,s,a){ni(t,e,s,a)}),$g=Le(function(t,e){var s={};if(t==null)return s;var a=!1;e=wt(e,function(d){return d=en(d,t),a||(a=d.length>1),d}),Be(t,Us(t),s),a&&(s=he(s,y|E|A,kp));for(var l=e.length;l--;)js(s,e[l]);return s});function Pg(t,e){return Ec(t,vi(W(e)))}var Ig=Le(function(t,e){return t==null?{}:lp(t,e)});function Ec(t,e){if(t==null)return{};var s=wt(Us(t),function(a){return[a]});return e=W(e),pu(t,s,function(a,l){return e(a,l[0])})}function Ng(t,e,s){e=en(e,t);var a=-1,l=e.length;for(l||(l=1,t=n);++a<l;){var d=t==null?n:t[Oe(e[a])];d===n&&(a=l,d=s),t=ze(d)?d.call(t):d}return t}function Mg(t,e,s){return t==null?t:dr(t,e,s)}function Lg(t,e,s,a){return a=typeof a=="function"?a:n,t==null?t:dr(t,e,s,a)}var Ac=Pu(Ot),Tc=Pu(Yt);function Ug(t,e,s){var a=Y(t),l=a||rn(t)||Nn(t);if(e=W(e,4),s==null){var d=t&&t.constructor;l?s=a?new d:[]:bt(t)?s=ze(d)?Dn(Vr(t)):{}:s={}}return(l?ce:ke)(t,function(v,_,x){return e(s,v,_,x)}),s}function zg(t,e){return t==null?!0:js(t,e)}function Wg(t,e,s){return t==null?t:_u(t,e,Ps(s))}function Hg(t,e,s,a){return a=typeof a=="function"?a:n,t==null?t:_u(t,e,Ps(s),a)}function Mn(t){return t==null?[]:ps(t,Ot(t))}function Vg(t){return t==null?[]:ps(t,Yt(t))}function qg(t,e,s){return s===n&&(s=e,e=n),s!==n&&(s=me(s),s=s===s?s:0),e!==n&&(e=me(e),e=e===e?e:0),pn(me(t),e,s)}function Kg(t,e,s){return e=We(e),s===n?(s=e,e=0):s=We(s),t=me(t),Zd(t,e,s)}function Jg(t,e,s){if(s&&typeof s!="boolean"&&Wt(t,e,s)&&(e=s=n),s===n&&(typeof e=="boolean"?(s=e,e=n):typeof t=="boolean"&&(s=t,t=n)),t===n&&e===n?(t=0,e=1):(t=We(t),e===n?(e=t,t=0):e=We(e)),t>e){var a=t;t=e,e=a}if(s||t%1||e%1){var l=Ya();return Nt(t+l*(e-t+Sh("1e-"+((l+"").length-1))),e)}return Bs(t,e)}var Yg=Pn(function(t,e,s){return e=e.toLowerCase(),t+(s?Sc(e):e)});function Sc(t){return ro(ht(t).toLowerCase())}function Fc(t){return t=ht(t),t&&t.replace(Gf,Mh).replace(gh,"")}function Xg(t,e,s){t=ht(t),e=ee(e);var a=t.length;s=s===n?a:pn(G(s),0,a);var l=s;return s-=e.length,s>=0&&t.slice(s,l)==e}function Gg(t){return t=ht(t),t&&Of.test(t)?t.replace(ia,Lh):t}function Qg(t){return t=ht(t),t&&If.test(t)?t.replace(Qi,"\\$&"):t}var Zg=Pn(function(t,e,s){return t+(s?"-":"")+e.toLowerCase()}),tv=Pn(function(t,e,s){return t+(s?" ":"")+e.toLowerCase()}),ev=Bu("toLowerCase");function nv(t,e,s){t=ht(t),e=G(e);var a=e?kn(t):0;if(!e||a>=e)return t;var l=(e-a)/2;return ui(Yr(l),s)+t+ui(Jr(l),s)}function rv(t,e,s){t=ht(t),e=G(e);var a=e?kn(t):0;return e&&a<e?t+ui(e-a,s):t}function iv(t,e,s){t=ht(t),e=G(e);var a=e?kn(t):0;return e&&a<e?ui(e-a,s)+t:t}function sv(t,e,s){return s||e==null?e=0:e&&(e=+e),hd(ht(t).replace(Zi,""),e||0)}function ov(t,e,s){return(s?Wt(t,e,s):e===n)?e=1:e=G(e),Os(ht(t),e)}function av(){var t=arguments,e=ht(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var uv=Pn(function(t,e,s){return t+(s?"_":"")+e.toLowerCase()});function cv(t,e,s){return s&&typeof s!="number"&&Wt(t,e,s)&&(e=s=n),s=s===n?Qt:s>>>0,s?(t=ht(t),t&&(typeof e=="string"||e!=null&&!to(e))&&(e=ee(e),!e&&Cn(t))?nn(we(t),0,s):t.split(e,s)):[]}var lv=Pn(function(t,e,s){return t+(s?" ":"")+ro(e)});function fv(t,e,s){return t=ht(t),s=s==null?0:pn(G(s),0,t.length),e=ee(e),t.slice(s,s+e.length)==e}function hv(t,e,s){var a=h.templateSettings;s&&Wt(t,e,s)&&(e=n),t=ht(t),e=wi({},e,a,Iu);var l=wi({},e.imports,a.imports,Iu),d=Ot(l),v=ps(l,d),_,x,k=0,B=e.interpolate||jr,R="__p += '",N=gs((e.escape||jr).source+"|"+B.source+"|"+(B===sa?Vf:jr).source+"|"+(e.evaluate||jr).source+"|$","g"),U="//# sourceURL="+(dt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bh+"]")+`
`;t.replace(N,function(q,rt,at,re,Ht,ie){return at||(at=re),R+=t.slice(k,ie).replace(Qf,Uh),rt&&(_=!0,R+=`' +
__e(`+rt+`) +
'`),Ht&&(x=!0,R+=`';
`+Ht+`;
__p += '`),at&&(R+=`' +
((__t = (`+at+`)) == null ? '' : __t) +
'`),k=ie+q.length,q}),R+=`';
`;var V=dt.call(e,"variable")&&e.variable;if(!V)R=`with (obj) {
`+R+`
}
`;else if(Wf.test(V))throw new J(p);R=(x?R.replace(Ff,""):R).replace(Cf,"$1").replace(kf,"$1;"),R="function("+(V||"obj")+`) {
`+(V?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_?", __e = _.escape":"")+(x?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+R+`return __p
}`;var Q=kc(function(){return lt(d,U+"return "+R).apply(n,v)});if(Q.source=R,Zs(Q))throw Q;return Q}function dv(t){return ht(t).toLowerCase()}function pv(t){return ht(t).toUpperCase()}function mv(t,e,s){if(t=ht(t),t&&(s||e===n))return Na(t);if(!t||!(e=ee(e)))return t;var a=we(t),l=we(e),d=Ma(a,l),v=La(a,l)+1;return nn(a,d,v).join("")}function gv(t,e,s){if(t=ht(t),t&&(s||e===n))return t.slice(0,za(t)+1);if(!t||!(e=ee(e)))return t;var a=we(t),l=La(a,we(e))+1;return nn(a,0,l).join("")}function vv(t,e,s){if(t=ht(t),t&&(s||e===n))return t.replace(Zi,"");if(!t||!(e=ee(e)))return t;var a=we(t),l=Ma(a,we(e));return nn(a,l).join("")}function yv(t,e){var s=nt,a=ct;if(bt(e)){var l="separator"in e?e.separator:l;s="length"in e?G(e.length):s,a="omission"in e?ee(e.omission):a}t=ht(t);var d=t.length;if(Cn(t)){var v=we(t);d=v.length}if(s>=d)return t;var _=s-kn(a);if(_<1)return a;var x=v?nn(v,0,_).join(""):t.slice(0,_);if(l===n)return x+a;if(v&&(_+=x.length-_),to(l)){if(t.slice(_).search(l)){var k,B=x;for(l.global||(l=gs(l.source,ht(oa.exec(l))+"g")),l.lastIndex=0;k=l.exec(B);)var R=k.index;x=x.slice(0,R===n?_:R)}}else if(t.indexOf(ee(l),_)!=_){var N=x.lastIndexOf(l);N>-1&&(x=x.slice(0,N))}return x+a}function _v(t){return t=ht(t),t&&Bf.test(t)?t.replace(ra,Jh):t}var wv=Pn(function(t,e,s){return t+(s?" ":"")+e.toUpperCase()}),ro=Bu("toUpperCase");function Cc(t,e,s){return t=ht(t),e=s?n:e,e===n?Wh(t)?Gh(t):Dh(t):t.match(e)||[]}var kc=tt(function(t,e){try{return Zt(t,n,e)}catch(s){return Zs(s)?s:new J(s)}}),bv=Le(function(t,e){return ce(e,function(s){s=Oe(s),Ne(t,s,Gs(t[s],t))}),t});function xv(t){var e=t==null?0:t.length,s=W();return t=e?wt(t,function(a){if(typeof a[1]!="function")throw new le(f);return[s(a[0]),a[1]]}):[],tt(function(a){for(var l=-1;++l<e;){var d=t[l];if(Zt(d[0],this,a))return Zt(d[1],this,a)}})}function Ev(t){return Jd(he(t,y))}function io(t){return function(){return t}}function Av(t,e){return t==null||t!==t?e:t}var Tv=Ru(),Sv=Ru(!0);function Xt(t){return t}function so(t){return uu(typeof t=="function"?t:he(t,y))}function Fv(t){return lu(he(t,y))}function Cv(t,e){return fu(t,he(e,y))}var kv=tt(function(t,e){return function(s){return fr(s,t,e)}}),Bv=tt(function(t,e){return function(s){return fr(t,s,e)}});function oo(t,e,s){var a=Ot(e),l=ei(e,a);s==null&&!(bt(e)&&(l.length||!a.length))&&(s=e,e=t,t=this,l=ei(e,Ot(e)));var d=!(bt(s)&&"chain"in s)||!!s.chain,v=ze(t);return ce(l,function(_){var x=e[_];t[_]=x,v&&(t.prototype[_]=function(){var k=this.__chain__;if(d||k){var B=t(this.__wrapped__),R=B.__actions__=Kt(this.__actions__);return R.push({func:x,args:arguments,thisArg:t}),B.__chain__=k,B}return x.apply(t,Xe([this.value()],arguments))})}),t}function Ov(){return $t._===this&&($t._=rd),this}function ao(){}function Rv(t){return t=G(t),tt(function(e){return hu(e,t)})}var jv=Ns(wt),Dv=Ns(ja),$v=Ns(cs);function Bc(t){return Vs(t)?ls(Oe(t)):fp(t)}function Pv(t){return function(e){return t==null?n:mn(t,e)}}var Iv=Du(),Nv=Du(!0);function uo(){return[]}function co(){return!1}function Mv(){return{}}function Lv(){return""}function Uv(){return!0}function zv(t,e){if(t=G(t),t<1||t>Fe)return[];var s=Qt,a=Nt(t,Qt);e=W(e),t-=Qt;for(var l=ds(a,e);++s<t;)e(s);return l}function Wv(t){return Y(t)?wt(t,Oe):ne(t)?[t]:Kt(Xu(ht(t)))}function Hv(t){var e=++ed;return ht(t)+e}var Vv=ai(function(t,e){return t+e},0),qv=Ms("ceil"),Kv=ai(function(t,e){return t/e},1),Jv=Ms("floor");function Yv(t){return t&&t.length?ti(t,Xt,As):n}function Xv(t,e){return t&&t.length?ti(t,W(e,2),As):n}function Gv(t){return Pa(t,Xt)}function Qv(t,e){return Pa(t,W(e,2))}function Zv(t){return t&&t.length?ti(t,Xt,Cs):n}function ty(t,e){return t&&t.length?ti(t,W(e,2),Cs):n}var ey=ai(function(t,e){return t*e},1),ny=Ms("round"),ry=ai(function(t,e){return t-e},0);function iy(t){return t&&t.length?hs(t,Xt):0}function sy(t,e){return t&&t.length?hs(t,W(e,2)):0}return h.after=Fm,h.ary=ac,h.assign=pg,h.assignIn=bc,h.assignInWith=wi,h.assignWith=mg,h.at=gg,h.before=uc,h.bind=Gs,h.bindAll=bv,h.bindKey=cc,h.castArray=Mm,h.chain=ic,h.chunk=Jp,h.compact=Yp,h.concat=Xp,h.cond=xv,h.conforms=Ev,h.constant=io,h.countBy=im,h.create=vg,h.curry=lc,h.curryRight=fc,h.debounce=hc,h.defaults=yg,h.defaultsDeep=_g,h.defer=Cm,h.delay=km,h.difference=Gp,h.differenceBy=Qp,h.differenceWith=Zp,h.drop=t0,h.dropRight=e0,h.dropRightWhile=n0,h.dropWhile=r0,h.fill=i0,h.filter=om,h.flatMap=cm,h.flatMapDeep=lm,h.flatMapDepth=fm,h.flatten=tc,h.flattenDeep=s0,h.flattenDepth=o0,h.flip=Bm,h.flow=Tv,h.flowRight=Sv,h.fromPairs=a0,h.functions=Sg,h.functionsIn=Fg,h.groupBy=hm,h.initial=c0,h.intersection=l0,h.intersectionBy=f0,h.intersectionWith=h0,h.invert=kg,h.invertBy=Bg,h.invokeMap=pm,h.iteratee=so,h.keyBy=mm,h.keys=Ot,h.keysIn=Yt,h.map=pi,h.mapKeys=Rg,h.mapValues=jg,h.matches=Fv,h.matchesProperty=Cv,h.memoize=gi,h.merge=Dg,h.mergeWith=xc,h.method=kv,h.methodOf=Bv,h.mixin=oo,h.negate=vi,h.nthArg=Rv,h.omit=$g,h.omitBy=Pg,h.once=Om,h.orderBy=gm,h.over=jv,h.overArgs=Rm,h.overEvery=Dv,h.overSome=$v,h.partial=Qs,h.partialRight=dc,h.partition=vm,h.pick=Ig,h.pickBy=Ec,h.property=Bc,h.propertyOf=Pv,h.pull=g0,h.pullAll=nc,h.pullAllBy=v0,h.pullAllWith=y0,h.pullAt=_0,h.range=Iv,h.rangeRight=Nv,h.rearg=jm,h.reject=wm,h.remove=w0,h.rest=Dm,h.reverse=Ys,h.sampleSize=xm,h.set=Mg,h.setWith=Lg,h.shuffle=Em,h.slice=b0,h.sortBy=Sm,h.sortedUniq=C0,h.sortedUniqBy=k0,h.split=cv,h.spread=$m,h.tail=B0,h.take=O0,h.takeRight=R0,h.takeRightWhile=j0,h.takeWhile=D0,h.tap=Y0,h.throttle=Pm,h.thru=di,h.toArray=yc,h.toPairs=Ac,h.toPairsIn=Tc,h.toPath=Wv,h.toPlainObject=wc,h.transform=Ug,h.unary=Im,h.union=$0,h.unionBy=P0,h.unionWith=I0,h.uniq=N0,h.uniqBy=M0,h.uniqWith=L0,h.unset=zg,h.unzip=Xs,h.unzipWith=rc,h.update=Wg,h.updateWith=Hg,h.values=Mn,h.valuesIn=Vg,h.without=U0,h.words=Cc,h.wrap=Nm,h.xor=z0,h.xorBy=W0,h.xorWith=H0,h.zip=V0,h.zipObject=q0,h.zipObjectDeep=K0,h.zipWith=J0,h.entries=Ac,h.entriesIn=Tc,h.extend=bc,h.extendWith=wi,oo(h,h),h.add=Vv,h.attempt=kc,h.camelCase=Yg,h.capitalize=Sc,h.ceil=qv,h.clamp=qg,h.clone=Lm,h.cloneDeep=zm,h.cloneDeepWith=Wm,h.cloneWith=Um,h.conformsTo=Hm,h.deburr=Fc,h.defaultTo=Av,h.divide=Kv,h.endsWith=Xg,h.eq=xe,h.escape=Gg,h.escapeRegExp=Qg,h.every=sm,h.find=am,h.findIndex=Qu,h.findKey=wg,h.findLast=um,h.findLastIndex=Zu,h.findLastKey=bg,h.floor=Jv,h.forEach=sc,h.forEachRight=oc,h.forIn=xg,h.forInRight=Eg,h.forOwn=Ag,h.forOwnRight=Tg,h.get=eo,h.gt=Vm,h.gte=qm,h.has=Cg,h.hasIn=no,h.head=ec,h.identity=Xt,h.includes=dm,h.indexOf=u0,h.inRange=Kg,h.invoke=Og,h.isArguments=yn,h.isArray=Y,h.isArrayBuffer=Km,h.isArrayLike=Jt,h.isArrayLikeObject=Tt,h.isBoolean=Jm,h.isBuffer=rn,h.isDate=Ym,h.isElement=Xm,h.isEmpty=Gm,h.isEqual=Qm,h.isEqualWith=Zm,h.isError=Zs,h.isFinite=tg,h.isFunction=ze,h.isInteger=pc,h.isLength=yi,h.isMap=mc,h.isMatch=eg,h.isMatchWith=ng,h.isNaN=rg,h.isNative=ig,h.isNil=og,h.isNull=sg,h.isNumber=gc,h.isObject=bt,h.isObjectLike=Et,h.isPlainObject=vr,h.isRegExp=to,h.isSafeInteger=ag,h.isSet=vc,h.isString=_i,h.isSymbol=ne,h.isTypedArray=Nn,h.isUndefined=ug,h.isWeakMap=cg,h.isWeakSet=lg,h.join=d0,h.kebabCase=Zg,h.last=pe,h.lastIndexOf=p0,h.lowerCase=tv,h.lowerFirst=ev,h.lt=fg,h.lte=hg,h.max=Yv,h.maxBy=Xv,h.mean=Gv,h.meanBy=Qv,h.min=Zv,h.minBy=ty,h.stubArray=uo,h.stubFalse=co,h.stubObject=Mv,h.stubString=Lv,h.stubTrue=Uv,h.multiply=ey,h.nth=m0,h.noConflict=Ov,h.noop=ao,h.now=mi,h.pad=nv,h.padEnd=rv,h.padStart=iv,h.parseInt=sv,h.random=Jg,h.reduce=ym,h.reduceRight=_m,h.repeat=ov,h.replace=av,h.result=Ng,h.round=ny,h.runInContext=b,h.sample=bm,h.size=Am,h.snakeCase=uv,h.some=Tm,h.sortedIndex=x0,h.sortedIndexBy=E0,h.sortedIndexOf=A0,h.sortedLastIndex=T0,h.sortedLastIndexBy=S0,h.sortedLastIndexOf=F0,h.startCase=lv,h.startsWith=fv,h.subtract=ry,h.sum=iy,h.sumBy=sy,h.template=hv,h.times=zv,h.toFinite=We,h.toInteger=G,h.toLength=_c,h.toLower=dv,h.toNumber=me,h.toSafeInteger=dg,h.toString=ht,h.toUpper=pv,h.trim=mv,h.trimEnd=gv,h.trimStart=vv,h.truncate=yv,h.unescape=_v,h.uniqueId=Hv,h.upperCase=wv,h.upperFirst=ro,h.each=sc,h.eachRight=oc,h.first=ec,oo(h,function(){var t={};return ke(h,function(e,s){dt.call(h.prototype,s)||(t[s]=e)}),t}(),{chain:!1}),h.VERSION=o,ce(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){h[t].placeholder=h}),ce(["drop","take"],function(t,e){it.prototype[t]=function(s){s=s===n?1:kt(G(s),0);var a=this.__filtered__&&!e?new it(this):this.clone();return a.__filtered__?a.__takeCount__=Nt(s,a.__takeCount__):a.__views__.push({size:Nt(s,Qt),type:t+(a.__dir__<0?"Right":"")}),a},it.prototype[t+"Right"]=function(s){return this.reverse()[t](s).reverse()}}),ce(["filter","map","takeWhile"],function(t,e){var s=e+1,a=s==Xn||s==Cr;it.prototype[t]=function(l){var d=this.clone();return d.__iteratees__.push({iteratee:W(l,3),type:s}),d.__filtered__=d.__filtered__||a,d}}),ce(["head","last"],function(t,e){var s="take"+(e?"Right":"");it.prototype[t]=function(){return this[s](1).value()[0]}}),ce(["initial","tail"],function(t,e){var s="drop"+(e?"":"Right");it.prototype[t]=function(){return this.__filtered__?new it(this):this[s](1)}}),it.prototype.compact=function(){return this.filter(Xt)},it.prototype.find=function(t){return this.filter(t).head()},it.prototype.findLast=function(t){return this.reverse().find(t)},it.prototype.invokeMap=tt(function(t,e){return typeof t=="function"?new it(this):this.map(function(s){return fr(s,t,e)})}),it.prototype.reject=function(t){return this.filter(vi(W(t)))},it.prototype.slice=function(t,e){t=G(t);var s=this;return s.__filtered__&&(t>0||e<0)?new it(s):(t<0?s=s.takeRight(-t):t&&(s=s.drop(t)),e!==n&&(e=G(e),s=e<0?s.dropRight(-e):s.take(e-t)),s)},it.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},it.prototype.toArray=function(){return this.take(Qt)},ke(it.prototype,function(t,e){var s=/^(?:filter|find|map|reject)|While$/.test(e),a=/^(?:head|last)$/.test(e),l=h[a?"take"+(e=="last"?"Right":""):e],d=a||/^find/.test(e);!l||(h.prototype[e]=function(){var v=this.__wrapped__,_=a?[1]:arguments,x=v instanceof it,k=_[0],B=x||Y(v),R=function(rt){var at=l.apply(h,Xe([rt],_));return a&&N?at[0]:at};B&&s&&typeof k=="function"&&k.length!=1&&(x=B=!1);var N=this.__chain__,U=!!this.__actions__.length,V=d&&!N,Q=x&&!U;if(!d&&B){v=Q?v:new it(this);var q=t.apply(v,_);return q.__actions__.push({func:di,args:[R],thisArg:n}),new fe(q,N)}return V&&Q?t.apply(this,_):(q=this.thru(R),V?a?q.value()[0]:q.value():q)})}),ce(["pop","push","shift","sort","splice","unshift"],function(t){var e=Mr[t],s=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",a=/^(?:pop|shift)$/.test(t);h.prototype[t]=function(){var l=arguments;if(a&&!this.__chain__){var d=this.value();return e.apply(Y(d)?d:[],l)}return this[s](function(v){return e.apply(Y(v)?v:[],l)})}}),ke(it.prototype,function(t,e){var s=h[e];if(s){var a=s.name+"";dt.call(jn,a)||(jn[a]=[]),jn[a].push({name:e,func:s})}}),jn[oi(n,j).name]=[{name:"wrapper",func:n}],it.prototype.clone=_d,it.prototype.reverse=wd,it.prototype.value=bd,h.prototype.at=X0,h.prototype.chain=G0,h.prototype.commit=Q0,h.prototype.next=Z0,h.prototype.plant=em,h.prototype.reverse=nm,h.prototype.toJSON=h.prototype.valueOf=h.prototype.value=rm,h.prototype.first=h.prototype.head,ir&&(h.prototype[ir]=tm),h},Bn=Qh();ln?((ln.exports=Bn)._=Bn,ss._=Bn):$t._=Bn}).call(_r)})(ko,ko.exports);let Ei=[];const Jl=r=>{for(const i of Ei)if(i.status==="running")try{for(const n of i.funcs)n(r-i.startTime)}catch(n){i.destroy(),console.error(n)}requestAnimationFrame(Jl)};requestAnimationFrame(Jl);class Ho{constructor(){T(this,"funcs",[]),T(this,"status","stop"),T(this,"startTime",0),this.status="running",Ei.push(this),requestAnimationFrame(i=>this.startTime=i)}add(i,n=!1){return n?this.funcs.unshift(i):this.funcs.push(i),this}remove(i){const n=this.funcs.findIndex(o=>o===i);if(n===-1)throw new ReferenceError("You are going to remove nonexistent ticker function.");return this.funcs.splice(n,1),this}clear(){this.funcs=[]}destroy(){this.clear(),this.stop()}stop(){this.status="stop",Ei=Ei.filter(i=>i!==this)}}const O1={move:[],moveend:[],movestart:[],resize:[],resizeend:[],resizestart:[],rotate:[],rotateend:[],rotatestart:[],shake:[],shakeend:[],shakestart:[],start:[],end:[],animating:[]};async function Pi(r){await new Promise(i=>setTimeout(i,r))}class Ii{constructor(i){T(this,"timing"),T(this,"shakeTiming"),T(this,"path"),T(this,"ticker",new Ho),T(this,"custom",{}),T(this,"relation","absolute"),T(this,"easeTime",0),T(this,"size",1),T(this,"angle",0),T(this,"game"),T(this,"listener",ko.exports.cloneDeep(O1)),T(this,"targetValue",{system:{move:[0,0],moveAs:[0,0],resize:0,rotate:0,shake:0},custom:{}}),T(this,"animateFn",{system:{move:[()=>0,()=>0],moveAs:()=>0,resize:()=>0,rotate:()=>0,shake:()=>0},custom:{}}),T(this,"ox",0),T(this,"oy",0),T(this,"sx",0),T(this,"sy",0),T(this,"animating",{}),this.game=i,this.timing=n=>n,this.shakeTiming=n=>n,this.path=n=>[n,n],this.animating={move:!1,scale:!1,rotate:!1,shake:!1},this.ticker.add(()=>{const{animating:n}=this.listener;for(const o of n)o(this,"all")})}get x(){return this.ox+this.sx}get y(){return this.oy+this.sy}mode(i,n=!1){return n?this.shakeTiming=i:this.timing=i,this}time(i){return this.easeTime=i,this}relative(){return this.relation="relative",this}absolute(){return this.relation="absolute",this}move(i,n){return this.animating.move&&this.end(!0,"move"),this.applySys("ox",i,"move"),this.applySys("oy",n,"move"),this}rotate(i){return this.applySys("angle",i,"rotate"),this}scale(i){return this.applySys("size",i,"resize"),this}shake(i,n){var o,u;this.animating.shake===!0&&this.end(!0,"shake"),this.animating.shake=!0;const{easeTime:c,shakeTiming:f}=this,p=(u=(o=this.game)==null?void 0:o.time)!=null?u:Date.now();this.hook("start","shakestart");const g=()=>{var m,w;const y=((w=(m=this.game)==null?void 0:m.time)!=null?w:Date.now())-p;y>c&&(this.ticker.remove(g),this.animating.shake=!1,this.sx=0,this.sy=0,this.hook("end","shakeend"));const E=y/c,A=f(E);this.sx=A*i,this.sy=A*n};return this.ticker.add(g),this}moveAs(i){var n,o;this.animating.moveAs&&this.end(!0,"moveAs"),this.animating.moveAs=!0,this.path=i;const{easeTime:u,relation:c,timing:f}=this,p=(o=(n=this.game)==null?void 0:n.time)!=null?o:Date.now(),[g,m]=[this.x,this.y],[w,y]=(()=>{if(c==="absolute")return i(1);{const[A,F]=i(1);return[g+A,m+F]}})();this.hook("start","movestart");const E=()=>{var A,F;const D=((F=(A=this.game)==null?void 0:A.time)!=null?F:Date.now())-p;if(D>u){this.ticker.remove(E),this.animating.move=!1,this.ox=w,this.oy=y,this.hook("end","moveend");return}const I=D/u,[j,P]=i(f(I));c==="absolute"?(this.ox=j,this.oy=P):(this.ox=g+j,this.oy=m+P)};return this.ticker.add(E,!0),this.animateFn.system.moveAs=E,this.targetValue.system.moveAs=[w,y],this}async all(){if(Object.values(this.animating).every(i=>i===!0))return this.error("There is no animates to be waited.");await new Promise(i=>{const n=()=>{Object.values(this.animating).every(o=>o===!1)&&(this.unlisten("end",n),i("all animated."))};this.listen("end",n)})}async n(i){const n=Object.values(this.animating).filter(u=>u===!0).length;if(n<i)return this.error(`You are trying to wait ${i} animate, but there are only ${n} animate animating.`);let o=0;await new Promise(u=>{const c=()=>{o++,o===i&&(this.unlisten("end",c),u(`${i} animated.`))};this.listen("end",c)})}async w(i){if(this.animating[i]===!1)return this.error(`The ${i} animate is not animating.`);await new Promise(n=>{const o=()=>{this.animating[i]===!1&&(this.unlisten("end",o),n(`${i} animated.`))};this.listen("end",o)})}listen(i,n){this.listener[i].push(n)}unlisten(i,n){const o=this.listener[i].findIndex(u=>u===n);if(o===-1)return this.error("You are trying to remove a nonexistent listener.");this.listener[i].splice(o,1)}register(i,n){if(typeof this.custom[i]=="number")return this.error(`Property ${i} has been regietered twice.`,"reregister");this.custom[i]=n,this.animating[i]=!1}apply(i,n,o=!1){var u,c;this.animating[i]===!0&&this.end(!1,i),i in this.custom||this.error(`You are trying to execute nonexistent property ${i}.`),this.animating[i]=!0;const f=this.custom[i],p=(c=(u=this.game)==null?void 0:u.time)!=null?c:Date.now(),{timing:g,relation:m,easeTime:w}=this,y=m==="absolute"?n-f:n;this.hook("start");const E=()=>{var A,F;const D=((F=(A=this.game)==null?void 0:A.time)!=null?F:Date.now())-p;if(D>w){this.end(!1,i);return}const I=D/w,j=g(I);this.custom[i]=f+j*y};return this.ticker.add(E,o),this.animateFn.custom[i]=E,this.targetValue.custom[i]=y+f,this}applySys(i,n,o){var u,c;o!=="move"&&this.animating[o]===!0&&this.end(!0,o),this.animating[o]=!0;const f=this[i],p=(c=(u=this.game)==null?void 0:u.time)!=null?c:Date.now(),g=this.timing,m=this.relation,w=this.easeTime,y=m==="absolute"?n-f:n;this.hook("start",`${o}start`);const E=()=>{var A,F;const D=((F=(A=this.game)==null?void 0:A.time)!=null?F:Date.now())-p;if(D>w){this.end(!0,o);return}const I=D/w,j=g(I);this[i]=f+y*j,i!=="oy"&&this.hook(o)};this.ticker.add(E,!0),i==="ox"?this.animateFn.system.move[0]=E:i==="oy"?this.animateFn.system.move[1]=E:this.animateFn.system[o]=E,o==="move"?(i==="ox"&&(this.targetValue.system.move[0]=y+f),i==="oy"&&(this.targetValue.system.move[1]=y+f)):o!=="shake"&&(this.targetValue.system[o]=y+f)}error(i,n){throw n==="repeat"?new Error(`Cannot execute the same animation twice. Info: ${i}`):n==="reregister"?new Error(`Cannot register a animated property twice. Info: ${i}`):new Error(i)}hook(...i){const n=Object.entries(this.listener).filter(o=>i.includes(o[0]));for(const[o,u]of n)for(const c of u)c(this,o)}end(i,n){if(i===!0)if(this.animating[n]=!1,n==="move"?(this.ticker.remove(this.animateFn.system.move[0]),this.ticker.remove(this.animateFn.system.move[1])):n==="moveAs"?this.ticker.remove(this.animateFn.system.moveAs):this.ticker.remove(this.animateFn.system[n]),n==="move"){const[o,u]=this.targetValue.system.move;this.ox=o,this.oy=u,this.hook("moveend","end")}else if(n==="moveAs"){const[o,u]=this.targetValue.system.moveAs;this.ox=o,this.oy=u,this.hook("moveend","end")}else n==="rotate"?(this.angle=this.targetValue.system.rotate,this.hook("rotateend","end")):n==="resize"?(this.size=this.targetValue.system.resize,this.hook("resizeend","end")):(this.sx=0,this.sy=0,this.hook("shakeend","end"));else this.animating[n]=!1,this.ticker.remove(this.animateFn.custom[n]),this.custom[n]=this.targetValue.custom[n],this.hook("end")}}const jt=Object.freeze(Object.defineProperty({__proto__:null,sleep:Pi,AnimationBase:Ii},Symbol.toStringTag,{value:"Module"}));class R1 extends Ii{constructor(i,n,o){super(i),T(this,"saveStack",[]),T(this,"inited",!1),T(this,"effectFn",this.defaultEffect),T(this,"trigo",[0,0]),T(this,"target"),T(this,"id"),T(this,"game"),this.target=o,this.id=n,this.game=i,this.ticker.add(()=>{const u=this.angle/180*Math.PI;this.trigo=[Math.cos(u),Math.sin(u)]})}save(){return this.saveStack.push({x:this.ox,y:this.oy,angle:this.angle,size:this.size}),this}restore(){const i=this.saveStack.pop();if(!i)throw new RangeError("There is no saves to be restored.");return this.ox=i.x,this.oy=i.y,this.size=i.size,this.angle=i.angle,this}effect(){this.effectFn(this)}css(i){const n=this.target.canvas,o=i.replaceAll(`
`,";").replace(/;+/g,";").trim().split(";");for(const u of o){const[c,f]=u.split(/\s*:\s*/);let p=c.replace(/-([a-z])/g,g=>`-${g.toUpperCase()}`);p.length!==0&&(p=p[0].toLowerCase()+p.slice(1),c in n.style&&(n.style[c]=f))}}setGlobalEffects(i){this.effectFn=i}defaultEffect(){const i=this.target,n=this.game.scale,o=960*n,u=540*n,c=this.x*n,f=this.y*n;i.translate(-c,-f),i.translate(o,u),i.rotate(this.angle*Math.PI/180),i.scale(this.size,this.size),i.translate(-o,-u),i.shadowBlur=4,i.shadowColor="black"}}const Bo=(...r)=>r.reduce((i,n)=>i+n,0),ho=r=>{if(r===0)return 1;let i=r;for(;r>1;)r--,i*=r;return i},Yl=(r,i)=>Math.round(ho(i)/(ho(r)*ho(i-r))),on=(r,i,n=o=>1-i(1-o))=>r==="in"?i:r==="out"?n:r==="in-out"?o=>o<.5?i(o*2)/2:.5+n((o-.5)*2)/2:o=>o<.5?n(o*2)/2:.5+i((o-.5)*2)/2,j1=Math.cosh(2),D1=Math.acosh(2),$1=Math.tanh(3),P1=Math.atan(5);function Ci(){return r=>r}function I1(...r){const i=[0].concat(r);i.push(1);const n=i.length,o=Array(n).fill(0).map((u,c)=>Yl(c,n-1));return u=>{const c=o.map((f,p)=>f*i[p]*(1-u)**(n-p-1)*u**p);return Bo(...c)}}function N1(r,i){if(r==="sin"){const n=o=>Math.sin(o*Math.PI/2);return on(i,o=>1-n(1-o),n)}if(r==="sec"){const n=o=>1/Math.cos(o);return on(i,o=>n(o*Math.PI/3)-1)}throw new TypeError("Unexpected parameters are delivered in trigo timing function.")}function M1(r,i){if(!Number.isInteger(r))throw new TypeError("The first parameter of power timing function only allow integer.");return on(i,n=>n**r)}function L1(r,i){if(r==="sin")return on(i,n=>(Math.cosh(n*2)-1)/(j1-1));if(r==="tan"){const n=o=>Math.tanh(o*3)*1/$1;return on(i,o=>1-n(1-o),n)}if(r==="sec"){const n=o=>1/Math.cosh(o);return on(i,o=>1-(n(o*D1)-.5)*2)}throw new TypeError("Unexpected parameters are delivered in hyper timing function.")}function U1(r,i){if(r==="sin"){const n=o=>Math.asin(o)/Math.PI*2;return on(i,o=>1-n(1-o),n)}if(r==="tan"){const n=o=>Math.atan(o*5)/P1;return on(i,o=>1-n(1-o),n)}throw new TypeError("Unexpected parameters are delivered in inverse trigo timing function.")}function z1(r,i=()=>1){let n=-1;return o=>(n*=-1,o<.5?r*i(o*2)*n:r*i((1-o)*2)*n)}const Xl=(1920**2+1080**2)/4;function X(r){return r!=null}function W1(r,i){return typeof r===i}function Gl(r){return X(r)&&X(r.fnType)&&(r.fnType==="timing"||r.fnType==="generator"||r.fnType==="path")}function H1(r,i,...n){return typeof r(...n)===i}const Sr=Object.freeze(Object.defineProperty({__proto__:null,radius:Xl,has:X,is:W1,isMTTFn:Gl,isReturnType:H1},Symbol.toStringTag,{value:"Module"})),Ql=class extends Ii{constructor(r,i,n,o,u,c){super(i),T(this,"bpm",100),T(this,"lastNode",-1),T(this,"lastAngle",0),T(this,"rad",0),T(this,"inited",!1),T(this,"ctxFilter",""),T(this,"game"),T(this,"notes",[]),T(this,"num",Ql.cnt++),T(this,"id"),T(this,"timeNodes",[]),T(this,"initAngle"),this.id=r,this.game=i,this.register("radius",u),this.register("r",255),this.register("g",180),this.register("b",32),this.register("a",1),this.ox=n,this.oy=o,this.initAngle=c}addNote(r){this.notes.push(r)}sort(){this.timeNodes.sort(([r],[i])=>r-i),this.notes.sort((r,i)=>{if(!X(r.noteTime)||!X(i.noteTime))throw new TypeError(`A note without note time is appended on the base ${this.id}`);return r.noteTime-i.noteTime})}setRadius(r){return this.mode(Ci()).time(1).apply("radius",r),this}rgba(r,i,n,o){return this.mode(Ci()).time(1),X(r)&&this.apply("r",r),X(i)&&this.apply("g",i),X(n)&&this.apply("b",n),X(o)&&this.apply("a",o),this}filter(r){return this.ctxFilter=r,this}setSpeed(r){this.bpm=r}calRad(){this.checkNode();const[r,i]=this.timeNodes[this.lastNode];return this.rad=this.lastAngle+(this.game.time-r)*i/3e4*Math.PI+this.initAngle*Math.PI/180}checkNode(){var r,i;const n=this.game.time;let o=!1;for(let u=this.lastNode+1;u<this.timeNodes.length;u++){const[c]=this.timeNodes[u];c<=n&&(this.lastNode=u,o=!0)}if(o){let u=0;for(let c=0;c<this.lastNode;c++){const[f,p]=this.timeNodes[c];u+=(((i=(r=this.timeNodes[c+1])==null?void 0:r[0])!=null?i:0)-f)*p/3e4*Math.PI}this.lastAngle=u}}};let Oo=Ql;T(Oo,"cnt",0);class Vo{constructor(i){T(this,"events"),this.events=i}on(i,n,o={}){this.events[i].push({fn:n,option:o})}off(i,n){const o=this.events[i].findIndex(u=>u.fn===n);if(o===-1)throw new ReferenceError("You are trying to remove a nonexistent listener.");this.events[i].splice(o,1)}dispatch(i,n,o={}){try{for(const{fn:u,option:c}of this.events[i])u(n)}catch(u){throw u}return!0}}class V1 extends Vo{constructor(i){super({hit:[],hold:[],holdend:[]}),T(this,"toJudge",[]),T(this,"holding",[]),T(this,"holdingKeys",[]),T(this,"perfect",0),T(this,"good",0),T(this,"miss",0),T(this,"maxCombo",0),T(this,"early",0),T(this,"late",0),T(this,"touching",0),T(this,"auto",!1),T(this,"chart"),T(this,"c",0),T(this,"keydown",n=>{this.holdingKeys.includes(n.keyCode)||(this.chart.game.ac.sync(),this.holdingKeys.push(n.keyCode),this.judge(n.keyCode))}),T(this,"keyup",n=>{this.chart.game.ac.sync();const o=this.holdingKeys.findIndex(c=>c===n.keyCode);this.holdingKeys.splice(o,1);const u=this.holding.find(c=>c.key===n.keyCode);!X(u)||this.judgeHold(!1,u,n.keyCode)}),T(this,"touchstart",n=>{this.chart.game.ac.sync(),this.touching++,this.judge()}),T(this,"touchend",n=>{this.chart.game.ac.sync(),this.touching--,this.judgeHold(!1)}),this.chart=i,document.addEventListener("keydown",this.keydown),document.addEventListener("keyup",this.keyup)}set combo(i){this.c=i,i>this.maxCombo&&(this.maxCombo=i)}get combo(){return this.c}inJudge(i){return i<=this.perfect+this.good+this.miss+this.toJudge.length}judge(i){if(this.auto)return;const n=this.toJudge.slice(0,1)[0];if(!X(n))return;if(this.toJudge.length===0&&this.next(),n.noteType==="hold")return this.judgeHold(!0,n,i!=null?i:-10);if(n.noteType==="drag")return;const o=this.chart.game.time,u=n.noteTime;if(!X(u))return;const c=f=>o>u-f&&o<u+f;if(c(n.perfectTime))this.toJudge.shift(),n.perfect(),this.perfect++;else if(c(n.goodTime)){this.toJudge.shift();const f=o-u>n.perfectTime?"late":"early";n.good(f),this[f]++,this.good++}else if(c(n.missTime)){this.toJudge.shift();const f=o-u>n.goodTime?"late":"early";n.miss(f),this[f]++,this.miss++}}judgeHold(i,n,o){if(!this.auto){if(i)if(X(n)&&X(n.noteTime)){const u=this.chart.game.time,c=n.noteTime,f=g=>u>c-g&&u<c+g;f(n.perfectTime)?n.hold("perfect","perfect",o):f(n.goodTime)?n.hold("good",u-c>n.perfectTime?"late":"early",o):f(n.missTime)&&n.hold("miss",u-c>n.goodTime?"late":"early",o);const p=this.toJudge.findIndex(g=>g===n);this.toJudge.splice(p,1);return}else throw new TypeError("There is no note on judging first hold.");if(X(n)&&X(o)){if(n.key===o){const u=this.holding.findIndex(c=>c===n);return this.holding.splice(u,1),n.miss("late")}}else{const u=this.holding;if(u.length>this.touching){const c=u.length-this.touching;u.splice(0,c).forEach(f=>{const p=this.holding.findIndex(g=>g===n);this.holding.splice(p,1),f.miss("late")})}}}}judgeMissAndDrag(){const i=()=>{this.toJudge.length===0&&this.next(),this.toJudge=this.toJudge.filter(n=>{if(!X(n.noteTime))throw new TypeError("The note to be judge doesn't have the property 'noteTime'.");if(this.auto){if(this.chart.game.time>n.noteTime){if(n.noteType!=="hold")n.perfect(),this.perfect++;else{n.hold("perfect","perfect");const o=this.toJudge.findIndex(u=>n===u);this.toJudge.splice(o,1)}return!1}return!0}else return n.noteType==="drag"&&this.chart.game.time>n.noteTime-n.perfectTime&&(this.holdingKeys.length>0||this.touching>0)?(n.perfect(),this.perfect++,!1):this.chart.game.time>n.noteTime+n.missTime?(n.miss("late"),this.late++,this.miss++,!1):!0}),this.holding=this.holding.filter(n=>{if(!X(n.noteTime))throw new TypeError("The note to be judge doesn't have the property 'noteTime'.");if(!X(n.holdTime))throw new TypeError("The note to be judge doesn't have the property 'holdTime'.");if(this.auto){if(n.holdTime>this.chart.game.time-n.noteTime-100)return n.perfect(),this.perfect++,!1}else if(n.holdTime>this.chart.game.time-n.noteTime-100){if(n.res==="pre")throw new TypeError("The note type is unexpected 'pre' when judging hold note.");return n[n.res](n.detail),n.res!=="miss"&&this[n.res]++,!1}return!0})};this.chart.game.ticker.add(i)}isMulti(i){if(!X(i.noteTime))return!1;const n=i.num,o=this.chart.notes[n-1];if(X(o)&&X(o.noteTime)&&o.noteTime===i.noteTime)return!0;const u=this.chart.notes[n+1];return!!(X(u)&&X(u.noteTime)&&u.noteTime===i.noteTime)}dispatchEvent(i,n){this.dispatch(i,n)}next(){const i=this.chart.notesArr,n=i.find(c=>X(c.noteTime));let o=-1;for(let c=0;c<i.length;c++){const f=i[c];if(X(f.noteTime)){if(f.noteTime>(n==null?void 0:n.noteTime)&&f.noteType!=="drag"){o=c;break}f.noteType==="drag"&&f.noteTime>this.chart.game.time&&(o=c)}}(o===-1||o===0)&&(o=i.length+1);const u=i.splice(0,o);this.toJudge=u.filter(c=>X(c.noteTime))}}const Zl=class extends Ii{constructor(r,i,n){var o,u,c;super(i.game),T(this,"played",!1),T(this,"speed",500),T(this,"alpha",1),T(this,"ctxFilter",""),T(this,"ctxShadow",{x:0,y:0,blur:0,color:""}),T(this,"key",0),T(this,"holding",!1),T(this,"destroyed",!1),T(this,"res","pre"),T(this,"detail","early"),T(this,"lastNode",-1),T(this,"lastD",0),T(this,"multi",!1),T(this,"px",0),T(this,"py",0),T(this,"inited",!1),T(this,"num",Zl.cnt++),T(this,"noteType"),T(this,"base"),T(this,"holdTime"),T(this,"noteTime"),T(this,"perfectTime"),T(this,"goodTime"),T(this,"missTime"),T(this,"timeNodes",[]),T(this,"dir",[0,0]),T(this,"rad",0),this.noteType=r,this.noteTime=n==null?void 0:n.playTime,this.base=i,this.perfectTime=(o=n==null?void 0:n.perfectTime)!=null?o:i.game.perfect,this.goodTime=(u=n==null?void 0:n.goodTime)!=null?u:i.game.good,this.missTime=(c=n==null?void 0:n.goodTime)!=null?c:i.game.miss,this.holdTime=n==null?void 0:n.time,X(this.noteTime)&&(this.dir=this.calDir(),this.rad=Math.atan(this.dir[1]/this.dir[0])),this.register("opacity",1)}setSpeed(r){this.speed=r}perfect(){if(this.noteType==="hold")return this.holdEnd("perfect");const r=()=>{this.base.game.time>=this.noteTime&&this.hit("perfect")};this.noteType==="drag"?this.base.game.time>=this.noteTime?this.hit("perfect"):this.ticker.add(r):this.hit("perfect")}good(r){if(this.detail=r,this.noteType==="hold")return this.holdEnd("good");this.hit("good")}miss(r){if(this.detail=r,this.noteType==="hold")return this.holdEnd("miss");this.hit("miss",!0)}hold(r,i,n){if(this.noteType!=="hold")throw new TypeError("You are trying to hold non-hold note.");if(!X(this.holdTime)||!X(this.noteTime))throw new TypeError("This note has no noteTime or holdTime.");this.holding=!0,X(n)&&(this.key=n),this.base.game.chart.judger.holding.push(this);const o={target:this.base.game.chart.judger,type:"hold",time:this.base.game.time-this.noteTime,totalTime:this.holdTime,res:r,note:this,base:this.base,detail:i};this.base.game.chart.judger.dispatchEvent("hold",o)}filter(r){return this.ctxFilter=r,this}opacity(r){return this.mode(Ci()).time(1).apply("opacity",r),this}shadow(r,i,n,o){return this.ctxShadow={x:r,y:i,blur:n,color:o},this}destroy(){this.destroyed=!0,this.ticker.destroy()}sort(){this.timeNodes.sort(([r],[i])=>r-i)}calDistance(){return X(this.noteTime)?(this.checkNode(),-(this.base.game.time-this.timeNodes[this.lastNode][0])*this.speed/1e3+this.lastD):0}calPosition(){if(this.destroyed)return[this.px,this.py,NaN];const r=this.calDistance()+this.base.custom.radius;if(r<0)return[NaN,NaN,NaN];const i=r*this.dir[0]+this.x,n=r*this.dir[1]+this.y,o=i+this.base.x,u=n+this.base.y;return this.px=o,this.py=u,[o,u,r]}playSound(){this.base.game.ac.playSound(this.noteType)}calDir(){var r,i;if(!X(this.noteTime))throw new TypeError("The note doesn't have noteTime.");const n=this.base.timeNodes;let o=this.base.initAngle*Math.PI/180;for(let u=0;u<n.length;u++){const[c,f]=n[u],p=(i=(r=n[u+1])==null?void 0:r[0])!=null?i:this.noteTime;if(p>this.noteTime){o+=(this.noteTime-c)*f/3e4*Math.PI;break}o+=(p-c)*f/3e4*Math.PI}return[Math.cos(o),Math.sin(o)]}checkNode(){var r,i;const n=this.base.game.time;let o=!1;for(let u=this.lastNode+1;u<this.timeNodes.length;u++){const[c]=this.timeNodes[u];c<=n&&(this.lastNode=u,o=!0)}if(o){let u=0;for(let c=this.timeNodes.length-1;c>=this.lastNode;c--){const[f,p]=this.timeNodes[c];u+=(((i=(r=this.timeNodes[c+1])==null?void 0:r[0])!=null?i:this.noteTime)-f)*p/1e3}this.lastD=u}}hit(r,i=!1){i||this.playSound(),this.res=r,this.played=!0,this.destroy(),this.base.game.renderer.addHitEffect(this),r==="miss"?this.base.game.chart.judger.combo=0:this.base.game.chart.judger.combo++;const n={target:this.base.game.chart.judger,type:"hit",res:r,note:this,base:this.base,detail:this.detail};this.base.game.chart.judger.dispatchEvent("hit",n)}holdEnd(r){this.played=!0,this.destroy(),this.base.game.renderer.addHitEffect(this),r==="miss"?this.base.game.chart.judger.combo=0:this.base.game.chart.judger.combo++;const i={target:this.base.game.chart.judger,type:"holdend",res:r,note:this,base:this.base,detail:this.detail,time:this.base.game.time-this.noteTime,totalTime:this.holdTime};this.base.game.chart.judger.dispatchEvent("holdend",i)}};let Ro=Zl;T(Ro,"cnt",0);class q1{constructor(i){T(this,"camera"),T(this,"notes",{}),T(this,"bases",{}),T(this,"basesDict",{}),T(this,"notesArr",[]),T(this,"game"),T(this,"judger",new V1(this)),T(this,"animate",{timing:{},generator:{},path:{},pathG:{}}),T(this,"attrSet",{note:{},base:{},camera:{}}),this.game=i}async extract(i){const{bases:n,notes:o,camera:u,option:c}=i;await new Promise(f=>{var p;for(const m of n){const w=m.id,y=new Oo(w,this.game,m.x,m.y,Object.values(m.r)[0],m.angle);this.bases[y.num]=y,this.basesDict[w]=y,y.timeNodes.push(...Object.entries(m.bpm).map(E=>[parseFloat(E[0]),E[1]])),y.sort(),this.execute("base",m,y),this.executeAnimate("base",m.animate,y.num)}o.sort((m,w)=>{var y,E;const A=X(m.config)&&X(m.config.playTime),F=X(w.config)&&X(w.config.playTime);return A&&F?((y=m.config)==null?void 0:y.playTime)-((E=w.config)==null?void 0:E.playTime):A&&!F?-1:!A&&F?1:0});for(const m of o){const w=this.basesDict[m.base],y=new Ro(m.type,w,m.config);this.notes[y.num]=y,this.notesArr.push(y),y.timeNodes.push(...Object.entries(m.speed).map(E=>[parseFloat(E[0]),E[1]])),y.sort(),this.execute("note",m,y),this.executeAnimate("note",m.animate,y.num)}this.notesArr.forEach(m=>{m.multi=this.judger.isMulti(m)});const g=new R1(this.game,u.id,this.game.ctx);this.camera=g,this.executeAnimate("camera",u.animate),this.execute("camera",u,g),this.game.target.style.background=(p=c.background)!=null?p:"black",f("extract success.")}),this.game.length=this.notesArr.filter(f=>X(f.noteTime)).length,this.judger.judgeMissAndDrag()}async restart(){Object.values(this.notes).forEach(i=>i.ticker.destroy()),Object.values(this.bases).forEach(i=>i.ticker.destroy()),this.notes={},this.bases={},this.notesArr=[],this.basesDict={},Ro.cnt=0,Oo.cnt=0,this.judger.perfect=0,this.judger.good=0,this.judger.miss=0,this.judger.combo=0,this.judger.maxCombo=0,await Pi(1e3),await this.extract(this.game.mtt)}register(i,n,o){this.animate[i][n]=o}registerExecute(i,n,o){this.attrSet[i][n]=o}sortMTT(i){return Object.keys(i).map(n=>parseFloat(n)).sort((n,o)=>n-o)}extractMTTAnimate(i){const n=(c,f,p)=>{const g=p.map(w=>Gl(w)?n(w.fn,w.fnType,w.args):w),m=this.animate[f][c];return f==="timing"?m:m.apply(this,g)},o=n(i.mode.fn,i.mode.fnType,i.mode.args);let u;return i.type==="moveAs"?u=n(i.mode.pathFn,i.mode.pathType,i.mode.pathArg):u=void 0,{fn:o,path:u,...i}}executeAnimate(i,n,o){let u;i==="base"?u=this.bases[o]:i==="note"?u=this.notes[o]:u=this.camera;const c=n.sort((g,m)=>g.start-m.start).map(g=>this.extractMTTAnimate(g));let f=-1;const p=()=>{const g=c[f+1];if(!g)return this.game.ticker.remove(p);const m=g.start;this.game.time<m||(f++,u.mode(g.fn,g.shake).time(g.time),g.relation==="absolute"?u.absolute():u.relative(),g.custom?u.apply(g.type,g.n,g.first):g.path?u.moveAs(g.path):g.type==="move"?u.move(g.x,g.y):g.type==="rotate"?u.rotate(g.n):g.type==="resize"||g.type==="scale"?u.scale(g.n):g.type==="shake"&&u.shake(g.x,g.y))};this.game.ticker.add(p)}execute(i,n,o){const u=this.attrSet[i],c=f=>{let p=-1;const g=n[f],m=this.sortMTT(g),w=u[f],y=()=>{const E=m[p+1];if(!X(E))return this.game.ticker.remove(y);this.game.time<E||(E===0&&setTimeout(()=>o.inited=!0,50),this.game.time>0&&!o.inited&&setTimeout(()=>o.inited=!0,50),p++,w(n[f][E],o))};this.game.ticker.add(y)};for(const f in u)c(f)}}function K1(r,i=1,n=u=>1,o=!1){return u=>{const c=i*u*Math.PI*2,f=Math.cos(c),p=Math.sin(c),g=r*n(n(o?1-u:u));return[g*f,g*p]}}function J1(r,i,...n){const o=[r].concat(n);o.push(i);const u=o.length,c=Array(u).fill(0).map((f,p)=>Yl(p,u-1));return f=>{const p=c.map((m,w)=>m*o[w][0]*(1-f)**(u-w-1)*f**w),g=c.map((m,w)=>m*o[w][1]*(1-f)**(u-w-1)*f**w);return[Bo(...p),Bo(...g)]}}class Y1 extends Vo{constructor(i){super({before:[],after:[],effectadd:[],effectend:[]}),T(this,"time",0),T(this,"game"),T(this,"renderer",{base:this.renderBases,tap:this.renderTap,hold:this.renderHold,drag:this.renderDrag}),T(this,"effect",{perfect:this.perfectEffect,good:this.goodEffect,miss:this.missEffect}),T(this,"effects",[]),this.game=i}start(){const i=()=>{this.game.status!=="playing"||this.game.time<=0||this.render()};this.game.ticker.add(i)}render(i){const n=this.game.ctx;n.clearRect(0,0,n.canvas.width,n.canvas.height),n.save();const o={target:this,type:"before",canvas:this.game.target,ctx:this.game.ctx};this.dispatch("before",o),this.game.chart.camera.effect();const u=this.game.chart.bases;for(const g in u){const m=u[g];m.custom.a!==0&&this.renderer.base.call(this,m)}const c=this.game.chart.notes;for(const g in c){const m=c[g];m.custom.opacity!==0&&(m.played||(m.noteType==="tap"&&this.renderer.tap.call(this,m),m.noteType==="hold"&&this.renderer.hold.call(this,m),m.noteType==="drag"&&this.renderer.drag.call(this,m)))}const f=this.effects;for(const g of f)g.res==="perfect"&&this.effect.perfect.call(this,g),g.res==="good"&&this.effect.good.call(this,g),g.res==="miss"&&this.effect.miss.call(this,g);n.restore();const p={target:this,type:"after",canvas:this.game.target,ctx:this.game.ctx};this.dispatch("after",p)}setBase(i){this.renderer.base=i}setNote(i,n){this.renderer[i]=n}setEffect(i,n){this.effect[i]=n}inGame(i,n,o=10){const u=this.game.chart.camera,c=u.size,f=i-960,p=n-540,[g,m]=u.trigo,w=f*g-p*m-u.x/c,y=f*m+p*g-u.y/c;return w**2+y**2-o**2<=Xl/c**2}addHitEffect(i){const n={start:this.game.time,end:!1,res:i.res,note:i},o={set:(f,p,g)=>{if(typeof p=="symbol")return!1;if(p==="end"&&g===!0){const m=this.effects.findIndex(y=>y===u);this.effects.splice(m,1);const w={target:this,type:"effectend",canvas:this.game.target,ctx:this.game.ctx,effect:u};this.dispatch("effectend",w)}return f[p]=g,!0}},u=new Proxy(n,o);this.effects.push(u);const c={target:this,type:"effectadd",canvas:this.game.target,ctx:this.game.ctx,effect:u};this.dispatch("effectadd",c)}clearEffect(){this.effects=[]}renderTap(i){this.renderNonHold(i,"#00d2eb")}renderHold(i){}renderDrag(i){this.renderNonHold(i,"#f500d6")}renderNonHold(i,n){if(i.destroyed||X(i.noteTime)&&this.game.time>i.noteTime+i.missTime||!i.inited)return;const[o,u,c]=i.calPosition();if(isNaN(o)||!this.inGame(o,u,this.game.drawWidth/2))return;const f=i.rad+i.angle*Math.PI/180,p=this.game.ctx,g=this.game.halfWidth,m=this.game.halfTopWidth,w=this.game.halfHeight,y=this.game.multiStroke,E=i.custom.opacity;p.save(),p.translate(o*this.game.scale,u*this.game.scale),p.rotate(f+Math.PI/2),p.filter=i.ctxFilter,p.strokeStyle="#fff",p.fillStyle=n,p.lineWidth=4*this.game.drawScale,i.multi&&(p.shadowColor="gold",p.strokeStyle=y),p.globalAlpha=E,c<i.base.custom.radius&&(p.globalAlpha=c/i.base.custom.radius*E),p.beginPath(),p.moveTo(-g,0),p.lineTo(-m,-w),p.lineTo(m,-w),p.lineTo(g,0),p.lineTo(m,w),p.lineTo(-m,w),p.closePath(),p.fill(),p.stroke(),p.restore()}renderBases(i){if(!this.inGame(i.x,i.y)||!i.inited)return;const n=i.calRad()+i.angle*Math.PI/180,o=this.game.ctx,u=this.game.scale,c=i.x*u,f=i.y*u,p=i.custom.radius*u,{r:g,g:m,b:w,a:y}=i.custom;o.save(),o.translate(c,f),o.rotate(n+Math.PI),o.filter=i.ctxFilter,o.moveTo(0,0),o.fillStyle=o.strokeStyle=`rgba(${g}, ${m}, ${w}, ${y})`,o.fillRect(-p,-p*.06,p,p*.12),o.beginPath(),o.arc(0,0,p*2/5,0,Math.PI*2),o.closePath(),o.lineWidth=p/10*u,o.fill(),o.beginPath(),o.lineCap="round",o.arc(0,0,p*.6,-Math.PI/8,+Math.PI/8),o.stroke(),o.closePath(),o.beginPath(),o.arc(0,0,p,0,Math.PI*2),o.lineWidth=2*u,o.globalAlpha=.6,o.stroke(),o.closePath(),o.restore()}playEffect(i,n){const o=this.game.time-i.start;if(o>500){i.end=!0;return}const[u,c]=i.note.calPosition(),f=o/4,p=this.game.ctx,g=this.game.scale;p.save(),p.strokeStyle=n,p.shadowBlur=5,p.shadowColor=n,p.globalAlpha=2-o/250,p.beginPath(),p.arc(u*g,c*g,f*this.game.drawScale*.8,0,Math.PI*2),p.closePath(),p.lineWidth=5,p.stroke(),p.restore()}perfectEffect(i){this.playEffect(i,"gold")}goodEffect(i){this.playEffect(i,"#19aff0")}missEffect(i){this.playEffect(i,"#8f0067")}}var tf={exports:{}},qo={exports:{}},ef=function(r,i){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return r.apply(i,n)}},X1=ef,Ko=Object.prototype.toString,Jo=function(r){return function(i){var n=Ko.call(i);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function xn(r){return r=r.toLowerCase(),function(i){return Jo(i)===r}}function Yo(r){return Array.isArray(r)}function ki(r){return typeof r>"u"}function G1(r){return r!==null&&!ki(r)&&r.constructor!==null&&!ki(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}var nf=xn("ArrayBuffer");function Q1(r){var i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(r):i=r&&r.buffer&&nf(r.buffer),i}function Z1(r){return typeof r=="string"}function t_(r){return typeof r=="number"}function rf(r){return r!==null&&typeof r=="object"}function Ai(r){if(Jo(r)!=="object")return!1;var i=Object.getPrototypeOf(r);return i===null||i===Object.prototype}var e_=xn("Date"),n_=xn("File"),r_=xn("Blob"),i_=xn("FileList");function Xo(r){return Ko.call(r)==="[object Function]"}function s_(r){return rf(r)&&Xo(r.pipe)}function o_(r){var i="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||Ko.call(r)===i||Xo(r.toString)&&r.toString()===i)}var a_=xn("URLSearchParams");function u_(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function c_(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Go(r,i){if(!(r===null||typeof r>"u"))if(typeof r!="object"&&(r=[r]),Yo(r))for(var n=0,o=r.length;n<o;n++)i.call(null,r[n],n,r);else for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&i.call(null,r[u],u,r)}function jo(){var r={};function i(u,c){Ai(r[c])&&Ai(u)?r[c]=jo(r[c],u):Ai(u)?r[c]=jo({},u):Yo(u)?r[c]=u.slice():r[c]=u}for(var n=0,o=arguments.length;n<o;n++)Go(arguments[n],i);return r}function l_(r,i,n){return Go(i,function(o,u){n&&typeof o=="function"?r[u]=X1(o,n):r[u]=o}),r}function f_(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}function h_(r,i,n,o){r.prototype=Object.create(i.prototype,o),r.prototype.constructor=r,n&&Object.assign(r.prototype,n)}function d_(r,i,n){var o,u,c,f={};i=i||{};do{for(o=Object.getOwnPropertyNames(r),u=o.length;u-- >0;)c=o[u],f[c]||(i[c]=r[c],f[c]=!0);r=Object.getPrototypeOf(r)}while(r&&(!n||n(r,i))&&r!==Object.prototype);return i}function p_(r,i,n){r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=i.length;var o=r.indexOf(i,n);return o!==-1&&o===n}function m_(r){if(!r)return null;var i=r.length;if(ki(i))return null;for(var n=new Array(i);i-- >0;)n[i]=r[i];return n}var g_=function(r){return function(i){return r&&i instanceof r}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),It={isArray:Yo,isArrayBuffer:nf,isBuffer:G1,isFormData:o_,isArrayBufferView:Q1,isString:Z1,isNumber:t_,isObject:rf,isPlainObject:Ai,isUndefined:ki,isDate:e_,isFile:n_,isBlob:r_,isFunction:Xo,isStream:s_,isURLSearchParams:a_,isStandardBrowserEnv:c_,forEach:Go,merge:jo,extend:l_,trim:u_,stripBOM:f_,inherits:h_,toFlatObject:d_,kindOf:Jo,kindOfTest:xn,endsWith:p_,toArray:m_,isTypedArray:g_,isFileList:i_},Un=It;function Vc(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var sf=function(r,i,n){if(!i)return r;var o;if(n)o=n(i);else if(Un.isURLSearchParams(i))o=i.toString();else{var u=[];Un.forEach(i,function(f,p){f===null||typeof f>"u"||(Un.isArray(f)?p=p+"[]":f=[f],Un.forEach(f,function(g){Un.isDate(g)?g=g.toISOString():Un.isObject(g)&&(g=JSON.stringify(g)),u.push(Vc(p)+"="+Vc(g))}))}),o=u.join("&")}if(o){var c=r.indexOf("#");c!==-1&&(r=r.slice(0,c)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r},v_=It;function Ni(){this.handlers=[]}Ni.prototype.use=function(r,i,n){return this.handlers.push({fulfilled:r,rejected:i,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Ni.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)};Ni.prototype.forEach=function(r){v_.forEach(this.handlers,function(i){i!==null&&r(i)})};var y_=Ni,__=It,w_=function(r,i){__.forEach(r,function(n,o){o!==i&&o.toUpperCase()===i.toUpperCase()&&(r[i]=n,delete r[o])})},of=It;function Hn(r,i,n,o,u){Error.call(this),this.message=r,this.name="AxiosError",i&&(this.code=i),n&&(this.config=n),o&&(this.request=o),u&&(this.response=u)}of.inherits(Hn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var af=Hn.prototype,uf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(r){uf[r]={value:r}});Object.defineProperties(Hn,uf);Object.defineProperty(af,"isAxiosError",{value:!0});Hn.from=function(r,i,n,o,u,c){var f=Object.create(af);return of.toFlatObject(r,f,function(p){return p!==Error.prototype}),Hn.call(f,r.message,i,n,o,u),f.name=r.name,c&&Object.assign(f,c),f};var Yn=Hn,cf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ae=It;function b_(r,i){i=i||new FormData;var n=[];function o(c){return c===null?"":Ae.isDate(c)?c.toISOString():Ae.isArrayBuffer(c)||Ae.isTypedArray(c)?typeof Blob=="function"?new Blob([c]):Buffer.from(c):c}function u(c,f){if(Ae.isPlainObject(c)||Ae.isArray(c)){if(n.indexOf(c)!==-1)throw Error("Circular reference detected in "+f);n.push(c),Ae.forEach(c,function(p,g){if(!Ae.isUndefined(p)){var m=f?f+"."+g:g,w;if(p&&!f&&typeof p=="object"){if(Ae.endsWith(g,"{}"))p=JSON.stringify(p);else if(Ae.endsWith(g,"[]")&&(w=Ae.toArray(p))){w.forEach(function(y){!Ae.isUndefined(y)&&i.append(m,o(y))});return}}u(p,m)}}),n.pop()}else i.append(f,o(c))}return u(r),i}var lf=b_,po,qc;function x_(){if(qc)return po;qc=1;var r=Yn;return po=function(i,n,o){var u=o.config.validateStatus;!o.status||!u||u(o.status)?i(o):n(new r("Request failed with status code "+o.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))},po}var mo,Kc;function E_(){if(Kc)return mo;Kc=1;var r=It;return mo=r.isStandardBrowserEnv()?function(){return{write:function(i,n,o,u,c,f){var p=[];p.push(i+"="+encodeURIComponent(n)),r.isNumber(o)&&p.push("expires="+new Date(o).toGMTString()),r.isString(u)&&p.push("path="+u),r.isString(c)&&p.push("domain="+c),f===!0&&p.push("secure"),document.cookie=p.join("; ")},read:function(i){var n=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),mo}var A_=function(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)},T_=function(r,i){return i?r.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):r},S_=A_,F_=T_,ff=function(r,i){return r&&!S_(i)?F_(r,i):i},go,Jc;function C_(){if(Jc)return go;Jc=1;var r=It,i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return go=function(n){var o={},u,c,f;return n&&r.forEach(n.split(`
`),function(p){if(f=p.indexOf(":"),u=r.trim(p.substr(0,f)).toLowerCase(),c=r.trim(p.substr(f+1)),u){if(o[u]&&i.indexOf(u)>=0)return;u==="set-cookie"?o[u]=(o[u]?o[u]:[]).concat([c]):o[u]=o[u]?o[u]+", "+c:c}}),o},go}var vo,Yc;function k_(){if(Yc)return vo;Yc=1;var r=It;return vo=r.isStandardBrowserEnv()?function(){var i=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),o;function u(c){var f=c;return i&&(n.setAttribute("href",f),f=n.href),n.setAttribute("href",f),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return o=u(window.location.href),function(c){var f=r.isString(c)?u(c):c;return f.protocol===o.protocol&&f.host===o.host}}():function(){return function(){return!0}}(),vo}var yo,Xc;function Mi(){if(Xc)return yo;Xc=1;var r=Yn,i=It;function n(o){r.call(this,o==null?"canceled":o,r.ERR_CANCELED),this.name="CanceledError"}return i.inherits(n,r,{__CANCEL__:!0}),yo=n,yo}var Gc,Qc;function B_(){return Qc||(Qc=1,Gc=function(r){var i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return i&&i[1]||""}),Gc}var _o,Zc;function O_(){if(Zc)return _o;Zc=1;var r=It,i=x_(),n=E_(),o=sf,u=ff,c=C_(),f=k_(),p=cf,g=Yn,m=Mi(),w=B_();return _o=function(y){return new Promise(function(E,A){var F=y.data,D=y.headers,I=y.responseType,j;function P(){y.cancelToken&&y.cancelToken.unsubscribe(j),y.signal&&y.signal.removeEventListener("abort",j)}r.isFormData(F)&&r.isStandardBrowserEnv()&&delete D["Content-Type"];var $=new XMLHttpRequest;if(y.auth){var Z=y.auth.username||"",ot=y.auth.password?unescape(encodeURIComponent(y.auth.password)):"";D.Authorization="Basic "+btoa(Z+":"+ot)}var xt=u(y.baseURL,y.url);$.open(y.method.toUpperCase(),o(xt,y.params,y.paramsSerializer),!0),$.timeout=y.timeout;function Ut(){if($){var nt="getAllResponseHeaders"in $?c($.getAllResponseHeaders()):null,ct=!I||I==="text"||I==="json"?$.responseText:$.response,je={data:ct,status:$.status,statusText:$.statusText,headers:nt,config:y,request:$};i(function(ve){E(ve),P()},function(ve){A(ve),P()},je),$=null}}if("onloadend"in $?$.onloadend=Ut:$.onreadystatechange=function(){!$||$.readyState!==4||$.status===0&&!($.responseURL&&$.responseURL.indexOf("file:")===0)||setTimeout(Ut)},$.onabort=function(){!$||(A(new g("Request aborted",g.ECONNABORTED,y,$)),$=null)},$.onerror=function(){A(new g("Network Error",g.ERR_NETWORK,y,$,$)),$=null},$.ontimeout=function(){var nt=y.timeout?"timeout of "+y.timeout+"ms exceeded":"timeout exceeded",ct=y.transitional||p;y.timeoutErrorMessage&&(nt=y.timeoutErrorMessage),A(new g(nt,ct.clarifyTimeoutError?g.ETIMEDOUT:g.ECONNABORTED,y,$)),$=null},r.isStandardBrowserEnv()){var At=(y.withCredentials||f(xt))&&y.xsrfCookieName?n.read(y.xsrfCookieName):void 0;At&&(D[y.xsrfHeaderName]=At)}"setRequestHeader"in $&&r.forEach(D,function(nt,ct){typeof F>"u"&&ct.toLowerCase()==="content-type"?delete D[ct]:$.setRequestHeader(ct,nt)}),r.isUndefined(y.withCredentials)||($.withCredentials=!!y.withCredentials),I&&I!=="json"&&($.responseType=y.responseType),typeof y.onDownloadProgress=="function"&&$.addEventListener("progress",y.onDownloadProgress),typeof y.onUploadProgress=="function"&&$.upload&&$.upload.addEventListener("progress",y.onUploadProgress),(y.cancelToken||y.signal)&&(j=function(nt){!$||(A(!nt||nt&&nt.type?new m:nt),$.abort(),$=null)},y.cancelToken&&y.cancelToken.subscribe(j),y.signal&&(y.signal.aborted?j():y.signal.addEventListener("abort",j))),F||(F=null);var Dt=w(xt);if(Dt&&["http","https","file"].indexOf(Dt)===-1){A(new g("Unsupported protocol "+Dt+":",g.ERR_BAD_REQUEST,y));return}$.send(F)})},_o}var tl,el;function R_(){return el||(el=1,tl=null),tl}var Rt=It,nl=w_,rl=Yn,j_=cf,D_=lf,$_={"Content-Type":"application/x-www-form-urlencoded"};function il(r,i){!Rt.isUndefined(r)&&Rt.isUndefined(r["Content-Type"])&&(r["Content-Type"]=i)}function P_(){var r;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(r=O_()),r}function I_(r,i,n){if(Rt.isString(r))try{return(i||JSON.parse)(r),Rt.trim(r)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(r)}var Li={transitional:j_,adapter:P_(),transformRequest:[function(r,i){if(nl(i,"Accept"),nl(i,"Content-Type"),Rt.isFormData(r)||Rt.isArrayBuffer(r)||Rt.isBuffer(r)||Rt.isStream(r)||Rt.isFile(r)||Rt.isBlob(r))return r;if(Rt.isArrayBufferView(r))return r.buffer;if(Rt.isURLSearchParams(r))return il(i,"application/x-www-form-urlencoded;charset=utf-8"),r.toString();var n=Rt.isObject(r),o=i&&i["Content-Type"],u;if((u=Rt.isFileList(r))||n&&o==="multipart/form-data"){var c=this.env&&this.env.FormData;return D_(u?{"files[]":r}:r,c&&new c)}else if(n||o==="application/json")return il(i,"application/json"),I_(r);return r}],transformResponse:[function(r){var i=this.transitional||Li.transitional,n=i&&i.silentJSONParsing,o=i&&i.forcedJSONParsing,u=!n&&this.responseType==="json";if(u||o&&Rt.isString(r)&&r.length)try{return JSON.parse(r)}catch(c){if(u)throw c.name==="SyntaxError"?rl.from(c,rl.ERR_BAD_RESPONSE,this,null,this.response):c}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:R_()},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Rt.forEach(["delete","get","head"],function(r){Li.headers[r]={}});Rt.forEach(["post","put","patch"],function(r){Li.headers[r]=Rt.merge($_)});var Qo=Li,N_=It,M_=Qo,L_=function(r,i,n){var o=this||M_;return N_.forEach(n,function(u){r=u.call(o,r,i)}),r},sl,ol;function hf(){return ol||(ol=1,sl=function(r){return!!(r&&r.__CANCEL__)}),sl}var al=It,wo=L_,U_=hf(),z_=Qo,W_=Mi();function bo(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new W_}var H_=function(r){bo(r),r.headers=r.headers||{},r.data=wo.call(r,r.data,r.headers,r.transformRequest),r.headers=al.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),al.forEach(["delete","get","head","post","put","patch","common"],function(n){delete r.headers[n]});var i=r.adapter||z_.adapter;return i(r).then(function(n){return bo(r),n.data=wo.call(r,n.data,n.headers,r.transformResponse),n},function(n){return U_(n)||(bo(r),n&&n.response&&(n.response.data=wo.call(r,n.response.data,n.response.headers,r.transformResponse))),Promise.reject(n)})},se=It,df=function(r,i){i=i||{};var n={};function o(m,w){return se.isPlainObject(m)&&se.isPlainObject(w)?se.merge(m,w):se.isPlainObject(w)?se.merge({},w):se.isArray(w)?w.slice():w}function u(m){if(se.isUndefined(i[m])){if(!se.isUndefined(r[m]))return o(void 0,r[m])}else return o(r[m],i[m])}function c(m){if(!se.isUndefined(i[m]))return o(void 0,i[m])}function f(m){if(se.isUndefined(i[m])){if(!se.isUndefined(r[m]))return o(void 0,r[m])}else return o(void 0,i[m])}function p(m){if(m in i)return o(r[m],i[m]);if(m in r)return o(void 0,r[m])}var g={url:c,method:c,data:c,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:p};return se.forEach(Object.keys(r).concat(Object.keys(i)),function(m){var w=g[m]||u,y=w(m);se.isUndefined(y)&&w!==p||(n[m]=y)}),n},ul,cl;function pf(){return cl||(cl=1,ul={version:"0.27.2"}),ul}var V_=pf().version,sn=Yn,Zo={};["object","boolean","number","function","string","symbol"].forEach(function(r,i){Zo[r]=function(n){return typeof n===r||"a"+(i<1?"n ":" ")+r}});var ll={};Zo.transitional=function(r,i,n){function o(u,c){return"[Axios v"+V_+"] Transitional option '"+u+"'"+c+(n?". "+n:"")}return function(u,c,f){if(r===!1)throw new sn(o(c," has been removed"+(i?" in "+i:"")),sn.ERR_DEPRECATED);return i&&!ll[c]&&(ll[c]=!0,console.warn(o(c," has been deprecated since v"+i+" and will be removed in the near future"))),r?r(u,c,f):!0}};function q_(r,i,n){if(typeof r!="object")throw new sn("options must be an object",sn.ERR_BAD_OPTION_VALUE);for(var o=Object.keys(r),u=o.length;u-- >0;){var c=o[u],f=i[c];if(f){var p=r[c],g=p===void 0||f(p,c,r);if(g!==!0)throw new sn("option "+c+" must be "+g,sn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new sn("Unknown option "+c,sn.ERR_BAD_OPTION)}}var K_={assertOptions:q_,validators:Zo},mf=It,J_=sf,fl=y_,hl=H_,Ui=df,Y_=ff,gf=K_,zn=gf.validators;function Vn(r){this.defaults=r,this.interceptors={request:new fl,response:new fl}}Vn.prototype.request=function(r,i){typeof r=="string"?(i=i||{},i.url=r):i=r||{},i=Ui(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var n=i.transitional;n!==void 0&&gf.assertOptions(n,{silentJSONParsing:zn.transitional(zn.boolean),forcedJSONParsing:zn.transitional(zn.boolean),clarifyTimeoutError:zn.transitional(zn.boolean)},!1);var o=[],u=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(i)===!1||(u=u&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});var c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});var f;if(!u){var p=[hl,void 0];for(Array.prototype.unshift.apply(p,o),p=p.concat(c),f=Promise.resolve(i);p.length;)f=f.then(p.shift(),p.shift());return f}for(var g=i;o.length;){var m=o.shift(),w=o.shift();try{g=m(g)}catch(y){w(y);break}}try{f=hl(g)}catch(y){return Promise.reject(y)}for(;c.length;)f=f.then(c.shift(),c.shift());return f};Vn.prototype.getUri=function(r){r=Ui(this.defaults,r);var i=Y_(r.baseURL,r.url);return J_(i,r.params,r.paramsSerializer)};mf.forEach(["delete","get","head","options"],function(r){Vn.prototype[r]=function(i,n){return this.request(Ui(n||{},{method:r,url:i,data:(n||{}).data}))}});mf.forEach(["post","put","patch"],function(r){function i(n){return function(o,u,c){return this.request(Ui(c||{},{method:r,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}Vn.prototype[r]=i(),Vn.prototype[r+"Form"]=i(!0)});var X_=Vn,xo,dl;function G_(){if(dl)return xo;dl=1;var r=Mi();function i(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(c){o=c});var u=this;this.promise.then(function(c){if(u._listeners){var f,p=u._listeners.length;for(f=0;f<p;f++)u._listeners[f](c);u._listeners=null}}),this.promise.then=function(c){var f,p=new Promise(function(g){u.subscribe(g),f=g}).then(c);return p.cancel=function(){u.unsubscribe(f)},p},n(function(c){u.reason||(u.reason=new r(c),o(u.reason))})}return i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},i.prototype.unsubscribe=function(n){if(this._listeners){var o=this._listeners.indexOf(n);o!==-1&&this._listeners.splice(o,1)}},i.source=function(){var n,o=new i(function(u){n=u});return{token:o,cancel:n}},xo=i,xo}var pl,ml;function Q_(){return ml||(ml=1,pl=function(r){return function(i){return r.apply(null,i)}}),pl}var Eo,gl;function Z_(){if(gl)return Eo;gl=1;var r=It;return Eo=function(i){return r.isObject(i)&&i.isAxiosError===!0},Eo}var vl=It,tw=ef,Ti=X_,ew=df,nw=Qo;function vf(r){var i=new Ti(r),n=tw(Ti.prototype.request,i);return vl.extend(n,Ti.prototype,i),vl.extend(n,i),n.create=function(o){return vf(ew(r,o))},n}var Gt=vf(nw);Gt.Axios=Ti;Gt.CanceledError=Mi();Gt.CancelToken=G_();Gt.isCancel=hf();Gt.VERSION=pf().version;Gt.toFormData=lf;Gt.AxiosError=Yn;Gt.Cancel=Gt.CanceledError;Gt.all=function(r){return Promise.all(r)};Gt.spread=Q_();Gt.isAxiosError=Z_();qo.exports=Gt;qo.exports.default=Gt;(function(r){r.exports=qo.exports})(tf);const rw=B1(tf.exports);class iw{constructor(i){T(this,"audio"),T(this,"status","pre"),T(this,"startTime",0),T(this,"seVolume",.5),T(this,"musicVolume",1),T(this,"offset",-100),T(this,"game"),T(this,"ac",new AudioContext),T(this,"sounds",{}),T(this,"mainGain",this.ac.createGain()),T(this,"musicNode"),this.game=i,this.syncTime()}set volume(i){this.mainGain.gain.value=i}get volume(){return this.mainGain.gain.value}async extract(i){const n=await this.ac.decodeAudioData(i);return this.audio=n,n}play(){if(this.status==="playing")throw new TypeError("The game music is playing now.");this.startTime=this.ac.currentTime,this.game.time=(this.ac.currentTime-this.startTime)*1e3;const i=this.ac.createGain(),n=this.ac.createBufferSource();this.musicNode=n,n.buffer=this.audio,n.connect(i),i.gain.value=this.musicVolume,i.connect(this.mainGain),this.mainGain.connect(this.ac.destination),n.start(),this.status="playing",this.startTime=this.ac.currentTime,n.addEventListener("ended",o=>{this.musicEnd()})}async pause(){if(this.status==="pause")throw new TypeError("You are trying to pause an already paused music.");await this.ac.suspend(),this.status="pause"}async resume(){if(this.status!=="pause")throw new TypeError("You are trying to resume an already playing music.");await this.ac.resume(),this.status="playing"}async addSound(i,n){const o=await this.ac.decodeAudioData(n);this.sounds[i]=o}playSound(i){if(!X(this.sounds[i]))return;const n=this.ac.createGain(),o=this.ac.createBufferSource();n.gain.value=this.seVolume,o.buffer=this.sounds[i],o.connect(n),n.connect(this.mainGain),this.mainGain.connect(this.ac.destination),o.start()}restart(){this.status="pre",this.musicNode.stop(),this.syncTime(),this.ac.resume(),this.game.time=this.offset}sync(){this.status==="pre"?this.game.time=this.offset:this.game.time=(this.ac.currentTime-this.startTime)*1e3+this.offset}syncTime(){const i=()=>this.sync();this.game.ticker.add(i,!0)}async musicEnd(){this.status!=="pre"&&(await Pi(1e3),this.game.end())}}class sw extends Vo{constructor(i,n){var o,u,c,f,p;if(super({load:[],start:[],restart:[],pause:[],resume:[],end:[]}),T(this,"audio"),T(this,"mtt"),T(this,"status","pre"),T(this,"time",0),T(this,"length",0),T(this,"ended",!1),T(this,"scoreCalculator",this.defaultScoreCalculator),T(this,"isMobile",window.innerWidth<window.innerHeight),T(this,"target"),T(this,"ctx"),T(this,"ticker",new Ho),T(this,"ac",new iw(this)),T(this,"chart",new q1(this)),T(this,"renderer",new Y1(this)),T(this,"width"),T(this,"height"),T(this,"scale"),T(this,"noteScale",1),T(this,"noteWidth",this.isMobile?200:150),T(this,"drawScale"),T(this,"drawWidth"),T(this,"halfWidth"),T(this,"drawHeight"),T(this,"halfHeight"),T(this,"topWidth"),T(this,"halfTopWidth"),T(this,"multiStroke"),T(this,"perfect",50),T(this,"good",80),T(this,"miss",120),this.target=i,this.ctx=i.getContext("2d"),this.ctx.save(),this.width=i.width,this.height=i.height,this.scale=Math.min(this.width/1920,this.height/1080),i.width/i.height!==parseFloat((16/9).toFixed(7))){const g=this.width/1920,m=this.height/1080;if(g<m){const w=i.width*9/16;i.height=w,i.style.height=`${w}px`}else{const w=i.height*16/9;i.width=w,i.style.width=`${w}px`}}this.noteScale=(o=n==null?void 0:n.noteScale)!=null?o:1,this.noteWidth=(u=n==null?void 0:n.noteWidth)!=null?u:this.noteWidth,this.perfect=(c=n==null?void 0:n.perfect)!=null?c:50,this.good=(f=n==null?void 0:n.good)!=null?f:80,this.miss=(p=n==null?void 0:n.miss)!=null?p:120,this.drawScale=this.scale*this.noteScale,this.drawWidth=this.noteWidth*this.drawScale,this.halfWidth=this.drawWidth/2,this.drawHeight=this.drawWidth/10,this.halfHeight=this.drawHeight/2,this.topWidth=this.drawWidth-this.halfHeight*2,this.halfTopWidth=this.topWidth/2,this.multiStroke=this.ctx.createLinearGradient(0,-this.halfHeight,0,this.halfHeight),this.multiStroke.addColorStop(0,"#fff"),this.multiStroke.addColorStop(.5,"#fef267"),this.multiStroke.addColorStop(1,"#fff"),i.addEventListener("touchstart",this.chart.judger.touchstart),i.addEventListener("touchend",this.chart.judger.touchend),this.chart.register("generator","linear",Ci),this.chart.register("generator","bezier",I1),this.chart.register("generator","trigo",N1),this.chart.register("generator","power",M1),this.chart.register("generator","hyper",L1),this.chart.register("generator","inverseTrigo",U1),this.chart.register("generator","shake",z1),this.chart.register("pathG","circle",K1),this.chart.register("pathG","bezier",J1),this.chart.registerExecute("base","r",(g,m)=>m.setRadius(g)),this.chart.registerExecute("base","bpm",(g,m)=>m.setSpeed(g)),this.chart.registerExecute("base","rgba",(g,m)=>m.rgba(...g)),this.chart.registerExecute("base","filter",(g,m)=>m.filter(g)),this.chart.registerExecute("note","speed",(g,m)=>m.setSpeed(g)),this.chart.registerExecute("note","filter",(g,m)=>m.filter(g)),this.chart.registerExecute("note","shadow",(g,m)=>m.shadow(g.x,g.y,g.blur,g.color)),this.chart.registerExecute("note","opacity",(g,m)=>m.opacity(g)),this.chart.registerExecute("camera","css",(g,m)=>m.css(g))}async load(i,n,o,u){const c=Date.now();if(X(this.audio)||X(this.mtt))throw new TypeError("The game's music or chart has already been loaded.");const f=[this.loadMusic(i,o),this.loadMTT(n,u)];await Promise.all(f);const p={target:this,type:"load",time:Date.now()-c};this.dispatch("load",p)}async start(i=1e3){if(this.status!=="pre")throw new TypeError("The game has already started or ended.");await Pi(i),this.status="playing",this.ac.play(),this.renderer.start();const n={target:this,type:"start",music:this.ac.audio,mtt:this.mtt};this.dispatch("start",n)}pause(){const i=this.status;if(this.status==="pause")throw new TypeError("The game has already paused.");this.status="pause",this.ac.pause();const n={target:this,type:"pause",from:i,to:this.status};this.dispatch("pause",n)}resume(){const i=this.status;if(this.status==="playing")throw new TypeError("The game has already resumed.");this.status="playing",this.ac.resume();const n={target:this,type:"resume",from:i,to:this.status};this.dispatch("resume",n)}async restart(i=1e3){this.ticker.clear(),this.ctx.restore(),this.ctx.clearRect(0,0,this.target.width,this.target.height),this.renderer.clearEffect(),this.status="pre",this.chart.judger.toJudge=[],this.chart.camera.ticker.destroy(),this.ac.restart(),await this.chart.restart();const n={target:this,type:"restart",music:this.ac.audio,mtt:this.mtt};this.dispatch("restart",n),this.start(i)}end(){if(this.status==="exit")throw new TypeError("The game has already ended.");const i=this.status;this.ticker.destroy(),this.ac.pause(),this.ended=!0,this.status="exit",this.chart.camera.ticker.destroy();const n=this.chart.bases;Object.values(n).forEach(c=>c.ticker.destroy());const o=this.chart.notes;Object.values(o).forEach(c=>c.ticker.destroy());const u={target:this,type:"end",from:i,to:this.status};this.dispatch("end",u)}setOffset(i){if(this.status!=="pre")throw new TypeError("Offset can only be set before the game starts.");this.ac.offset=i}getScore(){const i={...this.getDetail(),length:this.length,maxCombo:this.chart.judger.maxCombo};return this.scoreCalculator(i)}getDetail(){const{perfect:i,good:n,miss:o,early:u,late:c}=this.chart.judger;return{perfect:i,good:n,miss:o,early:u,late:c}}setScoreCalculator(i){this.scoreCalculator=i}async setSound(i,n){const o=await this.post(n,"arraybuffer");await this.ac.addSound(i,o.data)}async post(i,n,o){const u={responseType:n,onDownloadProgress:o};return await rw.get(i,u)}async loadMusic(i,n){const o=await this.post(i,"arraybuffer",n);if(o.status!==200)return this.fail(`Fail to load url [${i}]`,o.status);const u=await this.ac.extract(o.data);this.audio=u}async loadMTT(i,n){const o=await this.post(i,"json",n);if(o.status!==200)return this.fail(`Fail to load url [${i}]`,o.status);this.mtt=o.data,this.chart.extract(this.mtt)}fail(i,n){console.error(`${n}: ${i}`)}defaultScoreCalculator(i){const n=9e5/this.length,o=this.chart.judger,u=o.maxCombo/this.length*1e5;return Math.round(n*o.perfect+n*.5*o.good+u)}}function ow(r,i){return new sw(r,i)}const aw=ow,wn=Ho,yf={},Si={};let yl=0;const Te=new AudioContext,Er=K(0);async function uw(r,i){const n=await Bt.get(r,{responseType:"arraybuffer",onDownloadProgress:i}),o=await Te.decodeAudioData(n.data);return Si[r]=o,n}async function bn(r,i=!1){const n=Te.createGain(),o=Te.createBufferSource();if(Sr.has(Si[r]))o.buffer=Si[r];else{const c=await Bt.get(r,{responseType:"arraybuffer"}),f=await Te.decodeAudioData(c.data);Si[r]=f,o.buffer=f}o.loop=i,yf[yl]=[o,n],o.connect(n),n.connect(Te.destination),o.start();const u=yl++;return r==="/Mutate-HTML/music/mutate.mp3"&&(Er.value=u),u}function Do(r){const i=yf[r];if(!Sr.has(i))throw new ReferenceError("You are trying to get a nonexistent audio.");return i}class cw extends Array{constructor(i,...n){super(`id:${i}`,...n)}clear(){this.splice(1,this.length-1)}check(){return!!/^id:[^_]+\#file:[^]+.mtt$/.test(this[0])}}let Bi;function lw(r,i){Bi=new cw(`${r}#file:${i}`)}function fw(r){Bi.push(r.toString())}function hw(r){!Bi.check()||r.append("route",JSON.stringify([...Bi]))}const dw=window.innerWidth<=window.innerHeight,_l=["F","D","C","B","A","S","FC","AP"];function ta(){return st()?{w:window.innerHeight*.95,h:window.innerWidth*.95}:{w:window.innerWidth*.95,h:window.innerHeight*.95}}function st(){return dw}function Wn(r){return r<1024?`${r}B`:r<1024**2?`${(r/1024).toFixed(2)}KB`:r<1024**3?`${(r/1024**2).toFixed(2)}MB`:r<1024**4?`${(r/1024**3).toFixed(2)}GB`:`${r}B`}function $o(r){return`${Math.floor(r/60)}:${(r%60).toString().padStart(2,"0")}`}function pw(r){return r<7e5?"F":r<8e5?"D":r<85e4?"C":r<9e5?"B":r<95e4?"A":r<1e6?"S":"AP"}function mw(r,i){return _l.indexOf(r)>_l.indexOf(i)}function _f(r){return r==="F"?"#aaa":r==="AP"?"transparent":r==="FC"?"#66e9ff":r==="AUTO"?"#fc66ff":"#fff"}function wr(r){return r.match(/(F|D|C|B|A|S|FC|AP)$/)[0]}async function gw(r,i,n,o){const u=new FormData;return u.append("type","score"),u.append("name","Mutate"),u.append("version","v0.1"),u.append("platform",wf()),u.append("hard",Ao(i)),u.append("username",Ao(o)),u.append("ending",Ao(r)),u.append("lv","0"),u.append("hp",n.toString()),u.append("atk","0"),u.append("def","0"),u.append("mdef","0"),u.append("money","0"),u.append("experience","0"),u.append("steps","0"),u.append("norank","0"),u.append("seed","0"),u.append("totalTime","0"),u.append("base64","1"),hw(u),await Bt.post("/games/upload.php",u)}function wf(){const r=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];for(const i of r)if(navigator.userAgent.indexOf(i)>=0)return i=="iPhone"||i=="iPad"||i=="iPod"?"IOS":i=="Android"?"Android":"PC";return""}function Ao(r){return btoa(encodeURIComponent(r).replace(/%([0-9A-F]{2})/g,(i,n)=>String.fromCharCode(parseInt(n,16))))}function vw(r){return r==="easy"?"0":r==="normal"?"1":r==="hard"?"2":r==="master"?"3":"0"}function yw(r){const i=new FormData;i.append("type","people"),i.append("name","Mutate"),i.append("version","v0.1"),i.append("platform",wf()),i.append("hard",r),i.append("hardCode",vw(r)),i.append("base64","1"),Bt.post("/games/upload.php",i)}const _w=Vt({__name:"cover",setup(r){const i=oy("select");let n=new wn;function o(){const u=document.getElementById("cover");u.style.opacity="0",u.addEventListener("transitionend",c=>{i.value=!0,n.destroy()})}return Se(async()=>{await jt.sleep(500);const u=document.getElementById("cover"),c=u.getContext("2d");Er.value=await bn("/Mutate-HTML/music/mutate.mp3",!0);const f=Te.currentTime;u.style.border="1px solid #fff",u.style.opacity="1";const{w:p,h:g}=ta();u.width=p,u.height=g;let m=110,w=1.5;const y=[],E=A=>{for(let F=0;F<A;F++){let D,I;const j=~~(Math.random()*4);let P;j===1?(D=0,I=Math.random()*g,P=(Math.random()-.5)*Math.PI*.6):j===2?(D=p,I=Math.random()*g,P=(Math.random()+.5)*Math.PI*.6):j===3?(I=0,D=Math.random()*p,P=Math.random()*Math.PI*.6):(I=g,D=Math.random()*p,P=(Math.random()-1)*Math.PI*.6);const $=Math.cos(P),Z=Math.sin(P),ot=Math.random()*10+50,xt=`rgba(${~~(Math.random()*255)}, ${~~(Math.random()*255)}, ${~~(Math.random()*255)}, 0.5)`;y.push({x:D,y:I,r:ot,vx:$,vy:Z,color:xt})}};E(20),c.save(),n.add(A=>{c.restore(),c.save(),c.clearRect(0,0,u.width,u.height);const F=Te.currentTime*1e3;A<1e3?(u.style.filter=`blur(${5-A/200}px)`,m=55-A/20,w=1+2*(A/2e3-.5)**2):(m=3,w=1),y.length<30&&E(1);const D=(~~F-f)%462;let I=0;D>362&&(I=(D-362)/100),D<100&&(I=1-D/100);for(let j=0;j<y.length;j++){const P=y[j];if(P.x+=P.vx*m,P.y+=P.vy*m,P.x<0-P.r||P.x>u.width+P.r||P.y<0-P.r||P.y>u.height+P.r){y.splice(j,1),j--;continue}c.filter="blur(25px)",c.fillStyle=P.color,c.beginPath(),c.arc(P.x,P.y,P.r,0,Math.PI*2),c.closePath(),c.fill(),c.filter="none"}c.shadowColor="#3df0ff",c.shadowBlur=8,c.shadowOffsetX=2,c.shadowOffsetY=2,c.textAlign="center",c.fillStyle="#f78fff",c.strokeStyle="#3df0ff",c.font=`${w*12+I}em normal`,c.filter=`blur(${(m-10)/10}px)`,c.fillText("MUTATE",u.width/2,u.height/2),c.strokeText("MUTATE",u.width/2,u.height/2),c.fillStyle="#fff",c.shadowBlur=0,c.shadowColor="",c.shadowOffsetX=0,c.shadowOffsetY=0,c.font="2em normal",c.fillText("\u70B9\u51FB\u5F00\u59CB\u6E38\u620F",u.width/2,u.height/2+40)})}),(u,c)=>(et(),yt("canvas",{id:"cover",onClick:o}))}});const qt=(r,i)=>{const n=r.__vccOpts||r;for(const[o,u]of i)n[o]=u;return n},ww=qt(_w,[["__scopeId","data-v-124f3c94"]]),bf={};async function bw(r,i){await Bt.get(r,{onDownloadProgress:i});const n=new Image;return n.src=r,await new Promise(o=>{n.addEventListener("load",u=>o("success"))}),bf[r.split("/").at(-1)]=n,n}const xw=r=>(Po("data-v-18625fce"),r=r(),Io(),r),Ew={key:0,id:"start-load"},Aw=xw(()=>H("canvas",{id:"loading"},null,-1)),Tw={key:1,id:"start-page"},Sw=Vt({__name:"start",setup(r){const i=K(!1),n=K(0),o=3885035,u=K(0);let c={};const f="/Mutate-HTML/";function p(){const w=Object.values(c).reduce((y,E)=>y+E,0);n.value=parseFloat((w/o*100).toFixed(2)),u.value=w}async function g(){const w=[m(`${f}music/mutate.mp3`,0,"arraybuffer"),m(`${f}se/tap.wav`,1,"arraybuffer"),m(`${f}se/drag.wav`,2,"arraybuffer"),m(`${f}se/pause.mp3`,2,"arraybuffer"),m(`${f}image/base1.png`,3,"arraybuffer"),m(`${f}image/base2.png`,4,"arraybuffer"),m(`${f}image/base3.png`,5,"arraybuffer"),(async()=>{const y=await m(`${f}font/normal.ttf`,6,"arraybuffer"),E=new FontFace("normal",y.data);await E.load(),document.fonts.add(E)})()];await Promise.all(w),n.value=100}async function m(w,y,E){const A=F=>{c[y]=F.loaded,p()};return w.endsWith(".mp3")||w.endsWith(".wav")?await uw(w,A):w.endsWith(".png")||w.endsWith(".jpg")||w.endsWith(".jpeg")?await bw(w,A):await Bt.get(w,{responseType:E,onDownloadProgress:A})}return Se(async()=>{const w=new wn,y=document.getElementById("loading"),E=y.getContext("2d");setTimeout(()=>{y.style.opacity="1",y.style.width="80%",y.style.height="80%",y.style.filter="none"},50),st()?(y.width=window.innerHeight*.95,y.height=window.innerWidth*.95):(y.width=window.innerWidth*.95,y.height=window.innerHeight*.95),E.strokeStyle="#eee",E.lineWidth=5,E.lineCap="round",w.add(A=>{const F=Math.PI*A/700,D=y.width,I=y.height,j=D/2,P=I/2;E.clearRect(0,0,y.width,y.height),E.beginPath(),E.arc(j,P,Math.min(D,I)/16,0,Math.PI*2),E.strokeStyle="#444",E.stroke(),E.beginPath(),E.arc(j,P,Math.min(D,I)/16,F,F+Math.PI/2),E.strokeStyle="#eee",E.stroke(),E.closePath(),E.textAlign="center",E.font="normal 4em Verdana",E.fillStyle="#eee",E.fillText(`loading${".".repeat(Math.floor(A/800)%4)}`,j,P+P/2),E.textAlign="right",E.font=`normal ${st()?1:2}em Verdana`,E.fillText(`${Wn(u.value)} / ${Wn(o)}`,y.width-30,y.height-30)}),await g(),n.value=100,y.style.opacity="0",y.style.width="100%",y.style.height="100%",y.style.filter="blur(5px)",p(),y.addEventListener("transitionend",async()=>{i.value||(i.value=!0,w.destroy())})}),(w,y)=>{const E=bl;return et(),yt(Fi,null,[i.value?Lt("",!0):(et(),yt("div",Ew,[Aw,z(E,{percent:n.value,style:{width:"90%"}},null,8,["percent"])])),i.value?(et(),yt("div",Tw,[z(ww)])):Lt("",!0)],64)}}});const Fw=qt(Sw,[["__scopeId","data-v-18625fce"]]);const Cw=["id"],kw=Vt({__name:"scroll",props:{total:null,scroll:null,id:null},emits:["update:scroll"],setup(r,{emit:i}){const n=r;let o,u=!1,c=n.scroll;function f(p=n.scroll){c=p;const g=n.total;if(g===0)return;c>g&&(console.warn("\u5F53\u524D\u6EDA\u52A8\u6761\u4F4D\u7F6E\u5927\u4E8E\u4E86\u603B\u957F\u5EA6"),c=g);const m=Math.min(o.canvas.height/g,1)*o.canvas.height,w=c/g*o.canvas.height;o.clearRect(0,0,o.canvas.width,o.canvas.height),o.beginPath(),o.moveTo(20,Math.max(w+5,5)),o.lineTo(20,Math.min(w+m-5,o.canvas.height-5)),o.lineCap="round",o.lineWidth=6,o.strokeStyle="#fff",o.stroke()}return Oi(()=>{f()}),Se(()=>{const p=document.getElementById(`scroll-${n.id}`);o=p.getContext("2d");const g=getComputedStyle(p);p.width=40,p.height=parseFloat(g.height),f(),p.addEventListener("mousedown",m=>{u=!0}),document.addEventListener("mouseup",m=>{u=!1,p.height<n.total&&i("update:scroll",c)}),document.addEventListener("mousemove",m=>{if(!u)return;const w=m.movementY;p.height<n.total&&(f(w+c),i("update:scroll",c+w))})}),(p,g)=>(et(),yt("canvas",{id:`scroll-${n.id}`,class:"scroll"},null,8,Cw))}});const xf=qt(kw,[["__scopeId","data-v-9521ae37"]]),Bw={\u6559\u7A0B:["\u6559\u7A0B"],\u5355\u66F2:["\u7075","\u7EA2\u67AB"]},Re={\u6559\u7A0B:{file:{music:"mutate.mp3",image:"mutate.png",chart:{easy:"tutorial.mtt",normal:"tutorial.mtt",hard:"tutorial.mtt"}},author:"\u53E4\u7960",chart:"\u53E4\u7960",duration:108,hard:{easy:2,normal:2,hard:2}},\u7075:{file:{music:"1.mp3",image:"1.jpg",chart:{easy:"1_1.mtt",normal:"1_2.mtt",hard:"1_3.mtt"}},author:"\u5F31\u9E21\u7EFF\u6BDB\u602A",chart:"\u53E4\u7960",duration:158,hard:{easy:4,normal:7,hard:12}},\u7EA2\u67AB:{file:{music:"2.mp3",image:"2.jpg",chart:{easy:"2_1.mtt",normal:"2_2.mtt",hard:"2_3.mtt"}},author:"\u5F31\u9E21\u7EFF\u6BDB\u602A",chart:"\u53E4\u7960",duration:135,hard:{easy:3,normal:8,hard:14}}},Ow={id:"leftbar"},Rw={id:"song-selector"},jw={id:"song-menu"},Dw=Vt({__name:"select-leftbar",props:{selectedKeys:null,openKeys:null,scroll:null},emits:["update:selectedKeys","update:openKeys"],setup(r,{emit:i}){const n=r;let o,u,c,f=n.selectedKeys,p=n.openKeys;const g=K(parseFloat(n.scroll)),m=K(0);Ri(g,E=>y(E));async function w(E=0){await jt.sleep(E);const A=getComputedStyle(u),F=getComputedStyle(o);m.value=parseFloat(A.height)+2*parseFloat(F.padding)}function y(E){if(parseFloat(getComputedStyle(c).height)>=m.value)return;const A=parseFloat(getComputedStyle(c).height);E+A>=m.value?(g.value=m.value-A,u.style.top=`${-g.value}px`):E<=0?(g.value=0,u.style.top="0px"):(g.value=E,u.style.top=`${-E}px`)}return Oi(()=>{f=n.selectedKeys,p=n.openKeys,localStorage.setItem("@mutate:select",`${p.join(",")}@@${f[0]}@@${g.value}`),localStorage.setItem("@mutate:select",`${p.join(",")}@@${f[0]}@@${g.value}`)}),Se(()=>{o=document.getElementById("leftbar"),u=document.getElementById("song-menu"),c=document.getElementById("leftbar"),w(),o.addEventListener("wheel",A=>{if(parseFloat(getComputedStyle(c).height)>=m.value)return;const F=Math.sign(A.deltaY)*100;g.value+=F,y(g.value)});let E=0;o.addEventListener("touchstart",A=>{const F=A.touches[0];E=st()?F.clientX:F.clientY}),o.addEventListener("touchmove",A=>{if(A.preventDefault(),parseFloat(getComputedStyle(c).height)>=m.value)return;const F=A.touches[0],D=st()?F.clientX:F.clientY;g.value+=D-E,y(g.value),E=D})}),(E,A)=>{const F=El,D=ay,I=xl,j=qn;return et(),yt("div",Ow,[H("div",Rw,[H("div",jw,[z(I,{mode:"inline",theme:"dark",openKeys:r.openKeys,"onUpdate:openKeys":A[1]||(A[1]=P=>Rc(openKeys)?openKeys.value=P:null),selectedKeys:r.selectedKeys,"onUpdate:selectedKeys":A[2]||(A[2]=P=>Rc(selectedKeys)?selectedKeys.value=P:null),onOpenChange:A[3]||(A[3]=P=>i("update:openKeys",r.openKeys)),onSelect:A[4]||(A[4]=P=>i("update:selectedKeys",r.selectedKeys)),style:mt({"font-size":L(st)()?"1em":"1.5em"})},{default:vt(()=>[(et(!0),yt(Fi,null,To(L(Bw),(P,$)=>(et(),ae(D,{key:$,onTitleClick:A[0]||(A[0]=Z=>w(300))},{title:vt(()=>[oe(ft($),1)]),default:vt(()=>[(et(!0),yt(Fi,null,To(P,(Z,ot)=>(et(),ae(F,{key:Z,style:mt({"font-size":L(st)()?"1em":"1.5em"})},{default:vt(()=>[oe(ft(Z)+"\xA0-\xA0"+ft(L(Re)[Z].author),1)]),_:2},1032,["style"]))),128))]),_:2},1024))),128))]),_:1},8,["openKeys","selectedKeys","style"])])]),z(xf,{id:"select",scroll:g.value,"onUpdate:scroll":A[5]||(A[5]=P=>g.value=P),total:m.value},null,8,["scroll","total"]),z(j,{style:{"border-color":"#ddd4",height:"96%",top:"2%",margin:"0","margin-right":"8px"},type:"vertical",dashed:""})])}}});const $w=qt(Dw,[["__scopeId","data-v-2ccde8f3"]]),Pw={id:"song-image"},Iw={id:"song-top-info"},Nw=["src"],Mw=Vt({__name:"select-songimage",props:{selectedKeys:null},emits:["openSetting"],setup(r,{emit:i}){const n=r,o=K(n.selectedKeys),u=st()?window.innerHeight:window.innerWidth;function c(f){return`/Mutate-HTML/image/${f}`}return Oi(()=>{o.value=n.selectedKeys}),(f,p)=>{const g=qn;return et(),yt("div",Pw,[H("div",Iw,[H("span",{id:"song-name",style:mt({"font-size":L(st)()?`${L(u)/800}em`:`${L(u)/600}em`})},ft(o.value[0]),5),z(L(uy),{id:"settings",style:mt({"margin-top":"2%","margin-right":"5%",transform:`scale(${L(u)/9}%)`,cursor:"pointer",transition:"all 0.2s linear"}),onClick:p[0]||(p[0]=m=>i("openSetting"))},null,8,["style"])]),z(g,{style:{"border-color":"#ddd4",margin:"0"},dashed:""}),H("img",{src:c(L(Re)[o.value[0]].file.image),id:"image"},null,8,Nw)])}}});const Lw=qt(Mw,[["__scopeId","data-v-cba294a0"]]);const Uw={id:"info"},zw={id:"hard"},Ww={id:"song-info"},Hw={id:"music"},Vw={id:"chart"},qw={id:"chart"},Kw={id:"score"},Jw={id:"score-num"},Yw={id:"start"},Xw=Vt({__name:"select-songinfo",props:{selectedKeys:null},emits:["play"],setup(r,{emit:i}){const n=r,o=K("easy"),u=K(!1),c=Al(()=>y(o.value)),f=K(n.selectedKeys),p=st()?window.innerHeight:window.innerWidth;function g(A){o.value=A}function m(){var F;if(f.value[0]==="\u6559\u7A0B")return((F=localStorage.getItem("@mutate:score-\u6559\u7A0B"))!=null?F:"0F").padStart(8,"0");let A=localStorage.getItem(`@mutate:score-${f.value[0]}-${o.value}`);return A||(A="0F"),A.padStart(8,"0")}function w(){return f.value[0]!=="\u6559\u7A0B"?localStorage.getItem(`@mutate:score-${f.value[0]}-${o.value}`)!==null:localStorage.getItem("@mutate:score-\u6559\u7A0B")!==null}function y(A){return A==="easy"?"#348f00":A==="normal"?"#b8b400":A==="hard"?"#7a0003":"#8f008a"}function E(){i("play",{music:f.value[0],hard:o.value,auto:u.value})}return Oi(()=>{f.value=n.selectedKeys}),(A,F)=>{const D=No,I=qn,j=ly;return et(),yt("div",Uw,[H("div",zw,[(et(!0),yt(Fi,null,To(L(Re)[f.value[0]].hard,(P,$)=>(et(),ae(D,{key:$,type:$===o.value?"primary":"default",size:"large",style:mt({height:L(st)()?"50%":"100%",margin:"1%","font-size":L(st)()?`${L(p)/1e3}em`:`${L(p)/550}em`,"text-align":"center","vertical-align":"middle","line-height":"100%","background-color":`${o.value===$?L(c):"transparent"}`}),onClick:Z=>g($)},{default:vt(()=>[oe(ft($)+"\xA0-\xA0"+ft(P),1)]),_:2},1032,["type","style","onClick"]))),128))]),z(I,{style:{"border-color":"#ddd4","margin-bottom":"1%"},dashed:""}),H("div",Ww,[H("span",Hw,"\u66F2\u5E08\xA0\xA0\xA0\xA0"+ft(L(Re)[f.value[0]].author),1),H("span",Vw,"\u8C31\u5E08\xA0\xA0\xA0\xA0"+ft(L(Re)[f.value[0]].chart),1),H("span",qw,"\u65F6\u957F\xA0\xA0\xA0\xA0"+ft(L($o)(L(Re)[f.value[0]].duration)),1)]),z(I,{style:{"border-color":"#ddd4",margin:"1%"},dashed:""}),H("div",Kw,[H("span",Jw,"\u6210\u7EE9\xA0\xA0\xA0\xA0"+ft(m().match(/^[0-9]+/)[0]),1),H("span",{id:"rank",style:mt({color:L(_f)(w()?L(wr)(m()):"F"),background:L(wr)(m())==="AP"?"linear-gradient(0.25turn, #3f87a6, #ebf8e1, gold, #3f87a6)":"","background-clip":L(wr)(m())==="AP"?"text":"",WebkitBackgroundClip:L(wr)(m())==="AP"?"text":""})},ft(w()?L(wr)(m()):""),5)]),z(I,{style:{"border-color":"#ddd4",margin:"1%"},dashed:""}),H("div",Yw,[z(j,{checked:u.value,"onUpdate:checked":F[0]||(F[0]=P=>u.value=P),style:mt({"font-size":L(st)()?`${L(p)/3e3}em`:`${L(p)/1500}em`,"margin-left":"3%"})},{default:vt(()=>[oe("\u81EA\u52A8\u64AD\u653E")]),_:1},8,["checked","style"]),z(D,{style:{width:"50%",height:"80%","background-color":"#ccc"},onClick:E},{default:vt(()=>[z(L(cy),{style:mt({transform:`scale(${L(p)/4}%)`,color:"#000"})},null,8,["style"])]),_:1})])])}}});const Gw=qt(Xw,[["__scopeId","data-v-b9e19e96"]]),Qw={id:"rightbar"},Zw=Vt({__name:"select",emits:["start","setting"],setup(r,{emit:i}){let n=localStorage.getItem("@mutate:select");n||(localStorage.setItem("@mutate:select","\u6559\u7A0B@@\u6559\u7A0B@@0"),n="\u6559\u7A0B@@\u6559\u7A0B@@0");const o=n.split("@@"),u=K(o[0].split(",")),c=K([o[1]]),f=K("easy"),p=st()?window.innerHeight:window.innerWidth;let g,m,w,y;const E=Al(()=>A(f.value));function A(I){return I==="easy"?"#348f00":I==="normal"?"#b8b400":I==="hard"?"#7a0003":"#8f008a"}async function F(I){g.style.opacity="0";const j=new wn,[P,$]=Do(Er.value);j.add(Z=>{$.gain.value=(700-Z)/700}),await jt.sleep(700),j.destroy(),P.stop(),yw(f.value),i("start",I)}async function D(){g.style.opacity="0";const I=new wn,[j,P]=Do(Er.value);I.add($=>{P.gain.value=(700-$)/700}),await jt.sleep(700),I.destroy(),j.stop(),i("setting")}return Se(async()=>{await jt.sleep(200),g=document.getElementById("select"),m=document.getElementById("song-info"),w=document.getElementById("score-num"),y=document.getElementById("rank");const I=st()?window.innerHeight/window.innerWidth:window.innerWidth/window.innerHeight;m.style.fontSize=st()?`${p/1e3}em`:`${p/900}em`,g.style.opacity="1",y.style.fontSize=st()?`${p/800}em`:`${p/600}em`,w.style.fontSize=st()?`${p/1e3}em`:`${p/800}em`;const{w:j,h:P}=ta();if(I>16/9){const $=P*16/9,ot=(parseFloat(getComputedStyle(g).width)-$)/2;g.style.paddingLeft=`${ot}px`,g.style.paddingRight=`${ot}px`}if(I<16/9){const $=j*9/16,ot=(parseFloat(getComputedStyle(g).height)-$)/2;g.style.paddingTop=`${ot}px`,g.style.paddingBottom=`${ot}px`}}),(I,j)=>{const P=qn;return et(),yt("div",{id:"select",style:mt({"background-color":`${L(E)}22`})},[z($w,{selectedKeys:c.value,"onUpdate:selectedKeys":j[0]||(j[0]=$=>c.value=$),openKeys:u.value,"onUpdate:openKeys":j[1]||(j[1]=$=>u.value=$),scroll:L(o)[2]},null,8,["selectedKeys","openKeys","scroll"]),H("div",Qw,[z(Lw,{selectedKeys:c.value,onOpenSetting:D},null,8,["selectedKeys"]),z(P,{style:{"border-color":"#ddd4",height:"100%"},type:"vertical",dashed:""}),z(Gw,{selectedKeys:c.value,onPlay:F},null,8,["selectedKeys"])])],4)}}});const tb=qt(Zw,[["__scopeId","data-v-946fe3b1"]]);function eb(r){r.renderer.setNote("hold",rb),r.renderer.setBase(ib),r.chart.camera.setGlobalEffects(sb)}function nb(r){const i=r.target,n=r.ctx,o=i.game,u=n.canvas;n.save(),n.textBaseline="top",n.fillStyle="#fff",n.textAlign="right",n.font="100 32px normal",n.fillText(o.getScore().toString().padStart(7,"0"),u.width-20,15);const c=o.chart.judger.combo;n.beginPath(),n.moveTo(0,0),n.lineTo(u.width*i.game.time/1e3/i.game.ac.audio.duration,0),n.lineCap="square",n.lineWidth=8,n.stroke();const f=`${$o(Math.floor(i.game.time/1e3))} / ${$o(Math.floor(i.game.ac.audio.duration+1))}`;n.textAlign="left",n.font="100 24px normal",n.fillText(f,60,10),!(c<3&&!i.game.chart.judger.auto)&&(n.textAlign="center",n.font="100 48px normal",n.fillText(`${c}`,u.width/2,10),n.font="100 32px normal",i.game.chart.judger.auto?n.fillText("autoplay",u.width/2,50):n.fillText("combo",u.width/2,50),n.restore())}function rb(r){}function ib(r){if(!this.inGame(r.x,r.y)||!r.inited)return;const i=r.calRad()+r.angle*Math.PI/180;let n="";r.id.endsWith("-j")&&(n="base1.png"),r.id.endsWith("-i1")&&(n="base2.png"),r.id.endsWith("-i2")&&(n="base3.png");const o=bf[n];if(!o)return;const u=this.game.ctx,c=this.game.scale,f=r.x*c,p=r.y*c,g=r.custom.radius*c,{a:m}=r.custom;u.save(),u.translate(f,p),n!=="base1.png"&&u.rotate(i+Math.PI),r.ctxFilter.length>0&&(u.filter=r.ctxFilter),u.globalAlpha=m,u.drawImage(o,-g,-g,g*2,g*2),u.restore()}function sb(r){const i=r.target,n=r.game.scale,o=960*n,u=540*n,c=r.x*n,f=r.y*n;i.translate(-c+o,-f+u),i.rotate(r.angle*Math.PI/180),i.scale(r.size,r.size),i.translate(-o,-u),i.shadowBlur=4,i.shadowColor="black"}const ob={id:"settle"},ab=["src"],ub={id:"song-name"},cb={id:"name"},lb={id:"song-detail"},fb={id:"detail-left"},hb={id:"detail-right"},db=Vt({__name:"settle",props:{auto:{type:Boolean},hard:null,song:null,score:null,detail:null,maxCombo:null},emits:["exit"],setup(r,{emit:i}){var g,m;const n=r,o=K(!1);function u(w){return`/Mutate-HTML/image/${w}`}const c=K("D");if(n.detail.miss>0?c.value=pw(n.score):n.detail.good>0?c.value="FC":c.value="AP",!n.auto){let w=(g=localStorage.getItem(`@mutate:score-${n.song}-${n.hard}`))!=null?g:"0F";n.song==="\u6559\u7A0B"&&(w=(m=localStorage.getItem("@mutate:score-\u6559\u7A0B"))!=null?m:"0F");const y=parseFloat(w.match(/^[0-9]+/)[0]),E=w.match(/(F|D|C|B|A|S|AP|FC)$/)[0],A=n.score>y?n.score:y,F=mw(c.value,E)?c.value:E;n.song==="\u6559\u7A0B"?localStorage.setItem("@mutate:score-\u6559\u7A0B",`${A}${F}`):localStorage.setItem(`@mutate:score-${n.song}-${n.hard}`,`${A}${F}`)}async function f(){const w=document.getElementById("settle");w.style.opacity="0",await jt.sleep(600),i("exit")}async function p(){o.value=!0;const w=document.cookie.match(new RegExp("(^| )id=([^;]+)"));if(!Sr.has(w)||w[2]==="")return alert("\u7528\u6237\u672A\u767B\u5F55\uFF01\u767B\u5F55\u540E\u53EF\u4EE5\u4E0A\u4F20\u6210\u7EE9\uFF01");gw(n.song,n.hard,n.score,w[2])}return Se(async()=>{await jt.sleep(200);const w=document.getElementById("settle");bn("/Mutate-HTML/music/mutate.mp3",!0),w.style.opacity="1",w.style.filter="none"}),(w,y)=>{const E=qn,A=No;return et(),yt("div",ob,[H("img",{id:"settle-img",src:u(L(Re)[r.song].file.image)},null,8,ab),H("div",{id:"settle-right",style:mt({"font-size":L(st)()?"2.5vh":"2.5vw"})},[H("div",ub,[H("span",cb,ft(r.song),1),H("span",null,ft(r.hard)+"\xA0\xA0\xA0\xA0Lv.\xA0"+ft(L(Re)[r.song].hard[r.hard]),1)]),z(E,{dashed:"",style:{width:"100%",margin:"0"}}),H("div",{id:"song-score",style:mt({"font-size":L(st)()?"4vh":"4vw"})},[H("span",null,ft(r.score.toString().padStart(6,"0")),1),H("span",{id:"rank",style:mt({color:L(_f)(r.auto?"AUTO":c.value),background:c.value==="AP"?"linear-gradient(0.25turn, #3f87a6, #ebf8e1, gold, #3f87a6)":"","background-clip":c.value==="AP"?"text":"",WebkitBackgroundClip:c.value==="AP"?"text":""})},ft(r.auto?"AUTO":c.value),5)],4),z(E,{dashed:"",style:{width:"100%",margin:"0"}}),H("div",lb,[H("div",fb,[H("span",null,ft(r.detail.perfect)+"\xA0\xA0\xA0\xA0\u5B8C\u7F8E",1),H("span",null,ft(r.detail.good)+"\xA0\xA0\xA0\xA0\u826F\u597D",1),H("span",null,ft(r.detail.miss)+"\xA0\xA0\xA0\xA0\u9519\u8FC7",1)]),z(E,{type:"vertical",dashed:"",style:{height:"100%","border-color":"#ddd4"}}),H("div",hb,[H("span",null,"\u63D0\u524D\xA0\xA0\xA0\xA0"+ft(r.detail.early),1),H("span",null,"\u8FC7\u665A\xA0\xA0\xA0\xA0"+ft(r.detail.late),1),H("span",null,"\u6700\u5927\u8FDE\u51FB\xA0\xA0\xA0\xA0"+ft(r.maxCombo),1)])]),z(E,{dashed:"",style:{width:"100%",margin:"0 0 10% 0"}}),r.auto?Lt("",!0):(et(),ae(A,{key:0,id:"upload",style:mt({"font-size":L(st)()?"3vh":"3vw"}),loading:o.value,onClick:p},{default:vt(()=>[o.value?Lt("",!0):(et(),ae(L(fy),{key:0}))]),_:1},8,["style","loading"])),z(A,{id:"confirm",style:mt({"font-size":L(st)()?"3vh":"3vw"}),onClick:f},{default:vt(()=>[z(L(hy))]),_:1},8,["style"])],4)])}}});const pb=qt(db,[["__scopeId","data-v-a6fb5f08"]]);function mb(r){r.renderer.on("after",gb)}function gb(r){const i=r.target,n=r.ctx,o=i.game.time;n.save(),n.fillStyle="#fff",n.textAlign="center",n.textBaseline="middle",n.font=`${n.canvas.width/40}px normal`,o>=1e3&&o<=5e3&&vb(n,o),o>=6e3&&o<=1e4&&yb(n,o),o>=15e3&&o<=19e3&&_b(n,o),o>=24e3&&o<=28e3&&wb(n,o),o>=37e3&&o<=41e3&&bb(n,o),o>=52e3&&o<=56e3&&xb(n,o),o>=73e3&&o<=77e3&&Eb(n,o),o>=88e3&&o<=92e3&&Ab(n,o),o>=93e3&&o<=97e3&&Tb(n,o),n.restore()}function Ke(r,i,n,o){const u=2-Math.abs(o-n)/1e3;r.globalAlpha=u,r.fillText(i,r.canvas.width/2,r.canvas.height/3)}function vb(r,i){Ke(r,"\u6B22\u8FCE\u6765\u5230Mutate\uFF01\u4E0B\u9762\u4F60\u5C06\u6765\u5B66\u4E60\u6E38\u620F\u7684\u57FA\u672C\u73A9\u6CD5",i,3e3)}function yb(r,i){Ke(r,`\u9996\u5148\u662Ftap\u97F3\u7B26\uFF0C\u4F60\u53EA\u9700\u8981\u5728\u5B83\u5230\u8FBE\u5224\u5B9A\u5708\u7684\u65F6\u523B${st()?"\u70B9\u51FB\u5C4F\u5E55\u4EFB\u610F\u4F4D\u7F6E":"\u6309\u4E0B\u4EFB\u610F\u6309\u952E"}\u5373\u53EF`,i,8e3)}function _b(r,i){Ke(r,`\u5F88\u597D\uFF01\u4E0B\u9762\u662Fdrag\u97F3\u7B26\uFF0C\u4F60\u53EA\u9700\u8981\u5728\u5B83\u5230\u8FBE\u5224\u5B9A\u5708\u7684\u65F6\u523B${st()?"\u6709\u624B\u6307\u6309\u5728\u5C4F\u5E55\u4E0A":"\u6709\u6309\u952E\u88AB\u6309\u4F4F"}\u5373\u53EF`,i,17e3)}function wb(r,i){Ke(r,"\u8FD9\u662F\u6700\u57FA\u7840\u7684\u73A9\u6CD5\uFF0C\u9664\u6B64\u4E4B\u5916\uFF0C\u97F3\u7B26\u8FD8\u53EF\u80FD\u4ECE\u5404\u4E2A\u65B9\u5411\u800C\u6765",i,26e3)}function bb(r,i){Ke(r,"\u57FA\u5730\u7684\u5927\u5C0F\u4E5F\u53EF\u4EE5\u968F\u610F\u6539\u53D8",i,39e3)}function xb(r,i){Ke(r,"\u57FA\u5730\u8FD8\u53EF\u4EE5\u79FB\u52A8\u3001\u900F\u660E\u3001\u6D88\u5931\uFF0C\u751A\u81F3\u662F\u62C6\u5206\u5F00\uFF0C\u4F46\u672C\u4F53\u4E00\u5B9A\u662F\u5224\u5B9A\u5708",i,54e3)}function Eb(r,i){Ke(r,"\u57FA\u5730\u8FD8\u53EF\u4EE5\u662F\u591A\u4E2A",i,75e3)}function Ab(r,i){Ke(r,"\u5230\u6B64\u4E3A\u6B62\uFF0C\u4F60\u5DF2\u7ECF\u5B66\u4F1A\u4E86\u8FD9\u4E2A\u6E38\u620F\u600E\u4E48\u6E38\u73A9\u4E86!",i,9e4)}function Tb(r,i){Ke(r,"\u5728\u6559\u7A0B\u7ED3\u675F\u540E\uFF0C\u5FEB\u53BB\u4F53\u9A8C\u8FD9\u4E2A\u6E38\u620F\u5427\uFF01",i,95e3)}const Sb=r=>(Po("data-v-495bf4e0"),r=r(),Io(),r),Fb={id:"mutate-div"},Cb={key:0,id:"mutate-core"},kb=Sb(()=>H("canvas",{id:"mutate-game",style:{width:"100%",height:"100%"}},null,-1)),Bb={key:2,id:"pause"},Ob={key:3,id:"time-back"},Rb=Vt({__name:"play",props:{auto:{type:Boolean},song:null,hard:null},emits:["exit"],setup(r,{emit:i}){var Ut;const n=r,o=K([0,0]),u=K([0,0]),c=K(["0","0"]),f=K(0),p=parseFloat((Ut=localStorage.getItem("@mutate:offset"))!=null?Ut:"0"),g=K(!1),m=K(0),w=K(),y=K(0),E=K(!1),A=K(!1),F=K(3),D=K(!1),I=K(0);let j;function P(){E.value=!0,i("exit")}function $(){if(A.value||f.value!==0)return;const At=document.getElementById("mutate-core");At.style.filter="blur(10px)brightness(50%)",j.pause(),A.value=!0,bn("/Mutate-HTML/se/pause.mp3")}async function Z(){const At=document.getElementById("mutate-core");D.value=!0,F.value=3,await jt.sleep(1e3),F.value=2,await jt.sleep(1e3),F.value=1,At.style.filter="none",await jt.sleep(1e3),D.value=!1,A.value=!1,j.resume()}async function ot(){const At=document.getElementById("mutate-div");At.style.opacity="0",await jt.sleep(700),At.style.opacity="1";const Dt=document.getElementById("mutate-core");Dt.style.filter="none",j.restart(0),A.value=!1}async function xt(){const At=document.getElementById("mutate-div");At.style.opacity="0",await jt.sleep(600),i("exit"),bn("/Mutate-HTML/music/mutate.mp3",!0)}return Se(async()=>{var an,Qt;const At=document.getElementById("mutate-div"),Dt=document.getElementById("mutate-core"),nt=document.getElementById("mutate-game"),ct=nt.getContext("2d");let{w:je,h:ve}=ta();if(je-=10,ve-=10,je/ve>16/9){const Ft=ve*16/9;nt.height=ve,nt.width=Ft,Dt.style.width=`${Ft}px`,Dt.style.height=`${ve}px`}else{const Ft=je*9/16;nt.height=Ft,nt.width=je,Dt.style.width=`${je}px`,Dt.style.height=`${Ft}px`}await jt.sleep(600),j=aw(nt);const Xn="/Mutate-HTML/";nt.style.opacity="1",f.value=1,Dt.style.opacity="1",At.style.opacity="1";const Fr=new wn;Fr.add(Ft=>{const Br=Math.PI*Ft/700,Gn=nt.width,Ce=nt.height,Je=Gn/2,En=Ce/5*2;ct.lineWidth=5,ct.lineCap="round",ct.clearRect(0,0,nt.width,nt.height),ct.beginPath(),ct.arc(Je,En,Math.min(Gn,Ce)/16,0,Math.PI*2),ct.strokeStyle="#444",ct.stroke(),ct.beginPath(),ct.arc(Je,En,Math.min(Gn,Ce)/16,Br,Br+Math.PI/2),ct.strokeStyle="#eee",ct.stroke(),ct.closePath(),ct.textAlign="center",ct.font="normal 4em Verdana",ct.fillStyle="#eee",ct.fillText(`loading${".".repeat(Math.floor(Ft/800)%4)}`,Je,En+En/2);const un=Wn(o.value[0]),cn=Wn(u.value[0]);ct.textAlign="left",ct.font=`normal ${24*nt.width/1920}px Verdana`,ct.fillText(`\u97F3\u4E50\u52A0\u8F7D\u8FDB\u5EA6    ${un} / ${cn}`,nt.width/11,nt.height*(1-.11));const zi=Wn(o.value[1]),An=Wn(u.value[1]);ct.fillText(`\u8C31\u9762\u52A0\u8F7D\u8FDB\u5EA6    ${zi} / ${An}`,nt.width/11,nt.height*(1-.21)),c.value=[(o.value[0]/u.value[0]*100).toFixed(2),(o.value[1]/u.value[1]*100).toFixed(2)]});const Cr=Re[n.song];await j.load(`${Xn}music/${Cr.file.music}`,`${Xn}chart/${Cr.file.chart[n.hard]}`,Ft=>{o.value[0]=Ft.loaded,u.value[0]=Ft.total},Ft=>{o.value[1]=Ft.loaded,u.value[1]=Ft.total}),nt.style.opacity="0",f.value=0,await jt.sleep(600),I.value=1,Fr.destroy(),ct.clearRect(0,0,nt.width,nt.height),nt.style.opacity="1",nt.style.transition="",j.setOffset(-p),eb(j),j.start(),j.setSound("tap","/Mutate-HTML/se/tap.wav"),j.setSound("drag","/Mutate-HTML/se/drag.wav"),n.auto&&(j.chart.judger.auto=!0);const De=parseInt((an=localStorage.getItem("@mutate:seVolume"))!=null?an:"50")/100;j.ac.seVolume=De;const Fe=parseInt((Qt=localStorage.getItem("@mutate:musicVolume"))!=null?Qt:"100")/100;j.ac.musicVolume=Fe,j.renderer.on("after",nb),n.song==="\u6559\u7A0B"&&mb(j),n.auto||(j.chart.judger.on("hit",Ft=>{fw(j.time)}),lw(n.song,Re[n.song].file.chart[n.hard].slice(0,-4)));const kr=Ft=>{Ft.key==="Escape"&&$()};document.addEventListener("keydown",kr),j.on("end",async()=>{Dt.style.opacity="0",m.value=j.getScore(),w.value=j.getDetail(),y.value=j.chart.judger.maxCombo,document.removeEventListener("keydown",kr),await jt.sleep(600),At.style.backgroundColor="#111",g.value=!0})}),(At,Dt)=>{const nt=bl;return et(),yt("div",Fb,[!g.value&&!E.value?(et(),yt("div",Cb,[kb,z(nt,{percent:parseFloat(c.value[0]),style:mt({position:"absolute",bottom:"7%",width:"50%",left:"7%",opacity:f.value,transition:"opacity 0.6s linear"})},null,8,["percent","style"]),z(nt,{percent:parseFloat(c.value[1]),style:mt({position:"absolute",bottom:"17%",width:"50%",left:"7%",opacity:f.value,transition:"opacity 0.6s linear"})},null,8,["percent","style"]),z(L(dy),{style:mt({position:"absolute",left:"10px",top:"10px","font-size":"32px","font-weight":"900",cursor:"pointer",opacity:I.value,transition:"all 0.6s linear"}),onClick:$},null,8,["style"])])):Lt("",!0),g.value&&!E.value?(et(),ae(pb,{key:1,song:r.song,auto:r.auto,hard:r.hard,score:m.value,detail:w.value,"max-combo":y.value,onExit:P},null,8,["song","auto","hard","score","detail","max-combo"])):Lt("",!0),!D.value&&A.value?(et(),yt("div",Bb,[z(L(Tl),{style:{margin:"25%"},onClick:xt}),z(L(py),{style:{margin:"25%"},onClick:ot}),z(L(my),{style:{margin:"25%"},onClick:Z})])):Lt("",!0),A.value&&D.value?(et(),yt("span",Ob,ft(F.value),1)):Lt("",!0)])}}});const jb=qt(Rb,[["__scopeId","data-v-495bf4e0"]]);const Db={id:"setting"},$b={id:"setting-info"},Pb={style:{"margin-right":"3%"}},Ib={id:"setting-slider"},Nb=Vt({__name:"settingOne",props:{defaultValue:null,storage:null,min:null,max:null,step:null},emits:["update:value"],setup(r,{emit:i}){const n=r,o=K(n.defaultValue),u=localStorage.getItem(n.storage);Sr.has(u)&&(o.value=parseInt(u));function c(f){i("update:value",f),o.value=f,localStorage.setItem(n.storage,o.value.toString())}return(f,p)=>{var m,w,y,E,A,F,D,I,j,P,$;const g=Cl;return et(),yt("div",Db,[H("div",$b,[H("span",null,[gy(f.$slots,"default",{},void 0,!0)]),H("span",Pb,ft(o.value),1)]),H("div",Ib,[z(L(Sl),{style:{cursor:"pointer"},onClick:p[0]||(p[0]=Z=>{var ot;return c(o.value-((ot=r.step)!=null?ot:5))})}),z(g,{id:"slider-slider",value:o.value,"onUpdate:value":p[1]||(p[1]=Z=>o.value=Z),min:(m=r.min)!=null?m:0,max:(w=r.max)!=null?w:100,marks:{[(y=r.min)!=null?y:0]:(E=r.min)!=null?E:0,[(((A=r.min)!=null?A:0)+((F=r.max)!=null?F:100))/2]:(((D=r.min)!=null?D:0)+((I=r.max)!=null?I:100))/2,[(j=r.max)!=null?j:100]:(P=r.max)!=null?P:100},step:($=r.step)!=null?$:1,"tip-formatter":null,onChange:c},{mark:vt(({label:Z})=>[H("p",{style:mt({"font-size":L(st)()?"1.4vh":"1.4vw"})},ft(Z),5)]),_:1},8,["value","min","max","marks","step"]),z(L(Fl),{style:{cursor:"pointer"},onClick:p[2]||(p[2]=Z=>{var ot;return c(o.value+((ot=r.step)!=null?ot:5))})})])])}}});const wl=qt(Nb,[["__scopeId","data-v-b52ccb0d"]]),Mb={id:"option"},Lb={id:"option-main"},Ub={id:"left"},zb={id:"functions"},Wb={style:{"font-family":"normal","font-size":"1.4vw"}},Hb={id:"right"},Vb=Vt({__name:"setting-option",setup(r){const i=K(!1),n=K(""),o=K("recover"),u=K(0),c=K(0);Ri(u,w=>f(w));function f(w){const y=document.getElementById("option-main");if(parseFloat(getComputedStyle(y).height)>=c.value)return;const E=parseFloat(getComputedStyle(y).height);w+E>=c.value?(u.value=c.value-E,y.style.top=`${-u.value}px`):w<=0?(u.value=0,y.style.top="0px"):(u.value=w,y.style.top=`${-w}px`)}function p(){i.value=!0,n.value="\u529F\u80FD\u5F00\u53D1\u4E2D\uFF0C\u5373\u5C06\u4E0A\u7EBF...",o.value="recover"}function g(){i.value=!0,n.value="\u6B64\u64CD\u4F5C\u5C06\u4F1A\u5220\u9664\u4F60\u7684\u6B64\u6E38\u620F\u7684\u6240\u6709\u5B58\u6863\uFF0C\u53CA\u9664\u504F\u79FB\u5916\u7684\u8BBE\u7F6E\u4FE1\u606F\uFF0C\u8BF7\u614E\u91CD\u64CD\u4F5C\uFF01\uFF01",o.value="clear"}async function m(){if(o.value==="recover")return i.value=!1;if(o.value==="clear"){try{const w=localStorage.getItem("@mutate:offset");localStorage.clear(),localStorage.setItem("@mutate:played","true"),localStorage.setItem("@mutate:offset",w!=null?w:"0"),alert("\u6E05\u9664\u6210\u529F\uFF01")}catch(w){alert("\u6E05\u9664\u5931\u8D25\uFF01")}i.value=!1}}return Se(()=>{const w=document.getElementById("option-main"),y=getComputedStyle(w);c.value=parseFloat(y.top),u.value=0}),(w,y)=>{const E=No,A=vy,F=qn;return et(),yt("div",Mb,[H("div",Lb,[H("div",Ub,[z(wl,{"default-value":50,storage:"@mutate:seVolume"},{default:vt(()=>[oe("\u97F3\u6548\u97F3\u91CF")]),_:1}),H("div",zb,[z(E,{style:mt({"font-size":L(st)()?"2.5vh":"2.5vw"}),onClick:p},{default:vt(()=>[oe("\u6062\u590D\u6570\u636E")]),_:1},8,["style"]),z(E,{style:mt({"font-size":L(st)()?"2.5vh":"2.5vw"}),danger:!0,onClick:g},{default:vt(()=>[oe("\u6E05\u9664\u6570\u636E")]),_:1},8,["style"]),z(A,{visible:i.value,"onUpdate:visible":y[1]||(y[1]=D=>i.value=D),title:"\u8B66\u544A",style:{"font-family":"normal"}},{footer:vt(()=>[z(E,{class:"alert",key:"cancel",onClick:y[0]||(y[0]=D=>i.value=!1)},{default:vt(()=>[oe("\u53D6\u6D88")]),_:1}),z(E,{class:"alert",key:"confirm",danger:!0,onClick:m},{default:vt(()=>[oe("\u786E\u5B9A")]),_:1})]),default:vt(()=>[H("p",Wb,ft(n.value),1)]),_:1},8,["visible"])])]),z(F,{type:"vertical",dashed:"",id:"option-divider"}),H("div",Hb,[z(wl,{"default-value":100,storage:"@mutate:musicVolume"},{default:vt(()=>[oe("\u97F3\u4E50\u97F3\u91CF")]),_:1})]),z(xf,{total:c.value,scroll:u.value,"onUpdate:scroll":y[2]||(y[2]=D=>u.value=D),id:"option"},null,8,["total","scroll"])])])}}});const qb=qt(Vb,[["__scopeId","data-v-8f9c46fa"]]),Kb=r=>(Po("data-v-ccdcd887"),r=r(),Io(),r),Jb={id:"offset"},Yb=Kb(()=>H("canvas",{id:"offset-canvas"},null,-1)),Xb={id:"slider"},Gb={id:"slider-main"},Qb=Vt({__name:"setting-offset",setup(r){const i=K(0),n=K(0),o=new wn;Ri(i,f=>{localStorage.setItem("@mutate:offset",f.toString())});const u=localStorage.getItem("@mutate:offset");Sr.has(u)?i.value=parseInt(u):(localStorage.setItem("@mutate:offset","0"),i.value=0);async function c(){const f=document.getElementById("offset-canvas"),p=f.getContext("2d"),g=getComputedStyle(f);f.width=parseFloat(g.width),f.height=parseFloat(g.height);const m=f.width,w=f.height,y=Te.currentTime;let E=0,A=0,F=1e3;o.add(async()=>{p.clearRect(0,0,m,w);const P=(Te.currentTime-y)*1e3%2400;p.save();const $=m*3/4+i.value/2400*m;p.strokeStyle="#ddd",p.lineWidth=2,p.beginPath(),p.moveTo($,0),p.lineTo($,w),p.stroke();const Z=P/2400*m;p.beginPath(),p.moveTo(Z,w/4),p.lineTo(Z+7,w/4+7),p.lineTo(Z+7,w*3/4-7),p.lineTo(Z,w*3/4),p.lineTo(Z-7,w*3/4-7),p.lineTo(Z-7,w/4+7),p.closePath(),p.fillStyle="#00d2eb",p.lineWidth=4,p.fill(),p.stroke(),F+=16.7;let ot=2-F/500;ot<0&&(ot=0),p.globalAlpha=ot,p.strokeStyle="#5f9",p.beginPath(),p.moveTo(A,0),p.lineTo(A,w),p.stroke(),p.restore();const xt=Math.floor(P/600)%4;(xt===1||xt===2)&&E!==xt?(E=xt,await bn("/Mutate-HTML/se/drag.wav")):xt===3&&E!==xt&&(E=xt,await bn("/Mutate-HTML/se/tap.wav"))});let D=[];document.addEventListener("keydown",j=>{if(!D.includes(j.keyCode)){D.push(j.keyCode);const P=(Te.currentTime-y)*1e3%2400;A=P/2400*m,F=0,n.value=Math.round(P-1800-i.value)}}),document.addEventListener("keyup",j=>{const P=D.findIndex($=>$===j.keyCode);P!==-1&&D.splice(P,1)});let I=0;f.addEventListener("touchstart",j=>{const P=I;if(j.touches.length>P){const $=(Te.currentTime-y)*1e3%2400;A=$/2400*m,F=0,n.value=Math.round($-1800-i.value)}I=j.touches.length}),f.addEventListener("touchend",j=>{I=j.touches.length})}return Se(()=>{c()}),yy(()=>{o.destroy()}),(f,p)=>{const g=Cl;return et(),yt("div",Jb,[H("span",{id:"hint",style:mt({"font-size":L(st)()?"2.5vh":"3vw"})},"\u8C03\u6574\u6ED1\u52A8\u6761\u4F7F\u5728\u7B2C\u4E09\u4E2A\u8282\u62CD\u6253\u51FB\u65F6\u6070\u597D\u5728\u6807\u51C6\u7EBF\u5904"+ft(L(st)()?"\uFF08\u624B\u673A\u7AEF\u4E0D\u53EF\u62D6\u52A8\u6ED1\u52A8\u6761\uFF09":""),5),Yb,H("div",Xb,[H("span",{style:mt({"font-size":L(st)()?"2vh":"2vw"})}," \u6253\u51FB\u5EF6\u8FDF\xA0\xA0\xA0\xA0"+ft(n.value>0?`+${n.value}`:n.value)+"ms ",5),H("span",{style:mt({"font-size":L(st)()?"2vh":"2vw"})},ft(i.value>0?`+${i.value}`:i.value)+"ms",5),H("div",Gb,[z(L(Sl),{style:{"font-size":"3vw",cursor:"pointer"},onClick:p[0]||(p[0]=m=>i.value<-300?i.value=-300:i.value-=5)}),z(g,{value:i.value,"onUpdate:value":p[1]||(p[1]=m=>i.value=m),id:"slider-slider",step:5,"tip-formatter":null,min:-300,max:300,included:!1,marks:{"-300":"-300ms","-200":"-200ms","-100":"-100ms",0:"0",100:"+100ms",200:"+200ms",300:"+300ms"}},{mark:vt(({label:m,point:w})=>[w===0?(et(),yt("strong",{key:0,style:mt({"font-size":L(st)()?"1.4vh":"1.4vw"})},ft(m),5)):(et(),yt("p",{key:1,style:mt({"font-size":L(st)()?"1.4vh":"1.4vw"})},ft(m),5))]),_:1},8,["value"]),z(L(Fl),{style:{"font-size":"3vw",cursor:"pointer"},onClick:p[2]||(p[2]=m=>i.value>300?i.value=300:i.value+=5)})])])])}}});const Zb=qt(Qb,[["__scopeId","data-v-ccdcd887"]]),tx=_y('<span class="desc" data-v-d1110bb1>\u6E38\u620F\u4F5C\u8005</span><span data-v-d1110bb1>\u53E4\u7960</span><span class="desc" data-v-d1110bb1>\u6E38\u620F\u7248\u672C</span><span data-v-d1110bb1>v0.1</span><span class="desc" data-v-d1110bb1>\u5F15\u64CE\u5F00\u6E90\u5730\u5740</span><a href="https://github.com/unanmed/Mutate" target="_blank" data-v-d1110bb1>https://github.com/unanmed/Mutate</a><span class="desc" data-v-d1110bb1>\u6E38\u620F\u5F00\u6E90\u5730\u5740</span><a href="https://github.com/unanmed/Mutate-HTML" target="_blank" data-v-d1110bb1>https://github.com/unanmed/Mutate-HTML</a><span class="desc" data-v-d1110bb1>\u66F2\u5E08</span><span data-v-d1110bb1>\u5F31\u9E21\u7EFF\u6BDB\u602A\xA0\xA0\u53E4\u7960</span><span class="desc" data-v-d1110bb1>\u8C31\u5E08</span><span data-v-d1110bb1>\u53E4\u7960</span><span class="desc" data-v-d1110bb1>\u7279\u522B\u9E23\u8C22</span><span data-v-d1110bb1>\u7075\u68A6</span>',14),ex=[tx],nx=Vt({__name:"setting-about",setup(r){return(i,n)=>(et(),yt("div",{id:"info",style:mt({"font-size":L(st)()?"1.7vh":"1.7vw"})},ex,4))}});const rx=qt(nx,[["__scopeId","data-v-d1110bb1"]]),ix={id:"settings"},sx={id:"back-div",style:{display:"flex","justify-content":"center","align-items":"center","justify-items":"center"}},ox=Vt({__name:"setting",emits:["exit"],setup(r,{emit:i}){const n=K(["offset"]);Se(async()=>{await jt.sleep(200);const u=document.getElementById("settings");u.style.opacity="1"});async function o(){const u=document.getElementById("settings");u.style.opacity="0",await jt.sleep(600),bn("/Mutate-HTML/music/mutate.mp3",!0),i("exit")}return(u,c)=>{const f=El,p=xl,g=wy,m=by,w=xy;return et(),yt("div",ix,[z(w,{style:mt({width:L(st)()?"95vh":"95vw",height:L(st)()?"95vw":"95vh"})},{default:vt(()=>[z(g,null,{default:vt(()=>[H("div",sx,[z(L(Tl),{onClick:o,id:"back",style:{"font-size":"24px",cursor:"pointer",transition:"all 0.2s linear"}})]),z(p,{selectedKeys:n.value,"onUpdate:selectedKeys":c[0]||(c[0]=y=>n.value=y),theme:"dark",mode:"horizontal",style:{"font-size":"28px","font-family":"normal"}},{default:vt(()=>[z(f,{key:"offset",style:{margin:"0 2% 0 2%"}},{default:vt(()=>[oe("\u6821\u51C6")]),_:1}),z(f,{key:"option",style:{margin:"0 2% 0 2%"}},{default:vt(()=>[oe("\u8BBE\u7F6E")]),_:1}),z(f,{key:"about",style:{margin:"0 2% 0 2%"}},{default:vt(()=>[oe("\u5173\u4E8E")]),_:1})]),_:1},8,["selectedKeys"])]),_:1}),z(m,{style:{"background-color":"#111"}},{default:vt(()=>[n.value[0]==="offset"?(et(),ae(Zb,{key:0})):Lt("",!0),n.value[0]==="option"?(et(),ae(qb,{key:1})):Lt("",!0),n.value[0]==="about"?(et(),ae(rx,{key:2})):Lt("",!0)]),_:1})]),_:1},8,["style"])])}}});const ax=qt(ox,[["__scopeId","data-v-f8680189"]]),ux={key:0,id:"start-tip"},cx=Vt({__name:"App",setup(r){const i=K(!1),n=K(!1),o=K(!1),u=K(!1),c=K(!1),f=K(!1),p=K(""),g=K("easy");Ri(o,async F=>{var I;if(F===!0){if(((I=localStorage.getItem("@mutate:played"))!=null?I:"false")==="false"){localStorage.setItem("@mutate:played","true"),o.value=!1;const P=new wn,[$,Z]=Do(Er.value);P.add(ot=>{Z.gain.value=(700-ot)/700}),await jt.sleep(700),P.destroy(),$.stop(),u.value=!0}i.value=!1}const D=document.getElementById("game");D.style.border="1px solid #fff"}),Ey("select",o),Se(()=>{const F=document.getElementById("game"),D=document.getElementById("start-tip");window.innerHeight>window.innerWidth&&(F.style.transform="rotate(90deg)",F.style.width="95vh",F.style.height="95vw"),D.style.opacity="1",F.addEventListener("touchmove",I=>I.preventDefault())});function m(){if(n.value)return;const F=document.getElementById("start-tip");F.style.opacity="0",F.addEventListener("transitionend",()=>{i.value=!0,n.value=!0})}function w(F){const{music:D,hard:I}=F;c.value=!0,o.value=!1,f.value=F.auto,p.value=D,g.value=I}function y(){o.value=!1,u.value=!0}function E(){u.value=!1,o.value=!0}function A(){c.value=!1,o.value=!0}return(F,D)=>(et(),yt("div",{id:"game",onClick:m},[n.value?Lt("",!0):(et(),yt("span",ux,"\u70B9\u51FB\u4EE5\u52A0\u8F7D\u6E38\u620F")),i.value?(et(),ae(Fw,{key:1})):Lt("",!0),o.value?(et(),ae(tb,{key:2,onStart:w,onSetting:y})):Lt("",!0),c.value?(et(),ae(jb,{key:3,auto:f.value,song:p.value,hard:g.value,onExit:A},null,8,["auto","song","hard"])):Lt("",!0),u.value?(et(),ae(ax,{key:4,onExit:E})):Lt("",!0)]))}});const lx=qt(cx,[["__scopeId","data-v-fda5b1c8"]]);Ay(lx).mount("#app");export{fx as __vite_legacy_guard};
