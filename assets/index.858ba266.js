import{r as J,d as Nt,m as qe,i as dy,o as Ce,a as nt,c as gt,b as z,e as Gt,F as ki,_ as Sl,p as Lo,f as Uo,g as H,h as $i,w as Xn,j as dt,k as So,u as L,n as pt,M as Cl,l as Yn,q as ge,s as qt,t as ut,v as kl,x as py,S as my,y as Bl,C as gy,B as Ri,z as vy,U as yy,A as _y,P as wy,L as Dl,R as Ey,D as by,E as Wo,G as Ol,H as $l,I as Rl,J as xy,K as Ay,N as Fy,O as Ty,Q as Sy,T as Cy,V as ky,W as By,X as Dy}from"./antdv.61b7f8e3.js";function bb(){import("data:text/javascript,")}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const l of u)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(u){const l={};return u.integrity&&(l.integrity=u.integrity),u.referrerpolicy&&(l.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?l.credentials="include":u.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(u){if(u.ep)return;u.ep=!0;const l=n(u);fetch(u.href,l)}})();function jl(r,i){return function(){return r.apply(i,arguments)}}const{toString:Pl}=Object.prototype,{getPrototypeOf:zo}=Object,Ho=(r=>i=>{const n=Pl.call(i);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Je=r=>(r=r.toLowerCase(),i=>Ho(i)===r),ji=r=>i=>typeof i===r,{isArray:Sr}=Array,Co=ji("undefined");function Oy(r){return r!==null&&!Co(r)&&r.constructor!==null&&!Co(r.constructor)&&Gn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Il=Je("ArrayBuffer");function $y(r){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(r):i=r&&r.buffer&&Il(r.buffer),i}const Ry=ji("string"),Gn=ji("function"),Nl=ji("number"),Ml=r=>r!==null&&typeof r=="object",jy=r=>r===!0||r===!1,xi=r=>{if(Ho(r)!=="object")return!1;const i=zo(r);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Py=Je("Date"),Iy=Je("File"),Ny=Je("Blob"),My=Je("FileList"),Ly=r=>Ml(r)&&Gn(r.pipe),Uy=r=>{const i="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||Pl.call(r)===i||Gn(r.toString)&&r.toString()===i)},Wy=Je("URLSearchParams"),zy=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pi(r,i,{allOwnKeys:n=!1}={}){if(r===null||typeof r>"u")return;let o,u;if(typeof r!="object"&&(r=[r]),Sr(r))for(o=0,u=r.length;o<u;o++)i.call(null,r[o],o,r);else{const l=n?Object.getOwnPropertyNames(r):Object.keys(r),c=l.length;let d;for(o=0;o<c;o++)d=l[o],i.call(null,r[d],d,r)}}function ko(){const r={},i=(n,o)=>{xi(r[o])&&xi(n)?r[o]=ko(r[o],n):xi(n)?r[o]=ko({},n):Sr(n)?r[o]=n.slice():r[o]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Pi(arguments[n],i);return r}const Hy=(r,i,n,{allOwnKeys:o}={})=>(Pi(i,(u,l)=>{n&&Gn(u)?r[l]=jl(u,n):r[l]=u},{allOwnKeys:o}),r),Vy=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),qy=(r,i,n,o)=>{r.prototype=Object.create(i.prototype,o),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:i.prototype}),n&&Object.assign(r.prototype,n)},Ky=(r,i,n,o)=>{let u,l,c;const d={};if(i=i||{},r==null)return i;do{for(u=Object.getOwnPropertyNames(r),l=u.length;l-- >0;)c=u[l],(!o||o(c,r,i))&&!d[c]&&(i[c]=r[c],d[c]=!0);r=n!==!1&&zo(r)}while(r&&(!n||n(r,i))&&r!==Object.prototype);return i},Jy=(r,i,n)=>{r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=i.length;const o=r.indexOf(i,n);return o!==-1&&o===n},Xy=r=>{if(!r)return null;if(Sr(r))return r;let i=r.length;if(!Nl(i))return null;const n=new Array(i);for(;i-- >0;)n[i]=r[i];return n},Yy=(r=>i=>r&&i instanceof r)(typeof Uint8Array<"u"&&zo(Uint8Array)),Gy=(r,i)=>{const o=(r&&r[Symbol.iterator]).call(r);let u;for(;(u=o.next())&&!u.done;){const l=u.value;i.call(r,l[0],l[1])}},Qy=(r,i)=>{let n;const o=[];for(;(n=r.exec(i))!==null;)o.push(n);return o},Zy=Je("HTMLFormElement"),t1=r=>r.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,o,u){return o.toUpperCase()+u}),Pc=(({hasOwnProperty:r})=>(i,n)=>r.call(i,n))(Object.prototype),e1=Je("RegExp"),Ll=(r,i)=>{const n=Object.getOwnPropertyDescriptors(r),o={};Pi(n,(u,l)=>{i(u,l,r)!==!1&&(o[l]=u)}),Object.defineProperties(r,o)},n1=r=>{Ll(r,(i,n)=>{const o=r[n];if(!!Gn(o)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not read-only method '"+n+"'")})}})},r1=(r,i)=>{const n={},o=u=>{u.forEach(l=>{n[l]=!0})};return Sr(r)?o(r):o(String(r).split(i)),n},i1=()=>{},s1=(r,i)=>(r=+r,Number.isFinite(r)?r:i),D={isArray:Sr,isArrayBuffer:Il,isBuffer:Oy,isFormData:Uy,isArrayBufferView:$y,isString:Ry,isNumber:Nl,isBoolean:jy,isObject:Ml,isPlainObject:xi,isUndefined:Co,isDate:Py,isFile:Iy,isBlob:Ny,isRegExp:e1,isFunction:Gn,isStream:Ly,isURLSearchParams:Wy,isTypedArray:Yy,isFileList:My,forEach:Pi,merge:ko,extend:Hy,trim:zy,stripBOM:Vy,inherits:qy,toFlatObject:Ky,kindOf:Ho,kindOfTest:Je,endsWith:Jy,toArray:Xy,forEachEntry:Gy,matchAll:Qy,isHTMLForm:Zy,hasOwnProperty:Pc,hasOwnProp:Pc,reduceDescriptors:Ll,freezeMethods:n1,toObjectSet:r1,toCamelCase:t1,noop:i1,toFiniteNumber:s1};function ct(r,i,n,o,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",i&&(this.code=i),n&&(this.config=n),o&&(this.request=o),u&&(this.response=u)}D.inherits(ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ul=ct.prototype,Wl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Wl[r]={value:r}});Object.defineProperties(ct,Wl);Object.defineProperty(Ul,"isAxiosError",{value:!0});ct.from=(r,i,n,o,u,l)=>{const c=Object.create(Ul);return D.toFlatObject(r,c,function(g){return g!==Error.prototype},d=>d!=="isAxiosError"),ct.call(c,r.message,i,n,o,u),c.cause=r,c.name=r.name,l&&Object.assign(c,l),c};var o1=typeof self=="object"?self.FormData:window.FormData;function Bo(r){return D.isPlainObject(r)||D.isArray(r)}function zl(r){return D.endsWith(r,"[]")?r.slice(0,-2):r}function Ic(r,i,n){return r?r.concat(i).map(function(u,l){return u=zl(u),!n&&l?"["+u+"]":u}).join(n?".":""):i}function a1(r){return D.isArray(r)&&!r.some(Bo)}const u1=D.toFlatObject(D,{},null,function(i){return/^is[A-Z]/.test(i)});function c1(r){return r&&D.isFunction(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator]}function Ii(r,i,n){if(!D.isObject(r))throw new TypeError("target must be an object");i=i||new(o1||FormData),n=D.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,j){return!D.isUndefined(j[P])});const o=n.metaTokens,u=n.visitor||w,l=n.dots,c=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&c1(i);if(!D.isFunction(u))throw new TypeError("visitor must be a function");function m(C){if(C===null)return"";if(D.isDate(C))return C.toISOString();if(!g&&D.isBlob(C))throw new ct("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(C)||D.isTypedArray(C)?g&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function w(C,P,j){let I=C;if(C&&!j&&typeof C=="object"){if(D.endsWith(P,"{}"))P=o?P:P.slice(0,-2),C=JSON.stringify(C);else if(D.isArray(C)&&a1(C)||D.isFileList(C)||D.endsWith(P,"[]")&&(I=D.toArray(C)))return P=zl(P),I.forEach(function(O,X){!D.isUndefined(O)&&i.append(c===!0?Ic([P],X,l):c===null?P:P+"[]",m(O))}),!1}return Bo(C)?!0:(i.append(Ic(j,P,l),m(C)),!1)}const y=[],F=Object.assign(u1,{defaultVisitor:w,convertValue:m,isVisitable:Bo});function x(C,P){if(!D.isUndefined(C)){if(y.indexOf(C)!==-1)throw Error("Circular reference detected in "+P.join("."));y.push(C),D.forEach(C,function(I,R){(!D.isUndefined(I)&&u.call(i,I,D.isString(R)?R.trim():R,P,F))===!0&&x(I,P?P.concat(R):[R])}),y.pop()}}if(!D.isObject(r))throw new TypeError("data must be an object");return x(r),i}function Nc(r){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(o){return i[o]})}function Vo(r,i){this._pairs=[],r&&Ii(r,this,i)}const Hl=Vo.prototype;Hl.append=function(i,n){this._pairs.push([i,n])};Hl.toString=function(i){const n=i?function(o){return i.call(this,o,Nc)}:Nc;return this._pairs.map(function(u){return n(u[0])+"="+n(u[1])},"").join("&")};function l1(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vl(r,i,n){if(!i)return r;const o=r.indexOf("#");o!==-1&&(r=r.slice(0,o));const u=n&&n.encode||l1,l=D.isURLSearchParams(i)?i.toString():new Vo(i,n).toString(u);return l&&(r+=(r.indexOf("?")===-1?"?":"&")+l),r}class Mc{constructor(){this.handlers=[]}use(i,n,o){return this.handlers.push({fulfilled:i,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){D.forEach(this.handlers,function(o){o!==null&&i(o)})}}const ql={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},f1=typeof URLSearchParams<"u"?URLSearchParams:Vo,h1=FormData,d1=(()=>{let r;return typeof navigator<"u"&&((r=navigator.product)==="ReactNative"||r==="NativeScript"||r==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Ke={isBrowser:!0,classes:{URLSearchParams:f1,FormData:h1,Blob},isStandardBrowserEnv:d1,protocols:["http","https","file","blob","url","data"]};function p1(r,i){return Ii(r,new Ke.classes.URLSearchParams,Object.assign({visitor:function(n,o,u,l){return Ke.isNode&&D.isBuffer(n)?(this.append(o,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},i))}function m1(r){return D.matchAll(/\w+|\[(\w*)]/g,r).map(i=>i[0]==="[]"?"":i[1]||i[0])}function g1(r){const i={},n=Object.keys(r);let o;const u=n.length;let l;for(o=0;o<u;o++)l=n[o],i[l]=r[l];return i}function Kl(r){function i(n,o,u,l){let c=n[l++];const d=Number.isFinite(+c),g=l>=n.length;return c=!c&&D.isArray(u)?u.length:c,g?(D.hasOwnProp(u,c)?u[c]=[u[c],o]:u[c]=o,!d):((!u[c]||!D.isObject(u[c]))&&(u[c]=[]),i(n,o,u[c],l)&&D.isArray(u[c])&&(u[c]=g1(u[c])),!d)}if(D.isFormData(r)&&D.isFunction(r.entries)){const n={};return D.forEachEntry(r,(o,u)=>{i(m1(o),u,n,0)}),n}return null}function v1(r,i,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?r(n):i(new ct("Request failed with status code "+n.status,[ct.ERR_BAD_REQUEST,ct.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const y1=Ke.isStandardBrowserEnv?function(){return{write:function(n,o,u,l,c,d){const g=[];g.push(n+"="+encodeURIComponent(o)),D.isNumber(u)&&g.push("expires="+new Date(u).toGMTString()),D.isString(l)&&g.push("path="+l),D.isString(c)&&g.push("domain="+c),d===!0&&g.push("secure"),document.cookie=g.join("; ")},read:function(n){const o=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function _1(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function w1(r,i){return i?r.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):r}function Jl(r,i){return r&&!_1(i)?w1(r,i):i}const E1=Ke.isStandardBrowserEnv?function(){const i=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let o;function u(l){let c=l;return i&&(n.setAttribute("href",c),c=n.href),n.setAttribute("href",c),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return o=u(window.location.href),function(c){const d=D.isString(c)?u(c):c;return d.protocol===o.protocol&&d.host===o.host}}():function(){return function(){return!0}}();function Cr(r,i,n){ct.call(this,r==null?"canceled":r,ct.ERR_CANCELED,i,n),this.name="CanceledError"}D.inherits(Cr,ct,{__CANCEL__:!0});function b1(r){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return i&&i[1]||""}const x1=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),A1=r=>{const i={};let n,o,u;return r&&r.split(`
`).forEach(function(c){u=c.indexOf(":"),n=c.substring(0,u).trim().toLowerCase(),o=c.substring(u+1).trim(),!(!n||i[n]&&x1[n])&&(n==="set-cookie"?i[n]?i[n].push(o):i[n]=[o]:i[n]=i[n]?i[n]+", "+o:o)}),i},Lc=Symbol("internals"),Xl=Symbol("defaults");function Ar(r){return r&&String(r).trim().toLowerCase()}function bi(r){return r===!1||r==null?r:String(r)}function F1(r){const i=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(r);)i[o[1]]=o[2];return i}function Uc(r,i,n,o){if(D.isFunction(o))return o.call(this,i,n);if(!!D.isString(i)){if(D.isString(o))return i.indexOf(o)!==-1;if(D.isRegExp(o))return o.test(i)}}function T1(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,n,o)=>n.toUpperCase()+o)}function S1(r,i){const n=D.toCamelCase(" "+i);["get","set","has"].forEach(o=>{Object.defineProperty(r,o+n,{value:function(u,l,c){return this[o].call(this,i,u,l,c)},configurable:!0})})}function Er(r,i){i=i.toLowerCase();const n=Object.keys(r);let o=n.length,u;for(;o-- >0;)if(u=n[o],i===u.toLowerCase())return u;return null}function ve(r,i){r&&this.set(r),this[Xl]=i||null}Object.assign(ve.prototype,{set:function(r,i,n){const o=this;function u(l,c,d){const g=Ar(c);if(!g)throw new Error("header name must be a non-empty string");const m=Er(o,g);m&&d!==!0&&(o[m]===!1||d===!1)||(D.isArray(l)?l=l.map(bi):l=bi(l),o[m||c]=l)}return D.isPlainObject(r)?D.forEach(r,(l,c)=>{u(l,c,i)}):u(i,r,n),this},get:function(r,i){if(r=Ar(r),!r)return;const n=Er(this,r);if(n){const o=this[n];if(!i)return o;if(i===!0)return F1(o);if(D.isFunction(i))return i.call(this,o,n);if(D.isRegExp(i))return i.exec(o);throw new TypeError("parser must be boolean|regexp|function")}},has:function(r,i){if(r=Ar(r),r){const n=Er(this,r);return!!(n&&(!i||Uc(this,this[n],n,i)))}return!1},delete:function(r,i){const n=this;let o=!1;function u(l){if(l=Ar(l),l){const c=Er(n,l);c&&(!i||Uc(n,n[c],c,i))&&(delete n[c],o=!0)}}return D.isArray(r)?r.forEach(u):u(r),o},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(r){const i=this,n={};return D.forEach(this,(o,u)=>{const l=Er(n,u);if(l){i[l]=bi(o),delete i[u];return}const c=r?T1(u):String(u).trim();c!==u&&delete i[u],i[c]=bi(o),n[c]=!0}),this},toJSON:function(){const r=Object.create(null);return D.forEach(Object.assign({},this[Xl]||null,this),(i,n)=>{i==null||i===!1||(r[n]=D.isArray(i)?i.join(", "):i)}),r}});Object.assign(ve,{from:function(r){return D.isString(r)?new this(A1(r)):r instanceof this?r:new this(r)},accessor:function(r){const n=(this[Lc]=this[Lc]={accessors:{}}).accessors,o=this.prototype;function u(l){const c=Ar(l);n[c]||(S1(o,l),n[c]=!0)}return D.isArray(r)?r.forEach(u):u(r),this}});ve.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);D.freezeMethods(ve.prototype);D.freezeMethods(ve);function C1(r,i){r=r||10;const n=new Array(r),o=new Array(r);let u=0,l=0,c;return i=i!==void 0?i:1e3,function(g){const m=Date.now(),w=o[l];c||(c=m),n[u]=g,o[u]=m;let y=l,F=0;for(;y!==u;)F+=n[y++],y=y%r;if(u=(u+1)%r,u===l&&(l=(l+1)%r),m-c<i)return;const x=w&&m-w;return x?Math.round(F*1e3/x):void 0}}function Wc(r,i){let n=0;const o=C1(50,250);return u=>{const l=u.loaded,c=u.lengthComputable?u.total:void 0,d=l-n,g=o(d),m=l<=c;n=l;const w={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:g||void 0,estimated:g&&c&&m?(c-l)/g:void 0};w[i?"download":"upload"]=!0,r(w)}}function zc(r){return new Promise(function(n,o){let u=r.data;const l=ve.from(r.headers).normalize(),c=r.responseType;let d;function g(){r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}D.isFormData(u)&&Ke.isStandardBrowserEnv&&l.setContentType(!1);let m=new XMLHttpRequest;if(r.auth){const x=r.auth.username||"",C=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";l.set("Authorization","Basic "+btoa(x+":"+C))}const w=Jl(r.baseURL,r.url);m.open(r.method.toUpperCase(),Vl(w,r.params,r.paramsSerializer),!0),m.timeout=r.timeout;function y(){if(!m)return;const x=ve.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),P={data:!c||c==="text"||c==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:x,config:r,request:m};v1(function(I){n(I),g()},function(I){o(I),g()},P),m=null}if("onloadend"in m?m.onloadend=y:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(y)},m.onabort=function(){!m||(o(new ct("Request aborted",ct.ECONNABORTED,r,m)),m=null)},m.onerror=function(){o(new ct("Network Error",ct.ERR_NETWORK,r,m)),m=null},m.ontimeout=function(){let C=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const P=r.transitional||ql;r.timeoutErrorMessage&&(C=r.timeoutErrorMessage),o(new ct(C,P.clarifyTimeoutError?ct.ETIMEDOUT:ct.ECONNABORTED,r,m)),m=null},Ke.isStandardBrowserEnv){const x=(r.withCredentials||E1(w))&&r.xsrfCookieName&&y1.read(r.xsrfCookieName);x&&l.set(r.xsrfHeaderName,x)}u===void 0&&l.setContentType(null),"setRequestHeader"in m&&D.forEach(l.toJSON(),function(C,P){m.setRequestHeader(P,C)}),D.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),c&&c!=="json"&&(m.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&m.addEventListener("progress",Wc(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",Wc(r.onUploadProgress)),(r.cancelToken||r.signal)&&(d=x=>{!m||(o(!x||x.type?new Cr(null,r,m):x),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const F=b1(w);if(F&&Ke.protocols.indexOf(F)===-1){o(new ct("Unsupported protocol "+F+":",ct.ERR_BAD_REQUEST,r));return}m.send(u||null)})}const Hc={http:zc,xhr:zc},Vc={getAdapter:r=>{if(D.isString(r)){const i=Hc[r];if(!r)throw Error(D.hasOwnProp(r)?`Adapter '${r}' is not available in the build`:`Can not resolve adapter '${r}'`);return i}if(!D.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Hc},k1={"Content-Type":"application/x-www-form-urlencoded"};function B1(){let r;return typeof XMLHttpRequest<"u"?r=Vc.getAdapter("xhr"):typeof process<"u"&&D.kindOf(process)==="process"&&(r=Vc.getAdapter("http")),r}function D1(r,i,n){if(D.isString(r))try{return(i||JSON.parse)(r),D.trim(r)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(r)}const Qn={transitional:ql,adapter:B1(),transformRequest:[function(i,n){const o=n.getContentType()||"",u=o.indexOf("application/json")>-1,l=D.isObject(i);if(l&&D.isHTMLForm(i)&&(i=new FormData(i)),D.isFormData(i))return u&&u?JSON.stringify(Kl(i)):i;if(D.isArrayBuffer(i)||D.isBuffer(i)||D.isStream(i)||D.isFile(i)||D.isBlob(i))return i;if(D.isArrayBufferView(i))return i.buffer;if(D.isURLSearchParams(i))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let d;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return p1(i,this.formSerializer).toString();if((d=D.isFileList(i))||o.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Ii(d?{"files[]":i}:i,g&&new g,this.formSerializer)}}return l||u?(n.setContentType("application/json",!1),D1(i)):i}],transformResponse:[function(i){const n=this.transitional||Qn.transitional,o=n&&n.forcedJSONParsing,u=this.responseType==="json";if(i&&D.isString(i)&&(o&&!this.responseType||u)){const c=!(n&&n.silentJSONParsing)&&u;try{return JSON.parse(i)}catch(d){if(c)throw d.name==="SyntaxError"?ct.from(d,ct.ERR_BAD_RESPONSE,this,null,this.response):d}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ke.classes.FormData,Blob:Ke.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};D.forEach(["delete","get","head"],function(i){Qn.headers[i]={}});D.forEach(["post","put","patch"],function(i){Qn.headers[i]=D.merge(k1)});function po(r,i){const n=this||Qn,o=i||n,u=ve.from(o.headers);let l=o.data;return D.forEach(r,function(d){l=d.call(n,l,u.normalize(),i?i.status:void 0)}),u.normalize(),l}function Yl(r){return!!(r&&r.__CANCEL__)}function mo(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Cr}function qc(r){return mo(r),r.headers=ve.from(r.headers),r.data=po.call(r,r.transformRequest),(r.adapter||Qn.adapter)(r).then(function(o){return mo(r),o.data=po.call(r,r.transformResponse,o),o.headers=ve.from(o.headers),o},function(o){return Yl(o)||(mo(r),o&&o.response&&(o.response.data=po.call(r,r.transformResponse,o.response),o.response.headers=ve.from(o.response.headers))),Promise.reject(o)})}function Fr(r,i){i=i||{};const n={};function o(m,w){return D.isPlainObject(m)&&D.isPlainObject(w)?D.merge(m,w):D.isPlainObject(w)?D.merge({},w):D.isArray(w)?w.slice():w}function u(m){if(D.isUndefined(i[m])){if(!D.isUndefined(r[m]))return o(void 0,r[m])}else return o(r[m],i[m])}function l(m){if(!D.isUndefined(i[m]))return o(void 0,i[m])}function c(m){if(D.isUndefined(i[m])){if(!D.isUndefined(r[m]))return o(void 0,r[m])}else return o(void 0,i[m])}function d(m){if(m in i)return o(r[m],i[m]);if(m in r)return o(void 0,r[m])}const g={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d};return D.forEach(Object.keys(r).concat(Object.keys(i)),function(w){const y=g[w]||u,F=y(w);D.isUndefined(F)&&y!==d||(n[w]=F)}),n}const Gl="1.1.2",qo={};["object","boolean","number","function","string","symbol"].forEach((r,i)=>{qo[r]=function(o){return typeof o===r||"a"+(i<1?"n ":" ")+r}});const Kc={};qo.transitional=function(i,n,o){function u(l,c){return"[Axios v"+Gl+"] Transitional option '"+l+"'"+c+(o?". "+o:"")}return(l,c,d)=>{if(i===!1)throw new ct(u(c," has been removed"+(n?" in "+n:"")),ct.ERR_DEPRECATED);return n&&!Kc[c]&&(Kc[c]=!0,console.warn(u(c," has been deprecated since v"+n+" and will be removed in the near future"))),i?i(l,c,d):!0}};function O1(r,i,n){if(typeof r!="object")throw new ct("options must be an object",ct.ERR_BAD_OPTION_VALUE);const o=Object.keys(r);let u=o.length;for(;u-- >0;){const l=o[u],c=i[l];if(c){const d=r[l],g=d===void 0||c(d,l,r);if(g!==!0)throw new ct("option "+l+" must be "+g,ct.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ct("Unknown option "+l,ct.ERR_BAD_OPTION)}}const Ql={assertOptions:O1,validators:qo},zn=Ql.validators;class bn{constructor(i){this.defaults=i,this.interceptors={request:new Mc,response:new Mc}}request(i,n){typeof i=="string"?(n=n||{},n.url=i):n=i||{},n=Fr(this.defaults,n);const o=n.transitional;o!==void 0&&Ql.assertOptions(o,{silentJSONParsing:zn.transitional(zn.boolean),forcedJSONParsing:zn.transitional(zn.boolean),clarifyTimeoutError:zn.transitional(zn.boolean)},!1),n.method=(n.method||this.defaults.method||"get").toLowerCase();const u=n.headers&&D.merge(n.headers.common,n.headers[n.method]);u&&D.forEach(["delete","get","head","post","put","patch","common"],function(x){delete n.headers[x]}),n.headers=new ve(n.headers,u);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const d=[];this.interceptors.response.forEach(function(x){d.push(x.fulfilled,x.rejected)});let g,m=0,w;if(!c){const F=[qc.bind(this),void 0];for(F.unshift.apply(F,l),F.push.apply(F,d),w=F.length,g=Promise.resolve(n);m<w;)g=g.then(F[m++],F[m++]);return g}w=l.length;let y=n;for(m=0;m<w;){const F=l[m++],x=l[m++];try{y=F(y)}catch(C){x.call(this,C);break}}try{g=qc.call(this,y)}catch(F){return Promise.reject(F)}for(m=0,w=d.length;m<w;)g=g.then(d[m++],d[m++]);return g}getUri(i){i=Fr(this.defaults,i);const n=Jl(i.baseURL,i.url);return Vl(n,i.params,i.paramsSerializer)}}D.forEach(["delete","get","head","options"],function(i){bn.prototype[i]=function(n,o){return this.request(Fr(o||{},{method:i,url:n,data:(o||{}).data}))}});D.forEach(["post","put","patch"],function(i){function n(o){return function(l,c,d){return this.request(Fr(d||{},{method:i,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}bn.prototype[i]=n(),bn.prototype[i+"Form"]=n(!0)});class Ko{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const o=this;this.promise.then(u=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](u);o._listeners=null}),this.promise.then=u=>{let l;const c=new Promise(d=>{o.subscribe(d),l=d}).then(u);return c.cancel=function(){o.unsubscribe(l)},c},i(function(l,c,d){o.reason||(o.reason=new Cr(l,c,d),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const n=this._listeners.indexOf(i);n!==-1&&this._listeners.splice(n,1)}static source(){let i;return{token:new Ko(function(u){i=u}),cancel:i}}}function $1(r){return function(n){return r.apply(null,n)}}function R1(r){return D.isObject(r)&&r.isAxiosError===!0}function Zl(r){const i=new bn(r),n=jl(bn.prototype.request,i);return D.extend(n,bn.prototype,i,{allOwnKeys:!0}),D.extend(n,i,null,{allOwnKeys:!0}),n.create=function(u){return Zl(Fr(r,u))},n}const kt=Zl(Qn);kt.Axios=bn;kt.CanceledError=Cr;kt.CancelToken=Ko;kt.isCancel=Yl;kt.VERSION=Gl;kt.toFormData=Ii;kt.AxiosError=ct;kt.Cancel=kt.CanceledError;kt.all=function(i){return Promise.all(i)};kt.spread=$1;kt.isAxiosError=R1;kt.formToJSON=r=>Kl(D.isHTMLForm(r)?new FormData(r):r);var j1=Object.defineProperty,P1=(r,i,n)=>i in r?j1(r,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[i]=n,A=(r,i,n)=>(P1(r,typeof i!="symbol"?i+"":i,n),n),br=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function I1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Do={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(r,i){(function(){var n,o="4.17.21",u=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",d="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",m=500,w="__lodash_placeholder__",y=1,F=2,x=4,C=1,P=2,j=1,I=2,R=4,O=8,X=16,W=32,wt=64,$t=128,Zt=256,At=512,bt=30,st="...",vt=800,ye=16,Ye=1,kr=2,Br=3,ke=1/0,Be=9007199254740991,Hi=17976931348623157e292,fn=0/0,te=4294967295,Dr=te-1,Ct=te>>>1,Or=[["ary",$t],["bind",j],["bindKey",I],["curry",O],["curryRight",X],["flip",At],["partial",W],["partialRight",wt],["rearg",Zt]],De="[object Arguments]",Ge="[object Array]",tr="[object AsyncFunction]",Oe="[object Boolean]",hn="[object Date]",Vi="[object DOMException]",Tn="[object Error]",Sn="[object Function]",sa="[object GeneratorFunction]",_e="[object Map]",er="[object Number]",Bf="[object Null]",Pe="[object Object]",oa="[object Promise]",Df="[object Proxy]",nr="[object RegExp]",we="[object Set]",rr="[object String]",$r="[object Symbol]",Of="[object Undefined]",ir="[object WeakMap]",$f="[object WeakSet]",sr="[object ArrayBuffer]",Cn="[object DataView]",qi="[object Float32Array]",Ki="[object Float64Array]",Ji="[object Int8Array]",Xi="[object Int16Array]",Yi="[object Int32Array]",Gi="[object Uint8Array]",Qi="[object Uint8ClampedArray]",Zi="[object Uint16Array]",ts="[object Uint32Array]",Rf=/\b__p \+= '';/g,jf=/\b(__p \+=) '' \+/g,Pf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,aa=/&(?:amp|lt|gt|quot|#39);/g,ua=/[&<>"']/g,If=RegExp(aa.source),Nf=RegExp(ua.source),Mf=/<%-([\s\S]+?)%>/g,Lf=/<%([\s\S]+?)%>/g,ca=/<%=([\s\S]+?)%>/g,Uf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wf=/^\w*$/,zf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,es=/[\\^$.*+?()[\]{}|]/g,Hf=RegExp(es.source),ns=/^\s+/,Vf=/\s/,qf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Kf=/\{\n\/\* \[wrapped with (.+)\] \*/,Jf=/,? & /,Xf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Yf=/[()=,{}\[\]\/\s]/,Gf=/\\(\\)?/g,Qf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,la=/\w*$/,Zf=/^[-+]0x[0-9a-f]+$/i,th=/^0b[01]+$/i,eh=/^\[object .+?Constructor\]$/,nh=/^0o[0-7]+$/i,rh=/^(?:0|[1-9]\d*)$/,ih=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Rr=/($^)/,sh=/['\n\r\u2028\u2029\\]/g,jr="\\ud800-\\udfff",oh="\\u0300-\\u036f",ah="\\ufe20-\\ufe2f",uh="\\u20d0-\\u20ff",fa=oh+ah+uh,ha="\\u2700-\\u27bf",da="a-z\\xdf-\\xf6\\xf8-\\xff",ch="\\xac\\xb1\\xd7\\xf7",lh="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",fh="\\u2000-\\u206f",hh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pa="A-Z\\xc0-\\xd6\\xd8-\\xde",ma="\\ufe0e\\ufe0f",ga=ch+lh+fh+hh,rs="['\u2019]",dh="["+jr+"]",va="["+ga+"]",Pr="["+fa+"]",ya="\\d+",ph="["+ha+"]",_a="["+da+"]",wa="[^"+jr+ga+ya+ha+da+pa+"]",is="\\ud83c[\\udffb-\\udfff]",mh="(?:"+Pr+"|"+is+")",Ea="[^"+jr+"]",ss="(?:\\ud83c[\\udde6-\\uddff]){2}",os="[\\ud800-\\udbff][\\udc00-\\udfff]",kn="["+pa+"]",ba="\\u200d",xa="(?:"+_a+"|"+wa+")",gh="(?:"+kn+"|"+wa+")",Aa="(?:"+rs+"(?:d|ll|m|re|s|t|ve))?",Fa="(?:"+rs+"(?:D|LL|M|RE|S|T|VE))?",Ta=mh+"?",Sa="["+ma+"]?",vh="(?:"+ba+"(?:"+[Ea,ss,os].join("|")+")"+Sa+Ta+")*",yh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_h="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ca=Sa+Ta+vh,wh="(?:"+[ph,ss,os].join("|")+")"+Ca,Eh="(?:"+[Ea+Pr+"?",Pr,ss,os,dh].join("|")+")",bh=RegExp(rs,"g"),xh=RegExp(Pr,"g"),as=RegExp(is+"(?="+is+")|"+Eh+Ca,"g"),Ah=RegExp([kn+"?"+_a+"+"+Aa+"(?="+[va,kn,"$"].join("|")+")",gh+"+"+Fa+"(?="+[va,kn+xa,"$"].join("|")+")",kn+"?"+xa+"+"+Aa,kn+"+"+Fa,_h,yh,ya,wh].join("|"),"g"),Fh=RegExp("["+ba+jr+fa+ma+"]"),Th=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Sh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ch=-1,_t={};_t[qi]=_t[Ki]=_t[Ji]=_t[Xi]=_t[Yi]=_t[Gi]=_t[Qi]=_t[Zi]=_t[ts]=!0,_t[De]=_t[Ge]=_t[sr]=_t[Oe]=_t[Cn]=_t[hn]=_t[Tn]=_t[Sn]=_t[_e]=_t[er]=_t[Pe]=_t[nr]=_t[we]=_t[rr]=_t[ir]=!1;var yt={};yt[De]=yt[Ge]=yt[sr]=yt[Cn]=yt[Oe]=yt[hn]=yt[qi]=yt[Ki]=yt[Ji]=yt[Xi]=yt[Yi]=yt[_e]=yt[er]=yt[Pe]=yt[nr]=yt[we]=yt[rr]=yt[$r]=yt[Gi]=yt[Qi]=yt[Zi]=yt[ts]=!0,yt[Tn]=yt[Sn]=yt[ir]=!1;var kh={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Bh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Dh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Oh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$h=parseFloat,Rh=parseInt,ka=typeof br=="object"&&br&&br.Object===Object&&br,jh=typeof self=="object"&&self&&self.Object===Object&&self,Pt=ka||jh||Function("return this")(),us=i&&!i.nodeType&&i,dn=us&&!0&&r&&!r.nodeType&&r,Ba=dn&&dn.exports===us,cs=Ba&&ka.process,ue=function(){try{var E=dn&&dn.require&&dn.require("util").types;return E||cs&&cs.binding&&cs.binding("util")}catch(S){}}(),Da=ue&&ue.isArrayBuffer,Oa=ue&&ue.isDate,$a=ue&&ue.isMap,Ra=ue&&ue.isRegExp,ja=ue&&ue.isSet,Pa=ue&&ue.isTypedArray;function ee(E,S,T){switch(T.length){case 0:return E.call(S);case 1:return E.call(S,T[0]);case 2:return E.call(S,T[0],T[1]);case 3:return E.call(S,T[0],T[1],T[2])}return E.apply(S,T)}function Ph(E,S,T,M){for(var Y=-1,lt=E==null?0:E.length;++Y<lt;){var Bt=E[Y];S(M,Bt,T(Bt),E)}return M}function ce(E,S){for(var T=-1,M=E==null?0:E.length;++T<M&&S(E[T],T,E)!==!1;);return E}function Ih(E,S){for(var T=E==null?0:E.length;T--&&S(E[T],T,E)!==!1;);return E}function Ia(E,S){for(var T=-1,M=E==null?0:E.length;++T<M;)if(!S(E[T],T,E))return!1;return!0}function Qe(E,S){for(var T=-1,M=E==null?0:E.length,Y=0,lt=[];++T<M;){var Bt=E[T];S(Bt,T,E)&&(lt[Y++]=Bt)}return lt}function Ir(E,S){var T=E==null?0:E.length;return!!T&&Bn(E,S,0)>-1}function ls(E,S,T){for(var M=-1,Y=E==null?0:E.length;++M<Y;)if(T(S,E[M]))return!0;return!1}function Et(E,S){for(var T=-1,M=E==null?0:E.length,Y=Array(M);++T<M;)Y[T]=S(E[T],T,E);return Y}function Ze(E,S){for(var T=-1,M=S.length,Y=E.length;++T<M;)E[Y+T]=S[T];return E}function fs(E,S,T,M){var Y=-1,lt=E==null?0:E.length;for(M&&lt&&(T=E[++Y]);++Y<lt;)T=S(T,E[Y],Y,E);return T}function Nh(E,S,T,M){var Y=E==null?0:E.length;for(M&&Y&&(T=E[--Y]);Y--;)T=S(T,E[Y],Y,E);return T}function hs(E,S){for(var T=-1,M=E==null?0:E.length;++T<M;)if(S(E[T],T,E))return!0;return!1}var Mh=ds("length");function Lh(E){return E.split("")}function Uh(E){return E.match(Xf)||[]}function Na(E,S,T){var M;return T(E,function(Y,lt,Bt){if(S(Y,lt,Bt))return M=lt,!1}),M}function Nr(E,S,T,M){for(var Y=E.length,lt=T+(M?1:-1);M?lt--:++lt<Y;)if(S(E[lt],lt,E))return lt;return-1}function Bn(E,S,T){return S===S?Zh(E,S,T):Nr(E,Ma,T)}function Wh(E,S,T,M){for(var Y=T-1,lt=E.length;++Y<lt;)if(M(E[Y],S))return Y;return-1}function Ma(E){return E!==E}function La(E,S){var T=E==null?0:E.length;return T?ms(E,S)/T:fn}function ds(E){return function(S){return S==null?n:S[E]}}function ps(E){return function(S){return E==null?n:E[S]}}function Ua(E,S,T,M,Y){return Y(E,function(lt,Bt,mt){T=M?(M=!1,lt):S(T,lt,Bt,mt)}),T}function zh(E,S){var T=E.length;for(E.sort(S);T--;)E[T]=E[T].value;return E}function ms(E,S){for(var T,M=-1,Y=E.length;++M<Y;){var lt=S(E[M]);lt!==n&&(T=T===n?lt:T+lt)}return T}function gs(E,S){for(var T=-1,M=Array(E);++T<E;)M[T]=S(T);return M}function Hh(E,S){return Et(S,function(T){return[T,E[T]]})}function Wa(E){return E&&E.slice(0,qa(E)+1).replace(ns,"")}function ne(E){return function(S){return E(S)}}function vs(E,S){return Et(S,function(T){return E[T]})}function or(E,S){return E.has(S)}function za(E,S){for(var T=-1,M=E.length;++T<M&&Bn(S,E[T],0)>-1;);return T}function Ha(E,S){for(var T=E.length;T--&&Bn(S,E[T],0)>-1;);return T}function Vh(E,S){for(var T=E.length,M=0;T--;)E[T]===S&&++M;return M}var qh=ps(kh),Kh=ps(Bh);function Jh(E){return"\\"+Oh[E]}function Xh(E,S){return E==null?n:E[S]}function Dn(E){return Fh.test(E)}function Yh(E){return Th.test(E)}function Gh(E){for(var S,T=[];!(S=E.next()).done;)T.push(S.value);return T}function ys(E){var S=-1,T=Array(E.size);return E.forEach(function(M,Y){T[++S]=[Y,M]}),T}function Va(E,S){return function(T){return E(S(T))}}function tn(E,S){for(var T=-1,M=E.length,Y=0,lt=[];++T<M;){var Bt=E[T];(Bt===S||Bt===w)&&(E[T]=w,lt[Y++]=T)}return lt}function Mr(E){var S=-1,T=Array(E.size);return E.forEach(function(M){T[++S]=M}),T}function Qh(E){var S=-1,T=Array(E.size);return E.forEach(function(M){T[++S]=[M,M]}),T}function Zh(E,S,T){for(var M=T-1,Y=E.length;++M<Y;)if(E[M]===S)return M;return-1}function td(E,S,T){for(var M=T+1;M--;)if(E[M]===S)return M;return M}function On(E){return Dn(E)?nd(E):Mh(E)}function Ee(E){return Dn(E)?rd(E):Lh(E)}function qa(E){for(var S=E.length;S--&&Vf.test(E.charAt(S)););return S}var ed=ps(Dh);function nd(E){for(var S=as.lastIndex=0;as.test(E);)++S;return S}function rd(E){return E.match(as)||[]}function id(E){return E.match(Ah)||[]}var sd=function E(S){S=S==null?Pt:$n.defaults(Pt.Object(),S,$n.pick(Pt,Sh));var T=S.Array,M=S.Date,Y=S.Error,lt=S.Function,Bt=S.Math,mt=S.Object,_s=S.RegExp,od=S.String,le=S.TypeError,Lr=T.prototype,ad=lt.prototype,Rn=mt.prototype,Ur=S["__core-js_shared__"],Wr=ad.toString,ht=Rn.hasOwnProperty,ud=0,Ka=function(){var t=/[^.]+$/.exec(Ur&&Ur.keys&&Ur.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),zr=Rn.toString,cd=Wr.call(mt),ld=Pt._,fd=_s("^"+Wr.call(ht).replace(es,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hr=Ba?S.Buffer:n,en=S.Symbol,Vr=S.Uint8Array,Ja=Hr?Hr.allocUnsafe:n,qr=Va(mt.getPrototypeOf,mt),Xa=mt.create,Ya=Rn.propertyIsEnumerable,Kr=Lr.splice,Ga=en?en.isConcatSpreadable:n,ar=en?en.iterator:n,pn=en?en.toStringTag:n,Jr=function(){try{var t=_n(mt,"defineProperty");return t({},"",{}),t}catch(e){}}(),hd=S.clearTimeout!==Pt.clearTimeout&&S.clearTimeout,dd=M&&M.now!==Pt.Date.now&&M.now,pd=S.setTimeout!==Pt.setTimeout&&S.setTimeout,Xr=Bt.ceil,Yr=Bt.floor,ws=mt.getOwnPropertySymbols,md=Hr?Hr.isBuffer:n,Qa=S.isFinite,gd=Lr.join,vd=Va(mt.keys,mt),Dt=Bt.max,Lt=Bt.min,yd=M.now,_d=S.parseInt,Za=Bt.random,wd=Lr.reverse,Es=_n(S,"DataView"),ur=_n(S,"Map"),bs=_n(S,"Promise"),jn=_n(S,"Set"),cr=_n(S,"WeakMap"),lr=_n(mt,"create"),Gr=cr&&new cr,Pn={},Ed=wn(Es),bd=wn(ur),xd=wn(bs),Ad=wn(jn),Fd=wn(cr),Qr=en?en.prototype:n,fr=Qr?Qr.valueOf:n,tu=Qr?Qr.toString:n;function h(t){if(Ft(t)&&!G(t)&&!(t instanceof ot)){if(t instanceof fe)return t;if(ht.call(t,"__wrapped__"))return ec(t)}return new fe(t)}var In=function(){function t(){}return function(e){if(!xt(e))return{};if(Xa)return Xa(e);t.prototype=e;var s=new t;return t.prototype=n,s}}();function Zr(){}function fe(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}h.templateSettings={escape:Mf,evaluate:Lf,interpolate:ca,variable:"",imports:{_:h}},h.prototype=Zr.prototype,h.prototype.constructor=h,fe.prototype=In(Zr.prototype),fe.prototype.constructor=fe;function ot(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function Td(){var t=new ot(this.__wrapped__);return t.__actions__=Kt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Kt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Kt(this.__views__),t}function Sd(){if(this.__filtered__){var t=new ot(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Cd(){var t=this.__wrapped__.value(),e=this.__dir__,s=G(t),a=e<0,f=s?t.length:0,p=Lp(0,f,this.__views__),v=p.start,_=p.end,b=_-v,k=a?_:v-1,B=this.__iteratees__,$=B.length,N=0,U=Lt(b,this.__takeCount__);if(!s||!a&&f==b&&U==b)return Au(t,this.__actions__);var q=[];t:for(;b--&&N<U;){k+=e;for(var tt=-1,K=t[k];++tt<$;){var rt=B[tt],at=rt.iteratee,se=rt.type,Vt=at(K);if(se==kr)K=Vt;else if(!Vt){if(se==Ye)continue t;break t}}q[N++]=K}return q}ot.prototype=In(Zr.prototype),ot.prototype.constructor=ot;function mn(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var a=t[e];this.set(a[0],a[1])}}function kd(){this.__data__=lr?lr(null):{},this.size=0}function Bd(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Dd(t){var e=this.__data__;if(lr){var s=e[t];return s===g?n:s}return ht.call(e,t)?e[t]:n}function Od(t){var e=this.__data__;return lr?e[t]!==n:ht.call(e,t)}function $d(t,e){var s=this.__data__;return this.size+=this.has(t)?0:1,s[t]=lr&&e===n?g:e,this}mn.prototype.clear=kd,mn.prototype.delete=Bd,mn.prototype.get=Dd,mn.prototype.has=Od,mn.prototype.set=$d;function Ie(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var a=t[e];this.set(a[0],a[1])}}function Rd(){this.__data__=[],this.size=0}function jd(t){var e=this.__data__,s=ti(e,t);if(s<0)return!1;var a=e.length-1;return s==a?e.pop():Kr.call(e,s,1),--this.size,!0}function Pd(t){var e=this.__data__,s=ti(e,t);return s<0?n:e[s][1]}function Id(t){return ti(this.__data__,t)>-1}function Nd(t,e){var s=this.__data__,a=ti(s,t);return a<0?(++this.size,s.push([t,e])):s[a][1]=e,this}Ie.prototype.clear=Rd,Ie.prototype.delete=jd,Ie.prototype.get=Pd,Ie.prototype.has=Id,Ie.prototype.set=Nd;function Ne(t){var e=-1,s=t==null?0:t.length;for(this.clear();++e<s;){var a=t[e];this.set(a[0],a[1])}}function Md(){this.size=0,this.__data__={hash:new mn,map:new(ur||Ie),string:new mn}}function Ld(t){var e=hi(this,t).delete(t);return this.size-=e?1:0,e}function Ud(t){return hi(this,t).get(t)}function Wd(t){return hi(this,t).has(t)}function zd(t,e){var s=hi(this,t),a=s.size;return s.set(t,e),this.size+=s.size==a?0:1,this}Ne.prototype.clear=Md,Ne.prototype.delete=Ld,Ne.prototype.get=Ud,Ne.prototype.has=Wd,Ne.prototype.set=zd;function gn(t){var e=-1,s=t==null?0:t.length;for(this.__data__=new Ne;++e<s;)this.add(t[e])}function Hd(t){return this.__data__.set(t,g),this}function Vd(t){return this.__data__.has(t)}gn.prototype.add=gn.prototype.push=Hd,gn.prototype.has=Vd;function be(t){var e=this.__data__=new Ie(t);this.size=e.size}function qd(){this.__data__=new Ie,this.size=0}function Kd(t){var e=this.__data__,s=e.delete(t);return this.size=e.size,s}function Jd(t){return this.__data__.get(t)}function Xd(t){return this.__data__.has(t)}function Yd(t,e){var s=this.__data__;if(s instanceof Ie){var a=s.__data__;if(!ur||a.length<u-1)return a.push([t,e]),this.size=++s.size,this;s=this.__data__=new Ne(a)}return s.set(t,e),this.size=s.size,this}be.prototype.clear=qd,be.prototype.delete=Kd,be.prototype.get=Jd,be.prototype.has=Xd,be.prototype.set=Yd;function eu(t,e){var s=G(t),a=!s&&En(t),f=!s&&!a&&an(t),p=!s&&!a&&!f&&Un(t),v=s||a||f||p,_=v?gs(t.length,od):[],b=_.length;for(var k in t)(e||ht.call(t,k))&&!(v&&(k=="length"||f&&(k=="offset"||k=="parent")||p&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||We(k,b)))&&_.push(k);return _}function nu(t){var e=t.length;return e?t[$s(0,e-1)]:n}function Gd(t,e){return di(Kt(t),vn(e,0,t.length))}function Qd(t){return di(Kt(t))}function xs(t,e,s){(s!==n&&!xe(t[e],s)||s===n&&!(e in t))&&Me(t,e,s)}function hr(t,e,s){var a=t[e];(!(ht.call(t,e)&&xe(a,s))||s===n&&!(e in t))&&Me(t,e,s)}function ti(t,e){for(var s=t.length;s--;)if(xe(t[s][0],e))return s;return-1}function Zd(t,e,s,a){return nn(t,function(f,p,v){e(a,f,s(f),v)}),a}function ru(t,e){return t&&Re(e,Rt(e),t)}function tp(t,e){return t&&Re(e,Xt(e),t)}function Me(t,e,s){e=="__proto__"&&Jr?Jr(t,e,{configurable:!0,enumerable:!0,value:s,writable:!0}):t[e]=s}function As(t,e){for(var s=-1,a=e.length,f=T(a),p=t==null;++s<a;)f[s]=p?n:io(t,e[s]);return f}function vn(t,e,s){return t===t&&(s!==n&&(t=t<=s?t:s),e!==n&&(t=t>=e?t:e)),t}function he(t,e,s,a,f,p){var v,_=e&y,b=e&F,k=e&x;if(s&&(v=f?s(t,a,f,p):s(t)),v!==n)return v;if(!xt(t))return t;var B=G(t);if(B){if(v=Wp(t),!_)return Kt(t,v)}else{var $=Ut(t),N=$==Sn||$==sa;if(an(t))return Su(t,_);if($==Pe||$==De||N&&!f){if(v=b||N?{}:qu(t),!_)return b?Dp(t,tp(v,t)):Bp(t,ru(v,t))}else{if(!yt[$])return f?t:{};v=zp(t,$,_)}}p||(p=new be);var U=p.get(t);if(U)return U;p.set(t,v),Ec(t)?t.forEach(function(K){v.add(he(K,e,s,K,t,p))}):_c(t)&&t.forEach(function(K,rt){v.set(rt,he(K,e,s,rt,t,p))});var q=k?b?Hs:zs:b?Xt:Rt,tt=B?n:q(t);return ce(tt||t,function(K,rt){tt&&(rt=K,K=t[rt]),hr(v,rt,he(K,e,s,rt,t,p))}),v}function ep(t){var e=Rt(t);return function(s){return iu(s,t,e)}}function iu(t,e,s){var a=s.length;if(t==null)return!a;for(t=mt(t);a--;){var f=s[a],p=e[f],v=t[f];if(v===n&&!(f in t)||!p(v))return!1}return!0}function su(t,e,s){if(typeof t!="function")throw new le(c);return _r(function(){t.apply(n,s)},e)}function dr(t,e,s,a){var f=-1,p=Ir,v=!0,_=t.length,b=[],k=e.length;if(!_)return b;s&&(e=Et(e,ne(s))),a?(p=ls,v=!1):e.length>=u&&(p=or,v=!1,e=new gn(e));t:for(;++f<_;){var B=t[f],$=s==null?B:s(B);if(B=a||B!==0?B:0,v&&$===$){for(var N=k;N--;)if(e[N]===$)continue t;b.push(B)}else p(e,$,a)||b.push(B)}return b}var nn=Ou($e),ou=Ou(Ts,!0);function np(t,e){var s=!0;return nn(t,function(a,f,p){return s=!!e(a,f,p),s}),s}function ei(t,e,s){for(var a=-1,f=t.length;++a<f;){var p=t[a],v=e(p);if(v!=null&&(_===n?v===v&&!ie(v):s(v,_)))var _=v,b=p}return b}function rp(t,e,s,a){var f=t.length;for(s=Z(s),s<0&&(s=-s>f?0:f+s),a=a===n||a>f?f:Z(a),a<0&&(a+=f),a=s>a?0:xc(a);s<a;)t[s++]=e;return t}function au(t,e){var s=[];return nn(t,function(a,f,p){e(a,f,p)&&s.push(a)}),s}function It(t,e,s,a,f){var p=-1,v=t.length;for(s||(s=Vp),f||(f=[]);++p<v;){var _=t[p];e>0&&s(_)?e>1?It(_,e-1,s,a,f):Ze(f,_):a||(f[f.length]=_)}return f}var Fs=$u(),uu=$u(!0);function $e(t,e){return t&&Fs(t,e,Rt)}function Ts(t,e){return t&&uu(t,e,Rt)}function ni(t,e){return Qe(e,function(s){return ze(t[s])})}function yn(t,e){e=sn(e,t);for(var s=0,a=e.length;t!=null&&s<a;)t=t[je(e[s++])];return s&&s==a?t:n}function cu(t,e,s){var a=e(t);return G(t)?a:Ze(a,s(t))}function zt(t){return t==null?t===n?Of:Bf:pn&&pn in mt(t)?Mp(t):Qp(t)}function Ss(t,e){return t>e}function ip(t,e){return t!=null&&ht.call(t,e)}function sp(t,e){return t!=null&&e in mt(t)}function op(t,e,s){return t>=Lt(e,s)&&t<Dt(e,s)}function Cs(t,e,s){for(var a=s?ls:Ir,f=t[0].length,p=t.length,v=p,_=T(p),b=1/0,k=[];v--;){var B=t[v];v&&e&&(B=Et(B,ne(e))),b=Lt(B.length,b),_[v]=!s&&(e||f>=120&&B.length>=120)?new gn(v&&B):n}B=t[0];var $=-1,N=_[0];t:for(;++$<f&&k.length<b;){var U=B[$],q=e?e(U):U;if(U=s||U!==0?U:0,!(N?or(N,q):a(k,q,s))){for(v=p;--v;){var tt=_[v];if(!(tt?or(tt,q):a(t[v],q,s)))continue t}N&&N.push(q),k.push(U)}}return k}function ap(t,e,s,a){return $e(t,function(f,p,v){e(a,s(f),p,v)}),a}function pr(t,e,s){e=sn(e,t),t=Yu(t,e);var a=t==null?t:t[je(pe(e))];return a==null?n:ee(a,t,s)}function lu(t){return Ft(t)&&zt(t)==De}function up(t){return Ft(t)&&zt(t)==sr}function cp(t){return Ft(t)&&zt(t)==hn}function mr(t,e,s,a,f){return t===e?!0:t==null||e==null||!Ft(t)&&!Ft(e)?t!==t&&e!==e:lp(t,e,s,a,mr,f)}function lp(t,e,s,a,f,p){var v=G(t),_=G(e),b=v?Ge:Ut(t),k=_?Ge:Ut(e);b=b==De?Pe:b,k=k==De?Pe:k;var B=b==Pe,$=k==Pe,N=b==k;if(N&&an(t)){if(!an(e))return!1;v=!0,B=!1}if(N&&!B)return p||(p=new be),v||Un(t)?zu(t,e,s,a,f,p):Ip(t,e,b,s,a,f,p);if(!(s&C)){var U=B&&ht.call(t,"__wrapped__"),q=$&&ht.call(e,"__wrapped__");if(U||q){var tt=U?t.value():t,K=q?e.value():e;return p||(p=new be),f(tt,K,s,a,p)}}return N?(p||(p=new be),Np(t,e,s,a,f,p)):!1}function fp(t){return Ft(t)&&Ut(t)==_e}function ks(t,e,s,a){var f=s.length,p=f,v=!a;if(t==null)return!p;for(t=mt(t);f--;){var _=s[f];if(v&&_[2]?_[1]!==t[_[0]]:!(_[0]in t))return!1}for(;++f<p;){_=s[f];var b=_[0],k=t[b],B=_[1];if(v&&_[2]){if(k===n&&!(b in t))return!1}else{var $=new be;if(a)var N=a(k,B,b,t,e,$);if(!(N===n?mr(B,k,C|P,a,$):N))return!1}}return!0}function fu(t){if(!xt(t)||Kp(t))return!1;var e=ze(t)?fd:eh;return e.test(wn(t))}function hp(t){return Ft(t)&&zt(t)==nr}function dp(t){return Ft(t)&&Ut(t)==we}function pp(t){return Ft(t)&&_i(t.length)&&!!_t[zt(t)]}function hu(t){return typeof t=="function"?t:t==null?Yt:typeof t=="object"?G(t)?mu(t[0],t[1]):pu(t):Rc(t)}function Bs(t){if(!yr(t))return vd(t);var e=[];for(var s in mt(t))ht.call(t,s)&&s!="constructor"&&e.push(s);return e}function mp(t){if(!xt(t))return Gp(t);var e=yr(t),s=[];for(var a in t)a=="constructor"&&(e||!ht.call(t,a))||s.push(a);return s}function Ds(t,e){return t<e}function du(t,e){var s=-1,a=Jt(t)?T(t.length):[];return nn(t,function(f,p,v){a[++s]=e(f,p,v)}),a}function pu(t){var e=qs(t);return e.length==1&&e[0][2]?Ju(e[0][0],e[0][1]):function(s){return s===t||ks(s,t,e)}}function mu(t,e){return Js(t)&&Ku(e)?Ju(je(t),e):function(s){var a=io(s,t);return a===n&&a===e?so(s,t):mr(e,a,C|P)}}function ri(t,e,s,a,f){t!==e&&Fs(e,function(p,v){if(f||(f=new be),xt(p))gp(t,e,v,s,ri,a,f);else{var _=a?a(Ys(t,v),p,v+"",t,e,f):n;_===n&&(_=p),xs(t,v,_)}},Xt)}function gp(t,e,s,a,f,p,v){var _=Ys(t,s),b=Ys(e,s),k=v.get(b);if(k){xs(t,s,k);return}var B=p?p(_,b,s+"",t,e,v):n,$=B===n;if($){var N=G(b),U=!N&&an(b),q=!N&&!U&&Un(b);B=b,N||U||q?G(_)?B=_:Tt(_)?B=Kt(_):U?($=!1,B=Su(b,!0)):q?($=!1,B=Cu(b,!0)):B=[]:wr(b)||En(b)?(B=_,En(_)?B=Ac(_):(!xt(_)||ze(_))&&(B=qu(b))):$=!1}$&&(v.set(b,B),f(B,b,a,p,v),v.delete(b)),xs(t,s,B)}function gu(t,e){var s=t.length;if(s)return e+=e<0?s:0,We(e,s)?t[e]:n}function vu(t,e,s){e.length?e=Et(e,function(p){return G(p)?function(v){return yn(v,p.length===1?p[0]:p)}:p}):e=[Yt];var a=-1;e=Et(e,ne(V()));var f=du(t,function(p,v,_){var b=Et(e,function(k){return k(p)});return{criteria:b,index:++a,value:p}});return zh(f,function(p,v){return kp(p,v,s)})}function vp(t,e){return yu(t,e,function(s,a){return so(t,a)})}function yu(t,e,s){for(var a=-1,f=e.length,p={};++a<f;){var v=e[a],_=yn(t,v);s(_,v)&&gr(p,sn(v,t),_)}return p}function yp(t){return function(e){return yn(e,t)}}function Os(t,e,s,a){var f=a?Wh:Bn,p=-1,v=e.length,_=t;for(t===e&&(e=Kt(e)),s&&(_=Et(t,ne(s)));++p<v;)for(var b=0,k=e[p],B=s?s(k):k;(b=f(_,B,b,a))>-1;)_!==t&&Kr.call(_,b,1),Kr.call(t,b,1);return t}function _u(t,e){for(var s=t?e.length:0,a=s-1;s--;){var f=e[s];if(s==a||f!==p){var p=f;We(f)?Kr.call(t,f,1):Ps(t,f)}}return t}function $s(t,e){return t+Yr(Za()*(e-t+1))}function _p(t,e,s,a){for(var f=-1,p=Dt(Xr((e-t)/(s||1)),0),v=T(p);p--;)v[a?p:++f]=t,t+=s;return v}function Rs(t,e){var s="";if(!t||e<1||e>Be)return s;do e%2&&(s+=t),e=Yr(e/2),e&&(t+=t);while(e);return s}function et(t,e){return Gs(Xu(t,e,Yt),t+"")}function wp(t){return nu(Wn(t))}function Ep(t,e){var s=Wn(t);return di(s,vn(e,0,s.length))}function gr(t,e,s,a){if(!xt(t))return t;e=sn(e,t);for(var f=-1,p=e.length,v=p-1,_=t;_!=null&&++f<p;){var b=je(e[f]),k=s;if(b==="__proto__"||b==="constructor"||b==="prototype")return t;if(f!=v){var B=_[b];k=a?a(B,b,_):n,k===n&&(k=xt(B)?B:We(e[f+1])?[]:{})}hr(_,b,k),_=_[b]}return t}var wu=Gr?function(t,e){return Gr.set(t,e),t}:Yt,bp=Jr?function(t,e){return Jr(t,"toString",{configurable:!0,enumerable:!1,value:ao(e),writable:!0})}:Yt;function xp(t){return di(Wn(t))}function de(t,e,s){var a=-1,f=t.length;e<0&&(e=-e>f?0:f+e),s=s>f?f:s,s<0&&(s+=f),f=e>s?0:s-e>>>0,e>>>=0;for(var p=T(f);++a<f;)p[a]=t[a+e];return p}function Ap(t,e){var s;return nn(t,function(a,f,p){return s=e(a,f,p),!s}),!!s}function ii(t,e,s){var a=0,f=t==null?a:t.length;if(typeof e=="number"&&e===e&&f<=Ct){for(;a<f;){var p=a+f>>>1,v=t[p];v!==null&&!ie(v)&&(s?v<=e:v<e)?a=p+1:f=p}return f}return js(t,e,Yt,s)}function js(t,e,s,a){var f=0,p=t==null?0:t.length;if(p===0)return 0;e=s(e);for(var v=e!==e,_=e===null,b=ie(e),k=e===n;f<p;){var B=Yr((f+p)/2),$=s(t[B]),N=$!==n,U=$===null,q=$===$,tt=ie($);if(v)var K=a||q;else k?K=q&&(a||N):_?K=q&&N&&(a||!U):b?K=q&&N&&!U&&(a||!tt):U||tt?K=!1:K=a?$<=e:$<e;K?f=B+1:p=B}return Lt(p,Dr)}function Eu(t,e){for(var s=-1,a=t.length,f=0,p=[];++s<a;){var v=t[s],_=e?e(v):v;if(!s||!xe(_,b)){var b=_;p[f++]=v===0?0:v}}return p}function bu(t){return typeof t=="number"?t:ie(t)?fn:+t}function re(t){if(typeof t=="string")return t;if(G(t))return Et(t,re)+"";if(ie(t))return tu?tu.call(t):"";var e=t+"";return e=="0"&&1/t==-ke?"-0":e}function rn(t,e,s){var a=-1,f=Ir,p=t.length,v=!0,_=[],b=_;if(s)v=!1,f=ls;else if(p>=u){var k=e?null:jp(t);if(k)return Mr(k);v=!1,f=or,b=new gn}else b=e?[]:_;t:for(;++a<p;){var B=t[a],$=e?e(B):B;if(B=s||B!==0?B:0,v&&$===$){for(var N=b.length;N--;)if(b[N]===$)continue t;e&&b.push($),_.push(B)}else f(b,$,s)||(b!==_&&b.push($),_.push(B))}return _}function Ps(t,e){return e=sn(e,t),t=Yu(t,e),t==null||delete t[je(pe(e))]}function xu(t,e,s,a){return gr(t,e,s(yn(t,e)),a)}function si(t,e,s,a){for(var f=t.length,p=a?f:-1;(a?p--:++p<f)&&e(t[p],p,t););return s?de(t,a?0:p,a?p+1:f):de(t,a?p+1:0,a?f:p)}function Au(t,e){var s=t;return s instanceof ot&&(s=s.value()),fs(e,function(a,f){return f.func.apply(f.thisArg,Ze([a],f.args))},s)}function Is(t,e,s){var a=t.length;if(a<2)return a?rn(t[0]):[];for(var f=-1,p=T(a);++f<a;)for(var v=t[f],_=-1;++_<a;)_!=f&&(p[f]=dr(p[f]||v,t[_],e,s));return rn(It(p,1),e,s)}function Fu(t,e,s){for(var a=-1,f=t.length,p=e.length,v={};++a<f;){var _=a<p?e[a]:n;s(v,t[a],_)}return v}function Ns(t){return Tt(t)?t:[]}function Ms(t){return typeof t=="function"?t:Yt}function sn(t,e){return G(t)?t:Js(t,e)?[t]:tc(ft(t))}var Fp=et;function on(t,e,s){var a=t.length;return s=s===n?a:s,!e&&s>=a?t:de(t,e,s)}var Tu=hd||function(t){return Pt.clearTimeout(t)};function Su(t,e){if(e)return t.slice();var s=t.length,a=Ja?Ja(s):new t.constructor(s);return t.copy(a),a}function Ls(t){var e=new t.constructor(t.byteLength);return new Vr(e).set(new Vr(t)),e}function Tp(t,e){var s=e?Ls(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.byteLength)}function Sp(t){var e=new t.constructor(t.source,la.exec(t));return e.lastIndex=t.lastIndex,e}function Cp(t){return fr?mt(fr.call(t)):{}}function Cu(t,e){var s=e?Ls(t.buffer):t.buffer;return new t.constructor(s,t.byteOffset,t.length)}function ku(t,e){if(t!==e){var s=t!==n,a=t===null,f=t===t,p=ie(t),v=e!==n,_=e===null,b=e===e,k=ie(e);if(!_&&!k&&!p&&t>e||p&&v&&b&&!_&&!k||a&&v&&b||!s&&b||!f)return 1;if(!a&&!p&&!k&&t<e||k&&s&&f&&!a&&!p||_&&s&&f||!v&&f||!b)return-1}return 0}function kp(t,e,s){for(var a=-1,f=t.criteria,p=e.criteria,v=f.length,_=s.length;++a<v;){var b=ku(f[a],p[a]);if(b){if(a>=_)return b;var k=s[a];return b*(k=="desc"?-1:1)}}return t.index-e.index}function Bu(t,e,s,a){for(var f=-1,p=t.length,v=s.length,_=-1,b=e.length,k=Dt(p-v,0),B=T(b+k),$=!a;++_<b;)B[_]=e[_];for(;++f<v;)($||f<p)&&(B[s[f]]=t[f]);for(;k--;)B[_++]=t[f++];return B}function Du(t,e,s,a){for(var f=-1,p=t.length,v=-1,_=s.length,b=-1,k=e.length,B=Dt(p-_,0),$=T(B+k),N=!a;++f<B;)$[f]=t[f];for(var U=f;++b<k;)$[U+b]=e[b];for(;++v<_;)(N||f<p)&&($[U+s[v]]=t[f++]);return $}function Kt(t,e){var s=-1,a=t.length;for(e||(e=T(a));++s<a;)e[s]=t[s];return e}function Re(t,e,s,a){var f=!s;s||(s={});for(var p=-1,v=e.length;++p<v;){var _=e[p],b=a?a(s[_],t[_],_,s,t):n;b===n&&(b=t[_]),f?Me(s,_,b):hr(s,_,b)}return s}function Bp(t,e){return Re(t,Ks(t),e)}function Dp(t,e){return Re(t,Hu(t),e)}function oi(t,e){return function(s,a){var f=G(s)?Ph:Zd,p=e?e():{};return f(s,t,V(a,2),p)}}function Nn(t){return et(function(e,s){var a=-1,f=s.length,p=f>1?s[f-1]:n,v=f>2?s[2]:n;for(p=t.length>3&&typeof p=="function"?(f--,p):n,v&&Ht(s[0],s[1],v)&&(p=f<3?n:p,f=1),e=mt(e);++a<f;){var _=s[a];_&&t(e,_,a,p)}return e})}function Ou(t,e){return function(s,a){if(s==null)return s;if(!Jt(s))return t(s,a);for(var f=s.length,p=e?f:-1,v=mt(s);(e?p--:++p<f)&&a(v[p],p,v)!==!1;);return s}}function $u(t){return function(e,s,a){for(var f=-1,p=mt(e),v=a(e),_=v.length;_--;){var b=v[t?_:++f];if(s(p[b],b,p)===!1)break}return e}}function Op(t,e,s){var a=e&j,f=vr(t);function p(){var v=this&&this!==Pt&&this instanceof p?f:t;return v.apply(a?s:this,arguments)}return p}function Ru(t){return function(e){e=ft(e);var s=Dn(e)?Ee(e):n,a=s?s[0]:e.charAt(0),f=s?on(s,1).join(""):e.slice(1);return a[t]()+f}}function Mn(t){return function(e){return fs(Oc(Dc(e).replace(bh,"")),t,"")}}function vr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var s=In(t.prototype),a=t.apply(s,e);return xt(a)?a:s}}function $p(t,e,s){var a=vr(t);function f(){for(var p=arguments.length,v=T(p),_=p,b=Ln(f);_--;)v[_]=arguments[_];var k=p<3&&v[0]!==b&&v[p-1]!==b?[]:tn(v,b);if(p-=k.length,p<s)return Mu(t,e,ai,f.placeholder,n,v,k,n,n,s-p);var B=this&&this!==Pt&&this instanceof f?a:t;return ee(B,this,v)}return f}function ju(t){return function(e,s,a){var f=mt(e);if(!Jt(e)){var p=V(s,3);e=Rt(e),s=function(_){return p(f[_],_,f)}}var v=t(e,s,a);return v>-1?f[p?e[v]:v]:n}}function Pu(t){return Ue(function(e){var s=e.length,a=s,f=fe.prototype.thru;for(t&&e.reverse();a--;){var p=e[a];if(typeof p!="function")throw new le(c);if(f&&!v&&fi(p)=="wrapper")var v=new fe([],!0)}for(a=v?a:s;++a<s;){p=e[a];var _=fi(p),b=_=="wrapper"?Vs(p):n;b&&Xs(b[0])&&b[1]==($t|O|W|Zt)&&!b[4].length&&b[9]==1?v=v[fi(b[0])].apply(v,b[3]):v=p.length==1&&Xs(p)?v[_]():v.thru(p)}return function(){var k=arguments,B=k[0];if(v&&k.length==1&&G(B))return v.plant(B).value();for(var $=0,N=s?e[$].apply(this,k):B;++$<s;)N=e[$].call(this,N);return N}})}function ai(t,e,s,a,f,p,v,_,b,k){var B=e&$t,$=e&j,N=e&I,U=e&(O|X),q=e&At,tt=N?n:vr(t);function K(){for(var rt=arguments.length,at=T(rt),se=rt;se--;)at[se]=arguments[se];if(U)var Vt=Ln(K),oe=Vh(at,Vt);if(a&&(at=Bu(at,a,f,U)),p&&(at=Du(at,p,v,U)),rt-=oe,U&&rt<k){var St=tn(at,Vt);return Mu(t,e,ai,K.placeholder,s,at,St,_,b,k-rt)}var Ae=$?s:this,Ve=N?Ae[t]:t;return rt=at.length,_?at=Zp(at,_):q&&rt>1&&at.reverse(),B&&b<rt&&(at.length=b),this&&this!==Pt&&this instanceof K&&(Ve=tt||vr(Ve)),Ve.apply(Ae,at)}return K}function Iu(t,e){return function(s,a){return ap(s,t,e(a),{})}}function ui(t,e){return function(s,a){var f;if(s===n&&a===n)return e;if(s!==n&&(f=s),a!==n){if(f===n)return a;typeof s=="string"||typeof a=="string"?(s=re(s),a=re(a)):(s=bu(s),a=bu(a)),f=t(s,a)}return f}}function Us(t){return Ue(function(e){return e=Et(e,ne(V())),et(function(s){var a=this;return t(e,function(f){return ee(f,a,s)})})})}function ci(t,e){e=e===n?" ":re(e);var s=e.length;if(s<2)return s?Rs(e,t):e;var a=Rs(e,Xr(t/On(e)));return Dn(e)?on(Ee(a),0,t).join(""):a.slice(0,t)}function Rp(t,e,s,a){var f=e&j,p=vr(t);function v(){for(var _=-1,b=arguments.length,k=-1,B=a.length,$=T(B+b),N=this&&this!==Pt&&this instanceof v?p:t;++k<B;)$[k]=a[k];for(;b--;)$[k++]=arguments[++_];return ee(N,f?s:this,$)}return v}function Nu(t){return function(e,s,a){return a&&typeof a!="number"&&Ht(e,s,a)&&(s=a=n),e=He(e),s===n?(s=e,e=0):s=He(s),a=a===n?e<s?1:-1:He(a),_p(e,s,a,t)}}function li(t){return function(e,s){return typeof e=="string"&&typeof s=="string"||(e=me(e),s=me(s)),t(e,s)}}function Mu(t,e,s,a,f,p,v,_,b,k){var B=e&O,$=B?v:n,N=B?n:v,U=B?p:n,q=B?n:p;e|=B?W:wt,e&=~(B?wt:W),e&R||(e&=~(j|I));var tt=[t,e,f,U,$,q,N,_,b,k],K=s.apply(n,tt);return Xs(t)&&Gu(K,tt),K.placeholder=a,Qu(K,t,e)}function Ws(t){var e=Bt[t];return function(s,a){if(s=me(s),a=a==null?0:Lt(Z(a),292),a&&Qa(s)){var f=(ft(s)+"e").split("e"),p=e(f[0]+"e"+(+f[1]+a));return f=(ft(p)+"e").split("e"),+(f[0]+"e"+(+f[1]-a))}return e(s)}}var jp=jn&&1/Mr(new jn([,-0]))[1]==ke?function(t){return new jn(t)}:lo;function Lu(t){return function(e){var s=Ut(e);return s==_e?ys(e):s==we?Qh(e):Hh(e,t(e))}}function Le(t,e,s,a,f,p,v,_){var b=e&I;if(!b&&typeof t!="function")throw new le(c);var k=a?a.length:0;if(k||(e&=~(W|wt),a=f=n),v=v===n?v:Dt(Z(v),0),_=_===n?_:Z(_),k-=f?f.length:0,e&wt){var B=a,$=f;a=f=n}var N=b?n:Vs(t),U=[t,e,s,a,f,B,$,p,v,_];if(N&&Yp(U,N),t=U[0],e=U[1],s=U[2],a=U[3],f=U[4],_=U[9]=U[9]===n?b?0:t.length:Dt(U[9]-k,0),!_&&e&(O|X)&&(e&=~(O|X)),!e||e==j)var q=Op(t,e,s);else e==O||e==X?q=$p(t,e,_):(e==W||e==(j|W))&&!f.length?q=Rp(t,e,s,a):q=ai.apply(n,U);var tt=N?wu:Gu;return Qu(tt(q,U),t,e)}function Uu(t,e,s,a){return t===n||xe(t,Rn[s])&&!ht.call(a,s)?e:t}function Wu(t,e,s,a,f,p){return xt(t)&&xt(e)&&(p.set(e,t),ri(t,e,n,Wu,p),p.delete(e)),t}function Pp(t){return wr(t)?n:t}function zu(t,e,s,a,f,p){var v=s&C,_=t.length,b=e.length;if(_!=b&&!(v&&b>_))return!1;var k=p.get(t),B=p.get(e);if(k&&B)return k==e&&B==t;var $=-1,N=!0,U=s&P?new gn:n;for(p.set(t,e),p.set(e,t);++$<_;){var q=t[$],tt=e[$];if(a)var K=v?a(tt,q,$,e,t,p):a(q,tt,$,t,e,p);if(K!==n){if(K)continue;N=!1;break}if(U){if(!hs(e,function(rt,at){if(!or(U,at)&&(q===rt||f(q,rt,s,a,p)))return U.push(at)})){N=!1;break}}else if(!(q===tt||f(q,tt,s,a,p))){N=!1;break}}return p.delete(t),p.delete(e),N}function Ip(t,e,s,a,f,p,v){switch(s){case Cn:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case sr:return!(t.byteLength!=e.byteLength||!p(new Vr(t),new Vr(e)));case Oe:case hn:case er:return xe(+t,+e);case Tn:return t.name==e.name&&t.message==e.message;case nr:case rr:return t==e+"";case _e:var _=ys;case we:var b=a&C;if(_||(_=Mr),t.size!=e.size&&!b)return!1;var k=v.get(t);if(k)return k==e;a|=P,v.set(t,e);var B=zu(_(t),_(e),a,f,p,v);return v.delete(t),B;case $r:if(fr)return fr.call(t)==fr.call(e)}return!1}function Np(t,e,s,a,f,p){var v=s&C,_=zs(t),b=_.length,k=zs(e),B=k.length;if(b!=B&&!v)return!1;for(var $=b;$--;){var N=_[$];if(!(v?N in e:ht.call(e,N)))return!1}var U=p.get(t),q=p.get(e);if(U&&q)return U==e&&q==t;var tt=!0;p.set(t,e),p.set(e,t);for(var K=v;++$<b;){N=_[$];var rt=t[N],at=e[N];if(a)var se=v?a(at,rt,N,e,t,p):a(rt,at,N,t,e,p);if(!(se===n?rt===at||f(rt,at,s,a,p):se)){tt=!1;break}K||(K=N=="constructor")}if(tt&&!K){var Vt=t.constructor,oe=e.constructor;Vt!=oe&&"constructor"in t&&"constructor"in e&&!(typeof Vt=="function"&&Vt instanceof Vt&&typeof oe=="function"&&oe instanceof oe)&&(tt=!1)}return p.delete(t),p.delete(e),tt}function Ue(t){return Gs(Xu(t,n,ic),t+"")}function zs(t){return cu(t,Rt,Ks)}function Hs(t){return cu(t,Xt,Hu)}var Vs=Gr?function(t){return Gr.get(t)}:lo;function fi(t){for(var e=t.name+"",s=Pn[e],a=ht.call(Pn,e)?s.length:0;a--;){var f=s[a],p=f.func;if(p==null||p==t)return f.name}return e}function Ln(t){var e=ht.call(h,"placeholder")?h:t;return e.placeholder}function V(){var t=h.iteratee||uo;return t=t===uo?hu:t,arguments.length?t(arguments[0],arguments[1]):t}function hi(t,e){var s=t.__data__;return qp(e)?s[typeof e=="string"?"string":"hash"]:s.map}function qs(t){for(var e=Rt(t),s=e.length;s--;){var a=e[s],f=t[a];e[s]=[a,f,Ku(f)]}return e}function _n(t,e){var s=Xh(t,e);return fu(s)?s:n}function Mp(t){var e=ht.call(t,pn),s=t[pn];try{t[pn]=n;var a=!0}catch(p){}var f=zr.call(t);return a&&(e?t[pn]=s:delete t[pn]),f}var Ks=ws?function(t){return t==null?[]:(t=mt(t),Qe(ws(t),function(e){return Ya.call(t,e)}))}:fo,Hu=ws?function(t){for(var e=[];t;)Ze(e,Ks(t)),t=qr(t);return e}:fo,Ut=zt;(Es&&Ut(new Es(new ArrayBuffer(1)))!=Cn||ur&&Ut(new ur)!=_e||bs&&Ut(bs.resolve())!=oa||jn&&Ut(new jn)!=we||cr&&Ut(new cr)!=ir)&&(Ut=function(t){var e=zt(t),s=e==Pe?t.constructor:n,a=s?wn(s):"";if(a)switch(a){case Ed:return Cn;case bd:return _e;case xd:return oa;case Ad:return we;case Fd:return ir}return e});function Lp(t,e,s){for(var a=-1,f=s.length;++a<f;){var p=s[a],v=p.size;switch(p.type){case"drop":t+=v;break;case"dropRight":e-=v;break;case"take":e=Lt(e,t+v);break;case"takeRight":t=Dt(t,e-v);break}}return{start:t,end:e}}function Up(t){var e=t.match(Kf);return e?e[1].split(Jf):[]}function Vu(t,e,s){e=sn(e,t);for(var a=-1,f=e.length,p=!1;++a<f;){var v=je(e[a]);if(!(p=t!=null&&s(t,v)))break;t=t[v]}return p||++a!=f?p:(f=t==null?0:t.length,!!f&&_i(f)&&We(v,f)&&(G(t)||En(t)))}function Wp(t){var e=t.length,s=new t.constructor(e);return e&&typeof t[0]=="string"&&ht.call(t,"index")&&(s.index=t.index,s.input=t.input),s}function qu(t){return typeof t.constructor=="function"&&!yr(t)?In(qr(t)):{}}function zp(t,e,s){var a=t.constructor;switch(e){case sr:return Ls(t);case Oe:case hn:return new a(+t);case Cn:return Tp(t,s);case qi:case Ki:case Ji:case Xi:case Yi:case Gi:case Qi:case Zi:case ts:return Cu(t,s);case _e:return new a;case er:case rr:return new a(t);case nr:return Sp(t);case we:return new a;case $r:return Cp(t)}}function Hp(t,e){var s=e.length;if(!s)return t;var a=s-1;return e[a]=(s>1?"& ":"")+e[a],e=e.join(s>2?", ":" "),t.replace(qf,`{
/* [wrapped with `+e+`] */
`)}function Vp(t){return G(t)||En(t)||!!(Ga&&t&&t[Ga])}function We(t,e){var s=typeof t;return e=e==null?Be:e,!!e&&(s=="number"||s!="symbol"&&rh.test(t))&&t>-1&&t%1==0&&t<e}function Ht(t,e,s){if(!xt(s))return!1;var a=typeof e;return(a=="number"?Jt(s)&&We(e,s.length):a=="string"&&e in s)?xe(s[e],t):!1}function Js(t,e){if(G(t))return!1;var s=typeof t;return s=="number"||s=="symbol"||s=="boolean"||t==null||ie(t)?!0:Wf.test(t)||!Uf.test(t)||e!=null&&t in mt(e)}function qp(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Xs(t){var e=fi(t),s=h[e];if(typeof s!="function"||!(e in ot.prototype))return!1;if(t===s)return!0;var a=Vs(s);return!!a&&t===a[0]}function Kp(t){return!!Ka&&Ka in t}var Jp=Ur?ze:ho;function yr(t){var e=t&&t.constructor,s=typeof e=="function"&&e.prototype||Rn;return t===s}function Ku(t){return t===t&&!xt(t)}function Ju(t,e){return function(s){return s==null?!1:s[t]===e&&(e!==n||t in mt(s))}}function Xp(t){var e=vi(t,function(a){return s.size===m&&s.clear(),a}),s=e.cache;return e}function Yp(t,e){var s=t[1],a=e[1],f=s|a,p=f<(j|I|$t),v=a==$t&&s==O||a==$t&&s==Zt&&t[7].length<=e[8]||a==($t|Zt)&&e[7].length<=e[8]&&s==O;if(!(p||v))return t;a&j&&(t[2]=e[2],f|=s&j?0:R);var _=e[3];if(_){var b=t[3];t[3]=b?Bu(b,_,e[4]):_,t[4]=b?tn(t[3],w):e[4]}return _=e[5],_&&(b=t[5],t[5]=b?Du(b,_,e[6]):_,t[6]=b?tn(t[5],w):e[6]),_=e[7],_&&(t[7]=_),a&$t&&(t[8]=t[8]==null?e[8]:Lt(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=f,t}function Gp(t){var e=[];if(t!=null)for(var s in mt(t))e.push(s);return e}function Qp(t){return zr.call(t)}function Xu(t,e,s){return e=Dt(e===n?t.length-1:e,0),function(){for(var a=arguments,f=-1,p=Dt(a.length-e,0),v=T(p);++f<p;)v[f]=a[e+f];f=-1;for(var _=T(e+1);++f<e;)_[f]=a[f];return _[e]=s(v),ee(t,this,_)}}function Yu(t,e){return e.length<2?t:yn(t,de(e,0,-1))}function Zp(t,e){for(var s=t.length,a=Lt(e.length,s),f=Kt(t);a--;){var p=e[a];t[a]=We(p,s)?f[p]:n}return t}function Ys(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Gu=Zu(wu),_r=pd||function(t,e){return Pt.setTimeout(t,e)},Gs=Zu(bp);function Qu(t,e,s){var a=e+"";return Gs(t,Hp(a,t0(Up(a),s)))}function Zu(t){var e=0,s=0;return function(){var a=yd(),f=ye-(a-s);if(s=a,f>0){if(++e>=vt)return arguments[0]}else e=0;return t.apply(n,arguments)}}function di(t,e){var s=-1,a=t.length,f=a-1;for(e=e===n?a:e;++s<e;){var p=$s(s,f),v=t[p];t[p]=t[s],t[s]=v}return t.length=e,t}var tc=Xp(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zf,function(s,a,f,p){e.push(f?p.replace(Gf,"$1"):a||s)}),e});function je(t){if(typeof t=="string"||ie(t))return t;var e=t+"";return e=="0"&&1/t==-ke?"-0":e}function wn(t){if(t!=null){try{return Wr.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function t0(t,e){return ce(Or,function(s){var a="_."+s[0];e&s[1]&&!Ir(t,a)&&t.push(a)}),t.sort()}function ec(t){if(t instanceof ot)return t.clone();var e=new fe(t.__wrapped__,t.__chain__);return e.__actions__=Kt(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function e0(t,e,s){(s?Ht(t,e,s):e===n)?e=1:e=Dt(Z(e),0);var a=t==null?0:t.length;if(!a||e<1)return[];for(var f=0,p=0,v=T(Xr(a/e));f<a;)v[p++]=de(t,f,f+=e);return v}function n0(t){for(var e=-1,s=t==null?0:t.length,a=0,f=[];++e<s;){var p=t[e];p&&(f[a++]=p)}return f}function r0(){var t=arguments.length;if(!t)return[];for(var e=T(t-1),s=arguments[0],a=t;a--;)e[a-1]=arguments[a];return Ze(G(s)?Kt(s):[s],It(e,1))}var i0=et(function(t,e){return Tt(t)?dr(t,It(e,1,Tt,!0)):[]}),s0=et(function(t,e){var s=pe(e);return Tt(s)&&(s=n),Tt(t)?dr(t,It(e,1,Tt,!0),V(s,2)):[]}),o0=et(function(t,e){var s=pe(e);return Tt(s)&&(s=n),Tt(t)?dr(t,It(e,1,Tt,!0),n,s):[]});function a0(t,e,s){var a=t==null?0:t.length;return a?(e=s||e===n?1:Z(e),de(t,e<0?0:e,a)):[]}function u0(t,e,s){var a=t==null?0:t.length;return a?(e=s||e===n?1:Z(e),e=a-e,de(t,0,e<0?0:e)):[]}function c0(t,e){return t&&t.length?si(t,V(e,3),!0,!0):[]}function l0(t,e){return t&&t.length?si(t,V(e,3),!0):[]}function f0(t,e,s,a){var f=t==null?0:t.length;return f?(s&&typeof s!="number"&&Ht(t,e,s)&&(s=0,a=f),rp(t,e,s,a)):[]}function nc(t,e,s){var a=t==null?0:t.length;if(!a)return-1;var f=s==null?0:Z(s);return f<0&&(f=Dt(a+f,0)),Nr(t,V(e,3),f)}function rc(t,e,s){var a=t==null?0:t.length;if(!a)return-1;var f=a-1;return s!==n&&(f=Z(s),f=s<0?Dt(a+f,0):Lt(f,a-1)),Nr(t,V(e,3),f,!0)}function ic(t){var e=t==null?0:t.length;return e?It(t,1):[]}function h0(t){var e=t==null?0:t.length;return e?It(t,ke):[]}function d0(t,e){var s=t==null?0:t.length;return s?(e=e===n?1:Z(e),It(t,e)):[]}function p0(t){for(var e=-1,s=t==null?0:t.length,a={};++e<s;){var f=t[e];a[f[0]]=f[1]}return a}function sc(t){return t&&t.length?t[0]:n}function m0(t,e,s){var a=t==null?0:t.length;if(!a)return-1;var f=s==null?0:Z(s);return f<0&&(f=Dt(a+f,0)),Bn(t,e,f)}function g0(t){var e=t==null?0:t.length;return e?de(t,0,-1):[]}var v0=et(function(t){var e=Et(t,Ns);return e.length&&e[0]===t[0]?Cs(e):[]}),y0=et(function(t){var e=pe(t),s=Et(t,Ns);return e===pe(s)?e=n:s.pop(),s.length&&s[0]===t[0]?Cs(s,V(e,2)):[]}),_0=et(function(t){var e=pe(t),s=Et(t,Ns);return e=typeof e=="function"?e:n,e&&s.pop(),s.length&&s[0]===t[0]?Cs(s,n,e):[]});function w0(t,e){return t==null?"":gd.call(t,e)}function pe(t){var e=t==null?0:t.length;return e?t[e-1]:n}function E0(t,e,s){var a=t==null?0:t.length;if(!a)return-1;var f=a;return s!==n&&(f=Z(s),f=f<0?Dt(a+f,0):Lt(f,a-1)),e===e?td(t,e,f):Nr(t,Ma,f,!0)}function b0(t,e){return t&&t.length?gu(t,Z(e)):n}var x0=et(oc);function oc(t,e){return t&&t.length&&e&&e.length?Os(t,e):t}function A0(t,e,s){return t&&t.length&&e&&e.length?Os(t,e,V(s,2)):t}function F0(t,e,s){return t&&t.length&&e&&e.length?Os(t,e,n,s):t}var T0=Ue(function(t,e){var s=t==null?0:t.length,a=As(t,e);return _u(t,Et(e,function(f){return We(f,s)?+f:f}).sort(ku)),a});function S0(t,e){var s=[];if(!(t&&t.length))return s;var a=-1,f=[],p=t.length;for(e=V(e,3);++a<p;){var v=t[a];e(v,a,t)&&(s.push(v),f.push(a))}return _u(t,f),s}function Qs(t){return t==null?t:wd.call(t)}function C0(t,e,s){var a=t==null?0:t.length;return a?(s&&typeof s!="number"&&Ht(t,e,s)?(e=0,s=a):(e=e==null?0:Z(e),s=s===n?a:Z(s)),de(t,e,s)):[]}function k0(t,e){return ii(t,e)}function B0(t,e,s){return js(t,e,V(s,2))}function D0(t,e){var s=t==null?0:t.length;if(s){var a=ii(t,e);if(a<s&&xe(t[a],e))return a}return-1}function O0(t,e){return ii(t,e,!0)}function $0(t,e,s){return js(t,e,V(s,2),!0)}function R0(t,e){var s=t==null?0:t.length;if(s){var a=ii(t,e,!0)-1;if(xe(t[a],e))return a}return-1}function j0(t){return t&&t.length?Eu(t):[]}function P0(t,e){return t&&t.length?Eu(t,V(e,2)):[]}function I0(t){var e=t==null?0:t.length;return e?de(t,1,e):[]}function N0(t,e,s){return t&&t.length?(e=s||e===n?1:Z(e),de(t,0,e<0?0:e)):[]}function M0(t,e,s){var a=t==null?0:t.length;return a?(e=s||e===n?1:Z(e),e=a-e,de(t,e<0?0:e,a)):[]}function L0(t,e){return t&&t.length?si(t,V(e,3),!1,!0):[]}function U0(t,e){return t&&t.length?si(t,V(e,3)):[]}var W0=et(function(t){return rn(It(t,1,Tt,!0))}),z0=et(function(t){var e=pe(t);return Tt(e)&&(e=n),rn(It(t,1,Tt,!0),V(e,2))}),H0=et(function(t){var e=pe(t);return e=typeof e=="function"?e:n,rn(It(t,1,Tt,!0),n,e)});function V0(t){return t&&t.length?rn(t):[]}function q0(t,e){return t&&t.length?rn(t,V(e,2)):[]}function K0(t,e){return e=typeof e=="function"?e:n,t&&t.length?rn(t,n,e):[]}function Zs(t){if(!(t&&t.length))return[];var e=0;return t=Qe(t,function(s){if(Tt(s))return e=Dt(s.length,e),!0}),gs(e,function(s){return Et(t,ds(s))})}function ac(t,e){if(!(t&&t.length))return[];var s=Zs(t);return e==null?s:Et(s,function(a){return ee(e,n,a)})}var J0=et(function(t,e){return Tt(t)?dr(t,e):[]}),X0=et(function(t){return Is(Qe(t,Tt))}),Y0=et(function(t){var e=pe(t);return Tt(e)&&(e=n),Is(Qe(t,Tt),V(e,2))}),G0=et(function(t){var e=pe(t);return e=typeof e=="function"?e:n,Is(Qe(t,Tt),n,e)}),Q0=et(Zs);function Z0(t,e){return Fu(t||[],e||[],hr)}function tm(t,e){return Fu(t||[],e||[],gr)}var em=et(function(t){var e=t.length,s=e>1?t[e-1]:n;return s=typeof s=="function"?(t.pop(),s):n,ac(t,s)});function uc(t){var e=h(t);return e.__chain__=!0,e}function nm(t,e){return e(t),t}function pi(t,e){return e(t)}var rm=Ue(function(t){var e=t.length,s=e?t[0]:0,a=this.__wrapped__,f=function(p){return As(p,t)};return e>1||this.__actions__.length||!(a instanceof ot)||!We(s)?this.thru(f):(a=a.slice(s,+s+(e?1:0)),a.__actions__.push({func:pi,args:[f],thisArg:n}),new fe(a,this.__chain__).thru(function(p){return e&&!p.length&&p.push(n),p}))});function im(){return uc(this)}function sm(){return new fe(this.value(),this.__chain__)}function om(){this.__values__===n&&(this.__values__=bc(this.value()));var t=this.__index__>=this.__values__.length,e=t?n:this.__values__[this.__index__++];return{done:t,value:e}}function am(){return this}function um(t){for(var e,s=this;s instanceof Zr;){var a=ec(s);a.__index__=0,a.__values__=n,e?f.__wrapped__=a:e=a;var f=a;s=s.__wrapped__}return f.__wrapped__=t,e}function cm(){var t=this.__wrapped__;if(t instanceof ot){var e=t;return this.__actions__.length&&(e=new ot(this)),e=e.reverse(),e.__actions__.push({func:pi,args:[Qs],thisArg:n}),new fe(e,this.__chain__)}return this.thru(Qs)}function lm(){return Au(this.__wrapped__,this.__actions__)}var fm=oi(function(t,e,s){ht.call(t,s)?++t[s]:Me(t,s,1)});function hm(t,e,s){var a=G(t)?Ia:np;return s&&Ht(t,e,s)&&(e=n),a(t,V(e,3))}function dm(t,e){var s=G(t)?Qe:au;return s(t,V(e,3))}var pm=ju(nc),mm=ju(rc);function gm(t,e){return It(mi(t,e),1)}function vm(t,e){return It(mi(t,e),ke)}function ym(t,e,s){return s=s===n?1:Z(s),It(mi(t,e),s)}function cc(t,e){var s=G(t)?ce:nn;return s(t,V(e,3))}function lc(t,e){var s=G(t)?Ih:ou;return s(t,V(e,3))}var _m=oi(function(t,e,s){ht.call(t,s)?t[s].push(e):Me(t,s,[e])});function wm(t,e,s,a){t=Jt(t)?t:Wn(t),s=s&&!a?Z(s):0;var f=t.length;return s<0&&(s=Dt(f+s,0)),wi(t)?s<=f&&t.indexOf(e,s)>-1:!!f&&Bn(t,e,s)>-1}var Em=et(function(t,e,s){var a=-1,f=typeof e=="function",p=Jt(t)?T(t.length):[];return nn(t,function(v){p[++a]=f?ee(e,v,s):pr(v,e,s)}),p}),bm=oi(function(t,e,s){Me(t,s,e)});function mi(t,e){var s=G(t)?Et:du;return s(t,V(e,3))}function xm(t,e,s,a){return t==null?[]:(G(e)||(e=e==null?[]:[e]),s=a?n:s,G(s)||(s=s==null?[]:[s]),vu(t,e,s))}var Am=oi(function(t,e,s){t[s?0:1].push(e)},function(){return[[],[]]});function Fm(t,e,s){var a=G(t)?fs:Ua,f=arguments.length<3;return a(t,V(e,4),s,f,nn)}function Tm(t,e,s){var a=G(t)?Nh:Ua,f=arguments.length<3;return a(t,V(e,4),s,f,ou)}function Sm(t,e){var s=G(t)?Qe:au;return s(t,yi(V(e,3)))}function Cm(t){var e=G(t)?nu:wp;return e(t)}function km(t,e,s){(s?Ht(t,e,s):e===n)?e=1:e=Z(e);var a=G(t)?Gd:Ep;return a(t,e)}function Bm(t){var e=G(t)?Qd:xp;return e(t)}function Dm(t){if(t==null)return 0;if(Jt(t))return wi(t)?On(t):t.length;var e=Ut(t);return e==_e||e==we?t.size:Bs(t).length}function Om(t,e,s){var a=G(t)?hs:Ap;return s&&Ht(t,e,s)&&(e=n),a(t,V(e,3))}var $m=et(function(t,e){if(t==null)return[];var s=e.length;return s>1&&Ht(t,e[0],e[1])?e=[]:s>2&&Ht(e[0],e[1],e[2])&&(e=[e[0]]),vu(t,It(e,1),[])}),gi=dd||function(){return Pt.Date.now()};function Rm(t,e){if(typeof e!="function")throw new le(c);return t=Z(t),function(){if(--t<1)return e.apply(this,arguments)}}function fc(t,e,s){return e=s?n:e,e=t&&e==null?t.length:e,Le(t,$t,n,n,n,n,e)}function hc(t,e){var s;if(typeof e!="function")throw new le(c);return t=Z(t),function(){return--t>0&&(s=e.apply(this,arguments)),t<=1&&(e=n),s}}var to=et(function(t,e,s){var a=j;if(s.length){var f=tn(s,Ln(to));a|=W}return Le(t,a,e,s,f)}),dc=et(function(t,e,s){var a=j|I;if(s.length){var f=tn(s,Ln(dc));a|=W}return Le(e,a,t,s,f)});function pc(t,e,s){e=s?n:e;var a=Le(t,O,n,n,n,n,n,e);return a.placeholder=pc.placeholder,a}function mc(t,e,s){e=s?n:e;var a=Le(t,X,n,n,n,n,n,e);return a.placeholder=mc.placeholder,a}function gc(t,e,s){var a,f,p,v,_,b,k=0,B=!1,$=!1,N=!0;if(typeof t!="function")throw new le(c);e=me(e)||0,xt(s)&&(B=!!s.leading,$="maxWait"in s,p=$?Dt(me(s.maxWait)||0,e):p,N="trailing"in s?!!s.trailing:N);function U(St){var Ae=a,Ve=f;return a=f=n,k=St,v=t.apply(Ve,Ae),v}function q(St){return k=St,_=_r(rt,e),B?U(St):v}function tt(St){var Ae=St-b,Ve=St-k,jc=e-Ae;return $?Lt(jc,p-Ve):jc}function K(St){var Ae=St-b,Ve=St-k;return b===n||Ae>=e||Ae<0||$&&Ve>=p}function rt(){var St=gi();if(K(St))return at(St);_=_r(rt,tt(St))}function at(St){return _=n,N&&a?U(St):(a=f=n,v)}function se(){_!==n&&Tu(_),k=0,a=b=f=_=n}function Vt(){return _===n?v:at(gi())}function oe(){var St=gi(),Ae=K(St);if(a=arguments,f=this,b=St,Ae){if(_===n)return q(b);if($)return Tu(_),_=_r(rt,e),U(b)}return _===n&&(_=_r(rt,e)),v}return oe.cancel=se,oe.flush=Vt,oe}var jm=et(function(t,e){return su(t,1,e)}),Pm=et(function(t,e,s){return su(t,me(e)||0,s)});function Im(t){return Le(t,At)}function vi(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new le(c);var s=function(){var a=arguments,f=e?e.apply(this,a):a[0],p=s.cache;if(p.has(f))return p.get(f);var v=t.apply(this,a);return s.cache=p.set(f,v)||p,v};return s.cache=new(vi.Cache||Ne),s}vi.Cache=Ne;function yi(t){if(typeof t!="function")throw new le(c);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Nm(t){return hc(2,t)}var Mm=Fp(function(t,e){e=e.length==1&&G(e[0])?Et(e[0],ne(V())):Et(It(e,1),ne(V()));var s=e.length;return et(function(a){for(var f=-1,p=Lt(a.length,s);++f<p;)a[f]=e[f].call(this,a[f]);return ee(t,this,a)})}),eo=et(function(t,e){var s=tn(e,Ln(eo));return Le(t,W,n,e,s)}),vc=et(function(t,e){var s=tn(e,Ln(vc));return Le(t,wt,n,e,s)}),Lm=Ue(function(t,e){return Le(t,Zt,n,n,n,e)});function Um(t,e){if(typeof t!="function")throw new le(c);return e=e===n?e:Z(e),et(t,e)}function Wm(t,e){if(typeof t!="function")throw new le(c);return e=e==null?0:Dt(Z(e),0),et(function(s){var a=s[e],f=on(s,0,e);return a&&Ze(f,a),ee(t,this,f)})}function zm(t,e,s){var a=!0,f=!0;if(typeof t!="function")throw new le(c);return xt(s)&&(a="leading"in s?!!s.leading:a,f="trailing"in s?!!s.trailing:f),gc(t,e,{leading:a,maxWait:e,trailing:f})}function Hm(t){return fc(t,1)}function Vm(t,e){return eo(Ms(e),t)}function qm(){if(!arguments.length)return[];var t=arguments[0];return G(t)?t:[t]}function Km(t){return he(t,x)}function Jm(t,e){return e=typeof e=="function"?e:n,he(t,x,e)}function Xm(t){return he(t,y|x)}function Ym(t,e){return e=typeof e=="function"?e:n,he(t,y|x,e)}function Gm(t,e){return e==null||iu(t,e,Rt(e))}function xe(t,e){return t===e||t!==t&&e!==e}var Qm=li(Ss),Zm=li(function(t,e){return t>=e}),En=lu(function(){return arguments}())?lu:function(t){return Ft(t)&&ht.call(t,"callee")&&!Ya.call(t,"callee")},G=T.isArray,tg=Da?ne(Da):up;function Jt(t){return t!=null&&_i(t.length)&&!ze(t)}function Tt(t){return Ft(t)&&Jt(t)}function eg(t){return t===!0||t===!1||Ft(t)&&zt(t)==Oe}var an=md||ho,ng=Oa?ne(Oa):cp;function rg(t){return Ft(t)&&t.nodeType===1&&!wr(t)}function ig(t){if(t==null)return!0;if(Jt(t)&&(G(t)||typeof t=="string"||typeof t.splice=="function"||an(t)||Un(t)||En(t)))return!t.length;var e=Ut(t);if(e==_e||e==we)return!t.size;if(yr(t))return!Bs(t).length;for(var s in t)if(ht.call(t,s))return!1;return!0}function sg(t,e){return mr(t,e)}function og(t,e,s){s=typeof s=="function"?s:n;var a=s?s(t,e):n;return a===n?mr(t,e,n,s):!!a}function no(t){if(!Ft(t))return!1;var e=zt(t);return e==Tn||e==Vi||typeof t.message=="string"&&typeof t.name=="string"&&!wr(t)}function ag(t){return typeof t=="number"&&Qa(t)}function ze(t){if(!xt(t))return!1;var e=zt(t);return e==Sn||e==sa||e==tr||e==Df}function yc(t){return typeof t=="number"&&t==Z(t)}function _i(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Be}function xt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Ft(t){return t!=null&&typeof t=="object"}var _c=$a?ne($a):fp;function ug(t,e){return t===e||ks(t,e,qs(e))}function cg(t,e,s){return s=typeof s=="function"?s:n,ks(t,e,qs(e),s)}function lg(t){return wc(t)&&t!=+t}function fg(t){if(Jp(t))throw new Y(l);return fu(t)}function hg(t){return t===null}function dg(t){return t==null}function wc(t){return typeof t=="number"||Ft(t)&&zt(t)==er}function wr(t){if(!Ft(t)||zt(t)!=Pe)return!1;var e=qr(t);if(e===null)return!0;var s=ht.call(e,"constructor")&&e.constructor;return typeof s=="function"&&s instanceof s&&Wr.call(s)==cd}var ro=Ra?ne(Ra):hp;function pg(t){return yc(t)&&t>=-Be&&t<=Be}var Ec=ja?ne(ja):dp;function wi(t){return typeof t=="string"||!G(t)&&Ft(t)&&zt(t)==rr}function ie(t){return typeof t=="symbol"||Ft(t)&&zt(t)==$r}var Un=Pa?ne(Pa):pp;function mg(t){return t===n}function gg(t){return Ft(t)&&Ut(t)==ir}function vg(t){return Ft(t)&&zt(t)==$f}var yg=li(Ds),_g=li(function(t,e){return t<=e});function bc(t){if(!t)return[];if(Jt(t))return wi(t)?Ee(t):Kt(t);if(ar&&t[ar])return Gh(t[ar]());var e=Ut(t),s=e==_e?ys:e==we?Mr:Wn;return s(t)}function He(t){if(!t)return t===0?t:0;if(t=me(t),t===ke||t===-ke){var e=t<0?-1:1;return e*Hi}return t===t?t:0}function Z(t){var e=He(t),s=e%1;return e===e?s?e-s:e:0}function xc(t){return t?vn(Z(t),0,te):0}function me(t){if(typeof t=="number")return t;if(ie(t))return fn;if(xt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=xt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Wa(t);var s=th.test(t);return s||nh.test(t)?Rh(t.slice(2),s?2:8):Zf.test(t)?fn:+t}function Ac(t){return Re(t,Xt(t))}function wg(t){return t?vn(Z(t),-Be,Be):t===0?t:0}function ft(t){return t==null?"":re(t)}var Eg=Nn(function(t,e){if(yr(e)||Jt(e)){Re(e,Rt(e),t);return}for(var s in e)ht.call(e,s)&&hr(t,s,e[s])}),Fc=Nn(function(t,e){Re(e,Xt(e),t)}),Ei=Nn(function(t,e,s,a){Re(e,Xt(e),t,a)}),bg=Nn(function(t,e,s,a){Re(e,Rt(e),t,a)}),xg=Ue(As);function Ag(t,e){var s=In(t);return e==null?s:ru(s,e)}var Fg=et(function(t,e){t=mt(t);var s=-1,a=e.length,f=a>2?e[2]:n;for(f&&Ht(e[0],e[1],f)&&(a=1);++s<a;)for(var p=e[s],v=Xt(p),_=-1,b=v.length;++_<b;){var k=v[_],B=t[k];(B===n||xe(B,Rn[k])&&!ht.call(t,k))&&(t[k]=p[k])}return t}),Tg=et(function(t){return t.push(n,Wu),ee(Tc,n,t)});function Sg(t,e){return Na(t,V(e,3),$e)}function Cg(t,e){return Na(t,V(e,3),Ts)}function kg(t,e){return t==null?t:Fs(t,V(e,3),Xt)}function Bg(t,e){return t==null?t:uu(t,V(e,3),Xt)}function Dg(t,e){return t&&$e(t,V(e,3))}function Og(t,e){return t&&Ts(t,V(e,3))}function $g(t){return t==null?[]:ni(t,Rt(t))}function Rg(t){return t==null?[]:ni(t,Xt(t))}function io(t,e,s){var a=t==null?n:yn(t,e);return a===n?s:a}function jg(t,e){return t!=null&&Vu(t,e,ip)}function so(t,e){return t!=null&&Vu(t,e,sp)}var Pg=Iu(function(t,e,s){e!=null&&typeof e.toString!="function"&&(e=zr.call(e)),t[e]=s},ao(Yt)),Ig=Iu(function(t,e,s){e!=null&&typeof e.toString!="function"&&(e=zr.call(e)),ht.call(t,e)?t[e].push(s):t[e]=[s]},V),Ng=et(pr);function Rt(t){return Jt(t)?eu(t):Bs(t)}function Xt(t){return Jt(t)?eu(t,!0):mp(t)}function Mg(t,e){var s={};return e=V(e,3),$e(t,function(a,f,p){Me(s,e(a,f,p),a)}),s}function Lg(t,e){var s={};return e=V(e,3),$e(t,function(a,f,p){Me(s,f,e(a,f,p))}),s}var Ug=Nn(function(t,e,s){ri(t,e,s)}),Tc=Nn(function(t,e,s,a){ri(t,e,s,a)}),Wg=Ue(function(t,e){var s={};if(t==null)return s;var a=!1;e=Et(e,function(p){return p=sn(p,t),a||(a=p.length>1),p}),Re(t,Hs(t),s),a&&(s=he(s,y|F|x,Pp));for(var f=e.length;f--;)Ps(s,e[f]);return s});function zg(t,e){return Sc(t,yi(V(e)))}var Hg=Ue(function(t,e){return t==null?{}:vp(t,e)});function Sc(t,e){if(t==null)return{};var s=Et(Hs(t),function(a){return[a]});return e=V(e),yu(t,s,function(a,f){return e(a,f[0])})}function Vg(t,e,s){e=sn(e,t);var a=-1,f=e.length;for(f||(f=1,t=n);++a<f;){var p=t==null?n:t[je(e[a])];p===n&&(a=f,p=s),t=ze(p)?p.call(t):p}return t}function qg(t,e,s){return t==null?t:gr(t,e,s)}function Kg(t,e,s,a){return a=typeof a=="function"?a:n,t==null?t:gr(t,e,s,a)}var Cc=Lu(Rt),kc=Lu(Xt);function Jg(t,e,s){var a=G(t),f=a||an(t)||Un(t);if(e=V(e,4),s==null){var p=t&&t.constructor;f?s=a?new p:[]:xt(t)?s=ze(p)?In(qr(t)):{}:s={}}return(f?ce:$e)(t,function(v,_,b){return e(s,v,_,b)}),s}function Xg(t,e){return t==null?!0:Ps(t,e)}function Yg(t,e,s){return t==null?t:xu(t,e,Ms(s))}function Gg(t,e,s,a){return a=typeof a=="function"?a:n,t==null?t:xu(t,e,Ms(s),a)}function Wn(t){return t==null?[]:vs(t,Rt(t))}function Qg(t){return t==null?[]:vs(t,Xt(t))}function Zg(t,e,s){return s===n&&(s=e,e=n),s!==n&&(s=me(s),s=s===s?s:0),e!==n&&(e=me(e),e=e===e?e:0),vn(me(t),e,s)}function tv(t,e,s){return e=He(e),s===n?(s=e,e=0):s=He(s),t=me(t),op(t,e,s)}function ev(t,e,s){if(s&&typeof s!="boolean"&&Ht(t,e,s)&&(e=s=n),s===n&&(typeof e=="boolean"?(s=e,e=n):typeof t=="boolean"&&(s=t,t=n)),t===n&&e===n?(t=0,e=1):(t=He(t),e===n?(e=t,t=0):e=He(e)),t>e){var a=t;t=e,e=a}if(s||t%1||e%1){var f=Za();return Lt(t+f*(e-t+$h("1e-"+((f+"").length-1))),e)}return $s(t,e)}var nv=Mn(function(t,e,s){return e=e.toLowerCase(),t+(s?Bc(e):e)});function Bc(t){return oo(ft(t).toLowerCase())}function Dc(t){return t=ft(t),t&&t.replace(ih,qh).replace(xh,"")}function rv(t,e,s){t=ft(t),e=re(e);var a=t.length;s=s===n?a:vn(Z(s),0,a);var f=s;return s-=e.length,s>=0&&t.slice(s,f)==e}function iv(t){return t=ft(t),t&&Nf.test(t)?t.replace(ua,Kh):t}function sv(t){return t=ft(t),t&&Hf.test(t)?t.replace(es,"\\$&"):t}var ov=Mn(function(t,e,s){return t+(s?"-":"")+e.toLowerCase()}),av=Mn(function(t,e,s){return t+(s?" ":"")+e.toLowerCase()}),uv=Ru("toLowerCase");function cv(t,e,s){t=ft(t),e=Z(e);var a=e?On(t):0;if(!e||a>=e)return t;var f=(e-a)/2;return ci(Yr(f),s)+t+ci(Xr(f),s)}function lv(t,e,s){t=ft(t),e=Z(e);var a=e?On(t):0;return e&&a<e?t+ci(e-a,s):t}function fv(t,e,s){t=ft(t),e=Z(e);var a=e?On(t):0;return e&&a<e?ci(e-a,s)+t:t}function hv(t,e,s){return s||e==null?e=0:e&&(e=+e),_d(ft(t).replace(ns,""),e||0)}function dv(t,e,s){return(s?Ht(t,e,s):e===n)?e=1:e=Z(e),Rs(ft(t),e)}function pv(){var t=arguments,e=ft(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var mv=Mn(function(t,e,s){return t+(s?"_":"")+e.toLowerCase()});function gv(t,e,s){return s&&typeof s!="number"&&Ht(t,e,s)&&(e=s=n),s=s===n?te:s>>>0,s?(t=ft(t),t&&(typeof e=="string"||e!=null&&!ro(e))&&(e=re(e),!e&&Dn(t))?on(Ee(t),0,s):t.split(e,s)):[]}var vv=Mn(function(t,e,s){return t+(s?" ":"")+oo(e)});function yv(t,e,s){return t=ft(t),s=s==null?0:vn(Z(s),0,t.length),e=re(e),t.slice(s,s+e.length)==e}function _v(t,e,s){var a=h.templateSettings;s&&Ht(t,e,s)&&(e=n),t=ft(t),e=Ei({},e,a,Uu);var f=Ei({},e.imports,a.imports,Uu),p=Rt(f),v=vs(f,p),_,b,k=0,B=e.interpolate||Rr,$="__p += '",N=_s((e.escape||Rr).source+"|"+B.source+"|"+(B===ca?Qf:Rr).source+"|"+(e.evaluate||Rr).source+"|$","g"),U="//# sourceURL="+(ht.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ch+"]")+`
`;t.replace(N,function(K,rt,at,se,Vt,oe){return at||(at=se),$+=t.slice(k,oe).replace(sh,Jh),rt&&(_=!0,$+=`' +
__e(`+rt+`) +
'`),Vt&&(b=!0,$+=`';
`+Vt+`;
__p += '`),at&&($+=`' +
((__t = (`+at+`)) == null ? '' : __t) +
'`),k=oe+K.length,K}),$+=`';
`;var q=ht.call(e,"variable")&&e.variable;if(!q)$=`with (obj) {
`+$+`
}
`;else if(Yf.test(q))throw new Y(d);$=(b?$.replace(Rf,""):$).replace(jf,"$1").replace(Pf,"$1;"),$="function("+(q||"obj")+`) {
`+(q?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_?", __e = _.escape":"")+(b?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$+`return __p
}`;var tt=$c(function(){return lt(p,U+"return "+$).apply(n,v)});if(tt.source=$,no(tt))throw tt;return tt}function wv(t){return ft(t).toLowerCase()}function Ev(t){return ft(t).toUpperCase()}function bv(t,e,s){if(t=ft(t),t&&(s||e===n))return Wa(t);if(!t||!(e=re(e)))return t;var a=Ee(t),f=Ee(e),p=za(a,f),v=Ha(a,f)+1;return on(a,p,v).join("")}function xv(t,e,s){if(t=ft(t),t&&(s||e===n))return t.slice(0,qa(t)+1);if(!t||!(e=re(e)))return t;var a=Ee(t),f=Ha(a,Ee(e))+1;return on(a,0,f).join("")}function Av(t,e,s){if(t=ft(t),t&&(s||e===n))return t.replace(ns,"");if(!t||!(e=re(e)))return t;var a=Ee(t),f=za(a,Ee(e));return on(a,f).join("")}function Fv(t,e){var s=bt,a=st;if(xt(e)){var f="separator"in e?e.separator:f;s="length"in e?Z(e.length):s,a="omission"in e?re(e.omission):a}t=ft(t);var p=t.length;if(Dn(t)){var v=Ee(t);p=v.length}if(s>=p)return t;var _=s-On(a);if(_<1)return a;var b=v?on(v,0,_).join(""):t.slice(0,_);if(f===n)return b+a;if(v&&(_+=b.length-_),ro(f)){if(t.slice(_).search(f)){var k,B=b;for(f.global||(f=_s(f.source,ft(la.exec(f))+"g")),f.lastIndex=0;k=f.exec(B);)var $=k.index;b=b.slice(0,$===n?_:$)}}else if(t.indexOf(re(f),_)!=_){var N=b.lastIndexOf(f);N>-1&&(b=b.slice(0,N))}return b+a}function Tv(t){return t=ft(t),t&&If.test(t)?t.replace(aa,ed):t}var Sv=Mn(function(t,e,s){return t+(s?" ":"")+e.toUpperCase()}),oo=Ru("toUpperCase");function Oc(t,e,s){return t=ft(t),e=s?n:e,e===n?Yh(t)?id(t):Uh(t):t.match(e)||[]}var $c=et(function(t,e){try{return ee(t,n,e)}catch(s){return no(s)?s:new Y(s)}}),Cv=Ue(function(t,e){return ce(e,function(s){s=je(s),Me(t,s,to(t[s],t))}),t});function kv(t){var e=t==null?0:t.length,s=V();return t=e?Et(t,function(a){if(typeof a[1]!="function")throw new le(c);return[s(a[0]),a[1]]}):[],et(function(a){for(var f=-1;++f<e;){var p=t[f];if(ee(p[0],this,a))return ee(p[1],this,a)}})}function Bv(t){return ep(he(t,y))}function ao(t){return function(){return t}}function Dv(t,e){return t==null||t!==t?e:t}var Ov=Pu(),$v=Pu(!0);function Yt(t){return t}function uo(t){return hu(typeof t=="function"?t:he(t,y))}function Rv(t){return pu(he(t,y))}function jv(t,e){return mu(t,he(e,y))}var Pv=et(function(t,e){return function(s){return pr(s,t,e)}}),Iv=et(function(t,e){return function(s){return pr(t,s,e)}});function co(t,e,s){var a=Rt(e),f=ni(e,a);s==null&&!(xt(e)&&(f.length||!a.length))&&(s=e,e=t,t=this,f=ni(e,Rt(e)));var p=!(xt(s)&&"chain"in s)||!!s.chain,v=ze(t);return ce(f,function(_){var b=e[_];t[_]=b,v&&(t.prototype[_]=function(){var k=this.__chain__;if(p||k){var B=t(this.__wrapped__),$=B.__actions__=Kt(this.__actions__);return $.push({func:b,args:arguments,thisArg:t}),B.__chain__=k,B}return b.apply(t,Ze([this.value()],arguments))})}),t}function Nv(){return Pt._===this&&(Pt._=ld),this}function lo(){}function Mv(t){return t=Z(t),et(function(e){return gu(e,t)})}var Lv=Us(Et),Uv=Us(Ia),Wv=Us(hs);function Rc(t){return Js(t)?ds(je(t)):yp(t)}function zv(t){return function(e){return t==null?n:yn(t,e)}}var Hv=Nu(),Vv=Nu(!0);function fo(){return[]}function ho(){return!1}function qv(){return{}}function Kv(){return""}function Jv(){return!0}function Xv(t,e){if(t=Z(t),t<1||t>Be)return[];var s=te,a=Lt(t,te);e=V(e),t-=te;for(var f=gs(a,e);++s<t;)e(s);return f}function Yv(t){return G(t)?Et(t,je):ie(t)?[t]:Kt(tc(ft(t)))}function Gv(t){var e=++ud;return ft(t)+e}var Qv=ui(function(t,e){return t+e},0),Zv=Ws("ceil"),ty=ui(function(t,e){return t/e},1),ey=Ws("floor");function ny(t){return t&&t.length?ei(t,Yt,Ss):n}function ry(t,e){return t&&t.length?ei(t,V(e,2),Ss):n}function iy(t){return La(t,Yt)}function sy(t,e){return La(t,V(e,2))}function oy(t){return t&&t.length?ei(t,Yt,Ds):n}function ay(t,e){return t&&t.length?ei(t,V(e,2),Ds):n}var uy=ui(function(t,e){return t*e},1),cy=Ws("round"),ly=ui(function(t,e){return t-e},0);function fy(t){return t&&t.length?ms(t,Yt):0}function hy(t,e){return t&&t.length?ms(t,V(e,2)):0}return h.after=Rm,h.ary=fc,h.assign=Eg,h.assignIn=Fc,h.assignInWith=Ei,h.assignWith=bg,h.at=xg,h.before=hc,h.bind=to,h.bindAll=Cv,h.bindKey=dc,h.castArray=qm,h.chain=uc,h.chunk=e0,h.compact=n0,h.concat=r0,h.cond=kv,h.conforms=Bv,h.constant=ao,h.countBy=fm,h.create=Ag,h.curry=pc,h.curryRight=mc,h.debounce=gc,h.defaults=Fg,h.defaultsDeep=Tg,h.defer=jm,h.delay=Pm,h.difference=i0,h.differenceBy=s0,h.differenceWith=o0,h.drop=a0,h.dropRight=u0,h.dropRightWhile=c0,h.dropWhile=l0,h.fill=f0,h.filter=dm,h.flatMap=gm,h.flatMapDeep=vm,h.flatMapDepth=ym,h.flatten=ic,h.flattenDeep=h0,h.flattenDepth=d0,h.flip=Im,h.flow=Ov,h.flowRight=$v,h.fromPairs=p0,h.functions=$g,h.functionsIn=Rg,h.groupBy=_m,h.initial=g0,h.intersection=v0,h.intersectionBy=y0,h.intersectionWith=_0,h.invert=Pg,h.invertBy=Ig,h.invokeMap=Em,h.iteratee=uo,h.keyBy=bm,h.keys=Rt,h.keysIn=Xt,h.map=mi,h.mapKeys=Mg,h.mapValues=Lg,h.matches=Rv,h.matchesProperty=jv,h.memoize=vi,h.merge=Ug,h.mergeWith=Tc,h.method=Pv,h.methodOf=Iv,h.mixin=co,h.negate=yi,h.nthArg=Mv,h.omit=Wg,h.omitBy=zg,h.once=Nm,h.orderBy=xm,h.over=Lv,h.overArgs=Mm,h.overEvery=Uv,h.overSome=Wv,h.partial=eo,h.partialRight=vc,h.partition=Am,h.pick=Hg,h.pickBy=Sc,h.property=Rc,h.propertyOf=zv,h.pull=x0,h.pullAll=oc,h.pullAllBy=A0,h.pullAllWith=F0,h.pullAt=T0,h.range=Hv,h.rangeRight=Vv,h.rearg=Lm,h.reject=Sm,h.remove=S0,h.rest=Um,h.reverse=Qs,h.sampleSize=km,h.set=qg,h.setWith=Kg,h.shuffle=Bm,h.slice=C0,h.sortBy=$m,h.sortedUniq=j0,h.sortedUniqBy=P0,h.split=gv,h.spread=Wm,h.tail=I0,h.take=N0,h.takeRight=M0,h.takeRightWhile=L0,h.takeWhile=U0,h.tap=nm,h.throttle=zm,h.thru=pi,h.toArray=bc,h.toPairs=Cc,h.toPairsIn=kc,h.toPath=Yv,h.toPlainObject=Ac,h.transform=Jg,h.unary=Hm,h.union=W0,h.unionBy=z0,h.unionWith=H0,h.uniq=V0,h.uniqBy=q0,h.uniqWith=K0,h.unset=Xg,h.unzip=Zs,h.unzipWith=ac,h.update=Yg,h.updateWith=Gg,h.values=Wn,h.valuesIn=Qg,h.without=J0,h.words=Oc,h.wrap=Vm,h.xor=X0,h.xorBy=Y0,h.xorWith=G0,h.zip=Q0,h.zipObject=Z0,h.zipObjectDeep=tm,h.zipWith=em,h.entries=Cc,h.entriesIn=kc,h.extend=Fc,h.extendWith=Ei,co(h,h),h.add=Qv,h.attempt=$c,h.camelCase=nv,h.capitalize=Bc,h.ceil=Zv,h.clamp=Zg,h.clone=Km,h.cloneDeep=Xm,h.cloneDeepWith=Ym,h.cloneWith=Jm,h.conformsTo=Gm,h.deburr=Dc,h.defaultTo=Dv,h.divide=ty,h.endsWith=rv,h.eq=xe,h.escape=iv,h.escapeRegExp=sv,h.every=hm,h.find=pm,h.findIndex=nc,h.findKey=Sg,h.findLast=mm,h.findLastIndex=rc,h.findLastKey=Cg,h.floor=ey,h.forEach=cc,h.forEachRight=lc,h.forIn=kg,h.forInRight=Bg,h.forOwn=Dg,h.forOwnRight=Og,h.get=io,h.gt=Qm,h.gte=Zm,h.has=jg,h.hasIn=so,h.head=sc,h.identity=Yt,h.includes=wm,h.indexOf=m0,h.inRange=tv,h.invoke=Ng,h.isArguments=En,h.isArray=G,h.isArrayBuffer=tg,h.isArrayLike=Jt,h.isArrayLikeObject=Tt,h.isBoolean=eg,h.isBuffer=an,h.isDate=ng,h.isElement=rg,h.isEmpty=ig,h.isEqual=sg,h.isEqualWith=og,h.isError=no,h.isFinite=ag,h.isFunction=ze,h.isInteger=yc,h.isLength=_i,h.isMap=_c,h.isMatch=ug,h.isMatchWith=cg,h.isNaN=lg,h.isNative=fg,h.isNil=dg,h.isNull=hg,h.isNumber=wc,h.isObject=xt,h.isObjectLike=Ft,h.isPlainObject=wr,h.isRegExp=ro,h.isSafeInteger=pg,h.isSet=Ec,h.isString=wi,h.isSymbol=ie,h.isTypedArray=Un,h.isUndefined=mg,h.isWeakMap=gg,h.isWeakSet=vg,h.join=w0,h.kebabCase=ov,h.last=pe,h.lastIndexOf=E0,h.lowerCase=av,h.lowerFirst=uv,h.lt=yg,h.lte=_g,h.max=ny,h.maxBy=ry,h.mean=iy,h.meanBy=sy,h.min=oy,h.minBy=ay,h.stubArray=fo,h.stubFalse=ho,h.stubObject=qv,h.stubString=Kv,h.stubTrue=Jv,h.multiply=uy,h.nth=b0,h.noConflict=Nv,h.noop=lo,h.now=gi,h.pad=cv,h.padEnd=lv,h.padStart=fv,h.parseInt=hv,h.random=ev,h.reduce=Fm,h.reduceRight=Tm,h.repeat=dv,h.replace=pv,h.result=Vg,h.round=cy,h.runInContext=E,h.sample=Cm,h.size=Dm,h.snakeCase=mv,h.some=Om,h.sortedIndex=k0,h.sortedIndexBy=B0,h.sortedIndexOf=D0,h.sortedLastIndex=O0,h.sortedLastIndexBy=$0,h.sortedLastIndexOf=R0,h.startCase=vv,h.startsWith=yv,h.subtract=ly,h.sum=fy,h.sumBy=hy,h.template=_v,h.times=Xv,h.toFinite=He,h.toInteger=Z,h.toLength=xc,h.toLower=wv,h.toNumber=me,h.toSafeInteger=wg,h.toString=ft,h.toUpper=Ev,h.trim=bv,h.trimEnd=xv,h.trimStart=Av,h.truncate=Fv,h.unescape=Tv,h.uniqueId=Gv,h.upperCase=Sv,h.upperFirst=oo,h.each=cc,h.eachRight=lc,h.first=sc,co(h,function(){var t={};return $e(h,function(e,s){ht.call(h.prototype,s)||(t[s]=e)}),t}(),{chain:!1}),h.VERSION=o,ce(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){h[t].placeholder=h}),ce(["drop","take"],function(t,e){ot.prototype[t]=function(s){s=s===n?1:Dt(Z(s),0);var a=this.__filtered__&&!e?new ot(this):this.clone();return a.__filtered__?a.__takeCount__=Lt(s,a.__takeCount__):a.__views__.push({size:Lt(s,te),type:t+(a.__dir__<0?"Right":"")}),a},ot.prototype[t+"Right"]=function(s){return this.reverse()[t](s).reverse()}}),ce(["filter","map","takeWhile"],function(t,e){var s=e+1,a=s==Ye||s==Br;ot.prototype[t]=function(f){var p=this.clone();return p.__iteratees__.push({iteratee:V(f,3),type:s}),p.__filtered__=p.__filtered__||a,p}}),ce(["head","last"],function(t,e){var s="take"+(e?"Right":"");ot.prototype[t]=function(){return this[s](1).value()[0]}}),ce(["initial","tail"],function(t,e){var s="drop"+(e?"":"Right");ot.prototype[t]=function(){return this.__filtered__?new ot(this):this[s](1)}}),ot.prototype.compact=function(){return this.filter(Yt)},ot.prototype.find=function(t){return this.filter(t).head()},ot.prototype.findLast=function(t){return this.reverse().find(t)},ot.prototype.invokeMap=et(function(t,e){return typeof t=="function"?new ot(this):this.map(function(s){return pr(s,t,e)})}),ot.prototype.reject=function(t){return this.filter(yi(V(t)))},ot.prototype.slice=function(t,e){t=Z(t);var s=this;return s.__filtered__&&(t>0||e<0)?new ot(s):(t<0?s=s.takeRight(-t):t&&(s=s.drop(t)),e!==n&&(e=Z(e),s=e<0?s.dropRight(-e):s.take(e-t)),s)},ot.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},ot.prototype.toArray=function(){return this.take(te)},$e(ot.prototype,function(t,e){var s=/^(?:filter|find|map|reject)|While$/.test(e),a=/^(?:head|last)$/.test(e),f=h[a?"take"+(e=="last"?"Right":""):e],p=a||/^find/.test(e);!f||(h.prototype[e]=function(){var v=this.__wrapped__,_=a?[1]:arguments,b=v instanceof ot,k=_[0],B=b||G(v),$=function(rt){var at=f.apply(h,Ze([rt],_));return a&&N?at[0]:at};B&&s&&typeof k=="function"&&k.length!=1&&(b=B=!1);var N=this.__chain__,U=!!this.__actions__.length,q=p&&!N,tt=b&&!U;if(!p&&B){v=tt?v:new ot(this);var K=t.apply(v,_);return K.__actions__.push({func:pi,args:[$],thisArg:n}),new fe(K,N)}return q&&tt?t.apply(this,_):(K=this.thru($),q?a?K.value()[0]:K.value():K)})}),ce(["pop","push","shift","sort","splice","unshift"],function(t){var e=Lr[t],s=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",a=/^(?:pop|shift)$/.test(t);h.prototype[t]=function(){var f=arguments;if(a&&!this.__chain__){var p=this.value();return e.apply(G(p)?p:[],f)}return this[s](function(v){return e.apply(G(v)?v:[],f)})}}),$e(ot.prototype,function(t,e){var s=h[e];if(s){var a=s.name+"";ht.call(Pn,a)||(Pn[a]=[]),Pn[a].push({name:e,func:s})}}),Pn[ai(n,I).name]=[{name:"wrapper",func:n}],ot.prototype.clone=Td,ot.prototype.reverse=Sd,ot.prototype.value=Cd,h.prototype.at=rm,h.prototype.chain=im,h.prototype.commit=sm,h.prototype.next=om,h.prototype.plant=um,h.prototype.reverse=cm,h.prototype.toJSON=h.prototype.valueOf=h.prototype.value=lm,h.prototype.first=h.prototype.head,ar&&(h.prototype[ar]=am),h},$n=sd();dn?((dn.exports=$n)._=$n,us._=$n):Pt._=$n}).call(br)})(Do,Do.exports);let Ai=[];const tf=r=>{for(const i of Ai)if(i.status==="running")try{for(const n of i.funcs)n(r-i.startTime)}catch(n){i.destroy(),console.error(n)}requestAnimationFrame(tf)};requestAnimationFrame(tf);class Jo{constructor(){A(this,"funcs",[]),A(this,"status","stop"),A(this,"startTime",0),this.status="running",Ai.push(this),requestAnimationFrame(i=>this.startTime=i)}add(i,n=!1){return n?this.funcs.unshift(i):this.funcs.push(i),this}remove(i){const n=this.funcs.findIndex(o=>o===i);if(n===-1)throw new ReferenceError("You are going to remove nonexistent ticker function.");return this.funcs.splice(n,1),this}clear(){this.funcs=[]}destroy(){this.clear(),this.stop()}stop(){this.status="stop",Ai=Ai.filter(i=>i!==this)}}const N1={move:[],moveend:[],movestart:[],resize:[],resizeend:[],resizestart:[],rotate:[],rotateend:[],rotatestart:[],shake:[],shakeend:[],shakestart:[],start:[],end:[],animating:[]};async function Ni(r){await new Promise(i=>setTimeout(i,r))}class Mi{constructor(i){A(this,"timing"),A(this,"shakeTiming"),A(this,"path"),A(this,"ticker",new Jo),A(this,"custom",{}),A(this,"relation","absolute"),A(this,"easeTime",0),A(this,"size",1),A(this,"angle",0),A(this,"game"),A(this,"listener",Do.exports.cloneDeep(N1)),A(this,"targetValue",{system:{move:[0,0],moveAs:[0,0],resize:0,rotate:0,shake:0},custom:{}}),A(this,"animateFn",{system:{move:[()=>0,()=>0],moveAs:()=>0,resize:()=>0,rotate:()=>0,shake:()=>0},custom:{}}),A(this,"ox",0),A(this,"oy",0),A(this,"sx",0),A(this,"sy",0),A(this,"animating",{}),this.game=i,this.timing=n=>n,this.shakeTiming=n=>n,this.path=n=>[n,n],this.animating={move:!1,scale:!1,rotate:!1,shake:!1},this.ticker.add(()=>{const{animating:n}=this.listener;for(const o of n)o(this,"all")})}get x(){return this.ox+this.sx}get y(){return this.oy+this.sy}mode(i,n=!1){return n?this.shakeTiming=i:this.timing=i,this}time(i){return this.easeTime=i,this}relative(){return this.relation="relative",this}absolute(){return this.relation="absolute",this}move(i,n){return this.animating.move&&this.end(!0,"move"),this.applySys("ox",i,"move"),this.applySys("oy",n,"move"),this}rotate(i){return this.applySys("angle",i,"rotate"),this}scale(i){return this.applySys("size",i,"resize"),this}shake(i,n){var o,u;this.animating.shake===!0&&this.end(!0,"shake"),this.animating.shake=!0;const{easeTime:l,shakeTiming:c}=this,d=(u=(o=this.game)==null?void 0:o.time)!=null?u:Date.now();this.hook("start","shakestart");const g=()=>{var m,w;const y=((w=(m=this.game)==null?void 0:m.time)!=null?w:Date.now())-d;y>l&&(this.ticker.remove(g),this.animating.shake=!1,this.sx=0,this.sy=0,this.hook("end","shakeend"));const F=y/l,x=c(F);this.sx=x*i,this.sy=x*n};return this.ticker.add(g),this.animateFn.system.shake=g,this}moveAs(i){var n,o;this.animating.moveAs&&this.end(!0,"moveAs"),this.animating.moveAs=!0,this.path=i;const{easeTime:u,relation:l,timing:c}=this,d=(o=(n=this.game)==null?void 0:n.time)!=null?o:Date.now(),[g,m]=[this.x,this.y],[w,y]=(()=>{if(l==="absolute")return i(1);{const[x,C]=i(1);return[g+x,m+C]}})();this.hook("start","movestart");const F=()=>{var x,C;const P=((C=(x=this.game)==null?void 0:x.time)!=null?C:Date.now())-d;if(P>u){this.end(!0,"moveAs");return}const j=P/u,[I,R]=i(c(j));l==="absolute"?(this.ox=I,this.oy=R):(this.ox=g+I,this.oy=m+R)};return this.ticker.add(F,!0),this.animateFn.system.moveAs=F,this.targetValue.system.moveAs=[w,y],this}async all(){if(Object.values(this.animating).every(i=>i===!0))return this.error("There is no animates to be waited.");await new Promise(i=>{const n=()=>{Object.values(this.animating).every(o=>o===!1)&&(this.unlisten("end",n),i("all animated."))};this.listen("end",n)})}async n(i){const n=Object.values(this.animating).filter(u=>u===!0).length;if(n<i)return this.error(`You are trying to wait ${i} animate, but there are only ${n} animate animating.`);let o=0;await new Promise(u=>{const l=()=>{o++,o===i&&(this.unlisten("end",l),u(`${i} animated.`))};this.listen("end",l)})}async w(i){if(this.animating[i]===!1)return this.error(`The ${i} animate is not animating.`);await new Promise(n=>{const o=()=>{this.animating[i]===!1&&(this.unlisten("end",o),n(`${i} animated.`))};this.listen("end",o)})}listen(i,n){this.listener[i].push(n)}unlisten(i,n){const o=this.listener[i].findIndex(u=>u===n);if(o===-1)return this.error("You are trying to remove a nonexistent listener.");this.listener[i].splice(o,1)}register(i,n){if(typeof this.custom[i]=="number")return this.error(`Property ${i} has been regietered twice.`,"reregister");this.custom[i]=n,this.animating[i]=!1}apply(i,n,o=!1){var u,l;this.animating[i]===!0&&this.end(!1,i),i in this.custom||this.error(`You are trying to execute nonexistent property ${i}.`),this.animating[i]=!0;const c=this.custom[i],d=(l=(u=this.game)==null?void 0:u.time)!=null?l:Date.now(),{timing:g,relation:m,easeTime:w}=this,y=m==="absolute"?n-c:n;this.hook("start");const F=()=>{var x,C;const P=((C=(x=this.game)==null?void 0:x.time)!=null?C:Date.now())-d;if(P>w){this.end(!1,i);return}const j=P/w,I=g(j);this.custom[i]=c+I*y};return this.ticker.add(F,o),this.animateFn.custom[i]=F,this.targetValue.custom[i]=y+c,this}applySys(i,n,o){var u,l;o!=="move"&&this.animating[o]===!0&&this.end(!0,o),this.animating[o]=!0;const c=this[i],d=(l=(u=this.game)==null?void 0:u.time)!=null?l:Date.now(),g=this.timing,m=this.relation,w=this.easeTime,y=m==="absolute"?n-c:n;this.hook("start",`${o}start`);const F=()=>{var x,C;const P=((C=(x=this.game)==null?void 0:x.time)!=null?C:Date.now())-d;if(P>w){this.end(!0,o);return}const j=P/w,I=g(j);this[i]=c+y*I,i!=="oy"&&this.hook(o)};this.ticker.add(F,!0),i==="ox"?this.animateFn.system.move[0]=F:i==="oy"?this.animateFn.system.move[1]=F:this.animateFn.system[o]=F,o==="move"?(i==="ox"&&(this.targetValue.system.move[0]=y+c),i==="oy"&&(this.targetValue.system.move[1]=y+c)):o!=="shake"&&(this.targetValue.system[o]=y+c)}error(i,n){throw n==="repeat"?new Error(`Cannot execute the same animation twice. Info: ${i}`):n==="reregister"?new Error(`Cannot register a animated property twice. Info: ${i}`):new Error(i)}hook(...i){const n=Object.entries(this.listener).filter(o=>i.includes(o[0]));for(const[o,u]of n)for(const l of u)l(this,o)}end(i,n){if(i===!0)if(this.animating[n]=!1,n==="move"?(this.ticker.remove(this.animateFn.system.move[0]),this.ticker.remove(this.animateFn.system.move[1])):n==="moveAs"?this.ticker.remove(this.animateFn.system.moveAs):this.ticker.remove(this.animateFn.system[n]),n==="move"){const[o,u]=this.targetValue.system.move;this.ox=o,this.oy=u,this.hook("moveend","end")}else if(n==="moveAs"){const[o,u]=this.targetValue.system.moveAs;this.ox=o,this.oy=u,this.hook("moveend","end")}else n==="rotate"?(this.angle=this.targetValue.system.rotate,this.hook("rotateend","end")):n==="resize"?(this.size=this.targetValue.system.resize,this.hook("resizeend","end")):(this.sx=0,this.sy=0,this.hook("shakeend","end"));else this.animating[n]=!1,this.ticker.remove(this.animateFn.custom[n]),this.custom[n]=this.targetValue.custom[n],this.hook("end")}}const Ot=Object.freeze(Object.defineProperty({__proto__:null,sleep:Ni,AnimationBase:Mi},Symbol.toStringTag,{value:"Module"}));class M1 extends Mi{constructor(i,n,o){super(i),A(this,"saveStack",[]),A(this,"inited",!1),A(this,"effectFn",this.defaultEffect),A(this,"trigo",[0,0]),A(this,"target"),A(this,"id"),A(this,"game"),this.target=o,this.id=n,this.game=i,this.ticker.add(()=>{const u=this.angle/180*Math.PI;this.trigo=[Math.cos(u),Math.sin(u)]})}save(){return this.saveStack.push({x:this.ox,y:this.oy,angle:this.angle,size:this.size}),this}restore(){const i=this.saveStack.pop();if(!i)throw new RangeError("There is no saves to be restored.");return this.ox=i.x,this.oy=i.y,this.size=i.size,this.angle=i.angle,this}effect(){this.effectFn(this)}css(i){const n=this.target.canvas,o=i.replaceAll(`
`,";").replace(/;+/g,";").trim().split(";");for(const u of o){const[l,c]=u.split(/\s*:\s*/);let d=l.replace(/-([a-z])/g,g=>`-${g.toUpperCase()}`);d.length!==0&&(d=d[0].toLowerCase()+d.slice(1),l in n.style&&(n.style[l]=c))}}setGlobalEffects(i){this.effectFn=i}defaultEffect(){const i=this.target,n=this.game.scale,o=960*n,u=540*n,l=this.x*n,c=this.y*n;i.translate(-l,-c),i.translate(o,u),i.rotate(this.angle*Math.PI/180),i.scale(this.size*n,this.size*n),i.translate(-o,-u),i.shadowBlur=4,i.shadowColor="black"}}const Oo=(...r)=>r.reduce((i,n)=>i+n,0),go=r=>{if(r===0)return 1;let i=r;for(;r>1;)r--,i*=r;return i},ef=(r,i)=>Math.round(go(i)/(go(r)*go(i-r))),cn=(r,i,n=o=>1-i(1-o))=>r==="in"?i:r==="out"?n:r==="in-out"?o=>o<.5?i(o*2)/2:.5+n((o-.5)*2)/2:o=>o<.5?n(o*2)/2:.5+i((o-.5)*2)/2,L1=Math.cosh(2),U1=Math.acosh(2),W1=Math.tanh(3),z1=Math.atan(5);function Bi(){return r=>r}function H1(...r){const i=[0].concat(r);i.push(1);const n=i.length,o=Array(n).fill(0).map((u,l)=>ef(l,n-1));return u=>{const l=o.map((c,d)=>c*i[d]*(1-u)**(n-d-1)*u**d);return Oo(...l)}}function V1(r,i){if(r==="sin"){const n=o=>Math.sin(o*Math.PI/2);return cn(i,o=>1-n(1-o),n)}if(r==="sec"){const n=o=>1/Math.cos(o);return cn(i,o=>n(o*Math.PI/3)-1)}throw new TypeError("Unexpected parameters are delivered in trigo timing function.")}function q1(r,i){if(!Number.isInteger(r))throw new TypeError("The first parameter of power timing function only allow integer.");return cn(i,n=>n**r)}function K1(r,i){if(r==="sin")return cn(i,n=>(Math.cosh(n*2)-1)/(L1-1));if(r==="tan"){const n=o=>Math.tanh(o*3)*1/W1;return cn(i,o=>1-n(1-o),n)}if(r==="sec"){const n=o=>1/Math.cosh(o);return cn(i,o=>1-(n(o*U1)-.5)*2)}throw new TypeError("Unexpected parameters are delivered in hyper timing function.")}function J1(r,i){if(r==="sin"){const n=o=>Math.asin(o)/Math.PI*2;return cn(i,o=>1-n(1-o),n)}if(r==="tan"){const n=o=>Math.atan(o*5)/z1;return cn(i,o=>1-n(1-o),n)}throw new TypeError("Unexpected parameters are delivered in inverse trigo timing function.")}function X1(r,i=()=>1){let n=-1;return o=>(n*=-1,o<.5?r*i(o*2)*n:r*i((1-o)*2)*n)}const nf=(1920**2+1080**2)/4;function Q(r){return r!=null}function Y1(r,i){return typeof r===i}function rf(r){return Q(r)&&Q(r.fnType)&&(r.fnType==="timing"||r.fnType==="generator"||r.fnType==="path")}function G1(r,i,...n){return typeof r(...n)===i}const ln=Object.freeze(Object.defineProperty({__proto__:null,radius:nf,has:Q,is:Y1,isMTTFn:rf,isReturnType:G1},Symbol.toStringTag,{value:"Module"})),sf=class extends Mi{constructor(r,i,n,o,u,l){super(i),A(this,"bpm",100),A(this,"lastNode",-1),A(this,"lastAngle",0),A(this,"rad",0),A(this,"inited",!1),A(this,"ctxFilter",""),A(this,"game"),A(this,"notes",[]),A(this,"num",sf.cnt++),A(this,"id"),A(this,"timeNodes",[]),A(this,"initAngle"),this.id=r,this.game=i,this.register("radius",u),this.register("r",255),this.register("g",180),this.register("b",32),this.register("a",1),this.ox=n,this.oy=o,this.initAngle=l}addNote(r){this.notes.push(r)}sort(){this.timeNodes.sort(([r],[i])=>r-i),this.notes.sort((r,i)=>{if(!Q(r.noteTime)||!Q(i.noteTime))throw new TypeError(`A note without note time is appended on the base ${this.id}`);return r.noteTime-i.noteTime})}setRadius(r){return this.mode(Bi()).time(1).apply("radius",r),this}rgba(r,i,n,o){return this.mode(Bi()).time(1),Q(r)&&this.apply("r",r),Q(i)&&this.apply("g",i),Q(n)&&this.apply("b",n),Q(o)&&this.apply("a",o),this}filter(r){return this.ctxFilter=r,this}setSpeed(r){this.bpm=r}calRad(){this.checkNode();const[r,i]=this.timeNodes[this.lastNode];return this.rad=this.lastAngle+(this.game.time-r)*i/3e4*Math.PI+this.initAngle*Math.PI/180}checkNode(){var r,i;const n=this.game.time;let o=!1;for(let u=this.lastNode+1;u<this.timeNodes.length;u++){const[l]=this.timeNodes[u];l<=n&&(this.lastNode=u,o=!0)}if(o){let u=0;for(let l=0;l<this.lastNode;l++){const[c,d]=this.timeNodes[l];u+=(((i=(r=this.timeNodes[l+1])==null?void 0:r[0])!=null?i:0)-c)*d/3e4*Math.PI}this.lastAngle=u}}};let $o=sf;A($o,"cnt",0);class Xo{constructor(i){A(this,"events"),this.events=i}on(i,n,o={}){this.events[i].push({fn:n,option:o})}off(i,n){const o=this.events[i].findIndex(u=>u.fn===n);if(o===-1)throw new ReferenceError("You are trying to remove a nonexistent listener.");this.events[i].splice(o,1)}dispatch(i,n,o={}){try{for(const{fn:u,option:l}of this.events[i])u(n)}catch(u){throw u}return!0}}class Q1 extends Xo{constructor(i){super({hit:[],hold:[],holdend:[]}),A(this,"toJudge",[]),A(this,"holding",[]),A(this,"holdingKeys",[]),A(this,"perfect",0),A(this,"good",0),A(this,"miss",0),A(this,"maxCombo",0),A(this,"early",0),A(this,"late",0),A(this,"touching",0),A(this,"auto",!1),A(this,"chart"),A(this,"c",0),A(this,"keydown",n=>{this.holdingKeys.includes(n.keyCode)||(this.chart.game.ac.sync(),this.holdingKeys.push(n.keyCode),this.judge(n.keyCode))}),A(this,"keyup",n=>{this.chart.game.ac.sync(),this.holdingKeys=this.holdingKeys.filter(u=>u!==n.keyCode);const o=this.holding.find(u=>u.key===n.keyCode);!Q(o)||this.judgeHold(!1,o,n.keyCode)}),A(this,"touchstart",n=>{this.chart.game.ac.sync(),this.touching=n.touches.length,this.judge()}),A(this,"touchend",n=>{this.chart.game.ac.sync(),this.touching=n.touches.length,this.judgeHold(!1)}),this.chart=i,document.addEventListener("keydown",this.keydown),document.addEventListener("keyup",this.keyup)}set combo(i){this.c=i,i>this.maxCombo&&(this.maxCombo=i)}get combo(){return this.c}inJudge(i){return i<=this.perfect+this.good+this.miss+this.toJudge.length}judge(i){if(this.auto)return;const n=this.toJudge[0];if(!Q(n))return;if(this.toJudge.length===0&&this.next(),n.noteType==="hold")return this.judgeHold(!0,n,i!=null?i:-10);if(n.noteType==="drag")return;const o=this.chart.game.time,u=n.noteTime;if(!Q(u))return;const l=c=>o>u-c&&o<u+c;if(l(n.perfectTime))this.toJudge.shift(),n.perfect(),this.perfect++;else if(l(n.goodTime)){this.toJudge.shift();const c=o-u>n.perfectTime?"late":"early";n.good(c),this[c]++,this.good++}else if(l(n.missTime)){this.toJudge.shift();const c=o-u>n.goodTime?"late":"early";n.miss(c),this[c]++,this.miss++}}judgeHold(i,n,o){if(!this.auto){if(i)if(Q(n)&&Q(n.noteTime)){const u=this.chart.game.time,l=n.noteTime,c=g=>u>l-g&&u<l+g;c(n.perfectTime)?n.hold("perfect","perfect",o):c(n.goodTime)?n.hold("good",u-l>n.perfectTime?"late":"early",o):c(n.missTime)&&n.hold("miss",u-l>n.goodTime?"late":"early",o);const d=this.toJudge.findIndex(g=>g===n);this.toJudge.splice(d,1);return}else throw new TypeError("There is no note on judging first hold.");if(Q(n)&&Q(o)){if(n.key===o){const u=this.holding.findIndex(l=>l===n);return this.holding.splice(u,1),n.miss("late")}}else{const u=this.holding;if(u.length>this.touching){const l=u.length-this.touching;u.splice(0,l).forEach(c=>{const d=this.holding.findIndex(g=>g===n);this.holding.splice(d,1),c.miss("late")})}}}}judgeMissAndDrag(){const i=()=>{this.toJudge.length===0&&this.next(),this.toJudge=this.toJudge.filter(n=>{if(!Q(n.noteTime))throw new TypeError("The note to be judge doesn't have the property 'noteTime'.");if(this.auto){if(this.chart.game.time>n.noteTime){if(n.noteType!=="hold")n.perfect(),this.perfect++;else{n.hold("perfect","perfect");const o=this.toJudge.findIndex(u=>n===u);this.toJudge.splice(o,1)}return!1}return!0}else return n.noteType==="drag"&&this.chart.game.time>n.noteTime-n.perfectTime&&(this.holdingKeys.length>0||this.touching>0)?(n.perfect(),this.perfect++,!1):this.chart.game.time>n.noteTime+n.goodTime?(n.miss("late"),this.late++,this.miss++,!1):!0}),this.holding=this.holding.filter(n=>{if(!Q(n.noteTime))throw new TypeError("The note to be judge doesn't have the property 'noteTime'.");if(!Q(n.holdTime))throw new TypeError("The note to be judge doesn't have the property 'holdTime'.");if(this.auto){if(n.holdTime>this.chart.game.time-n.noteTime-100)return n.perfect(),this.perfect++,!1}else if(n.holdTime>this.chart.game.time-n.noteTime-100){if(n.res==="pre")throw new TypeError("The note type is unexpected 'pre' when judging hold note.");return n[n.res](n.detail),n.res!=="miss"&&this[n.res]++,!1}return!0})};this.chart.game.ticker.add(i)}isMulti(i){if(!Q(i.noteTime))return!1;const n=i.num,o=this.chart.notes[n-1];if(Q(o)&&Q(o.noteTime)&&o.noteTime===i.noteTime)return!0;const u=this.chart.notes[n+1];return!!(Q(u)&&Q(u.noteTime)&&u.noteTime===i.noteTime)}dispatchEvent(i,n){this.dispatch(i,n)}next(){const i=this.chart.notesArr,n=i.find(l=>Q(l.noteTime));let o=-1;for(let l=0;l<i.length;l++){const c=i[l];if(Q(c.noteTime)){if(c.noteTime>(n==null?void 0:n.noteTime)&&c.noteType!=="drag"){o=l;break}c.noteType==="drag"&&c.noteTime>this.chart.game.time&&(o=l)}}(o===-1||o===0)&&(o=i.length+1);const u=i.splice(0,o);this.toJudge=u.filter(l=>Q(l.noteTime)).sort((l,c)=>l.noteType==="drag"?1:-1)}}const of=class extends Mi{constructor(r,i,n){var o,u,l;super(i.game),A(this,"played",!1),A(this,"speed",500),A(this,"alpha",1),A(this,"ctxFilter",""),A(this,"ctxShadow",{x:0,y:0,blur:0,color:""}),A(this,"key",0),A(this,"holding",!1),A(this,"destroyed",!1),A(this,"res","pre"),A(this,"detail","early"),A(this,"lastNode",-1),A(this,"lastD",0),A(this,"multi",!1),A(this,"px",0),A(this,"py",0),A(this,"inited",!1),A(this,"num",of.cnt++),A(this,"noteType"),A(this,"base"),A(this,"holdTime"),A(this,"noteTime"),A(this,"perfectTime"),A(this,"goodTime"),A(this,"missTime"),A(this,"timeNodes",[]),A(this,"dir",[0,0]),A(this,"rad",0),this.noteType=r,this.noteTime=n==null?void 0:n.playTime,this.base=i,this.perfectTime=(o=n==null?void 0:n.perfectTime)!=null?o:i.game.perfect,this.goodTime=(u=n==null?void 0:n.goodTime)!=null?u:i.game.good,this.missTime=(l=n==null?void 0:n.goodTime)!=null?l:i.game.miss,this.holdTime=n==null?void 0:n.time,Q(this.noteTime)&&(this.dir=this.calDir(),this.rad=Math.atan(this.dir[1]/this.dir[0])),this.register("opacity",1)}setSpeed(r){this.speed=r}perfect(){if(this.noteType==="hold")return this.holdEnd("perfect");const r=()=>{this.base.game.time>=this.noteTime&&this.hit("perfect")};this.noteType==="drag"?this.base.game.time>=this.noteTime?this.hit("perfect"):this.ticker.add(r):this.hit("perfect")}good(r){if(this.detail=r,this.noteType==="hold")return this.holdEnd("good");this.hit("good")}miss(r){if(this.detail=r,this.noteType==="hold")return this.holdEnd("miss");this.hit("miss",!0)}hold(r,i,n){if(this.noteType!=="hold")throw new TypeError("You are trying to hold non-hold note.");if(!Q(this.holdTime)||!Q(this.noteTime))throw new TypeError("This note has no noteTime or holdTime.");this.holding=!0,Q(n)&&(this.key=n),this.base.game.chart.judger.holding.push(this);const o={target:this.base.game.chart.judger,type:"hold",time:this.base.game.time-this.noteTime,totalTime:this.holdTime,res:r,note:this,base:this.base,detail:i};this.base.game.chart.judger.dispatchEvent("hold",o)}filter(r){return this.ctxFilter=r,this}opacity(r){return this.mode(Bi()).time(1).apply("opacity",r),this}shadow(r,i,n,o){return this.ctxShadow={x:r,y:i,blur:n,color:o},this}destroy(){this.destroyed=!0,this.ticker.destroy()}sort(){this.timeNodes.sort(([r],[i])=>r-i)}calDistance(){return Q(this.noteTime)?(this.checkNode(),-(this.base.game.time-this.timeNodes[this.lastNode][0])*this.speed/1e3+this.lastD):0}calPosition(){if(this.destroyed)return[this.px,this.py,NaN];const r=this.calDistance()+this.base.custom.radius;if(r<0)return[NaN,NaN,NaN];const i=r*this.dir[0]+this.x,n=r*this.dir[1]+this.y,o=i+this.base.x,u=n+this.base.y;return this.px=o,this.py=u,[o,u,r]}playSound(){this.base.game.ac.playSound(this.noteType)}calDir(){var r,i;if(!Q(this.noteTime))throw new TypeError("The note doesn't have noteTime.");const n=this.base.timeNodes;let o=this.base.initAngle*Math.PI/180;for(let u=0;u<n.length;u++){const[l,c]=n[u],d=(i=(r=n[u+1])==null?void 0:r[0])!=null?i:this.noteTime;if(d>this.noteTime){o+=(this.noteTime-l)*c/3e4*Math.PI;break}o+=(d-l)*c/3e4*Math.PI}return[Math.cos(o),Math.sin(o)]}checkNode(){var r,i;const n=this.base.game.time;let o=!1;for(let u=this.lastNode+1;u<this.timeNodes.length;u++){const[l]=this.timeNodes[u];l<=n&&(this.lastNode=u,o=!0)}if(o){let u=0;for(let l=this.timeNodes.length-1;l>=this.lastNode;l--){const[c,d]=this.timeNodes[l];u+=(((i=(r=this.timeNodes[l+1])==null?void 0:r[0])!=null?i:this.noteTime)-c)*d/1e3}this.lastD=u}}hit(r,i=!1){i||this.playSound(),this.res=r,this.played=!0,this.destroy(),this.base.game.renderer.addHitEffect(this),r==="miss"?this.base.game.chart.judger.combo=0:this.base.game.chart.judger.combo++;const n={target:this.base.game.chart.judger,type:"hit",res:r,note:this,base:this.base,detail:this.detail};this.base.game.chart.judger.dispatchEvent("hit",n)}holdEnd(r){this.played=!0,this.destroy(),this.base.game.renderer.addHitEffect(this),r==="miss"?this.base.game.chart.judger.combo=0:this.base.game.chart.judger.combo++;const i={target:this.base.game.chart.judger,type:"holdend",res:r,note:this,base:this.base,detail:this.detail,time:this.base.game.time-this.noteTime,totalTime:this.holdTime};this.base.game.chart.judger.dispatchEvent("holdend",i)}};let Ro=of;A(Ro,"cnt",0);class Z1{constructor(i){A(this,"camera"),A(this,"notes",{}),A(this,"bases",{}),A(this,"basesDict",{}),A(this,"notesArr",[]),A(this,"game"),A(this,"judger",new Q1(this)),A(this,"animate",{timing:{},generator:{},path:{},pathG:{}}),A(this,"attrSet",{note:{},base:{},camera:{}}),this.game=i}async extract(i){const{bases:n,notes:o,camera:u,option:l}=i;await new Promise(c=>{var d;for(const m of n){const w=m.id,y=new $o(w,this.game,m.x,m.y,Object.values(m.r)[0],m.angle);this.bases[y.num]=y,this.basesDict[w]=y,y.timeNodes.push(...Object.entries(m.bpm).map(F=>[parseFloat(F[0]),F[1]])),y.sort(),this.execute("base",m,y),this.executeAnimate("base",m.animate,y.num)}o.sort((m,w)=>{var y,F;const x=Q(m.config)&&Q(m.config.playTime),C=Q(w.config)&&Q(w.config.playTime);return x&&C?((y=m.config)==null?void 0:y.playTime)-((F=w.config)==null?void 0:F.playTime):x&&!C?-1:!x&&C?1:0});for(const m of o){const w=this.basesDict[m.base],y=new Ro(m.type,w,m.config);this.notes[y.num]=y,this.notesArr.push(y),y.timeNodes.push(...Object.entries(m.speed).map(F=>[parseFloat(F[0]),F[1]])),y.sort(),this.execute("note",m,y),this.executeAnimate("note",m.animate,y.num)}this.notesArr.forEach(m=>{m.multi=this.judger.isMulti(m)});const g=new M1(this.game,u.id,this.game.ctx);this.camera=g,this.executeAnimate("camera",u.animate),this.execute("camera",u,g),this.game.target.style.background=(d=l.background)!=null?d:"black",c("extract success.")}),this.game.length=this.notesArr.filter(c=>Q(c.noteTime)).length,this.judger.judgeMissAndDrag()}async restart(){Object.values(this.notes).forEach(i=>i.ticker.destroy()),Object.values(this.bases).forEach(i=>i.ticker.destroy()),this.notes={},this.bases={},this.notesArr=[],this.basesDict={},Ro.cnt=0,$o.cnt=0,this.judger.perfect=0,this.judger.good=0,this.judger.miss=0,this.judger.combo=0,this.judger.maxCombo=0,this.judger.early=0,this.judger.late=0,await Ni(1e3),await this.extract(this.game.mtt)}register(i,n,o){this.animate[i][n]=o}registerExecute(i,n,o){this.attrSet[i][n]=o}sortMTT(i){return Object.keys(i).map(n=>parseFloat(n)).sort((n,o)=>n-o)}extractMTTAnimate(i){const n=(l,c,d)=>{const g=d.map(w=>rf(w)?n(w.fn,w.fnType,w.args):w),m=this.animate[c][l];return c==="timing"?m:m.apply(this,g)},o=n(i.mode.fn,i.mode.fnType,i.mode.args);let u;return i.type==="moveAs"?u=n(i.mode.pathFn,i.mode.pathType,i.mode.pathArg):u=void 0,{fn:o,path:u,...i}}executeAnimate(i,n,o){let u;i==="base"?u=this.bases[o]:i==="note"?u=this.notes[o]:u=this.camera;const l=n.sort((g,m)=>g.start-m.start).map(g=>this.extractMTTAnimate(g));let c=-1;const d=()=>{const g=l[c+1];if(!g)return this.game.ticker.remove(d);const m=g.start;this.game.time<m||(c++,u.mode(g.fn,g.shake).time(g.time),g.relation==="absolute"?u.absolute():u.relative(),g.custom?u.apply(g.type,g.n,g.first):g.path?u.moveAs(g.path):g.type==="move"?u.move(g.x,g.y):g.type==="rotate"?u.rotate(g.n):g.type==="resize"||g.type==="scale"?u.scale(g.n):g.type==="shake"&&u.shake(g.x,g.y))};this.game.ticker.add(d)}execute(i,n,o){const u=this.attrSet[i],l=c=>{let d=-1;const g=n[c],m=this.sortMTT(g),w=u[c],y=()=>{const F=m[d+1];if(!Q(F))return this.game.ticker.remove(y);this.game.time<F||(F===0&&setTimeout(()=>o.inited=!0,50),this.game.time>0&&!o.inited&&setTimeout(()=>o.inited=!0,50),d++,w(n[c][F],o))};this.game.ticker.add(y)};for(const c in u)l(c)}}function t_(r,i=1,n=u=>1,o=!1){return u=>{const l=i*u*Math.PI*2,c=Math.cos(l),d=Math.sin(l),g=r*n(n(o?1-u:u));return[g*c,g*d]}}function e_(r,i,...n){const o=[r].concat(n);o.push(i);const u=o.length,l=Array(u).fill(0).map((c,d)=>ef(d,u-1));return c=>{const d=l.map((m,w)=>m*o[w][0]*(1-c)**(u-w-1)*c**w),g=l.map((m,w)=>m*o[w][1]*(1-c)**(u-w-1)*c**w);return[Oo(...d),Oo(...g)]}}class n_ extends Xo{constructor(i){super({before:[],after:[],effectadd:[],effectend:[]}),A(this,"time",0),A(this,"game"),A(this,"renderer",{base:this.renderBases,tap:this.renderTap,hold:this.renderHold,drag:this.renderDrag}),A(this,"effect",{perfect:this.perfectEffect,good:this.goodEffect,miss:this.missEffect}),A(this,"effects",[]),this.game=i}start(){const i=()=>{this.game.status!=="playing"||this.game.time<=0||this.render()};this.game.ticker.add(i)}render(i){const n=this.game.ctx;n.clearRect(0,0,n.canvas.width,n.canvas.height),n.save();const o={target:this,type:"before",canvas:this.game.target,ctx:this.game.ctx};this.dispatch("before",o),this.game.chart.camera.effect();const u=this.game.chart.bases;for(const g in u){const m=u[g];m.custom.a!==0&&this.renderer.base.call(this,m)}const l=this.game.chart.notes;for(const g in l){const m=l[g];m.custom.opacity!==0&&(m.played||(m.noteType==="tap"&&this.renderer.tap.call(this,m),m.noteType==="hold"&&this.renderer.hold.call(this,m),m.noteType==="drag"&&this.renderer.drag.call(this,m)))}const c=this.effects;for(const g of c)g.res==="perfect"&&this.effect.perfect.call(this,g),g.res==="good"&&this.effect.good.call(this,g),g.res==="miss"&&this.effect.miss.call(this,g);n.restore();const d={target:this,type:"after",canvas:this.game.target,ctx:this.game.ctx};this.dispatch("after",d)}setBase(i){this.renderer.base=i}setNote(i,n){this.renderer[i]=n}setEffect(i,n){this.effect[i]=n}inGame(i,n,o=10){const u=this.game.chart.camera,l=u.size,c=i-960,d=n-540,[g,m]=u.trigo,w=c*g-d*m-u.x/l,y=c*m+d*g-u.y/l;return w**2+y**2-o**2<=nf/l**2}addHitEffect(i){const n={start:this.game.time,end:!1,res:i.res,note:i},o={set:(c,d,g)=>{if(typeof d=="symbol")return!1;if(d==="end"&&g===!0){const m=this.effects.findIndex(y=>y===u);this.effects.splice(m,1);const w={target:this,type:"effectend",canvas:this.game.target,ctx:this.game.ctx,effect:u};this.dispatch("effectend",w)}return c[d]=g,!0}},u=new Proxy(n,o);this.effects.push(u);const l={target:this,type:"effectadd",canvas:this.game.target,ctx:this.game.ctx,effect:u};this.dispatch("effectadd",l)}clearEffect(){this.effects=[]}renderTap(i){this.renderNonHold(i,"#00d2eb")}renderHold(i){}renderDrag(i){this.renderNonHold(i,"#f500d6")}renderNonHold(i,n){if(i.destroyed||Q(i.noteTime)&&this.game.time>i.noteTime+i.missTime||!i.inited)return;const[o,u,l]=i.calPosition();if(isNaN(o)||!this.inGame(o,u,this.game.drawWidth/2))return;const c=i.rad+i.angle*Math.PI/180,d=this.game.ctx,g=this.game.halfWidth,m=this.game.halfTopWidth,w=this.game.halfHeight,y=this.game.multiStroke,F=i.custom.opacity;d.save(),d.translate(o*this.game.scale,u*this.game.scale),d.rotate(c+Math.PI/2),d.filter=i.ctxFilter,d.strokeStyle="#fff",d.fillStyle=n,d.lineWidth=4*this.game.drawScale,i.multi&&(d.shadowColor="gold",d.strokeStyle=y),d.globalAlpha=F,l<i.base.custom.radius&&(d.globalAlpha=l/i.base.custom.radius*F),d.beginPath(),d.moveTo(-g,0),d.lineTo(-m,-w),d.lineTo(m,-w),d.lineTo(g,0),d.lineTo(m,w),d.lineTo(-m,w),d.closePath(),d.fill(),d.stroke(),d.restore()}renderBases(i){if(!this.inGame(i.x,i.y)||!i.inited)return;const n=i.calRad()+i.angle*Math.PI/180,o=this.game.ctx,u=this.game.scale,l=i.x*u,c=i.y*u,d=i.custom.radius*u,{r:g,g:m,b:w,a:y}=i.custom;o.save(),o.translate(l,c),o.rotate(n+Math.PI),o.filter=i.ctxFilter,o.moveTo(0,0),o.fillStyle=o.strokeStyle=`rgba(${g}, ${m}, ${w}, ${y})`,o.fillRect(-d,-d*.06,d,d*.12),o.beginPath(),o.arc(0,0,d*2/5,0,Math.PI*2),o.closePath(),o.lineWidth=d/10*u,o.fill(),o.beginPath(),o.lineCap="round",o.arc(0,0,d*.6,-Math.PI/8,+Math.PI/8),o.stroke(),o.closePath(),o.beginPath(),o.arc(0,0,d,0,Math.PI*2),o.lineWidth=2*u,o.globalAlpha=.6,o.stroke(),o.closePath(),o.restore()}playEffect(i,n){const o=this.game.time-i.start;if(o>500){i.end=!0;return}const[u,l]=i.note.calPosition(),c=o/4,d=this.game.ctx,g=this.game.scale;d.save(),d.strokeStyle=n,d.shadowBlur=5,d.shadowColor=n,d.globalAlpha=2-o/250,d.beginPath(),d.arc(u*g,l*g,c*this.game.drawScale*.8,0,Math.PI*2),d.closePath(),d.lineWidth=5,d.stroke(),d.restore()}perfectEffect(i){this.playEffect(i,"gold")}goodEffect(i){this.playEffect(i,"#19aff0")}missEffect(i){this.playEffect(i,"#8f0067")}}var af={exports:{}},Yo={exports:{}},uf=function(r,i){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return r.apply(i,n)}},r_=uf,Go=Object.prototype.toString,Qo=function(r){return function(i){var n=Go.call(i);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function Fn(r){return r=r.toLowerCase(),function(i){return Qo(i)===r}}function Zo(r){return Array.isArray(r)}function Di(r){return typeof r>"u"}function i_(r){return r!==null&&!Di(r)&&r.constructor!==null&&!Di(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}var cf=Fn("ArrayBuffer");function s_(r){var i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(r):i=r&&r.buffer&&cf(r.buffer),i}function o_(r){return typeof r=="string"}function a_(r){return typeof r=="number"}function lf(r){return r!==null&&typeof r=="object"}function Fi(r){if(Qo(r)!=="object")return!1;var i=Object.getPrototypeOf(r);return i===null||i===Object.prototype}var u_=Fn("Date"),c_=Fn("File"),l_=Fn("Blob"),f_=Fn("FileList");function ta(r){return Go.call(r)==="[object Function]"}function h_(r){return lf(r)&&ta(r.pipe)}function d_(r){var i="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||Go.call(r)===i||ta(r.toString)&&r.toString()===i)}var p_=Fn("URLSearchParams");function m_(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function g_(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function ea(r,i){if(!(r===null||typeof r>"u"))if(typeof r!="object"&&(r=[r]),Zo(r))for(var n=0,o=r.length;n<o;n++)i.call(null,r[n],n,r);else for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&i.call(null,r[u],u,r)}function jo(){var r={};function i(u,l){Fi(r[l])&&Fi(u)?r[l]=jo(r[l],u):Fi(u)?r[l]=jo({},u):Zo(u)?r[l]=u.slice():r[l]=u}for(var n=0,o=arguments.length;n<o;n++)ea(arguments[n],i);return r}function v_(r,i,n){return ea(i,function(o,u){n&&typeof o=="function"?r[u]=r_(o,n):r[u]=o}),r}function y_(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}function __(r,i,n,o){r.prototype=Object.create(i.prototype,o),r.prototype.constructor=r,n&&Object.assign(r.prototype,n)}function w_(r,i,n){var o,u,l,c={};i=i||{};do{for(o=Object.getOwnPropertyNames(r),u=o.length;u-- >0;)l=o[u],c[l]||(i[l]=r[l],c[l]=!0);r=Object.getPrototypeOf(r)}while(r&&(!n||n(r,i))&&r!==Object.prototype);return i}function E_(r,i,n){r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=i.length;var o=r.indexOf(i,n);return o!==-1&&o===n}function b_(r){if(!r)return null;var i=r.length;if(Di(i))return null;for(var n=new Array(i);i-- >0;)n[i]=r[i];return n}var x_=function(r){return function(i){return r&&i instanceof r}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Mt={isArray:Zo,isArrayBuffer:cf,isBuffer:i_,isFormData:d_,isArrayBufferView:s_,isString:o_,isNumber:a_,isObject:lf,isPlainObject:Fi,isUndefined:Di,isDate:u_,isFile:c_,isBlob:l_,isFunction:ta,isStream:h_,isURLSearchParams:p_,isStandardBrowserEnv:g_,forEach:ea,merge:jo,extend:v_,trim:m_,stripBOM:y_,inherits:__,toFlatObject:w_,kindOf:Qo,kindOfTest:Fn,endsWith:E_,toArray:b_,isTypedArray:x_,isFileList:f_},Hn=Mt;function Jc(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ff=function(r,i,n){if(!i)return r;var o;if(n)o=n(i);else if(Hn.isURLSearchParams(i))o=i.toString();else{var u=[];Hn.forEach(i,function(c,d){c===null||typeof c>"u"||(Hn.isArray(c)?d=d+"[]":c=[c],Hn.forEach(c,function(g){Hn.isDate(g)?g=g.toISOString():Hn.isObject(g)&&(g=JSON.stringify(g)),u.push(Jc(d)+"="+Jc(g))}))}),o=u.join("&")}if(o){var l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r},A_=Mt;function Li(){this.handlers=[]}Li.prototype.use=function(r,i,n){return this.handlers.push({fulfilled:r,rejected:i,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Li.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)};Li.prototype.forEach=function(r){A_.forEach(this.handlers,function(i){i!==null&&r(i)})};var F_=Li,T_=Mt,S_=function(r,i){T_.forEach(r,function(n,o){o!==i&&o.toUpperCase()===i.toUpperCase()&&(r[i]=n,delete r[o])})},hf=Mt;function Kn(r,i,n,o,u){Error.call(this),this.message=r,this.name="AxiosError",i&&(this.code=i),n&&(this.config=n),o&&(this.request=o),u&&(this.response=u)}hf.inherits(Kn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var df=Kn.prototype,pf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(r){pf[r]={value:r}});Object.defineProperties(Kn,pf);Object.defineProperty(df,"isAxiosError",{value:!0});Kn.from=function(r,i,n,o,u,l){var c=Object.create(df);return hf.toFlatObject(r,c,function(d){return d!==Error.prototype}),Kn.call(c,r.message,i,n,o,u),c.name=r.name,l&&Object.assign(c,l),c};var Zn=Kn,mf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fe=Mt;function C_(r,i){i=i||new FormData;var n=[];function o(l){return l===null?"":Fe.isDate(l)?l.toISOString():Fe.isArrayBuffer(l)||Fe.isTypedArray(l)?typeof Blob=="function"?new Blob([l]):Buffer.from(l):l}function u(l,c){if(Fe.isPlainObject(l)||Fe.isArray(l)){if(n.indexOf(l)!==-1)throw Error("Circular reference detected in "+c);n.push(l),Fe.forEach(l,function(d,g){if(!Fe.isUndefined(d)){var m=c?c+"."+g:g,w;if(d&&!c&&typeof d=="object"){if(Fe.endsWith(g,"{}"))d=JSON.stringify(d);else if(Fe.endsWith(g,"[]")&&(w=Fe.toArray(d))){w.forEach(function(y){!Fe.isUndefined(y)&&i.append(m,o(y))});return}}u(d,m)}}),n.pop()}else i.append(c,o(l))}return u(r),i}var gf=C_,vo,Xc;function k_(){if(Xc)return vo;Xc=1;var r=Zn;return vo=function(i,n,o){var u=o.config.validateStatus;!o.status||!u||u(o.status)?i(o):n(new r("Request failed with status code "+o.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))},vo}var yo,Yc;function B_(){if(Yc)return yo;Yc=1;var r=Mt;return yo=r.isStandardBrowserEnv()?function(){return{write:function(i,n,o,u,l,c){var d=[];d.push(i+"="+encodeURIComponent(n)),r.isNumber(o)&&d.push("expires="+new Date(o).toGMTString()),r.isString(u)&&d.push("path="+u),r.isString(l)&&d.push("domain="+l),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(i){var n=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),yo}var D_=function(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)},O_=function(r,i){return i?r.replace(/\/+$/,"")+"/"+i.replace(/^\/+/,""):r},$_=D_,R_=O_,vf=function(r,i){return r&&!$_(i)?R_(r,i):i},_o,Gc;function j_(){if(Gc)return _o;Gc=1;var r=Mt,i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return _o=function(n){var o={},u,l,c;return n&&r.forEach(n.split(`
`),function(d){if(c=d.indexOf(":"),u=r.trim(d.substr(0,c)).toLowerCase(),l=r.trim(d.substr(c+1)),u){if(o[u]&&i.indexOf(u)>=0)return;u==="set-cookie"?o[u]=(o[u]?o[u]:[]).concat([l]):o[u]=o[u]?o[u]+", "+l:l}}),o},_o}var wo,Qc;function P_(){if(Qc)return wo;Qc=1;var r=Mt;return wo=r.isStandardBrowserEnv()?function(){var i=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),o;function u(l){var c=l;return i&&(n.setAttribute("href",c),c=n.href),n.setAttribute("href",c),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return o=u(window.location.href),function(l){var c=r.isString(l)?u(l):l;return c.protocol===o.protocol&&c.host===o.host}}():function(){return function(){return!0}}(),wo}var Eo,Zc;function Ui(){if(Zc)return Eo;Zc=1;var r=Zn,i=Mt;function n(o){r.call(this,o==null?"canceled":o,r.ERR_CANCELED),this.name="CanceledError"}return i.inherits(n,r,{__CANCEL__:!0}),Eo=n,Eo}var tl,el;function I_(){return el||(el=1,tl=function(r){var i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return i&&i[1]||""}),tl}var bo,nl;function N_(){if(nl)return bo;nl=1;var r=Mt,i=k_(),n=B_(),o=ff,u=vf,l=j_(),c=P_(),d=mf,g=Zn,m=Ui(),w=I_();return bo=function(y){return new Promise(function(F,x){var C=y.data,P=y.headers,j=y.responseType,I;function R(){y.cancelToken&&y.cancelToken.unsubscribe(I),y.signal&&y.signal.removeEventListener("abort",I)}r.isFormData(C)&&r.isStandardBrowserEnv()&&delete P["Content-Type"];var O=new XMLHttpRequest;if(y.auth){var X=y.auth.username||"",W=y.auth.password?unescape(encodeURIComponent(y.auth.password)):"";P.Authorization="Basic "+btoa(X+":"+W)}var wt=u(y.baseURL,y.url);O.open(y.method.toUpperCase(),o(wt,y.params,y.paramsSerializer),!0),O.timeout=y.timeout;function $t(){if(O){var bt="getAllResponseHeaders"in O?l(O.getAllResponseHeaders()):null,st=!j||j==="text"||j==="json"?O.responseText:O.response,vt={data:st,status:O.status,statusText:O.statusText,headers:bt,config:y,request:O};i(function(ye){F(ye),R()},function(ye){x(ye),R()},vt),O=null}}if("onloadend"in O?O.onloadend=$t:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout($t)},O.onabort=function(){!O||(x(new g("Request aborted",g.ECONNABORTED,y,O)),O=null)},O.onerror=function(){x(new g("Network Error",g.ERR_NETWORK,y,O,O)),O=null},O.ontimeout=function(){var bt=y.timeout?"timeout of "+y.timeout+"ms exceeded":"timeout exceeded",st=y.transitional||d;y.timeoutErrorMessage&&(bt=y.timeoutErrorMessage),x(new g(bt,st.clarifyTimeoutError?g.ETIMEDOUT:g.ECONNABORTED,y,O)),O=null},r.isStandardBrowserEnv()){var Zt=(y.withCredentials||c(wt))&&y.xsrfCookieName?n.read(y.xsrfCookieName):void 0;Zt&&(P[y.xsrfHeaderName]=Zt)}"setRequestHeader"in O&&r.forEach(P,function(bt,st){typeof C>"u"&&st.toLowerCase()==="content-type"?delete P[st]:O.setRequestHeader(st,bt)}),r.isUndefined(y.withCredentials)||(O.withCredentials=!!y.withCredentials),j&&j!=="json"&&(O.responseType=y.responseType),typeof y.onDownloadProgress=="function"&&O.addEventListener("progress",y.onDownloadProgress),typeof y.onUploadProgress=="function"&&O.upload&&O.upload.addEventListener("progress",y.onUploadProgress),(y.cancelToken||y.signal)&&(I=function(bt){!O||(x(!bt||bt&&bt.type?new m:bt),O.abort(),O=null)},y.cancelToken&&y.cancelToken.subscribe(I),y.signal&&(y.signal.aborted?I():y.signal.addEventListener("abort",I))),C||(C=null);var At=w(wt);if(At&&["http","https","file"].indexOf(At)===-1){x(new g("Unsupported protocol "+At+":",g.ERR_BAD_REQUEST,y));return}O.send(C)})},bo}var rl,il;function M_(){return il||(il=1,rl=null),rl}var jt=Mt,sl=S_,ol=Zn,L_=mf,U_=gf,W_={"Content-Type":"application/x-www-form-urlencoded"};function al(r,i){!jt.isUndefined(r)&&jt.isUndefined(r["Content-Type"])&&(r["Content-Type"]=i)}function z_(){var r;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(r=N_()),r}function H_(r,i,n){if(jt.isString(r))try{return(i||JSON.parse)(r),jt.trim(r)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(r)}var Wi={transitional:L_,adapter:z_(),transformRequest:[function(r,i){if(sl(i,"Accept"),sl(i,"Content-Type"),jt.isFormData(r)||jt.isArrayBuffer(r)||jt.isBuffer(r)||jt.isStream(r)||jt.isFile(r)||jt.isBlob(r))return r;if(jt.isArrayBufferView(r))return r.buffer;if(jt.isURLSearchParams(r))return al(i,"application/x-www-form-urlencoded;charset=utf-8"),r.toString();var n=jt.isObject(r),o=i&&i["Content-Type"],u;if((u=jt.isFileList(r))||n&&o==="multipart/form-data"){var l=this.env&&this.env.FormData;return U_(u?{"files[]":r}:r,l&&new l)}else if(n||o==="application/json")return al(i,"application/json"),H_(r);return r}],transformResponse:[function(r){var i=this.transitional||Wi.transitional,n=i&&i.silentJSONParsing,o=i&&i.forcedJSONParsing,u=!n&&this.responseType==="json";if(u||o&&jt.isString(r)&&r.length)try{return JSON.parse(r)}catch(l){if(u)throw l.name==="SyntaxError"?ol.from(l,ol.ERR_BAD_RESPONSE,this,null,this.response):l}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:M_()},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};jt.forEach(["delete","get","head"],function(r){Wi.headers[r]={}});jt.forEach(["post","put","patch"],function(r){Wi.headers[r]=jt.merge(W_)});var na=Wi,V_=Mt,q_=na,K_=function(r,i,n){var o=this||q_;return V_.forEach(n,function(u){r=u.call(o,r,i)}),r},ul,cl;function yf(){return cl||(cl=1,ul=function(r){return!!(r&&r.__CANCEL__)}),ul}var ll=Mt,xo=K_,J_=yf(),X_=na,Y_=Ui();function Ao(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Y_}var G_=function(r){Ao(r),r.headers=r.headers||{},r.data=xo.call(r,r.data,r.headers,r.transformRequest),r.headers=ll.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),ll.forEach(["delete","get","head","post","put","patch","common"],function(n){delete r.headers[n]});var i=r.adapter||X_.adapter;return i(r).then(function(n){return Ao(r),n.data=xo.call(r,n.data,n.headers,r.transformResponse),n},function(n){return J_(n)||(Ao(r),n&&n.response&&(n.response.data=xo.call(r,n.response.data,n.response.headers,r.transformResponse))),Promise.reject(n)})},ae=Mt,_f=function(r,i){i=i||{};var n={};function o(m,w){return ae.isPlainObject(m)&&ae.isPlainObject(w)?ae.merge(m,w):ae.isPlainObject(w)?ae.merge({},w):ae.isArray(w)?w.slice():w}function u(m){if(ae.isUndefined(i[m])){if(!ae.isUndefined(r[m]))return o(void 0,r[m])}else return o(r[m],i[m])}function l(m){if(!ae.isUndefined(i[m]))return o(void 0,i[m])}function c(m){if(ae.isUndefined(i[m])){if(!ae.isUndefined(r[m]))return o(void 0,r[m])}else return o(void 0,i[m])}function d(m){if(m in i)return o(r[m],i[m]);if(m in r)return o(void 0,r[m])}var g={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d};return ae.forEach(Object.keys(r).concat(Object.keys(i)),function(m){var w=g[m]||u,y=w(m);ae.isUndefined(y)&&w!==d||(n[m]=y)}),n},fl,hl;function wf(){return hl||(hl=1,fl={version:"0.27.2"}),fl}var Q_=wf().version,un=Zn,ra={};["object","boolean","number","function","string","symbol"].forEach(function(r,i){ra[r]=function(n){return typeof n===r||"a"+(i<1?"n ":" ")+r}});var dl={};ra.transitional=function(r,i,n){function o(u,l){return"[Axios v"+Q_+"] Transitional option '"+u+"'"+l+(n?". "+n:"")}return function(u,l,c){if(r===!1)throw new un(o(l," has been removed"+(i?" in "+i:"")),un.ERR_DEPRECATED);return i&&!dl[l]&&(dl[l]=!0,console.warn(o(l," has been deprecated since v"+i+" and will be removed in the near future"))),r?r(u,l,c):!0}};function Z_(r,i,n){if(typeof r!="object")throw new un("options must be an object",un.ERR_BAD_OPTION_VALUE);for(var o=Object.keys(r),u=o.length;u-- >0;){var l=o[u],c=i[l];if(c){var d=r[l],g=d===void 0||c(d,l,r);if(g!==!0)throw new un("option "+l+" must be "+g,un.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new un("Unknown option "+l,un.ERR_BAD_OPTION)}}var tw={assertOptions:Z_,validators:ra},Ef=Mt,ew=ff,pl=F_,ml=G_,zi=_f,nw=vf,bf=tw,Vn=bf.validators;function Jn(r){this.defaults=r,this.interceptors={request:new pl,response:new pl}}Jn.prototype.request=function(r,i){typeof r=="string"?(i=i||{},i.url=r):i=r||{},i=zi(this.defaults,i),i.method?i.method=i.method.toLowerCase():this.defaults.method?i.method=this.defaults.method.toLowerCase():i.method="get";var n=i.transitional;n!==void 0&&bf.assertOptions(n,{silentJSONParsing:Vn.transitional(Vn.boolean),forcedJSONParsing:Vn.transitional(Vn.boolean),clarifyTimeoutError:Vn.transitional(Vn.boolean)},!1);var o=[],u=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(i)===!1||(u=u&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});var l=[];this.interceptors.response.forEach(function(y){l.push(y.fulfilled,y.rejected)});var c;if(!u){var d=[ml,void 0];for(Array.prototype.unshift.apply(d,o),d=d.concat(l),c=Promise.resolve(i);d.length;)c=c.then(d.shift(),d.shift());return c}for(var g=i;o.length;){var m=o.shift(),w=o.shift();try{g=m(g)}catch(y){w(y);break}}try{c=ml(g)}catch(y){return Promise.reject(y)}for(;l.length;)c=c.then(l.shift(),l.shift());return c};Jn.prototype.getUri=function(r){r=zi(this.defaults,r);var i=nw(r.baseURL,r.url);return ew(i,r.params,r.paramsSerializer)};Ef.forEach(["delete","get","head","options"],function(r){Jn.prototype[r]=function(i,n){return this.request(zi(n||{},{method:r,url:i,data:(n||{}).data}))}});Ef.forEach(["post","put","patch"],function(r){function i(n){return function(o,u,l){return this.request(zi(l||{},{method:r,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}Jn.prototype[r]=i(),Jn.prototype[r+"Form"]=i(!0)});var rw=Jn,Fo,gl;function iw(){if(gl)return Fo;gl=1;var r=Ui();function i(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(l){o=l});var u=this;this.promise.then(function(l){if(u._listeners){var c,d=u._listeners.length;for(c=0;c<d;c++)u._listeners[c](l);u._listeners=null}}),this.promise.then=function(l){var c,d=new Promise(function(g){u.subscribe(g),c=g}).then(l);return d.cancel=function(){u.unsubscribe(c)},d},n(function(l){u.reason||(u.reason=new r(l),o(u.reason))})}return i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},i.prototype.unsubscribe=function(n){if(this._listeners){var o=this._listeners.indexOf(n);o!==-1&&this._listeners.splice(o,1)}},i.source=function(){var n,o=new i(function(u){n=u});return{token:o,cancel:n}},Fo=i,Fo}var vl,yl;function sw(){return yl||(yl=1,vl=function(r){return function(i){return r.apply(null,i)}}),vl}var To,_l;function ow(){if(_l)return To;_l=1;var r=Mt;return To=function(i){return r.isObject(i)&&i.isAxiosError===!0},To}var wl=Mt,aw=uf,Ti=rw,uw=_f,cw=na;function xf(r){var i=new Ti(r),n=aw(Ti.prototype.request,i);return wl.extend(n,Ti.prototype,i),wl.extend(n,i),n.create=function(o){return xf(uw(r,o))},n}var Qt=xf(cw);Qt.Axios=Ti;Qt.CanceledError=Ui();Qt.CancelToken=iw();Qt.isCancel=yf();Qt.VERSION=wf().version;Qt.toFormData=gf;Qt.AxiosError=Zn;Qt.Cancel=Qt.CanceledError;Qt.all=function(r){return Promise.all(r)};Qt.spread=sw();Qt.isAxiosError=ow();Yo.exports=Qt;Yo.exports.default=Qt;(function(r){r.exports=Yo.exports})(af);const lw=I1(af.exports);class fw{constructor(i){A(this,"audio"),A(this,"status","pre"),A(this,"startTime",0),A(this,"seVolume",.5),A(this,"musicVolume",1),A(this,"offset",-100),A(this,"game"),A(this,"ac",new AudioContext),A(this,"sounds",{}),A(this,"mainGain",this.ac.createGain()),A(this,"musicNode"),this.game=i,this.syncTime()}set volume(i){this.mainGain.gain.value=i}get volume(){return this.mainGain.gain.value}async extract(i){const n=await this.ac.decodeAudioData(i);return this.audio=n,n}play(){if(this.status==="playing")throw new TypeError("The game music is playing now.");this.startTime=this.ac.currentTime,this.game.time=(this.ac.currentTime-this.startTime)*1e3;const i=this.ac.createGain(),n=this.ac.createBufferSource();this.musicNode=n,n.buffer=this.audio,n.connect(i),i.gain.value=this.musicVolume,i.connect(this.mainGain),this.mainGain.connect(this.ac.destination),n.start(),this.status="playing",this.startTime=this.ac.currentTime,n.addEventListener("ended",o=>{this.musicEnd()})}async pause(){if(this.status==="pause")throw new TypeError("You are trying to pause an already paused music.");await this.ac.suspend(),this.status="pause"}async resume(){if(this.status!=="pause")throw new TypeError("You are trying to resume an already playing music.");await this.ac.resume(),this.status="playing"}async addSound(i,n){const o=await this.ac.decodeAudioData(n);this.sounds[i]=o}playSound(i){if(!Q(this.sounds[i]))return;const n=this.ac.createGain(),o=this.ac.createBufferSource();n.gain.value=this.seVolume,o.buffer=this.sounds[i],o.connect(n),n.connect(this.mainGain),this.mainGain.connect(this.ac.destination),o.start(0)}restart(){this.status="pre",this.musicNode.stop(),this.syncTime(),this.ac.resume(),this.game.time=this.offset}sync(){this.status==="pre"?this.game.time=this.offset:this.game.time=(this.ac.currentTime-this.startTime)*1e3+this.offset}syncTime(){const i=()=>this.sync();this.game.ticker.add(i,!0)}async musicEnd(){this.status!=="pre"&&(await Ni(1e3),this.game.end())}}class hw extends Xo{constructor(i,n){var o,u,l,c,d;super({load:[],start:[],restart:[],pause:[],resume:[],end:[]}),A(this,"audio"),A(this,"mtt"),A(this,"status","pre"),A(this,"time",0),A(this,"length",0),A(this,"ended",!1),A(this,"scoreCalculator",this.defaultScoreCalculator),A(this,"isMobile",window.innerWidth<window.innerHeight),A(this,"target"),A(this,"ctx"),A(this,"ticker",new Jo),A(this,"ac",new fw(this)),A(this,"chart",new Z1(this)),A(this,"renderer",new n_(this)),A(this,"width"),A(this,"height"),A(this,"scale"),A(this,"noteScale",1),A(this,"noteWidth",this.isMobile?200:150),A(this,"drawScale"),A(this,"drawWidth"),A(this,"halfWidth"),A(this,"drawHeight"),A(this,"halfHeight"),A(this,"topWidth"),A(this,"halfTopWidth"),A(this,"multiStroke"),A(this,"perfect",50),A(this,"good",80),A(this,"miss",120);const g=window.devicePixelRatio;if(this.target=i,this.ctx=i.getContext("2d"),this.ctx.save(),i.style.width=`${i.width}px`,i.style.height=`${i.height}px`,setTimeout(()=>{i.width*=g,i.height*=g}),this.width=i.width,this.height=i.height,this.scale=Math.min(this.width/1920,this.height/1080)*g,i.width/i.height!==parseFloat((16/9).toFixed(7))){const m=this.width/1920,w=this.height/1080;if(m<w){const y=i.width*9/16;i.height=y,i.style.height=`${y}px`}else{const y=i.height*16/9;i.width=y,i.style.width=`${y}px`}}this.noteScale=(o=n==null?void 0:n.noteScale)!=null?o:1,this.noteWidth=(u=n==null?void 0:n.noteWidth)!=null?u:this.noteWidth,this.perfect=(l=n==null?void 0:n.perfect)!=null?l:50,this.good=(c=n==null?void 0:n.good)!=null?c:80,this.miss=(d=n==null?void 0:n.miss)!=null?d:120,this.drawScale=this.scale*this.noteScale,this.drawWidth=this.noteWidth*this.drawScale,this.halfWidth=this.drawWidth/2,this.drawHeight=this.drawWidth/10,this.halfHeight=this.drawHeight/2,this.topWidth=this.drawWidth-this.halfHeight*2,this.halfTopWidth=this.topWidth/2,this.multiStroke=this.ctx.createLinearGradient(0,-this.halfHeight,0,this.halfHeight),this.multiStroke.addColorStop(0,"#fff"),this.multiStroke.addColorStop(.5,"#fef267"),this.multiStroke.addColorStop(1,"#fff"),i.addEventListener("touchstart",this.chart.judger.touchstart),i.addEventListener("touchend",this.chart.judger.touchend),this.chart.register("generator","linear",Bi),this.chart.register("generator","bezier",H1),this.chart.register("generator","trigo",V1),this.chart.register("generator","power",q1),this.chart.register("generator","hyper",K1),this.chart.register("generator","inverseTrigo",J1),this.chart.register("generator","shake",X1),this.chart.register("pathG","circle",t_),this.chart.register("pathG","bezier",e_),this.chart.registerExecute("base","r",(m,w)=>w.setRadius(m)),this.chart.registerExecute("base","bpm",(m,w)=>w.setSpeed(m)),this.chart.registerExecute("base","rgba",(m,w)=>w.rgba(...m)),this.chart.registerExecute("base","filter",(m,w)=>w.filter(m)),this.chart.registerExecute("note","speed",(m,w)=>w.setSpeed(m)),this.chart.registerExecute("note","filter",(m,w)=>w.filter(m)),this.chart.registerExecute("note","shadow",(m,w)=>w.shadow(m.x,m.y,m.blur,m.color)),this.chart.registerExecute("note","opacity",(m,w)=>w.opacity(m)),this.chart.registerExecute("camera","css",(m,w)=>w.css(m))}async load(i,n,o,u){const l=Date.now();if(Q(this.audio)||Q(this.mtt))throw new TypeError("The game's music or chart has already been loaded.");const c=[this.loadMusic(i,o),this.loadMTT(n,u)];await Promise.all(c);const d={target:this,type:"load",time:Date.now()-l};this.dispatch("load",d)}async start(i=1e3){if(this.status!=="pre")throw new TypeError("The game has already started or ended.");await Ni(i),this.status="playing",this.ac.play(),this.renderer.start();const n={target:this,type:"start",music:this.ac.audio,mtt:this.mtt};this.dispatch("start",n)}pause(){const i=this.status;if(this.status==="pause")throw new TypeError("The game has already paused.");this.status="pause",this.ac.pause();const n={target:this,type:"pause",from:i,to:this.status};this.dispatch("pause",n)}resume(){const i=this.status;if(this.status==="playing")throw new TypeError("The game has already resumed.");this.status="playing",this.ac.resume();const n={target:this,type:"resume",from:i,to:this.status};this.dispatch("resume",n)}async restart(i=1e3){this.ticker.clear(),this.ctx.restore(),this.ctx.clearRect(0,0,this.target.width,this.target.height),this.renderer.clearEffect(),this.status="pre",this.chart.judger.toJudge=[],this.chart.camera.ticker.destroy(),this.ac.restart(),await this.chart.restart();const n={target:this,type:"restart",music:this.ac.audio,mtt:this.mtt};this.dispatch("restart",n),this.start(i)}end(){if(this.status==="exit")throw new TypeError("The game has already ended.");const i=this.status;this.ticker.destroy(),this.ac.pause(),this.ended=!0,this.status="exit",this.chart.camera.ticker.destroy();const n=this.chart.bases;Object.values(n).forEach(l=>l.ticker.destroy());const o=this.chart.notes;Object.values(o).forEach(l=>l.ticker.destroy());const u={target:this,type:"end",from:i,to:this.status};this.dispatch("end",u)}setOffset(i){if(this.status!=="pre")throw new TypeError("Offset can only be set before the game starts.");this.ac.offset=i}getScore(){const i={...this.getDetail(),length:this.length,maxCombo:this.chart.judger.maxCombo};return this.scoreCalculator(i)}getDetail(){const{perfect:i,good:n,miss:o,early:u,late:l}=this.chart.judger;return{perfect:i,good:n,miss:o,early:u,late:l}}setScoreCalculator(i){this.scoreCalculator=i}async setSound(i,n){const o=await this.post(n,"arraybuffer");await this.ac.addSound(i,o.data)}async post(i,n,o){const u={responseType:n,onDownloadProgress:o};return await lw.get(i,u)}async loadMusic(i,n){const o=await this.post(i,"arraybuffer",n);if(o.status!==200)return this.fail(`Fail to load url [${i}]`,o.status);const u=await this.ac.extract(o.data);this.audio=u}async loadMTT(i,n){const o=await this.post(i,"json",n);if(o.status!==200)return this.fail(`Fail to load url [${i}]`,o.status);this.mtt=o.data,this.chart.extract(this.mtt)}fail(i,n){console.error(`${n}: ${i}`)}defaultScoreCalculator(i){const n=9e5/this.length,o=this.chart.judger,u=o.maxCombo/this.length*1e5;return Math.round(n*o.perfect+n*.5*o.good+u)}}function dw(r,i){return new hw(r,i)}const pw=dw,xn=Jo,Af={},Si={};let El=0;const Te=new AudioContext,Tr=J(0);async function mw(r,i){const n=await kt.get(r,{responseType:"arraybuffer",onDownloadProgress:i}),o=await Te.decodeAudioData(n.data);return Si[r]=o,n}async function An(r,i=!1){const n=Te.createGain(),o=Te.createBufferSource();if(ln.has(Si[r]))o.buffer=Si[r];else{const l=await kt.get(r,{responseType:"arraybuffer"}),c=await Te.decodeAudioData(l.data);Si[r]=c,o.buffer=c}o.loop=i,Af[El]=[o,n],o.connect(n),n.connect(Te.destination),o.start();const u=El++;return r==="/Mutate-HTML/music/mutate.mp3"&&(Tr.value=u),u}function Po(r){const i=Af[r];if(!ln.has(i))throw new ReferenceError("You are trying to get a nonexistent audio.");return i}class gw extends Array{constructor(i,...n){super(`id:${i}`,...n)}clear(){this.splice(1,this.length-1)}check(){return!!/^id:[^_]+\#file:[^]+$/.test(this[0])}}let Oi;function bl(r,i){Oi=new gw(`${r}#file:${i}`)}function vw(r){Oi.push(r)}function yw(r){!Oi.check()||r.append("route",JSON.stringify([...Oi]))}const _w=window.innerWidth<=window.innerHeight,xl=["F","D","C","B","A","S","FC","AP"];function ia(){return it()?{w:window.innerHeight*.95,h:window.innerWidth*.95}:{w:window.innerWidth*.95,h:window.innerHeight*.95}}function it(){return _w}function qn(r){return r<1024?`${r}B`:r<1024**2?`${(r/1024).toFixed(2)}KB`:r<1024**3?`${(r/1024**2).toFixed(2)}MB`:r<1024**4?`${(r/1024**3).toFixed(2)}GB`:`${r}B`}function Io(r){return`${Math.floor(r/60)}:${(r%60).toString().padStart(2,"0")}`}function No(r){return r<7e5?"F":r<8e5?"D":r<85e4?"C":r<9e5?"B":r<95e4?"A":r<1e6?"S":"AP"}function ww(r,i){return xl.indexOf(r)>xl.indexOf(i)}function Ff(r){return r==="F"?"#aaa":r==="AP"?"transparent":r==="FC"?"#66e9ff":r==="AUTO"?"#fc66ff":"#fff"}function xr(r){return r.match(/(F|D|C|B|A|S|FC|AP)$/)[0]}async function Ew(r,i,n,o,u){let l=o;(u==="AP"||u==="FC")&&(l+=` - ${u}`);const c=new FormData;return c.append("type","score"),c.append("name","Mutate"),c.append("version","v0.1"),c.append("platform",Tf()),c.append("hard",Ci(i)),c.append("username",Ci(l)),c.append("ending",Ci(r)),c.append("lv","0"),c.append("hp",n.toString()),c.append("atk","0"),c.append("def","0"),c.append("mdef","0"),c.append("money","0"),c.append("experience","0"),c.append("steps","0"),c.append("norank","0"),c.append("seed","0"),c.append("totalTime","0"),c.append("base64","1"),yw(c),await kt.postForm("/games/upload.php",c)}function Tf(){const r=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];for(const i of r)if(navigator.userAgent.includes(i))return i==="iPhone"||i==="iPad"||i==="iPod"?"IOS":i==="Android"?"Android":"PC";return""}function Ci(r){return btoa(encodeURIComponent(r).replace(/%([0-9A-F]{2})/g,(i,n)=>String.fromCharCode(parseInt(n,16))))}function bw(r){return r==="easy"?"0":r==="normal"?"1":r==="hard"?"2":r==="master"?"3":"0"}function xw(r){if(!location.host.includes("h5mota.com"))return;const i=new FormData;i.append("type","people"),i.append("name","Mutate"),i.append("version","v0.1"),i.append("platform",Tf()),i.append("hard",Ci(r)),i.append("hardCode",bw(r)),i.append("base64","1"),kt.postForm("/games/upload.php",i)}async function Aw(){var r;try{const n=(await kt.get("/backend/user/getScore.php?tower=Mutate")).data;if(n.code==="-1")return alert("\u5F53\u524D\u672A\u767B\u5F55\uFF01"),!1;if(n.code==="-2")throw alert("\u672A\u77E5\u9519\u8BEF\uFF1A\u5854\u540D\u4E0D\u5339\u914D\uFF01"),new TypeError("Unexpected mismatch of tower name.");const o=n.res,u={easy:{},normal:{},hard:{},master:{}};for(const l of o){if(Number(l.verify)!==-1)continue;const c=l.hard,d=l.ending,g=parseFloat(l.hp);g>((r=u[c][d])!=null?r:0)&&(u[c][d]=g)}for(const l in u)for(const c in u[l]){const d=u[l][c];c==="\u6559\u7A0B"?localStorage.setItem("@mutate:score-\u6559\u7A0B",`${d.toString()}${No(d)}`):localStorage.setItem(`@mutate:score-${c}-${l}`,`${d.toString()}${No(d)}`)}}catch(i){return console.error(i),!1}return!0}const Fw=Nt({__name:"cover",setup(r){qe.config({top:"100px",duration:3});const i=dy("select");let n=new xn;function o(){const u=document.getElementById("cover");u.style.opacity="0",u.addEventListener("transitionend",l=>{i.value=!0,n.destroy(),location.host.includes("h5mota.com")?localStorage.getItem("@mutate:autoUpload")==="true"?qe.success({class:"auto-upload-green",content:"\u5DF2\u5F00\u542F\u81EA\u52A8\u4E0A\u4F20\u6210\u7EE9\u529F\u80FD\uFF01"}):qe.warn({content:"\u672A\u5F00\u542F\u81EA\u52A8\u4E0A\u4F20\u6210\u7EE9\u529F\u80FD\uFF01",class:"auto-upload-yellow"}):qe.warn({content:"\u5F53\u524D\u7F51\u5740\u4E0D\u5728h5mota.com\uFF0C\u5C06\u65E0\u6CD5\u4F53\u9A8C\u4E91\u5B58\u6863\u7B49\u529F\u80FD",class:"auto-upload-yellow"})})}return Ce(async()=>{await Ot.sleep(500);const u=document.getElementById("cover"),l=u.getContext("2d");Tr.value=await An("/Mutate-HTML/music/mutate.mp3",!0);const c=Te.currentTime;u.style.border="1px solid #fff",u.style.opacity="1";const{w:d,h:g}=ia(),m=window.devicePixelRatio,{w,h:y}={w:d*m,h:g*m};u.width=w,u.height=y;let F=110,x=1.5;const C=[],P=j=>{for(let I=0;I<j;I++){let R,O;const X=~~(Math.random()*4);let W;X===1?(R=0,O=Math.random()*y,W=(Math.random()-.5)*Math.PI*.6):X===2?(R=w,O=Math.random()*y,W=(Math.random()+.5)*Math.PI*.6):X===3?(O=0,R=Math.random()*w,W=Math.random()*Math.PI*.6):(O=y,R=Math.random()*w,W=(Math.random()-1)*Math.PI*.6);const wt=Math.cos(W),$t=Math.sin(W),Zt=Math.random()*10+50,At=`rgba(${~~(Math.random()*255)}, ${~~(Math.random()*255)}, ${~~(Math.random()*255)}, 0.5)`;C.push({x:R,y:O,r:Zt,vx:wt,vy:$t,color:At})}};P(20),l.save(),n.add(j=>{l.restore(),l.save(),l.clearRect(0,0,u.width,u.height);const I=Te.currentTime*1e3;j<1e3?(u.style.filter=`blur(${5-j/200}px)`,F=55-j/20,x=1+2*(j/2e3-.5)**2):(F=3,x=1,u.style.filter=""),C.length<30&&P(1);const R=(~~I-c)%462;let O=0;R>362&&(O=(R-362)/100),R<100&&(O=1-R/100),l.filter="blur(25px)";for(let X=0;X<C.length;X++){const W=C[X];if(W.x+=W.vx*F,W.y+=W.vy*F,W.x<0-W.r||W.x>u.width+W.r||W.y<0-W.r||W.y>u.height+W.r){C.splice(X,1),X--;continue}l.fillStyle=W.color,l.beginPath(),l.arc(W.x,W.y,W.r,0,Math.PI*2),l.closePath(),l.fill()}l.filter="none",l.shadowColor="#3df0ff",l.shadowBlur=8,l.shadowOffsetX=2,l.shadowOffsetY=2,l.textAlign="center",l.fillStyle="#f78fff",l.strokeStyle="#3df0ff",l.font=`${x*12+O*m}em normal`,l.filter=`blur(${(F-10)/10}px)`,l.fillText("MUTATE",u.width/2,u.height/2),l.strokeText("MUTATE",u.width/2,u.height/2),l.fillStyle="#fff",l.shadowBlur=0,l.shadowColor="",l.shadowOffsetX=0,l.shadowOffsetY=0,l.font="2em normal",l.fillText("\u70B9\u51FB\u5F00\u59CB\u6E38\u620F",u.width/2,u.height/2+40)})}),(u,l)=>(nt(),gt("canvas",{id:"cover",onClick:o}))}});const Wt=(r,i)=>{const n=r.__vccOpts||r;for(const[o,u]of i)n[o]=u;return n},Tw=Wt(Fw,[["__scopeId","data-v-9e8cfd63"]]);Array.prototype.at||(Array.prototype.at=function(r){return r>=0?this[r]:this[this.length+r]});const Sf={};async function Sw(r,i){await kt.get(r,{onDownloadProgress:i});const n=new Image;return n.src=r,await new Promise(o=>{n.addEventListener("load",u=>o("success"))}),Sf[r.split("/").at(-1)]=n,n}const Cw=r=>(Lo("data-v-52b8738d"),r=r(),Uo(),r),kw={key:0,id:"start-load"},Bw=Cw(()=>H("canvas",{id:"loading"},null,-1)),Dw={key:1,id:"start-page"},Ow=Nt({__name:"start",setup(r){const i=J(!1),n=J(0),o=4001031,u=J(0);let l={};const c="/Mutate-HTML/";function d(){const w=Object.values(l).reduce((y,F)=>y+F,0);n.value=parseFloat((w/o*100).toFixed(2)),u.value=w}async function g(){const w=[m(`${c}music/mutate.mp3`,0,"arraybuffer"),m(`${c}se/tap.wav`,1,"arraybuffer"),m(`${c}se/drag.wav`,2,"arraybuffer"),m(`${c}se/pause.mp3`,2,"arraybuffer"),m(`${c}image/base1.png`,3,"arraybuffer"),m(`${c}image/base2.png`,4,"arraybuffer"),m(`${c}image/base3.png`,5,"arraybuffer"),(async()=>{const y=await m(`${c}font/normal.ttf`,6,"arraybuffer"),F=new FontFace("normal",y.data);await F.load(),document.fonts.add(F)})()];await Promise.all(w),n.value=100}async function m(w,y,F){const x=C=>{l[y]=C.loaded,d()};return w.endsWith(".mp3")||w.endsWith(".wav")?await mw(w,x):w.endsWith(".png")||w.endsWith(".jpg")||w.endsWith(".jpeg")?await Sw(w,x):await kt.get(w,{responseType:F,onDownloadProgress:x})}return Ce(async()=>{const w=new xn,y=document.getElementById("loading"),F=y.getContext("2d");setTimeout(()=>{y.style.opacity="1",y.style.width="80%",y.style.height="80%",y.style.filter="none"},50),it()?(y.width=window.innerHeight*.95,y.height=window.innerWidth*.95):(y.width=window.innerWidth*.95,y.height=window.innerHeight*.95),F.strokeStyle="#eee",F.lineWidth=5,F.lineCap="round",w.add(x=>{const C=Math.PI*x/700,P=y.width,j=y.height,I=P/2,R=j/2;F.clearRect(0,0,y.width,y.height),F.beginPath(),F.arc(I,R,Math.min(P,j)/16,0,Math.PI*2),F.strokeStyle="#444",F.stroke(),F.beginPath(),F.arc(I,R,Math.min(P,j)/16,C,C+Math.PI/2),F.strokeStyle="#eee",F.stroke(),F.closePath(),F.textAlign="center",F.font="normal 4em Verdana",F.fillStyle="#eee",F.fillText(`loading${".".repeat(Math.floor(x/800)%4)}`,I,R+R/2),F.textAlign="right",F.font=`normal ${it()?1:2}em Verdana`,F.fillText(`${qn(u.value)} / ${qn(o)}`,y.width-30,y.height-30)}),await g(),n.value=100,y.style.opacity="0",y.style.width="100%",y.style.height="100%",y.style.filter="blur(5px)",d(),y.addEventListener("transitionend",async()=>{i.value||(i.value=!0,w.destroy())})}),(w,y)=>{const F=Sl;return nt(),gt(ki,null,[i.value?Gt("",!0):(nt(),gt("div",kw,[Bw,z(F,{percent:n.value,style:{width:"90%"}},null,8,["percent"])])),i.value?(nt(),gt("div",Dw,[z(Tw)])):Gt("",!0)],64)}}});const $w=Wt(Ow,[["__scopeId","data-v-52b8738d"]]);const Rw=["id"],jw=Nt({__name:"scroll",props:{total:null,scroll:null,id:null},emits:["update:scroll"],setup(r,{emit:i}){const n=r;let o,u=!1,l=n.scroll;function c(d=n.scroll){l=d;const g=n.total;if(g===0)return;l>g&&(console.warn("\u5F53\u524D\u6EDA\u52A8\u6761\u4F4D\u7F6E\u5927\u4E8E\u4E86\u603B\u957F\u5EA6"),l=g);const m=Math.min(o.canvas.height/g,1)*o.canvas.height,w=l/g*o.canvas.height;o.clearRect(0,0,o.canvas.width,o.canvas.height),o.beginPath(),o.moveTo(20,Math.max(w+5,5)),o.lineTo(20,Math.min(w+m-5,o.canvas.height-5)),o.lineCap="round",o.lineWidth=6,o.strokeStyle="#fff",o.stroke()}return $i(()=>{c()}),Ce(()=>{const d=document.getElementById(`scroll-${n.id}`);o=d.getContext("2d");const g=getComputedStyle(d);d.width=40,d.height=parseFloat(g.height),c(),d.addEventListener("mousedown",m=>{u=!0}),document.addEventListener("mouseup",m=>{u=!1,d.height<n.total&&i("update:scroll",l)}),document.addEventListener("mousemove",m=>{if(!u)return;const w=m.movementY;d.height<n.total&&(c(w+l),i("update:scroll",l+w))})}),(d,g)=>(nt(),gt("canvas",{id:`scroll-${n.id}`,class:"scroll"},null,8,Rw))}});const Cf=Wt(jw,[["__scopeId","data-v-9521ae37"]]),Pw={\u6559\u7A0B:["\u6559\u7A0B"],\u5355\u66F2:["\u7075","\u7FBD\u30CE\u4EA1\u30AD\u8776"]},Se={\u6559\u7A0B:{file:{music:"mutate.mp3",image:"mutate.png",chart:{easy:"tutorial.mtt",normal:"tutorial.mtt",hard:"tutorial.mtt"}},author:"\u53E4\u7960",chart:"\u53E4\u7960",duration:108,hard:{easy:2,normal:2,hard:2}},\u7075:{file:{music:"1.mp3",image:"1.jpg",chart:{easy:"1_1.mtt",normal:"1_2.mtt",hard:"1_3.mtt"}},author:"\u5F31\u9E21\u7EFF\u6BDB\u602A",chart:"\u53E4\u7960",duration:158,hard:{easy:4,normal:9,hard:13}},\u7FBD\u30CE\u4EA1\u30AD\u8776:{file:{music:"2.mp3",image:"3.png",chart:{easy:"2_1.mtt",normal:"2_1.mtt",hard:"2_1.mtt"}},author:"\u771F\u7406\u7D75\u30FB\u971C\u6708\u306F\u308B\u304B",chart:"\u518D\u9876",duration:135,hard:{easy:9,normal:9,hard:9}}},Iw={id:"leftbar"},Nw={id:"song-selector"},Mw={id:"song-menu"},Lw=Nt({__name:"select-leftbar",props:{selectedKeys:null,openKeys:null,scroll:null,hard:null},emits:["update:selectedKeys","update:openKeys"],setup(r,{emit:i}){const n=r;let o,u,l;const c=J(n.selectedKeys),d=J(n.openKeys),g=J(parseFloat(n.scroll)),m=J(0);Xn(g,F=>y(F));async function w(F=0){await Ot.sleep(F);const x=getComputedStyle(u),C=getComputedStyle(o);m.value=parseFloat(x.height)+2*parseFloat(C.padding)}function y(F){if(parseFloat(getComputedStyle(l).height)>=m.value)return;const x=parseFloat(getComputedStyle(l).height);F+x>=m.value?(g.value=m.value-x,u.style.top=`${-g.value}px`):F<=0?(g.value=0,u.style.top="0px"):(g.value=F,u.style.top=`${-F}px`)}return $i(()=>{c.value=n.selectedKeys,d.value=n.openKeys,localStorage.setItem("@mutate:select",`${d.value.join(",")}@@${c.value[0]}@@${g.value}@@${n.hard}`)}),Ce(()=>{o=document.getElementById("leftbar"),u=document.getElementById("song-menu"),l=document.getElementById("leftbar"),w(),o.addEventListener("wheel",x=>{if(parseFloat(getComputedStyle(l).height)>=m.value)return;const C=Math.sign(x.deltaY)*100;g.value+=C,y(g.value)});let F=0;o.addEventListener("touchstart",x=>{const C=x.touches[0];F=it()?C.clientX:C.clientY}),o.addEventListener("touchmove",x=>{if(x.preventDefault(),parseFloat(getComputedStyle(l).height)>=m.value)return;const C=x.touches[0],P=it()?C.clientX:C.clientY;g.value+=P-F,y(g.value),F=P})}),(F,x)=>{const C=kl,P=py,j=Cl,I=Yn;return nt(),gt("div",Iw,[H("div",Nw,[H("div",Mw,[z(j,{mode:"inline",theme:"dark",openKeys:d.value,"onUpdate:openKeys":x[1]||(x[1]=R=>d.value=R),selectedKeys:c.value,"onUpdate:selectedKeys":x[2]||(x[2]=R=>c.value=R),onOpenChange:x[3]||(x[3]=R=>i("update:openKeys",d.value)),onSelect:x[4]||(x[4]=R=>i("update:selectedKeys",c.value)),style:pt({"font-size":L(it)()?"1em":"1.5em"})},{default:dt(()=>[(nt(!0),gt(ki,null,So(L(Pw),(R,O)=>(nt(),ge(P,{key:O,onTitleClick:x[0]||(x[0]=X=>w(300))},{title:dt(()=>[qt(ut(O),1)]),default:dt(()=>[(nt(!0),gt(ki,null,So(R,(X,W)=>(nt(),ge(C,{key:X,style:pt({"font-size":L(it)()?"1em":"1.5em"})},{default:dt(()=>[qt(ut(X)+"\xA0-\xA0"+ut(L(Se)[X].author),1)]),_:2},1032,["style"]))),128))]),_:2},1024))),128))]),_:1},8,["openKeys","selectedKeys","style"])])]),z(Cf,{id:"select",scroll:g.value,"onUpdate:scroll":x[5]||(x[5]=R=>g.value=R),total:m.value},null,8,["scroll","total"]),z(I,{style:{"border-color":"#ddd4",height:"96%",top:"2%",margin:"0","margin-right":"8px"},type:"vertical",dashed:""})])}}});const Uw=Wt(Lw,[["__scopeId","data-v-8440b7f4"]]),Ww={id:"song-image"},zw={id:"song-top-info"},Hw=["src"],Vw=Nt({__name:"select-songimage",props:{selectedKeys:null},emits:["openSetting"],setup(r,{emit:i}){const n=r,o=J(n.selectedKeys),u=it()?window.innerHeight:window.innerWidth;function l(c){return`/Mutate-HTML/image/${c}`}return $i(()=>{o.value=n.selectedKeys}),(c,d)=>{const g=Yn;return nt(),gt("div",Ww,[H("div",zw,[H("span",{id:"song-name",style:pt({"font-size":L(it)()?`${L(u)/800}em`:`${L(u)/600}em`})},ut(o.value[0]),5),z(L(my),{id:"settings",style:pt({"margin-top":"2%","margin-right":"5%",transform:`scale(${L(u)/9}%)`,cursor:"pointer",transition:"all 0.2s linear"}),onClick:d[0]||(d[0]=m=>i("openSetting"))},null,8,["style"])]),z(g,{style:{"border-color":"#ddd4",margin:"0"},dashed:""}),H("img",{src:l(L(Se)[o.value[0]].file.image),id:"image"},null,8,Hw)])}}});const qw=Wt(Vw,[["__scopeId","data-v-cba294a0"]]);const Kw={id:"info"},Jw={id:"hard"},Xw={id:"song-info"},Yw={id:"music"},Gw={id:"chart"},Qw={id:"chart"},Zw={id:"score"},tE={id:"score-num"},eE={id:"start"},nE=Nt({__name:"select-songinfo",props:{selectedKeys:null,hard:null},emits:["play","update:hard"],setup(r,{emit:i}){const n=r,o=J(n.hard),u=J(!1),l=Bl(()=>y(o.value)),c=J(n.selectedKeys),d=it()?window.innerHeight:window.innerWidth;function g(x){o.value=x}Xn(o,x=>{i("update:hard",x)});function m(){var C;if(c.value[0]==="\u6559\u7A0B")return((C=localStorage.getItem("@mutate:score-\u6559\u7A0B"))!=null?C:"0F").padStart(8,"0");let x=localStorage.getItem(`@mutate:score-${c.value[0]}-${o.value}`);return x||(x="0F"),x.padStart(8,"0")}function w(){return c.value[0]!=="\u6559\u7A0B"?localStorage.getItem(`@mutate:score-${c.value[0]}-${o.value}`)!==null:localStorage.getItem("@mutate:score-\u6559\u7A0B")!==null}function y(x){return x==="easy"?"#348f00":x==="normal"?"#b8b400":x==="hard"?"#7a0003":"#8f008a"}function F(){i("play",{music:c.value[0],hard:o.value,auto:u.value})}return $i(()=>{c.value=n.selectedKeys}),(x,C)=>{const P=Ri,j=Yn,I=vy;return nt(),gt("div",Kw,[H("div",Jw,[(nt(!0),gt(ki,null,So(L(Se)[c.value[0]].hard,(R,O)=>(nt(),ge(P,{key:O,type:O===o.value?"primary":"default",size:"large",style:pt({height:L(it)()?"50%":"100%",margin:"1%","font-size":L(it)()?`${L(d)/1e3}em`:`${L(d)/550}em`,"text-align":"center","vertical-align":"middle","line-height":"100%","background-color":`${o.value===O?L(l):"transparent"}`}),onClick:X=>g(O)},{default:dt(()=>[qt(ut(O)+"\xA0-\xA0"+ut(R),1)]),_:2},1032,["type","style","onClick"]))),128))]),z(j,{style:{"border-color":"#ddd4","margin-bottom":"1%"},dashed:""}),H("div",Xw,[H("span",Yw,"\u66F2\u5E08\xA0\xA0\xA0\xA0"+ut(L(Se)[c.value[0]].author),1),H("span",Gw,"\u8C31\u5E08\xA0\xA0\xA0\xA0"+ut(L(Se)[c.value[0]].chart),1),H("span",Qw,"\u65F6\u957F\xA0\xA0\xA0\xA0"+ut(L(Io)(L(Se)[c.value[0]].duration)),1)]),z(j,{style:{"border-color":"#ddd4",margin:"1%"},dashed:""}),H("div",Zw,[H("span",tE,"\u6210\u7EE9\xA0\xA0\xA0\xA0"+ut(m().match(/^[0-9]+/)[0]),1),H("span",{id:"rank",style:pt({color:L(Ff)(w()?L(xr)(m()):"F"),background:L(xr)(m())==="AP"?"linear-gradient(0.25turn, #3f87a6, #ebf8e1, gold, #3f87a6)":"","background-clip":L(xr)(m())==="AP"?"text":"",WebkitBackgroundClip:L(xr)(m())==="AP"?"text":""})},ut(w()?L(xr)(m()):""),5)]),z(j,{style:{"border-color":"#ddd4",margin:"1%"},dashed:""}),H("div",eE,[z(I,{checked:u.value,"onUpdate:checked":C[0]||(C[0]=R=>u.value=R),style:pt({"font-size":L(it)()?`${L(d)/3e3}em`:`${L(d)/1500}em`,"margin-left":"3%"})},{default:dt(()=>[qt("\u81EA\u52A8\u64AD\u653E")]),_:1},8,["checked","style"]),z(P,{style:{width:"50%",height:"80%","background-color":"#ccc"},onClick:F},{default:dt(()=>[z(L(gy),{style:pt({transform:`scale(${L(d)/4}%)`,color:"#000"})},null,8,["style"])]),_:1})])])}}});const rE=Wt(nE,[["__scopeId","data-v-78bcef01"]]),iE={id:"rightbar"},sE=Nt({__name:"select",emits:["start","setting"],setup(r,{emit:i}){let n=localStorage.getItem("@mutate:select");n||(localStorage.setItem("@mutate:select","\u6559\u7A0B@@\u6559\u7A0B@@0@@easy"),n="\u6559\u7A0B@@\u6559\u7A0B@@0@@easy");const o=n.split("@@"),u=J(o[0].split(",")),l=J([o[1]]),c=J(o[3]),d=it()?window.innerHeight:window.innerWidth;let g,m,w,y;const F=Bl(()=>x(c.value));function x(j){return j==="easy"?"#348f00":j==="normal"?"#b8b400":j==="hard"?"#7a0003":"#8f008a"}async function C(j){g.style.opacity="0";const I=new xn,[R,O]=Po(Tr.value);I.add(X=>{O.gain.value=(700-X)/700}),await Ot.sleep(700),I.destroy(),R.stop(),xw(c.value),i("start",j)}async function P(){g.style.opacity="0";const j=new xn,[I,R]=Po(Tr.value);j.add(O=>{R.gain.value=(700-O)/700}),await Ot.sleep(700),j.destroy(),I.stop(),i("setting")}return Ce(async()=>{await Ot.sleep(200),g=document.getElementById("select"),m=document.getElementById("song-info"),w=document.getElementById("score-num"),y=document.getElementById("rank");const j=it()?window.innerHeight/window.innerWidth:window.innerWidth/window.innerHeight;m.style.fontSize=it()?`${d/1e3}em`:`${d/900}em`,g.style.opacity="1",y.style.fontSize=it()?`${d/800}em`:`${d/600}em`,w.style.fontSize=it()?`${d/1e3}em`:`${d/800}em`;const{w:I,h:R}=ia();if(j>16/9){const O=R*16/9,W=(parseFloat(getComputedStyle(g).width)-O)/2;g.style.paddingLeft=`${W}px`,g.style.paddingRight=`${W}px`}if(j<16/9){const O=I*9/16,W=(parseFloat(getComputedStyle(g).height)-O)/2;g.style.paddingTop=`${W}px`,g.style.paddingBottom=`${W}px`}}),(j,I)=>{const R=Yn;return nt(),gt("div",{id:"select",style:pt({"background-color":`${L(F)}22`})},[z(Uw,{selectedKeys:l.value,"onUpdate:selectedKeys":I[0]||(I[0]=O=>l.value=O),openKeys:u.value,"onUpdate:openKeys":I[1]||(I[1]=O=>u.value=O),hard:c.value,scroll:L(o)[2]},null,8,["selectedKeys","openKeys","hard","scroll"]),H("div",iE,[z(qw,{selectedKeys:l.value,onOpenSetting:P},null,8,["selectedKeys"]),z(R,{style:{"border-color":"#ddd4",height:"100%"},type:"vertical",dashed:""}),z(rE,{selectedKeys:l.value,hard:c.value,"onUpdate:hard":I[2]||(I[2]=O=>c.value=O),onPlay:C},null,8,["selectedKeys","hard"])])],4)}}});const oE=Wt(sE,[["__scopeId","data-v-4c00684d"]]);let Mo=!1;function aE(r){r.renderer.setNote("tap",cE),r.renderer.setNote("drag",lE),r.renderer.setNote("hold",fE),r.renderer.setBase(hE),r.chart.camera.setGlobalEffects(dE),localStorage.getItem("@mutate:highPerformance")==="true"?Mo=!0:Mo=!1}function uE(r){const i=r.target,n=r.ctx,o=i.game,u=n.canvas;n.save(),n.textBaseline="top",n.fillStyle="#fff",n.textAlign="right",n.font="100 50px normal",n.fillText(o.getScore().toString().padStart(7,"0"),u.width-20,15);const l=o.chart.judger.combo;n.beginPath(),n.moveTo(0,0),n.lineTo(u.width*i.game.time/1e3/i.game.ac.audio.duration,0),n.lineCap="square",n.lineWidth=8,n.stroke();const c=`${Io(Math.floor(i.game.time/1e3))} / ${Io(Math.floor(i.game.ac.audio.duration+1))}`;n.textAlign="left",n.font="100 30px normal",n.fillText(c,80,10),!(l<3&&!i.game.chart.judger.auto)&&(n.textAlign="center",n.font="100 70px normal",n.fillText(`${l}`,u.width/2,10),n.font="100 50px normal",i.game.chart.judger.auto?n.fillText("autoplay",u.width/2,60):n.fillText("combo",u.width/2,60),n.restore())}function cE(r){kf.call(this,r,"#00d2eb")}function lE(r){kf.call(this,r,"#f500d6")}function fE(r){}function kf(r,i){if(r.destroyed||ln.has(r.noteTime)&&this.game.time>r.noteTime+r.missTime||!r.inited)return;const[n,o,u]=r.calPosition();if(isNaN(n)||!this.inGame(n,o,this.game.drawWidth/2))return;const l=r.rad+r.angle*Math.PI/180,c=this.game.ctx,d=this.game.halfWidth,g=this.game.halfTopWidth,m=this.game.halfHeight,w=this.game.multiStroke,y=r.custom.opacity;c.save(),c.translate(n*this.game.scale,o*this.game.scale),c.rotate(l+Math.PI/2),c.filter=r.ctxFilter,c.strokeStyle="#fff",c.fillStyle=i,c.lineWidth=4*this.game.drawScale,r.multi&&(c.shadowColor="gold",c.strokeStyle=w),c.globalAlpha=y,u<r.base.custom.radius&&(c.globalAlpha=u/r.base.custom.radius*y),c.beginPath(),c.moveTo(-d,0),c.lineTo(-g,-m),c.lineTo(g,-m),c.lineTo(d,0),c.lineTo(g,m),c.lineTo(-g,m),c.closePath(),c.fill(),c.stroke(),c.restore()}function hE(r){if(!this.inGame(r.x,r.y)||!r.inited)return;const i=r.calRad()+r.angle*Math.PI/180;let n="";r.id.endsWith("-j")&&(n="base1.png"),r.id.endsWith("-i1")&&(n="base2.png"),r.id.endsWith("-i2")&&(n="base3.png");const o=Sf[n];if(!o)return;const u=this.game.ctx,l=this.game.scale,c=r.x*l,d=r.y*l,g=r.custom.radius*l,{a:m}=r.custom;u.save(),u.translate(c,d),n!=="base1.png"&&u.rotate(i+Math.PI),r.ctxFilter.length>0&&(u.filter=r.ctxFilter),u.globalAlpha=m,u.drawImage(o,-g,-g,g*2,g*2),u.restore()}function dE(r){const i=r.target,n=r.game.scale,o=960*n,u=540*n,l=r.x*n,c=r.y*n;i.translate(-l+o,-c+u),i.rotate(r.angle*Math.PI/180),i.scale(r.size,r.size),i.translate(-o,-u),Mo||(i.shadowBlur=4,i.shadowColor="black")}const pE={id:"settle"},mE=["src"],gE={id:"song-name"},vE={id:"name"},yE={id:"song-detail"},_E={id:"detail-left"},wE={id:"detail-right"},EE={id:"buttons"},bE=Nt({__name:"settle",props:{auto:{type:Boolean},hard:null,song:null,score:null,detail:null,maxCombo:null},emits:["exit"],setup(r,{emit:i}){var y,F;const n=r,o=J(!1),u=J(!1),l=J(n.auto?"\u81EA\u52A8\u64AD\u653E":"\u4E0A\u4F20\u6210\u7EE9"),c=localStorage.getItem("@mutate:autoUpload")==="true";function d(x){return`/Mutate-HTML/image/${x}`}const g=J("D");if(n.detail.miss>0?g.value=No(n.score):n.detail.good>0?g.value="FC":g.value="AP",!n.auto){let x=(y=localStorage.getItem(`@mutate:score-${n.song}-${n.hard}`))!=null?y:"0F";n.song==="\u6559\u7A0B"&&(x=(F=localStorage.getItem("@mutate:score-\u6559\u7A0B"))!=null?F:"0F");const C=parseFloat(x.match(/^[0-9]+/)[0]),P=x.match(/(F|D|C|B|A|S|AP|FC)$/)[0],j=n.score>C?n.score:C,I=ww(g.value,P)?g.value:P;n.song==="\u6559\u7A0B"?localStorage.setItem("@mutate:score-\u6559\u7A0B",`${j}${I}`):localStorage.setItem(`@mutate:score-${n.song}-${n.hard}`,`${j}${I}`)}async function m(){const x=document.getElementById("settle");x.style.transition="opacity 0.6s linear",await Ot.sleep(50),x.style.opacity="0",await Ot.sleep(600),i("exit")}async function w(x=!1){if(!location.host.includes("h5mota.com")){u.value=!0,l.value="\u65E0\u6CD5\u4E0A\u4F20",qe.warn("\u5F53\u524D\u4E0D\u5728h5mota.com\uFF0C\u65E0\u6CD5\u4E0A\u4F20\u6210\u7EE9");return}if(n.auto)return l.value="\u81EA\u52A8\u64AD\u653E",u.value=!0,x?void 0:qe.error("\u81EA\u52A8\u64AD\u653E\u4E0D\u80FD\u4E0A\u4F20\u6210\u7EE9\uFF01");const C=document.cookie.match(new RegExp("(^| )id=([^;]+)"));if(!ln.has(C)||C[2]==="")return localStorage.setItem("@mutate:autoUpload","false"),u.value=!0,qe.error("\u7528\u6237\u672A\u767B\u5F55\uFF0C\u5DF2\u5173\u95ED\u81EA\u52A8\u4E0A\u4F20\u6210\u7EE9\u7684\u529F\u80FD\uFF01\u767B\u5F55\u540E\u53EF\u4EE5\u4E0A\u4F20\u6210\u7EE9\uFF0C\u5E76\u4F53\u9A8C\u6062\u590D\u5B58\u6863\u529F\u80FD\uFF01");o.value=!0,l.value="\u4E0A\u4F20\u4E2D",await Ew(n.song,n.hard,n.score,C[2],g.value),l.value="\u4E0A\u4F20\u6210\u529F",n.auto||qe.success({content:"\u6210\u7EE9\u5DF2\u81EA\u52A8\u4E0A\u4F20\uFF01",class:"auto-upload-green"}),o.value=!1,u.value=!0}return Ce(async()=>{await Ot.sleep(200);const x=document.getElementById("settle");An("/Mutate-HTML/music/mutate.mp3",!0),x.style.opacity="1",x.style.filter="none",c&&w(!0)}),(x,C)=>{const P=Yn,j=Ri;return nt(),gt("div",pE,[H("img",{id:"settle-img",src:d(L(Se)[r.song].file.image)},null,8,mE),H("div",{id:"settle-right",style:pt({"font-size":L(it)()?"2.5vh":"2.5vw"})},[H("div",gE,[H("span",vE,ut(r.song),1),H("span",null,ut(r.hard)+"\xA0\xA0\xA0\xA0Lv.\xA0"+ut(L(Se)[r.song].hard[r.hard]),1)]),z(P,{dashed:"",style:{width:"100%",margin:"0"}}),H("div",{id:"song-score",style:pt({"font-size":L(it)()?"4vh":"4vw"})},[H("span",null,ut(r.score.toString().padStart(6,"0")),1),H("span",{id:"rank",style:pt({color:L(Ff)(r.auto?"AUTO":g.value),background:g.value==="AP"?"linear-gradient(0.25turn, #3f87a6, #ebf8e1, gold, #3f87a6)":"","background-clip":g.value==="AP"?"text":"",WebkitBackgroundClip:g.value==="AP"?"text":""})},ut(r.auto?"AUTO":g.value),5)],4),z(P,{dashed:"",style:{width:"100%",margin:"0"}}),H("div",yE,[H("div",_E,[H("span",null,ut(r.detail.perfect)+"\xA0\xA0\xA0\xA0\u5B8C\u7F8E",1),H("span",null,ut(r.detail.good)+"\xA0\xA0\xA0\xA0\u826F\u597D",1),H("span",null,ut(r.detail.miss)+"\xA0\xA0\xA0\xA0\u9519\u8FC7",1)]),z(P,{type:"vertical",dashed:"",style:{height:"100%","border-color":"#ddd4"}}),H("div",wE,[H("span",null,"\u63D0\u524D\xA0\xA0\xA0\xA0"+ut(r.detail.early),1),H("span",null,"\u8FC7\u665A\xA0\xA0\xA0\xA0"+ut(r.detail.late),1),H("span",null,"\u6700\u5927\u8FDE\u51FB\xA0\xA0\xA0\xA0"+ut(r.maxCombo),1)])]),z(P,{dashed:"",style:{width:"100%",margin:"0 0 10% 0"}}),H("div",EE,[z(j,{id:"upload",style:pt({"font-size":L(it)()?"2vh":"2vw"}),loading:o.value,disabled:u.value,onClick:C[0]||(C[0]=I=>w(!1))},{default:dt(()=>[z(L(yy)),H("span",null,ut(l.value),1)]),_:1},8,["style","loading","disabled"]),z(j,{id:"confirm",style:pt({"font-size":L(it)()?"3vh":"3vw"}),onClick:m},{default:dt(()=>[z(L(_y))]),_:1},8,["style"])])],4)])}}});const xE=Wt(bE,[["__scopeId","data-v-5509aa83"]]);function AE(r){r.renderer.on("after",FE)}function FE(r){const i=r.target,n=r.ctx,o=i.game.time;n.save(),n.fillStyle="#fff",n.textAlign="center",n.textBaseline="middle",n.font=`${n.canvas.width/40}px normal`,o>=1e3&&o<=5e3&&TE(n,o),o>=6e3&&o<=1e4&&SE(n,o),o>=15e3&&o<=19e3&&CE(n,o),o>=24e3&&o<=28e3&&kE(n,o),o>=37e3&&o<=41e3&&BE(n,o),o>=52e3&&o<=56e3&&DE(n,o),o>=73e3&&o<=77e3&&OE(n,o),o>=88e3&&o<=92e3&&$E(n,o),o>=93e3&&o<=97e3&&RE(n,o),n.restore()}function Xe(r,i,n,o){const u=2-Math.abs(o-n)/1e3;r.globalAlpha=u,r.fillText(i,r.canvas.width/2,r.canvas.height/3)}function TE(r,i){Xe(r,"\u6B22\u8FCE\u6765\u5230Mutate\uFF01\u4E0B\u9762\u4F60\u5C06\u6765\u5B66\u4E60\u6E38\u620F\u7684\u57FA\u672C\u73A9\u6CD5",i,3e3)}function SE(r,i){Xe(r,`\u9996\u5148\u662Ftap\u97F3\u7B26\uFF0C\u4F60\u53EA\u9700\u8981\u5728\u5B83\u5230\u8FBE\u5224\u5B9A\u5708\u5916\u5708\u7684\u65F6\u523B${it()?"\u70B9\u51FB\u5C4F\u5E55\u4EFB\u610F\u4F4D\u7F6E":"\u6309\u4E0B\u4EFB\u610F\u6309\u952E"}\u5373\u53EF`,i,8e3)}function CE(r,i){Xe(r,`\u5F88\u597D\uFF01\u4E0B\u9762\u662Fdrag\u97F3\u7B26\uFF0C\u4F60\u53EA\u9700\u8981\u5728\u5B83\u5230\u8FBE\u5224\u5B9A\u5708\u7684\u65F6\u523B${it()?"\u6709\u624B\u6307\u6309\u5728\u5C4F\u5E55\u4E0A":"\u6709\u6309\u952E\u88AB\u6309\u4F4F"}\u5373\u53EF`,i,17e3)}function kE(r,i){Xe(r,"\u8FD9\u662F\u6700\u57FA\u7840\u7684\u73A9\u6CD5\uFF0C\u9664\u6B64\u4E4B\u5916\uFF0C\u97F3\u7B26\u8FD8\u53EF\u80FD\u4ECE\u5404\u4E2A\u65B9\u5411\u800C\u6765",i,26e3)}function BE(r,i){Xe(r,"\u57FA\u5730\u7684\u5927\u5C0F\u4E5F\u53EF\u4EE5\u968F\u610F\u6539\u53D8",i,39e3)}function DE(r,i){Xe(r,"\u57FA\u5730\u8FD8\u53EF\u4EE5\u79FB\u52A8\u3001\u900F\u660E\u3001\u6D88\u5931\uFF0C\u751A\u81F3\u662F\u62C6\u5206\u5F00\uFF0C\u4F46\u672C\u4F53\u4E00\u5B9A\u662F\u5224\u5B9A\u5708",i,54e3)}function OE(r,i){Xe(r,"\u57FA\u5730\u8FD8\u53EF\u4EE5\u662F\u591A\u4E2A",i,75e3)}function $E(r,i){Xe(r,"\u5230\u6B64\u4E3A\u6B62\uFF0C\u4F60\u5DF2\u7ECF\u5B66\u4F1A\u4E86\u8FD9\u4E2A\u6E38\u620F\u600E\u4E48\u6E38\u73A9\u4E86!",i,9e4)}function RE(r,i){Xe(r,"\u5728\u6559\u7A0B\u7ED3\u675F\u540E\uFF0C\u5FEB\u53BB\u4F53\u9A8C\u8FD9\u4E2A\u6E38\u620F\u5427\uFF01",i,95e3)}function jE(r,i=1,n=[0,0],o=0,u=c=>1,l=!1){return c=>{const d=i*c*Math.PI*2+o*Math.PI/180,g=Math.cos(d),m=Math.sin(d),w=r*u(u(l?1-c:c));return[w*g+n[0],w*m+n[1]]}}const PE=r=>(Lo("data-v-553a309b"),r=r(),Uo(),r),IE={id:"mutate-div"},NE={key:0,id:"mutate-core"},ME=PE(()=>H("canvas",{id:"mutate-game",style:{width:"100%",height:"100%"}},null,-1)),LE={key:3,id:"time-back"},UE=Nt({__name:"play",props:{auto:{type:Boolean},song:null,hard:null},emits:["exit"],setup(r,{emit:i}){var Zt;const n=r,o=J([0,0]),u=J([0,0]),l=J(["0","0"]),c=J(0),d=parseFloat((Zt=localStorage.getItem("@mutate:offset"))!=null?Zt:"0"),g=J(!1),m=J(0),w=J(),y=J(0),F=J(!1),x=J(!1),C=J(3),P=J(!1),j=J(0);let I=!1,R;function O(){F.value=!0,i("exit")}function X(){if(x.value||c.value!==0)return;const At=document.getElementById("mutate-core");At.style.filter="blur(10px)brightness(50%)",R.pause(),x.value=!0,An("/Mutate-HTML/se/pause.mp3")}async function W(){const At=document.getElementById("mutate-core");P.value=!0,C.value=3,await Ot.sleep(1e3),C.value=2,await Ot.sleep(1e3),C.value=1,At.style.filter="none",await Ot.sleep(1e3),P.value=!1,x.value=!1,R.resume()}async function wt(){const At=document.getElementById("mutate-div");At.style.opacity="0",await Ot.sleep(700),At.style.opacity="1";const bt=document.getElementById("mutate-core");bt.style.filter="none",R.restart(0),x.value=!1}async function $t(){if(I)return;const At=document.getElementById("mutate-div");At.style.opacity="0",await Ot.sleep(600),i("exit"),An("/Mutate-HTML/music/mutate.mp3",!0),I=!0}return Ce(async()=>{var te,Dr;const At=document.getElementById("mutate-div"),bt=document.getElementById("mutate-core"),st=document.getElementById("mutate-game"),vt=st.getContext("2d");vt.clearRect(0,0,st.width,st.height);let{w:ye,h:Ye}=ia();if(ye-=10,Ye-=10,ye/Ye>16/9){const Ct=Ye*16/9;st.height=Ye,st.width=Ct,bt.style.width=`${Ct}px`,bt.style.height=`${Ye}px`}else{const Ct=ye*9/16;st.height=Ct,st.width=ye,bt.style.width=`${ye}px`,bt.style.height=`${Ct}px`}await Ot.sleep(600),R=pw(st);const kr="/Mutate-HTML/";st.style.opacity="1",c.value=1,bt.style.opacity="1",At.style.opacity="1";const Br=new xn;Br.add(Ct=>{const Or=Math.PI*Ct/700,De=st.width,Ge=st.height,tr=De/2,Oe=Ge/5*2;vt.lineWidth=5,vt.lineCap="round",vt.clearRect(0,0,st.width,st.height),vt.beginPath(),vt.arc(tr,Oe,Math.min(De,Ge)/16,0,Math.PI*2),vt.strokeStyle="#444",vt.stroke(),vt.beginPath(),vt.arc(tr,Oe,Math.min(De,Ge)/16,Or,Or+Math.PI/2),vt.strokeStyle="#eee",vt.stroke(),vt.closePath(),vt.textAlign="center",vt.font="normal 4em Verdana",vt.fillStyle="#eee",vt.fillText(`loading${".".repeat(Math.floor(Ct/800)%4)}`,tr,Oe+Oe/2);const hn=qn(o.value[0]),Vi=qn(u.value[0]);vt.textAlign="left",vt.font=`normal ${24*st.width/1920}px Verdana`,vt.fillText(`\u97F3\u4E50\u52A0\u8F7D\u8FDB\u5EA6    ${hn} / ${Vi}`,st.width/11,st.height*(1-.11));const Tn=qn(o.value[1]),Sn=qn(u.value[1]);vt.fillText(`\u8C31\u9762\u52A0\u8F7D\u8FDB\u5EA6    ${Tn} / ${Sn}`,st.width/11,st.height*(1-.21)),l.value=[(o.value[0]/u.value[0]*100).toFixed(2),(o.value[1]/u.value[1]*100).toFixed(2)]});const ke=Se[n.song];R.chart.register("pathG","circle2",jE),await R.load(`${kr}music/${ke.file.music}`,`${kr}chart/${ke.file.chart[n.hard]}`,Ct=>{o.value[0]=Ct.loaded,u.value[0]=Ct.total},Ct=>{o.value[1]=Ct.loaded,u.value[1]=Ct.total}),st.style.opacity="0",c.value=0,await Ot.sleep(600),j.value=1,Br.destroy(),vt.clearRect(0,0,st.width,st.height),st.style.opacity="1",st.style.transition="",R.setOffset(-d),aE(R),R.start(),R.setSound("tap","/Mutate-HTML/se/tap.wav"),R.setSound("drag","/Mutate-HTML/se/drag.wav"),n.auto&&(R.chart.judger.auto=!0);const Be=parseInt((te=localStorage.getItem("@mutate:seVolume"))!=null?te:"50")/100;R.ac.seVolume=Be;const Hi=parseInt((Dr=localStorage.getItem("@mutate:musicVolume"))!=null?Dr:"100")/100;R.ac.musicVolume=Hi,R.renderer.on("after",uE),n.song==="\u6559\u7A0B"&&AE(R),n.auto||(R.chart.judger.on("hit",Ct=>{vw(R.time)}),R.on("restart",Ct=>{bl(n.song,Se[n.song].file.chart[n.hard].slice(0,-4))}),bl(n.song,Se[n.song].file.chart[n.hard].slice(0,-4)));const fn=Ct=>{Ct.key==="Escape"&&X()};document.addEventListener("keydown",fn),R.on("end",async()=>{bt.style.opacity="0",m.value=R.getScore(),w.value=R.getDetail(),y.value=R.chart.judger.maxCombo,document.removeEventListener("keydown",fn),await Ot.sleep(600),At.style.backgroundColor="#111",g.value=!0})}),(At,bt)=>{const st=Sl;return nt(),gt("div",IE,[!g.value&&!F.value?(nt(),gt("div",NE,[ME,z(st,{percent:parseFloat(l.value[0]),style:pt({position:"absolute",bottom:"7%",width:"50%",left:"7%",opacity:c.value,transition:"opacity 0.6s linear"})},null,8,["percent","style"]),z(st,{percent:parseFloat(l.value[1]),style:pt({position:"absolute",bottom:"17%",width:"50%",left:"7%",opacity:c.value,transition:"opacity 0.6s linear"})},null,8,["percent","style"]),z(L(wy),{style:pt({position:"absolute",left:"10px",top:"10px","font-size":"32px","font-weight":"900",cursor:"pointer",opacity:j.value,transition:"all 0.6s linear"}),onClick:X},null,8,["style"])])):Gt("",!0),g.value&&!F.value?(nt(),ge(xE,{key:1,song:r.song,auto:r.auto,hard:r.hard,score:m.value,detail:w.value,"max-combo":y.value,onExit:O},null,8,["song","auto","hard","score","detail","max-combo"])):Gt("",!0),!P.value&&x.value?(nt(),gt("div",{key:2,id:"pause",style:pt({"font-size":L(it)()?"3vh":"3vw"})},[z(L(Dl),{style:{margin:"25%"},onClick:$t}),z(L(Ey),{style:{margin:"25%"},onClick:wt}),z(L(by),{style:{margin:"25%"},onClick:W})],4)):Gt("",!0),x.value&&P.value?(nt(),gt("span",LE,ut(C.value),1)):Gt("",!0)])}}});const WE=Wt(UE,[["__scopeId","data-v-553a309b"]]);const Al=Nt({__name:"settingButton",emits:["click"],setup(r,{emit:i}){return(n,o)=>{const u=Ri;return nt(),ge(u,{style:pt({"font-size":L(it)()?"2.5vh":"2.5vw"}),onClick:o[0]||(o[0]=l=>i("click"))},{default:dt(()=>[Wo(n.$slots,"default")]),_:3},8,["style"])}}});const zE={id:"setting"},HE={id:"setting-info"},VE={style:{"margin-right":"3%"}},qE={id:"setting-slider"},KE=Nt({__name:"settingOne",props:{defaultValue:null,storage:null,min:null,max:null,step:null},emits:["update:value"],setup(r,{emit:i}){const n=r,o=J(n.defaultValue),u=localStorage.getItem(n.storage);ln.has(u)&&(o.value=parseInt(u));function l(c){i("update:value",c),o.value=c,localStorage.setItem(n.storage,o.value.toString())}return(c,d)=>{var m,w,y,F,x,C,P,j,I,R,O;const g=Rl;return nt(),gt("div",zE,[H("div",HE,[H("span",null,[Wo(c.$slots,"default",{},void 0,!0)]),H("span",VE,ut(o.value),1)]),H("div",qE,[z(L(Ol),{style:{cursor:"pointer"},onClick:d[0]||(d[0]=X=>{var W;return l(o.value-((W=r.step)!=null?W:5))})}),z(g,{id:"slider-slider",value:o.value,"onUpdate:value":d[1]||(d[1]=X=>o.value=X),min:(m=r.min)!=null?m:0,max:(w=r.max)!=null?w:100,marks:{[(y=r.min)!=null?y:0]:(F=r.min)!=null?F:0,[(((x=r.min)!=null?x:0)+((C=r.max)!=null?C:100))/2]:(((P=r.min)!=null?P:0)+((j=r.max)!=null?j:100))/2,[(I=r.max)!=null?I:100]:(R=r.max)!=null?R:100},step:(O=r.step)!=null?O:1,"tip-formatter":null,onChange:l},{mark:dt(({label:X})=>[H("p",{style:pt({"font-size":L(it)()?"1.4vh":"1.4vw"})},ut(X),5)]),_:1},8,["value","min","max","marks","step"]),z(L($l),{style:{cursor:"pointer"},onClick:d[2]||(d[2]=X=>{var W;return l(o.value+((W=r.step)!=null?W:5))})})])])}}});const Fl=Wt(KE,[["__scopeId","data-v-b52ccb0d"]]);const JE={id:"switch"},XE=Nt({__name:"switchSetting",props:{defaultOn:{type:Boolean},storage:null},setup(r){const i=r,n=J(i.defaultOn),o=localStorage.getItem(i.storage);return ln.has(o)?n.value=o==="true":localStorage.setItem(i.storage,`${i.defaultOn}`),Xn(n,u=>{i.storage==="@mutate:autoUpload"&&u===!0&&!location.host.includes("h5mota.com")&&(qe.warn({content:"\u5F53\u524D\u4E0D\u5728h5mota.com\uFF0C\u65E0\u6CD5\u5F00\u542F\u6B64\u529F\u80FD",class:"auto-upload-yellow"}),n.value=!1),localStorage.setItem(i.storage,`${n.value}`)}),(u,l)=>{const c=xy;return nt(),gt("div",JE,[H("span",{id:"name",style:pt({"font-size":L(it)()?"2vh":"2vw"})},[Wo(u.$slots,"default",{},void 0,!0)],4),z(c,{id:"switch",checked:n.value,"onUpdate:checked":l[0]||(l[0]=d=>n.value=d),"checked-children":"on","un-checked-children":"off"},null,8,["checked"])])}}});const Tl=Wt(XE,[["__scopeId","data-v-f4d675be"]]),YE={id:"option"},GE={id:"option-main"},QE={id:"left"},ZE={id:"right"},tb={id:"functions"},eb={style:{"font-family":"normal","font-size":"1.4vw"}},nb=Nt({__name:"setting-option",setup(r){const i=J(!1),n=J(""),o=J("recover"),u=J(0),l=J(0);Xn(u,w=>c(w));function c(w){const y=document.getElementById("option-main");if(parseFloat(getComputedStyle(y).height)>=l.value)return;const F=parseFloat(getComputedStyle(y).height);w+F>=l.value?(u.value=l.value-F,y.style.top=`${-u.value}px`):w<=0?(u.value=0,y.style.top="0px"):(u.value=w,y.style.top=`${-w}px`)}function d(){i.value=!0,n.value="\u6B64\u64CD\u4F5C\u5C06\u5C1D\u8BD5\u4ECE\u4F60\u4E0A\u4F20\u7684\u5F55\u50CF\u901A\u8FC7\u7684\u6210\u7EE9\u4E2D\u6062\u590D\u4F60\u7684\u5B58\u6863\uFF0C\u6B64\u64CD\u4F5C\u5C06\u4F1A\u8986\u76D6\u5F53\u524D\u5B58\u6863\uFF0C\u8BF7\u5728\u5B58\u6863\u4E22\u5931\u540E\u4F7F\u7528\u8BE5\u529F\u80FD",o.value="recover"}function g(){i.value=!0,n.value="\u6B64\u64CD\u4F5C\u5C06\u4F1A\u5220\u9664\u4F60\u7684\u6B64\u6E38\u620F\u7684\u6240\u6709\u5B58\u6863\uFF0C\u53CA\u9664\u504F\u79FB\u5916\u7684\u8BBE\u7F6E\u4FE1\u606F\uFF0C\u8BF7\u614E\u91CD\u64CD\u4F5C\uFF01\uFF01",o.value="clear"}async function m(){if(o.value==="recover"){const w=await Aw();alert(w?"\u6062\u590D\u6210\u529F\uFF01":"\u6062\u590D\u5931\u8D25\uFF01"),i.value=!1}if(o.value==="clear"){try{const w=localStorage.getItem("@mutate:offset"),y=localStorage.length;for(let F=0;F<y;F++){const x=localStorage.key(F);ln.has(x)&&x.startsWith("@mutate")&&localStorage.removeItem(x)}localStorage.setItem("@mutate:played","true"),localStorage.setItem("@mutate:offset",w!=null?w:"0"),alert("\u6E05\u9664\u6210\u529F\uFF01")}catch(w){alert("\u6E05\u9664\u5931\u8D25\uFF01")}i.value=!1}}return Ce(()=>{const w=document.getElementById("option-main"),y=getComputedStyle(w);l.value=parseFloat(y.top),u.value=0}),(w,y)=>{const F=Yn,x=Ri,C=Ay;return nt(),gt("div",YE,[H("div",GE,[H("div",QE,[z(Fl,{"default-value":50,storage:"@mutate:seVolume"},{default:dt(()=>[qt("\u97F3\u6548\u97F3\u91CF")]),_:1}),z(Tl,{"default-on":!0,storage:"@mutate:autoUpload"},{default:dt(()=>[qt("\u901A\u5173\u540E\u81EA\u52A8\u4E0A\u4F20\u6210\u7EE9")]),_:1}),z(Tl,{"default-on":!1,storage:"@mutate:highPerformance"},{default:dt(()=>[qt("\u9AD8\u6027\u80FD\u6A21\u5F0F")]),_:1})]),z(F,{type:"vertical",dashed:"",id:"option-divider"}),H("div",ZE,[z(Fl,{"default-value":100,storage:"@mutate:musicVolume"},{default:dt(()=>[qt("\u97F3\u4E50\u97F3\u91CF")]),_:1}),H("div",tb,[z(Al,{onClick:d},{default:dt(()=>[qt("\u6062\u590D\u6570\u636E")]),_:1}),z(Al,{onClick:g,danger:!0},{default:dt(()=>[qt("\u6E05\u9664\u6570\u636E")]),_:1}),z(C,{visible:i.value,"onUpdate:visible":y[1]||(y[1]=P=>i.value=P),title:"\u8B66\u544A",style:{"font-family":"normal"}},{footer:dt(()=>[z(x,{class:"alert",key:"cancel",onClick:y[0]||(y[0]=P=>i.value=!1)},{default:dt(()=>[qt("\u53D6\u6D88")]),_:1}),z(x,{class:"alert",key:"confirm",danger:!0,onClick:m},{default:dt(()=>[qt("\u786E\u5B9A")]),_:1})]),default:dt(()=>[H("p",eb,ut(n.value),1)]),_:1},8,["visible"])])]),z(Cf,{total:l.value,scroll:u.value,"onUpdate:scroll":y[2]||(y[2]=P=>u.value=P),id:"option"},null,8,["total","scroll"])])])}}});const rb=Wt(nb,[["__scopeId","data-v-dbb1dd59"]]),ib=r=>(Lo("data-v-ccdcd887"),r=r(),Uo(),r),sb={id:"offset"},ob=ib(()=>H("canvas",{id:"offset-canvas"},null,-1)),ab={id:"slider"},ub={id:"slider-main"},cb=Nt({__name:"setting-offset",setup(r){const i=J(0),n=J(0),o=new xn;Xn(i,c=>{localStorage.setItem("@mutate:offset",c.toString())});const u=localStorage.getItem("@mutate:offset");ln.has(u)?i.value=parseInt(u):(localStorage.setItem("@mutate:offset","0"),i.value=0);async function l(){const c=document.getElementById("offset-canvas"),d=c.getContext("2d"),g=getComputedStyle(c);c.width=parseFloat(g.width),c.height=parseFloat(g.height);const m=c.width,w=c.height,y=Te.currentTime;let F=0,x=0,C=1e3;o.add(async()=>{d.clearRect(0,0,m,w);const R=(Te.currentTime-y)*1e3%2400;d.save();const O=m*3/4+i.value/2400*m;d.strokeStyle="#ddd",d.lineWidth=2,d.beginPath(),d.moveTo(O,0),d.lineTo(O,w),d.stroke();const X=R/2400*m;d.beginPath(),d.moveTo(X,w/4),d.lineTo(X+7,w/4+7),d.lineTo(X+7,w*3/4-7),d.lineTo(X,w*3/4),d.lineTo(X-7,w*3/4-7),d.lineTo(X-7,w/4+7),d.closePath(),d.fillStyle="#00d2eb",d.lineWidth=4,d.fill(),d.stroke(),C+=16.7;let W=2-C/500;W<0&&(W=0),d.globalAlpha=W,d.strokeStyle="#5f9",d.beginPath(),d.moveTo(x,0),d.lineTo(x,w),d.stroke(),d.restore();const wt=Math.floor(R/600)%4;(wt===1||wt===2)&&F!==wt?(F=wt,await An("/Mutate-HTML/se/drag.wav")):wt===3&&F!==wt&&(F=wt,await An("/Mutate-HTML/se/tap.wav"))});let P=[];document.addEventListener("keydown",I=>{if(!P.includes(I.keyCode)){P.push(I.keyCode);const R=(Te.currentTime-y)*1e3%2400;x=R/2400*m,C=0,n.value=Math.round(R-1800-i.value)}}),document.addEventListener("keyup",I=>{const R=P.findIndex(O=>O===I.keyCode);R!==-1&&P.splice(R,1)});let j=0;c.addEventListener("touchstart",I=>{const R=j;if(I.touches.length>R){const O=(Te.currentTime-y)*1e3%2400;x=O/2400*m,C=0,n.value=Math.round(O-1800-i.value)}j=I.touches.length}),c.addEventListener("touchend",I=>{j=I.touches.length})}return Ce(()=>{l()}),Fy(()=>{o.destroy()}),(c,d)=>{const g=Rl;return nt(),gt("div",sb,[H("span",{id:"hint",style:pt({"font-size":L(it)()?"2.5vh":"3vw"})},"\u8C03\u6574\u6ED1\u52A8\u6761\u4F7F\u5728\u7B2C\u4E09\u4E2A\u8282\u62CD\u6253\u51FB\u65F6\u6070\u597D\u5728\u6807\u51C6\u7EBF\u5904"+ut(L(it)()?"\uFF08\u624B\u673A\u7AEF\u4E0D\u53EF\u62D6\u52A8\u6ED1\u52A8\u6761\uFF09":""),5),ob,H("div",ab,[H("span",{style:pt({"font-size":L(it)()?"2vh":"2vw"})}," \u6253\u51FB\u5EF6\u8FDF\xA0\xA0\xA0\xA0"+ut(n.value>0?`+${n.value}`:n.value)+"ms ",5),H("span",{style:pt({"font-size":L(it)()?"2vh":"2vw"})},ut(i.value>0?`+${i.value}`:i.value)+"ms",5),H("div",ub,[z(L(Ol),{style:{"font-size":"3vw",cursor:"pointer"},onClick:d[0]||(d[0]=m=>i.value<-300?i.value=-300:i.value-=5)}),z(g,{value:i.value,"onUpdate:value":d[1]||(d[1]=m=>i.value=m),id:"slider-slider",step:5,"tip-formatter":null,min:-300,max:300,included:!1,marks:{"-300":"-300ms","-200":"-200ms","-100":"-100ms",0:"0",100:"+100ms",200:"+200ms",300:"+300ms"}},{mark:dt(({label:m,point:w})=>[w===0?(nt(),gt("strong",{key:0,style:pt({"font-size":L(it)()?"1.4vh":"1.4vw"})},ut(m),5)):(nt(),gt("p",{key:1,style:pt({"font-size":L(it)()?"1.4vh":"1.4vw"})},ut(m),5))]),_:1},8,["value"]),z(L($l),{style:{"font-size":"3vw",cursor:"pointer"},onClick:d[2]||(d[2]=m=>i.value>300?i.value=300:i.value+=5)})])])])}}});const lb=Wt(cb,[["__scopeId","data-v-ccdcd887"]]),fb=Ty('<span class="desc" data-v-52063f26>\u6E38\u620F\u4F5C\u8005</span><span data-v-52063f26>\u53E4\u7960</span><span class="desc" data-v-52063f26>\u6E38\u620F\u7248\u672C</span><span data-v-52063f26>v0.1</span><span class="desc" data-v-52063f26>\u5F15\u64CE\u5F00\u6E90\u5730\u5740</span><a href="https://github.com/unanmed/Mutate" target="_blank" data-v-52063f26>https://github.com/unanmed/Mutate</a><span class="desc" data-v-52063f26>\u6E38\u620F\u5F00\u6E90\u5730\u5740</span><a href="https://github.com/unanmed/Mutate-HTML" target="_blank" data-v-52063f26>https://github.com/unanmed/Mutate-HTML</a><span class="desc" data-v-52063f26>\u66F2\u5E08</span><span data-v-52063f26>\u5F31\u9E21\u7EFF\u6BDB\u602A\xA0\xA0\u53E4\u7960\xA0\xA0\u771F\u7406\u7D75\u30FB\u971C\u6708\u306F\u308B\u304B</span><span class="desc" data-v-52063f26>\u8C31\u5E08</span><span data-v-52063f26>\u53E4\u7960\xA0\xA0\u518D\u9876</span><span class="desc" data-v-52063f26>\u7279\u522B\u9E23\u8C22</span><span data-v-52063f26>\u7075\u68A6\xA0\xA0\u963F\u5C14\u6CD5</span>',14),hb=[fb],db=Nt({__name:"setting-about",setup(r){return(i,n)=>(nt(),gt("div",{id:"info",style:pt({"font-size":L(it)()?"1.7vh":"1.7vw"})},hb,4))}});const pb=Wt(db,[["__scopeId","data-v-52063f26"]]),mb={id:"settings"},gb={id:"back-div",style:{display:"flex","justify-content":"center","align-items":"center","justify-items":"center"}},vb=Nt({__name:"setting",emits:["exit"],setup(r,{emit:i}){const n=J(["offset"]);Ce(async()=>{await Ot.sleep(200);const u=document.getElementById("settings");u.style.opacity="1"});async function o(){const u=document.getElementById("settings");u.style.opacity="0",await Ot.sleep(600),An("/Mutate-HTML/music/mutate.mp3",!0),i("exit")}return(u,l)=>{const c=kl,d=Cl,g=Sy,m=Cy,w=ky;return nt(),gt("div",mb,[z(w,{style:pt({width:L(it)()?"95vh":"95vw",height:L(it)()?"95vw":"95vh"})},{default:dt(()=>[z(g,null,{default:dt(()=>[H("div",gb,[z(L(Dl),{onClick:o,id:"back",style:{"font-size":"24px",cursor:"pointer",transition:"all 0.2s linear"}})]),z(d,{selectedKeys:n.value,"onUpdate:selectedKeys":l[0]||(l[0]=y=>n.value=y),theme:"dark",mode:"horizontal",style:{"font-size":"28px","font-family":"normal"}},{default:dt(()=>[z(c,{key:"offset",style:{margin:"0 2% 0 2%"}},{default:dt(()=>[qt("\u6821\u51C6")]),_:1}),z(c,{key:"option",style:{margin:"0 2% 0 2%"}},{default:dt(()=>[qt("\u8BBE\u7F6E")]),_:1}),z(c,{key:"about",style:{margin:"0 2% 0 2%"}},{default:dt(()=>[qt("\u5173\u4E8E")]),_:1})]),_:1},8,["selectedKeys"])]),_:1}),z(m,{style:{"background-color":"#111"}},{default:dt(()=>[n.value[0]==="offset"?(nt(),ge(lb,{key:0})):Gt("",!0),n.value[0]==="option"?(nt(),ge(rb,{key:1})):Gt("",!0),n.value[0]==="about"?(nt(),ge(pb,{key:2})):Gt("",!0)]),_:1})]),_:1},8,["style"])])}}});const yb=Wt(vb,[["__scopeId","data-v-f8680189"]]),_b={key:0,id:"start-tip"},wb=Nt({__name:"App",setup(r){var P;const i=J(!1),n=J(!1),o=J(!1),u=J(!1),l=J(!1),c=J(!1),d=J(""),g=J("easy");((P=localStorage.getItem("@mutate:played"))!=null?P:"false")==="false"&&localStorage.setItem("@mutate:autoUpload","true"),Xn(o,async j=>{var R;if(j===!0){if(((R=localStorage.getItem("@mutate:played"))!=null?R:"false")==="false"){localStorage.setItem("@mutate:played","true"),o.value=!1;const X=new xn,[W,wt]=Po(Tr.value);X.add($t=>{wt.gain.value=(700-$t)/700}),await Ot.sleep(700),X.destroy(),W.stop(),u.value=!0}i.value=!1}const I=document.getElementById("game");I.style.border="1px solid #fff"}),By("select",o),Ce(()=>{const j=document.getElementById("game"),I=document.getElementById("start-tip");window.innerHeight>window.innerWidth&&(j.style.transform="rotate(90deg)",j.style.width="95vh",j.style.height="95vw"),I.style.opacity="1",j.addEventListener("touchmove",R=>R.preventDefault())});function w(){if(n.value)return;const j=document.getElementById("start-tip");j.style.opacity="0",j.addEventListener("transitionend",()=>{i.value=!0,n.value=!0})}function y(j){const{music:I,hard:R}=j;l.value=!0,o.value=!1,c.value=j.auto,d.value=I,g.value=R}function F(){o.value=!1,u.value=!0}function x(){u.value=!1,o.value=!0}function C(){l.value=!1,o.value=!0}return(j,I)=>(nt(),gt("div",{id:"game",onClick:w},[n.value?Gt("",!0):(nt(),gt("span",_b,"\u70B9\u51FB\u4EE5\u52A0\u8F7D\u6E38\u620F")),i.value?(nt(),ge($w,{key:1})):Gt("",!0),o.value?(nt(),ge(oE,{key:2,onStart:y,onSetting:F})):Gt("",!0),l.value?(nt(),ge(WE,{key:3,auto:c.value,song:d.value,hard:g.value,onExit:C},null,8,["auto","song","hard"])):Gt("",!0),u.value?(nt(),ge(yb,{key:4,onExit:x})):Gt("",!0)]))}});const Eb=Wt(wb,[["__scopeId","data-v-895c65fd"]]);Dy(Eb).mount("#app");export{bb as __vite_legacy_guard};
