import{r as ft,d as mn,o as gn,a as gt,c as Pt,i as Wy,b as lt,e as Ue,F as pi,_ as ll,p as As,f as Ss,g as at,h as Hy,j as qy,w as bi,k as Gt,n as Xt,u as et,t as zt,l as rs,M as fl,m as Vy,B as Jy,C as Ky,q as dn,s as Mn,S as Yy,v as Xy,x as hl,y as Gy,z as Zy,L as Qy,A as tv,P as ev,D as nv,E as rv,G as iv,H as ov,I as sv}from"./antdv.ad505a1a.js";function Kw(){import("data:text/javascript,")}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerpolicy&&(c.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?c.credentials="include":u.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(u){if(u.ep)return;u.ep=!0;const c=n(u);fetch(u.href,c)}})();function dl(r,o){return function(){return r.apply(o,arguments)}}const{toString:pl}=Object.prototype,{getPrototypeOf:ks}=Object,Cs=(r=>o=>{const n=pl.call(o);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),We=r=>(r=r.toLowerCase(),o=>Cs(o)===r),Ai=r=>o=>typeof o===r,{isArray:_r}=Array,ys=Ai("undefined");function av(r){return r!==null&&!ys(r)&&r.constructor!==null&&!ys(r.constructor)&&zn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const ml=We("ArrayBuffer");function uv(r){let o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(r):o=r&&r.buffer&&ml(r.buffer),o}const cv=Ai("string"),zn=Ai("function"),gl=Ai("number"),yl=r=>r!==null&&typeof r=="object",lv=r=>r===!0||r===!1,mi=r=>{if(Cs(r)!=="object")return!1;const o=ks(r);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},fv=We("Date"),hv=We("File"),dv=We("Blob"),pv=We("FileList"),mv=r=>yl(r)&&zn(r.pipe),gv=r=>{const o="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||pl.call(r)===o||zn(r.toString)&&r.toString()===o)},yv=We("URLSearchParams"),vv=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Si(r,o,{allOwnKeys:n=!1}={}){if(r===null||typeof r>"u")return;let s,u;if(typeof r!="object"&&(r=[r]),_r(r))for(s=0,u=r.length;s<u;s++)o.call(null,r[s],s,r);else{const c=n?Object.getOwnPropertyNames(r):Object.keys(r),f=c.length;let m;for(s=0;s<f;s++)m=c[s],o.call(null,r[m],m,r)}}function vs(){const r={},o=(n,s)=>{mi(r[s])&&mi(n)?r[s]=vs(r[s],n):mi(n)?r[s]=vs({},n):_r(n)?r[s]=n.slice():r[s]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Si(arguments[n],o);return r}const _v=(r,o,n,{allOwnKeys:s}={})=>(Si(o,(u,c)=>{n&&zn(u)?r[c]=dl(u,n):r[c]=u},{allOwnKeys:s}),r),wv=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),bv=(r,o,n,s)=>{r.prototype=Object.create(o.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:o.prototype}),n&&Object.assign(r.prototype,n)},xv=(r,o,n,s)=>{let u,c,f;const m={};if(o=o||{},r==null)return o;do{for(u=Object.getOwnPropertyNames(r),c=u.length;c-- >0;)f=u[c],(!s||s(f,r,o))&&!m[f]&&(o[f]=r[f],m[f]=!0);r=n!==!1&&ks(r)}while(r&&(!n||n(r,o))&&r!==Object.prototype);return o},Ev=(r,o,n)=>{r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=o.length;const s=r.indexOf(o,n);return s!==-1&&s===n},Tv=r=>{if(!r)return null;if(_r(r))return r;let o=r.length;if(!gl(o))return null;const n=new Array(o);for(;o-- >0;)n[o]=r[o];return n},Av=(r=>o=>r&&o instanceof r)(typeof Uint8Array<"u"&&ks(Uint8Array)),Sv=(r,o)=>{const s=(r&&r[Symbol.iterator]).call(r);let u;for(;(u=s.next())&&!u.done;){const c=u.value;o.call(r,c[0],c[1])}},kv=(r,o)=>{let n;const s=[];for(;(n=r.exec(o))!==null;)s.push(n);return s},Cv=We("HTMLFormElement"),Ov=r=>r.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(n,s,u){return s.toUpperCase()+u}),bc=(({hasOwnProperty:r})=>(o,n)=>r.call(o,n))(Object.prototype),Rv=We("RegExp"),vl=(r,o)=>{const n=Object.getOwnPropertyDescriptors(r),s={};Si(n,(u,c)=>{o(u,c,r)!==!1&&(s[c]=u)}),Object.defineProperties(r,s)},jv=r=>{vl(r,(o,n)=>{const s=r[n];if(!!zn(s)){if(o.enumerable=!1,"writable"in o){o.writable=!1;return}o.set||(o.set=()=>{throw Error("Can not read-only method '"+n+"'")})}})},Fv=(r,o)=>{const n={},s=u=>{u.forEach(c=>{n[c]=!0})};return _r(r)?s(r):s(String(r).split(o)),n},Pv=()=>{},Bv=(r,o)=>(r=+r,Number.isFinite(r)?r:o),R={isArray:_r,isArrayBuffer:ml,isBuffer:av,isFormData:gv,isArrayBufferView:uv,isString:cv,isNumber:gl,isBoolean:lv,isObject:yl,isPlainObject:mi,isUndefined:ys,isDate:fv,isFile:hv,isBlob:dv,isRegExp:Rv,isFunction:zn,isStream:mv,isURLSearchParams:yv,isTypedArray:Av,isFileList:pv,forEach:Si,merge:vs,extend:_v,trim:vv,stripBOM:wv,inherits:bv,toFlatObject:xv,kindOf:Cs,kindOfTest:We,endsWith:Ev,toArray:Tv,forEachEntry:Sv,matchAll:kv,isHTMLForm:Cv,hasOwnProperty:bc,hasOwnProp:bc,reduceDescriptors:vl,freezeMethods:jv,toObjectSet:Fv,toCamelCase:Ov,noop:Pv,toFiniteNumber:Bv};function nt(r,o,n,s,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",o&&(this.code=o),n&&(this.config=n),s&&(this.request=s),u&&(this.response=u)}R.inherits(nt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const _l=nt.prototype,wl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{wl[r]={value:r}});Object.defineProperties(nt,wl);Object.defineProperty(_l,"isAxiosError",{value:!0});nt.from=(r,o,n,s,u,c)=>{const f=Object.create(_l);return R.toFlatObject(r,f,function(y){return y!==Error.prototype},m=>m!=="isAxiosError"),nt.call(f,r.message,o,n,s,u),f.cause=r,f.name=r.name,c&&Object.assign(f,c),f};var Dv=typeof self=="object"?self.FormData:window.FormData;function _s(r){return R.isPlainObject(r)||R.isArray(r)}function bl(r){return R.endsWith(r,"[]")?r.slice(0,-2):r}function xc(r,o,n){return r?r.concat(o).map(function(u,c){return u=bl(u),!n&&c?"["+u+"]":u}).join(n?".":""):o}function Nv(r){return R.isArray(r)&&!r.some(_s)}const Mv=R.toFlatObject(R,{},null,function(o){return/^is[A-Z]/.test(o)});function Iv(r){return r&&R.isFunction(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator]}function ki(r,o,n){if(!R.isObject(r))throw new TypeError("target must be an object");o=o||new(Dv||FormData),n=R.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,D){return!R.isUndefined(D[P])});const s=n.metaTokens,u=n.visitor||v,c=n.dots,f=n.indexes,y=(n.Blob||typeof Blob<"u"&&Blob)&&Iv(o);if(!R.isFunction(u))throw new TypeError("visitor must be a function");function p(F){if(F===null)return"";if(R.isDate(F))return F.toISOString();if(!y&&R.isBlob(F))throw new nt("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(F)||R.isTypedArray(F)?y&&typeof Blob=="function"?new Blob([F]):Buffer.from(F):F}function v(F,P,D){let N=F;if(F&&!D&&typeof F=="object"){if(R.endsWith(P,"{}"))P=s?P:P.slice(0,-2),F=JSON.stringify(F);else if(R.isArray(F)&&Nv(F)||R.isFileList(F)||R.endsWith(P,"[]")&&(N=R.toArray(F)))return P=bl(P),N.forEach(function(M,ot){!R.isUndefined(M)&&o.append(f===!0?xc([P],ot,c):f===null?P:P+"[]",p(M))}),!1}return _s(F)?!0:(o.append(xc(D,P,c),p(F)),!1)}const w=[],k=Object.assign(Mv,{defaultVisitor:v,convertValue:p,isVisitable:_s});function A(F,P){if(!R.isUndefined(F)){if(w.indexOf(F)!==-1)throw Error("Circular reference detected in "+P.join("."));w.push(F),R.forEach(F,function(N,L){(!R.isUndefined(N)&&u.call(o,N,R.isString(L)?L.trim():L,P,k))===!0&&A(N,P?P.concat(L):[L])}),w.pop()}}if(!R.isObject(r))throw new TypeError("data must be an object");return A(r),o}function Ec(r){const o={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return o[s]})}function Os(r,o){this._pairs=[],r&&ki(r,this,o)}const xl=Os.prototype;xl.append=function(o,n){this._pairs.push([o,n])};xl.toString=function(o){const n=o?function(s){return o.call(this,s,Ec)}:Ec;return this._pairs.map(function(u){return n(u[0])+"="+n(u[1])},"").join("&")};function $v(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function El(r,o,n){if(!o)return r;const s=r.indexOf("#");s!==-1&&(r=r.slice(0,s));const u=n&&n.encode||$v,c=R.isURLSearchParams(o)?o.toString():new Os(o,n).toString(u);return c&&(r+=(r.indexOf("?")===-1?"?":"&")+c),r}class Tc{constructor(){this.handlers=[]}use(o,n,s){return this.handlers.push({fulfilled:o,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(o){this.handlers[o]&&(this.handlers[o]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(o){R.forEach(this.handlers,function(s){s!==null&&o(s)})}}const Tl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Lv=typeof URLSearchParams<"u"?URLSearchParams:Os,Uv=FormData,zv=(()=>{let r;return typeof navigator<"u"&&((r=navigator.product)==="ReactNative"||r==="NativeScript"||r==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),ze={isBrowser:!0,classes:{URLSearchParams:Lv,FormData:Uv,Blob},isStandardBrowserEnv:zv,protocols:["http","https","file","blob","url","data"]};function Wv(r,o){return ki(r,new ze.classes.URLSearchParams,Object.assign({visitor:function(n,s,u,c){return ze.isNode&&R.isBuffer(n)?(this.append(s,n.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},o))}function Hv(r){return R.matchAll(/\w+|\[(\w*)]/g,r).map(o=>o[0]==="[]"?"":o[1]||o[0])}function qv(r){const o={},n=Object.keys(r);let s;const u=n.length;let c;for(s=0;s<u;s++)c=n[s],o[c]=r[c];return o}function Al(r){function o(n,s,u,c){let f=n[c++];const m=Number.isFinite(+f),y=c>=n.length;return f=!f&&R.isArray(u)?u.length:f,y?(R.hasOwnProp(u,f)?u[f]=[u[f],s]:u[f]=s,!m):((!u[f]||!R.isObject(u[f]))&&(u[f]=[]),o(n,s,u[f],c)&&R.isArray(u[f])&&(u[f]=qv(u[f])),!m)}if(R.isFormData(r)&&R.isFunction(r.entries)){const n={};return R.forEachEntry(r,(s,u)=>{o(Hv(s),u,n,0)}),n}return null}function Vv(r,o,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?r(n):o(new nt("Request failed with status code "+n.status,[nt.ERR_BAD_REQUEST,nt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Jv=ze.isStandardBrowserEnv?function(){return{write:function(n,s,u,c,f,m){const y=[];y.push(n+"="+encodeURIComponent(s)),R.isNumber(u)&&y.push("expires="+new Date(u).toGMTString()),R.isString(c)&&y.push("path="+c),R.isString(f)&&y.push("domain="+f),m===!0&&y.push("secure"),document.cookie=y.join("; ")},read:function(n){const s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Kv(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Yv(r,o){return o?r.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):r}function Sl(r,o){return r&&!Kv(o)?Yv(r,o):o}const Xv=ze.isStandardBrowserEnv?function(){const o=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function u(c){let f=c;return o&&(n.setAttribute("href",f),f=n.href),n.setAttribute("href",f),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=u(window.location.href),function(f){const m=R.isString(f)?u(f):f;return m.protocol===s.protocol&&m.host===s.host}}():function(){return function(){return!0}}();function wr(r,o,n){nt.call(this,r==null?"canceled":r,nt.ERR_CANCELED,o,n),this.name="CanceledError"}R.inherits(wr,nt,{__CANCEL__:!0});function Gv(r){const o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return o&&o[1]||""}const Zv=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qv=r=>{const o={};let n,s,u;return r&&r.split(`
`).forEach(function(f){u=f.indexOf(":"),n=f.substring(0,u).trim().toLowerCase(),s=f.substring(u+1).trim(),!(!n||o[n]&&Zv[n])&&(n==="set-cookie"?o[n]?o[n].push(s):o[n]=[s]:o[n]=o[n]?o[n]+", "+s:s)}),o},Ac=Symbol("internals"),kl=Symbol("defaults");function yr(r){return r&&String(r).trim().toLowerCase()}function di(r){return r===!1||r==null?r:String(r)}function t1(r){const o=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(r);)o[s[1]]=s[2];return o}function Sc(r,o,n,s){if(R.isFunction(s))return s.call(this,o,n);if(!!R.isString(o)){if(R.isString(s))return o.indexOf(s)!==-1;if(R.isRegExp(s))return s.test(o)}}function e1(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(o,n,s)=>n.toUpperCase()+s)}function n1(r,o){const n=R.toCamelCase(" "+o);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+n,{value:function(u,c,f){return this[s].call(this,o,u,c,f)},configurable:!0})})}function mr(r,o){o=o.toLowerCase();const n=Object.keys(r);let s=n.length,u;for(;s-- >0;)if(u=n[s],o===u.toLowerCase())return u;return null}function me(r,o){r&&this.set(r),this[kl]=o||null}Object.assign(me.prototype,{set:function(r,o,n){const s=this;function u(c,f,m){const y=yr(f);if(!y)throw new Error("header name must be a non-empty string");const p=mr(s,y);p&&m!==!0&&(s[p]===!1||m===!1)||(R.isArray(c)?c=c.map(di):c=di(c),s[p||f]=c)}return R.isPlainObject(r)?R.forEach(r,(c,f)=>{u(c,f,o)}):u(o,r,n),this},get:function(r,o){if(r=yr(r),!r)return;const n=mr(this,r);if(n){const s=this[n];if(!o)return s;if(o===!0)return t1(s);if(R.isFunction(o))return o.call(this,s,n);if(R.isRegExp(o))return o.exec(s);throw new TypeError("parser must be boolean|regexp|function")}},has:function(r,o){if(r=yr(r),r){const n=mr(this,r);return!!(n&&(!o||Sc(this,this[n],n,o)))}return!1},delete:function(r,o){const n=this;let s=!1;function u(c){if(c=yr(c),c){const f=mr(n,c);f&&(!o||Sc(n,n[f],f,o))&&(delete n[f],s=!0)}}return R.isArray(r)?r.forEach(u):u(r),s},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(r){const o=this,n={};return R.forEach(this,(s,u)=>{const c=mr(n,u);if(c){o[c]=di(s),delete o[u];return}const f=r?e1(u):String(u).trim();f!==u&&delete o[u],o[f]=di(s),n[f]=!0}),this},toJSON:function(){const r=Object.create(null);return R.forEach(Object.assign({},this[kl]||null,this),(o,n)=>{o==null||o===!1||(r[n]=R.isArray(o)?o.join(", "):o)}),r}});Object.assign(me,{from:function(r){return R.isString(r)?new this(Qv(r)):r instanceof this?r:new this(r)},accessor:function(r){const n=(this[Ac]=this[Ac]={accessors:{}}).accessors,s=this.prototype;function u(c){const f=yr(c);n[f]||(n1(s,c),n[f]=!0)}return R.isArray(r)?r.forEach(u):u(r),this}});me.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);R.freezeMethods(me.prototype);R.freezeMethods(me);function r1(r,o){r=r||10;const n=new Array(r),s=new Array(r);let u=0,c=0,f;return o=o!==void 0?o:1e3,function(y){const p=Date.now(),v=s[c];f||(f=p),n[u]=y,s[u]=p;let w=c,k=0;for(;w!==u;)k+=n[w++],w=w%r;if(u=(u+1)%r,u===c&&(c=(c+1)%r),p-f<o)return;const A=v&&p-v;return A?Math.round(k*1e3/A):void 0}}function kc(r,o){let n=0;const s=r1(50,250);return u=>{const c=u.loaded,f=u.lengthComputable?u.total:void 0,m=c-n,y=s(m),p=c<=f;n=c;const v={loaded:c,total:f,progress:f?c/f:void 0,bytes:m,rate:y||void 0,estimated:y&&f&&p?(f-c)/y:void 0};v[o?"download":"upload"]=!0,r(v)}}function Cc(r){return new Promise(function(n,s){let u=r.data;const c=me.from(r.headers).normalize(),f=r.responseType;let m;function y(){r.cancelToken&&r.cancelToken.unsubscribe(m),r.signal&&r.signal.removeEventListener("abort",m)}R.isFormData(u)&&ze.isStandardBrowserEnv&&c.setContentType(!1);let p=new XMLHttpRequest;if(r.auth){const A=r.auth.username||"",F=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";c.set("Authorization","Basic "+btoa(A+":"+F))}const v=Sl(r.baseURL,r.url);p.open(r.method.toUpperCase(),El(v,r.params,r.paramsSerializer),!0),p.timeout=r.timeout;function w(){if(!p)return;const A=me.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),P={data:!f||f==="text"||f==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:A,config:r,request:p};Vv(function(N){n(N),y()},function(N){s(N),y()},P),p=null}if("onloadend"in p?p.onloadend=w:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(w)},p.onabort=function(){!p||(s(new nt("Request aborted",nt.ECONNABORTED,r,p)),p=null)},p.onerror=function(){s(new nt("Network Error",nt.ERR_NETWORK,r,p)),p=null},p.ontimeout=function(){let F=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const P=r.transitional||Tl;r.timeoutErrorMessage&&(F=r.timeoutErrorMessage),s(new nt(F,P.clarifyTimeoutError?nt.ETIMEDOUT:nt.ECONNABORTED,r,p)),p=null},ze.isStandardBrowserEnv){const A=(r.withCredentials||Xv(v))&&r.xsrfCookieName&&Jv.read(r.xsrfCookieName);A&&c.set(r.xsrfHeaderName,A)}u===void 0&&c.setContentType(null),"setRequestHeader"in p&&R.forEach(c.toJSON(),function(F,P){p.setRequestHeader(P,F)}),R.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),f&&f!=="json"&&(p.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&p.addEventListener("progress",kc(r.onDownloadProgress,!0)),typeof r.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",kc(r.onUploadProgress)),(r.cancelToken||r.signal)&&(m=A=>{!p||(s(!A||A.type?new wr(null,r,p):A),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(m),r.signal&&(r.signal.aborted?m():r.signal.addEventListener("abort",m)));const k=Gv(v);if(k&&ze.protocols.indexOf(k)===-1){s(new nt("Unsupported protocol "+k+":",nt.ERR_BAD_REQUEST,r));return}p.send(u||null)})}const Oc={http:Cc,xhr:Cc},Rc={getAdapter:r=>{if(R.isString(r)){const o=Oc[r];if(!r)throw Error(R.hasOwnProp(r)?`Adapter '${r}' is not available in the build`:`Can not resolve adapter '${r}'`);return o}if(!R.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Oc},i1={"Content-Type":"application/x-www-form-urlencoded"};function o1(){let r;return typeof XMLHttpRequest<"u"?r=Rc.getAdapter("xhr"):typeof process<"u"&&R.kindOf(process)==="process"&&(r=Rc.getAdapter("http")),r}function s1(r,o,n){if(R.isString(r))try{return(o||JSON.parse)(r),R.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(r)}const Wn={transitional:Tl,adapter:o1(),transformRequest:[function(o,n){const s=n.getContentType()||"",u=s.indexOf("application/json")>-1,c=R.isObject(o);if(c&&R.isHTMLForm(o)&&(o=new FormData(o)),R.isFormData(o))return u&&u?JSON.stringify(Al(o)):o;if(R.isArrayBuffer(o)||R.isBuffer(o)||R.isStream(o)||R.isFile(o)||R.isBlob(o))return o;if(R.isArrayBufferView(o))return o.buffer;if(R.isURLSearchParams(o))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),o.toString();let m;if(c){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Wv(o,this.formSerializer).toString();if((m=R.isFileList(o))||s.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return ki(m?{"files[]":o}:o,y&&new y,this.formSerializer)}}return c||u?(n.setContentType("application/json",!1),s1(o)):o}],transformResponse:[function(o){const n=this.transitional||Wn.transitional,s=n&&n.forcedJSONParsing,u=this.responseType==="json";if(o&&R.isString(o)&&(s&&!this.responseType||u)){const f=!(n&&n.silentJSONParsing)&&u;try{return JSON.parse(o)}catch(m){if(f)throw m.name==="SyntaxError"?nt.from(m,nt.ERR_BAD_RESPONSE,this,null,this.response):m}}return o}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ze.classes.FormData,Blob:ze.classes.Blob},validateStatus:function(o){return o>=200&&o<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};R.forEach(["delete","get","head"],function(o){Wn.headers[o]={}});R.forEach(["post","put","patch"],function(o){Wn.headers[o]=R.merge(i1)});function is(r,o){const n=this||Wn,s=o||n,u=me.from(s.headers);let c=s.data;return R.forEach(r,function(m){c=m.call(n,c,u.normalize(),o?o.status:void 0)}),u.normalize(),c}function Cl(r){return!!(r&&r.__CANCEL__)}function os(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new wr}function jc(r){return os(r),r.headers=me.from(r.headers),r.data=is.call(r,r.transformRequest),(r.adapter||Wn.adapter)(r).then(function(s){return os(r),s.data=is.call(r,r.transformResponse,s),s.headers=me.from(s.headers),s},function(s){return Cl(s)||(os(r),s&&s.response&&(s.response.data=is.call(r,r.transformResponse,s.response),s.response.headers=me.from(s.response.headers))),Promise.reject(s)})}function vr(r,o){o=o||{};const n={};function s(p,v){return R.isPlainObject(p)&&R.isPlainObject(v)?R.merge(p,v):R.isPlainObject(v)?R.merge({},v):R.isArray(v)?v.slice():v}function u(p){if(R.isUndefined(o[p])){if(!R.isUndefined(r[p]))return s(void 0,r[p])}else return s(r[p],o[p])}function c(p){if(!R.isUndefined(o[p]))return s(void 0,o[p])}function f(p){if(R.isUndefined(o[p])){if(!R.isUndefined(r[p]))return s(void 0,r[p])}else return s(void 0,o[p])}function m(p){if(p in o)return s(r[p],o[p]);if(p in r)return s(void 0,r[p])}const y={url:c,method:c,data:c,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:m};return R.forEach(Object.keys(r).concat(Object.keys(o)),function(v){const w=y[v]||u,k=w(v);R.isUndefined(k)&&w!==m||(n[v]=k)}),n}const Ol="1.1.2",Rs={};["object","boolean","number","function","string","symbol"].forEach((r,o)=>{Rs[r]=function(s){return typeof s===r||"a"+(o<1?"n ":" ")+r}});const Fc={};Rs.transitional=function(o,n,s){function u(c,f){return"[Axios v"+Ol+"] Transitional option '"+c+"'"+f+(s?". "+s:"")}return(c,f,m)=>{if(o===!1)throw new nt(u(f," has been removed"+(n?" in "+n:"")),nt.ERR_DEPRECATED);return n&&!Fc[f]&&(Fc[f]=!0,console.warn(u(f," has been deprecated since v"+n+" and will be removed in the near future"))),o?o(c,f,m):!0}};function a1(r,o,n){if(typeof r!="object")throw new nt("options must be an object",nt.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let u=s.length;for(;u-- >0;){const c=s[u],f=o[c];if(f){const m=r[c],y=m===void 0||f(m,c,r);if(y!==!0)throw new nt("option "+c+" must be "+y,nt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new nt("Unknown option "+c,nt.ERR_BAD_OPTION)}}const Rl={assertOptions:a1,validators:Rs},Bn=Rl.validators;class pn{constructor(o){this.defaults=o,this.interceptors={request:new Tc,response:new Tc}}request(o,n){typeof o=="string"?(n=n||{},n.url=o):n=o||{},n=vr(this.defaults,n);const s=n.transitional;s!==void 0&&Rl.assertOptions(s,{silentJSONParsing:Bn.transitional(Bn.boolean),forcedJSONParsing:Bn.transitional(Bn.boolean),clarifyTimeoutError:Bn.transitional(Bn.boolean)},!1),n.method=(n.method||this.defaults.method||"get").toLowerCase();const u=n.headers&&R.merge(n.headers.common,n.headers[n.method]);u&&R.forEach(["delete","get","head","post","put","patch","common"],function(A){delete n.headers[A]}),n.headers=new me(n.headers,u);const c=[];let f=!0;this.interceptors.request.forEach(function(A){typeof A.runWhen=="function"&&A.runWhen(n)===!1||(f=f&&A.synchronous,c.unshift(A.fulfilled,A.rejected))});const m=[];this.interceptors.response.forEach(function(A){m.push(A.fulfilled,A.rejected)});let y,p=0,v;if(!f){const k=[jc.bind(this),void 0];for(k.unshift.apply(k,c),k.push.apply(k,m),v=k.length,y=Promise.resolve(n);p<v;)y=y.then(k[p++],k[p++]);return y}v=c.length;let w=n;for(p=0;p<v;){const k=c[p++],A=c[p++];try{w=k(w)}catch(F){A.call(this,F);break}}try{y=jc.call(this,w)}catch(k){return Promise.reject(k)}for(p=0,v=m.length;p<v;)y=y.then(m[p++],m[p++]);return y}getUri(o){o=vr(this.defaults,o);const n=Sl(o.baseURL,o.url);return El(n,o.params,o.paramsSerializer)}}R.forEach(["delete","get","head","options"],function(o){pn.prototype[o]=function(n,s){return this.request(vr(s||{},{method:o,url:n,data:(s||{}).data}))}});R.forEach(["post","put","patch"],function(o){function n(s){return function(c,f,m){return this.request(vr(m||{},{method:o,headers:s?{"Content-Type":"multipart/form-data"}:{},url:c,data:f}))}}pn.prototype[o]=n(),pn.prototype[o+"Form"]=n(!0)});class js{constructor(o){if(typeof o!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(c){n=c});const s=this;this.promise.then(u=>{if(!s._listeners)return;let c=s._listeners.length;for(;c-- >0;)s._listeners[c](u);s._listeners=null}),this.promise.then=u=>{let c;const f=new Promise(m=>{s.subscribe(m),c=m}).then(u);return f.cancel=function(){s.unsubscribe(c)},f},o(function(c,f,m){s.reason||(s.reason=new wr(c,f,m),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(o){if(this.reason){o(this.reason);return}this._listeners?this._listeners.push(o):this._listeners=[o]}unsubscribe(o){if(!this._listeners)return;const n=this._listeners.indexOf(o);n!==-1&&this._listeners.splice(n,1)}static source(){let o;return{token:new js(function(u){o=u}),cancel:o}}}function u1(r){return function(n){return r.apply(null,n)}}function c1(r){return R.isObject(r)&&r.isAxiosError===!0}function jl(r){const o=new pn(r),n=dl(pn.prototype.request,o);return R.extend(n,pn.prototype,o,{allOwnKeys:!0}),R.extend(n,o,null,{allOwnKeys:!0}),n.create=function(u){return jl(vr(r,u))},n}const Bt=jl(Wn);Bt.Axios=pn;Bt.CanceledError=wr;Bt.CancelToken=js;Bt.isCancel=Cl;Bt.VERSION=Ol;Bt.toFormData=ki;Bt.AxiosError=nt;Bt.Cancel=Bt.CanceledError;Bt.all=function(o){return Promise.all(o)};Bt.spread=u1;Bt.isAxiosError=c1;Bt.formToJSON=r=>Al(R.isHTMLForm(r)?new FormData(r):r);var l1=Object.defineProperty,f1=(r,o,n)=>o in r?l1(r,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[o]=n,E=(r,o,n)=>(f1(r,typeof o!="symbol"?o+"":o,n),n),gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ws={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(r,o){(function(){var n,s="4.17.21",u=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",m="Invalid `variable` option passed into `_.template`",y="__lodash_hash_undefined__",p=500,v="__lodash_placeholder__",w=1,k=2,A=4,F=1,P=2,D=1,N=2,L=4,M=8,ot=16,Z=32,ht=64,yt=128,Nt=256,At=512,Mt=30,ge="...",qn=800,nn=16,br=1,Q=2,dt=3,Ct=1/0,It=9007199254740991,$t=17976931348623157e292,xt=0/0,wt=4294967295,Bi=wt-1,ye=wt>>>1,ke=[["ary",yt],["bind",D],["bindKey",N],["curry",M],["curryRight",ot],["flip",At],["partial",Z],["partialRight",ht],["rearg",Nt]],se="[object Arguments]",Vn="[object Array]",rf="[object AsyncFunction]",Jn="[object Boolean]",Kn="[object Date]",of="[object DOMException]",xr="[object Error]",Er="[object Function]",Hs="[object GeneratorFunction]",ve="[object Map]",Yn="[object Number]",sf="[object Null]",je="[object Object]",qs="[object Promise]",af="[object Proxy]",Xn="[object RegExp]",_e="[object Set]",Gn="[object String]",Tr="[object Symbol]",uf="[object Undefined]",Zn="[object WeakMap]",cf="[object WeakSet]",Qn="[object ArrayBuffer]",_n="[object DataView]",Di="[object Float32Array]",Ni="[object Float64Array]",Mi="[object Int8Array]",Ii="[object Int16Array]",$i="[object Int32Array]",Li="[object Uint8Array]",Ui="[object Uint8ClampedArray]",zi="[object Uint16Array]",Wi="[object Uint32Array]",lf=/\b__p \+= '';/g,ff=/\b(__p \+=) '' \+/g,hf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Vs=/&(?:amp|lt|gt|quot|#39);/g,Js=/[&<>"']/g,df=RegExp(Vs.source),pf=RegExp(Js.source),mf=/<%-([\s\S]+?)%>/g,gf=/<%([\s\S]+?)%>/g,Ks=/<%=([\s\S]+?)%>/g,yf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vf=/^\w*$/,_f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hi=/[\\^$.*+?()[\]{}|]/g,wf=RegExp(Hi.source),qi=/^\s+/,bf=/\s/,xf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ef=/\{\n\/\* \[wrapped with (.+)\] \*/,Tf=/,? & /,Af=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Sf=/[()=,{}\[\]\/\s]/,kf=/\\(\\)?/g,Cf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ys=/\w*$/,Of=/^[-+]0x[0-9a-f]+$/i,Rf=/^0b[01]+$/i,jf=/^\[object .+?Constructor\]$/,Ff=/^0o[0-7]+$/i,Pf=/^(?:0|[1-9]\d*)$/,Bf=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ar=/($^)/,Df=/['\n\r\u2028\u2029\\]/g,Sr="\\ud800-\\udfff",Nf="\\u0300-\\u036f",Mf="\\ufe20-\\ufe2f",If="\\u20d0-\\u20ff",Xs=Nf+Mf+If,Gs="\\u2700-\\u27bf",Zs="a-z\\xdf-\\xf6\\xf8-\\xff",$f="\\xac\\xb1\\xd7\\xf7",Lf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Uf="\\u2000-\\u206f",zf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qs="A-Z\\xc0-\\xd6\\xd8-\\xde",ta="\\ufe0e\\ufe0f",ea=$f+Lf+Uf+zf,Vi="['\u2019]",Wf="["+Sr+"]",na="["+ea+"]",kr="["+Xs+"]",ra="\\d+",Hf="["+Gs+"]",ia="["+Zs+"]",oa="[^"+Sr+ea+ra+Gs+Zs+Qs+"]",Ji="\\ud83c[\\udffb-\\udfff]",qf="(?:"+kr+"|"+Ji+")",sa="[^"+Sr+"]",Ki="(?:\\ud83c[\\udde6-\\uddff]){2}",Yi="[\\ud800-\\udbff][\\udc00-\\udfff]",wn="["+Qs+"]",aa="\\u200d",ua="(?:"+ia+"|"+oa+")",Vf="(?:"+wn+"|"+oa+")",ca="(?:"+Vi+"(?:d|ll|m|re|s|t|ve))?",la="(?:"+Vi+"(?:D|LL|M|RE|S|T|VE))?",fa=qf+"?",ha="["+ta+"]?",Jf="(?:"+aa+"(?:"+[sa,Ki,Yi].join("|")+")"+ha+fa+")*",Kf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Yf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",da=ha+fa+Jf,Xf="(?:"+[Hf,Ki,Yi].join("|")+")"+da,Gf="(?:"+[sa+kr+"?",kr,Ki,Yi,Wf].join("|")+")",Zf=RegExp(Vi,"g"),Qf=RegExp(kr,"g"),Xi=RegExp(Ji+"(?="+Ji+")|"+Gf+da,"g"),th=RegExp([wn+"?"+ia+"+"+ca+"(?="+[na,wn,"$"].join("|")+")",Vf+"+"+la+"(?="+[na,wn+ua,"$"].join("|")+")",wn+"?"+ua+"+"+ca,wn+"+"+la,Yf,Kf,ra,Xf].join("|"),"g"),eh=RegExp("["+aa+Sr+Xs+ta+"]"),nh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ih=-1,pt={};pt[Di]=pt[Ni]=pt[Mi]=pt[Ii]=pt[$i]=pt[Li]=pt[Ui]=pt[zi]=pt[Wi]=!0,pt[se]=pt[Vn]=pt[Qn]=pt[Jn]=pt[_n]=pt[Kn]=pt[xr]=pt[Er]=pt[ve]=pt[Yn]=pt[je]=pt[Xn]=pt[_e]=pt[Gn]=pt[Zn]=!1;var ct={};ct[se]=ct[Vn]=ct[Qn]=ct[_n]=ct[Jn]=ct[Kn]=ct[Di]=ct[Ni]=ct[Mi]=ct[Ii]=ct[$i]=ct[ve]=ct[Yn]=ct[je]=ct[Xn]=ct[_e]=ct[Gn]=ct[Tr]=ct[Li]=ct[Ui]=ct[zi]=ct[Wi]=!0,ct[xr]=ct[Er]=ct[Zn]=!1;var oh={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},sh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ah={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},uh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ch=parseFloat,lh=parseInt,pa=typeof gr=="object"&&gr&&gr.Object===Object&&gr,fh=typeof self=="object"&&self&&self.Object===Object&&self,jt=pa||fh||Function("return this")(),Gi=o&&!o.nodeType&&o,rn=Gi&&!0&&r&&!r.nodeType&&r,ma=rn&&rn.exports===Gi,Zi=ma&&pa.process,ae=function(){try{var b=rn&&rn.require&&rn.require("util").types;return b||Zi&&Zi.binding&&Zi.binding("util")}catch(S){}}(),ga=ae&&ae.isArrayBuffer,ya=ae&&ae.isDate,va=ae&&ae.isMap,_a=ae&&ae.isRegExp,wa=ae&&ae.isSet,ba=ae&&ae.isTypedArray;function Qt(b,S,T){switch(T.length){case 0:return b.call(S);case 1:return b.call(S,T[0]);case 2:return b.call(S,T[0],T[1]);case 3:return b.call(S,T[0],T[1],T[2])}return b.apply(S,T)}function hh(b,S,T,I){for(var H=-1,rt=b==null?0:b.length;++H<rt;){var St=b[H];S(I,St,T(St),b)}return I}function ue(b,S){for(var T=-1,I=b==null?0:b.length;++T<I&&S(b[T],T,b)!==!1;);return b}function dh(b,S){for(var T=b==null?0:b.length;T--&&S(b[T],T,b)!==!1;);return b}function xa(b,S){for(var T=-1,I=b==null?0:b.length;++T<I;)if(!S(b[T],T,b))return!1;return!0}function He(b,S){for(var T=-1,I=b==null?0:b.length,H=0,rt=[];++T<I;){var St=b[T];S(St,T,b)&&(rt[H++]=St)}return rt}function Cr(b,S){var T=b==null?0:b.length;return!!T&&bn(b,S,0)>-1}function Qi(b,S,T){for(var I=-1,H=b==null?0:b.length;++I<H;)if(T(S,b[I]))return!0;return!1}function mt(b,S){for(var T=-1,I=b==null?0:b.length,H=Array(I);++T<I;)H[T]=S(b[T],T,b);return H}function qe(b,S){for(var T=-1,I=S.length,H=b.length;++T<I;)b[H+T]=S[T];return b}function to(b,S,T,I){var H=-1,rt=b==null?0:b.length;for(I&&rt&&(T=b[++H]);++H<rt;)T=S(T,b[H],H,b);return T}function ph(b,S,T,I){var H=b==null?0:b.length;for(I&&H&&(T=b[--H]);H--;)T=S(T,b[H],H,b);return T}function eo(b,S){for(var T=-1,I=b==null?0:b.length;++T<I;)if(S(b[T],T,b))return!0;return!1}var mh=no("length");function gh(b){return b.split("")}function yh(b){return b.match(Af)||[]}function Ea(b,S,T){var I;return T(b,function(H,rt,St){if(S(H,rt,St))return I=rt,!1}),I}function Or(b,S,T,I){for(var H=b.length,rt=T+(I?1:-1);I?rt--:++rt<H;)if(S(b[rt],rt,b))return rt;return-1}function bn(b,S,T){return S===S?Oh(b,S,T):Or(b,Ta,T)}function vh(b,S,T,I){for(var H=T-1,rt=b.length;++H<rt;)if(I(b[H],S))return H;return-1}function Ta(b){return b!==b}function Aa(b,S){var T=b==null?0:b.length;return T?io(b,S)/T:xt}function no(b){return function(S){return S==null?n:S[b]}}function ro(b){return function(S){return b==null?n:b[S]}}function Sa(b,S,T,I,H){return H(b,function(rt,St,ut){T=I?(I=!1,rt):S(T,rt,St,ut)}),T}function _h(b,S){var T=b.length;for(b.sort(S);T--;)b[T]=b[T].value;return b}function io(b,S){for(var T,I=-1,H=b.length;++I<H;){var rt=S(b[I]);rt!==n&&(T=T===n?rt:T+rt)}return T}function oo(b,S){for(var T=-1,I=Array(b);++T<b;)I[T]=S(T);return I}function wh(b,S){return mt(S,function(T){return[T,b[T]]})}function ka(b){return b&&b.slice(0,ja(b)+1).replace(qi,"")}function te(b){return function(S){return b(S)}}function so(b,S){return mt(S,function(T){return b[T]})}function tr(b,S){return b.has(S)}function Ca(b,S){for(var T=-1,I=b.length;++T<I&&bn(S,b[T],0)>-1;);return T}function Oa(b,S){for(var T=b.length;T--&&bn(S,b[T],0)>-1;);return T}function bh(b,S){for(var T=b.length,I=0;T--;)b[T]===S&&++I;return I}var xh=ro(oh),Eh=ro(sh);function Th(b){return"\\"+uh[b]}function Ah(b,S){return b==null?n:b[S]}function xn(b){return eh.test(b)}function Sh(b){return nh.test(b)}function kh(b){for(var S,T=[];!(S=b.next()).done;)T.push(S.value);return T}function ao(b){var S=-1,T=Array(b.size);return b.forEach(function(I,H){T[++S]=[H,I]}),T}function Ra(b,S){return function(T){return b(S(T))}}function Ve(b,S){for(var T=-1,I=b.length,H=0,rt=[];++T<I;){var St=b[T];(St===S||St===v)&&(b[T]=v,rt[H++]=T)}return rt}function Rr(b){var S=-1,T=Array(b.size);return b.forEach(function(I){T[++S]=I}),T}function Ch(b){var S=-1,T=Array(b.size);return b.forEach(function(I){T[++S]=[I,I]}),T}function Oh(b,S,T){for(var I=T-1,H=b.length;++I<H;)if(b[I]===S)return I;return-1}function Rh(b,S,T){for(var I=T+1;I--;)if(b[I]===S)return I;return I}function En(b){return xn(b)?Fh(b):mh(b)}function we(b){return xn(b)?Ph(b):gh(b)}function ja(b){for(var S=b.length;S--&&bf.test(b.charAt(S)););return S}var jh=ro(ah);function Fh(b){for(var S=Xi.lastIndex=0;Xi.test(b);)++S;return S}function Ph(b){return b.match(Xi)||[]}function Bh(b){return b.match(th)||[]}var Dh=function b(S){S=S==null?jt:Tn.defaults(jt.Object(),S,Tn.pick(jt,rh));var T=S.Array,I=S.Date,H=S.Error,rt=S.Function,St=S.Math,ut=S.Object,uo=S.RegExp,Nh=S.String,ce=S.TypeError,jr=T.prototype,Mh=rt.prototype,An=ut.prototype,Fr=S["__core-js_shared__"],Pr=Mh.toString,st=An.hasOwnProperty,Ih=0,Fa=function(){var t=/[^.]+$/.exec(Fr&&Fr.keys&&Fr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Br=An.toString,$h=Pr.call(ut),Lh=jt._,Uh=uo("^"+Pr.call(st).replace(Hi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Dr=ma?S.Buffer:n,Je=S.Symbol,Nr=S.Uint8Array,Pa=Dr?Dr.allocUnsafe:n,Mr=Ra(ut.getPrototypeOf,ut),Ba=ut.create,Da=An.propertyIsEnumerable,Ir=jr.splice,Na=Je?Je.isConcatSpreadable:n,er=Je?Je.iterator:n,on=Je?Je.toStringTag:n,$r=function(){try{var t=ln(ut,"defineProperty");return t({},"",{}),t}catch(e){}}(),zh=S.clearTimeout!==jt.clearTimeout&&S.clearTimeout,Wh=I&&I.now!==jt.Date.now&&I.now,Hh=S.setTimeout!==jt.setTimeout&&S.setTimeout,Lr=St.ceil,Ur=St.floor,co=ut.getOwnPropertySymbols,qh=Dr?Dr.isBuffer:n,Ma=S.isFinite,Vh=jr.join,Jh=Ra(ut.keys,ut),kt=St.max,Lt=St.min,Kh=I.now,Yh=S.parseInt,Ia=St.random,Xh=jr.reverse,lo=ln(S,"DataView"),nr=ln(S,"Map"),fo=ln(S,"Promise"),Sn=ln(S,"Set"),rr=ln(S,"WeakMap"),ir=ln(ut,"create"),zr=rr&&new rr,kn={},Gh=fn(lo),Zh=fn(nr),Qh=fn(fo),td=fn(Sn),ed=fn(rr),Wr=Je?Je.prototype:n,or=Wr?Wr.valueOf:n,$a=Wr?Wr.toString:n;function h(t){if(bt(t)&&!q(t)&&!(t instanceof G)){if(t instanceof le)return t;if(st.call(t,"__wrapped__"))return Lu(t)}return new le(t)}var Cn=function(){function t(){}return function(e){if(!vt(e))return{};if(Ba)return Ba(e);t.prototype=e;var i=new t;return t.prototype=n,i}}();function Hr(){}function le(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}h.templateSettings={escape:mf,evaluate:gf,interpolate:Ks,variable:"",imports:{_:h}},h.prototype=Hr.prototype,h.prototype.constructor=h,le.prototype=Cn(Hr.prototype),le.prototype.constructor=le;function G(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=wt,this.__views__=[]}function nd(){var t=new G(this.__wrapped__);return t.__actions__=Vt(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Vt(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Vt(this.__views__),t}function rd(){if(this.__filtered__){var t=new G(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function id(){var t=this.__wrapped__.value(),e=this.__dir__,i=q(t),a=e<0,l=i?t.length:0,d=gp(0,l,this.__views__),g=d.start,_=d.end,x=_-g,C=a?_:g-1,O=this.__iteratees__,j=O.length,B=0,$=Lt(x,this.__takeCount__);if(!i||!a&&l==x&&$==x)return cu(t,this.__actions__);var z=[];t:for(;x--&&B<$;){C+=e;for(var K=-1,W=t[C];++K<j;){var X=O[K],tt=X.iteratee,re=X.type,qt=tt(W);if(re==Q)W=qt;else if(!qt){if(re==br)continue t;break t}}z[B++]=W}return z}G.prototype=Cn(Hr.prototype),G.prototype.constructor=G;function sn(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var a=t[e];this.set(a[0],a[1])}}function od(){this.__data__=ir?ir(null):{},this.size=0}function sd(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function ad(t){var e=this.__data__;if(ir){var i=e[t];return i===y?n:i}return st.call(e,t)?e[t]:n}function ud(t){var e=this.__data__;return ir?e[t]!==n:st.call(e,t)}function cd(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=ir&&e===n?y:e,this}sn.prototype.clear=od,sn.prototype.delete=sd,sn.prototype.get=ad,sn.prototype.has=ud,sn.prototype.set=cd;function Fe(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var a=t[e];this.set(a[0],a[1])}}function ld(){this.__data__=[],this.size=0}function fd(t){var e=this.__data__,i=qr(e,t);if(i<0)return!1;var a=e.length-1;return i==a?e.pop():Ir.call(e,i,1),--this.size,!0}function hd(t){var e=this.__data__,i=qr(e,t);return i<0?n:e[i][1]}function dd(t){return qr(this.__data__,t)>-1}function pd(t,e){var i=this.__data__,a=qr(i,t);return a<0?(++this.size,i.push([t,e])):i[a][1]=e,this}Fe.prototype.clear=ld,Fe.prototype.delete=fd,Fe.prototype.get=hd,Fe.prototype.has=dd,Fe.prototype.set=pd;function Pe(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var a=t[e];this.set(a[0],a[1])}}function md(){this.size=0,this.__data__={hash:new sn,map:new(nr||Fe),string:new sn}}function gd(t){var e=ri(this,t).delete(t);return this.size-=e?1:0,e}function yd(t){return ri(this,t).get(t)}function vd(t){return ri(this,t).has(t)}function _d(t,e){var i=ri(this,t),a=i.size;return i.set(t,e),this.size+=i.size==a?0:1,this}Pe.prototype.clear=md,Pe.prototype.delete=gd,Pe.prototype.get=yd,Pe.prototype.has=vd,Pe.prototype.set=_d;function an(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new Pe;++e<i;)this.add(t[e])}function wd(t){return this.__data__.set(t,y),this}function bd(t){return this.__data__.has(t)}an.prototype.add=an.prototype.push=wd,an.prototype.has=bd;function be(t){var e=this.__data__=new Fe(t);this.size=e.size}function xd(){this.__data__=new Fe,this.size=0}function Ed(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function Td(t){return this.__data__.get(t)}function Ad(t){return this.__data__.has(t)}function Sd(t,e){var i=this.__data__;if(i instanceof Fe){var a=i.__data__;if(!nr||a.length<u-1)return a.push([t,e]),this.size=++i.size,this;i=this.__data__=new Pe(a)}return i.set(t,e),this.size=i.size,this}be.prototype.clear=xd,be.prototype.delete=Ed,be.prototype.get=Td,be.prototype.has=Ad,be.prototype.set=Sd;function La(t,e){var i=q(t),a=!i&&hn(t),l=!i&&!a&&Ze(t),d=!i&&!a&&!l&&Fn(t),g=i||a||l||d,_=g?oo(t.length,Nh):[],x=_.length;for(var C in t)(e||st.call(t,C))&&!(g&&(C=="length"||l&&(C=="offset"||C=="parent")||d&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||Me(C,x)))&&_.push(C);return _}function Ua(t){var e=t.length;return e?t[Eo(0,e-1)]:n}function kd(t,e){return ii(Vt(t),un(e,0,t.length))}function Cd(t){return ii(Vt(t))}function ho(t,e,i){(i!==n&&!xe(t[e],i)||i===n&&!(e in t))&&Be(t,e,i)}function sr(t,e,i){var a=t[e];(!(st.call(t,e)&&xe(a,i))||i===n&&!(e in t))&&Be(t,e,i)}function qr(t,e){for(var i=t.length;i--;)if(xe(t[i][0],e))return i;return-1}function Od(t,e,i,a){return Ke(t,function(l,d,g){e(a,l,i(l),g)}),a}function za(t,e){return t&&Oe(e,Ot(e),t)}function Rd(t,e){return t&&Oe(e,Kt(e),t)}function Be(t,e,i){e=="__proto__"&&$r?$r(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function po(t,e){for(var i=-1,a=e.length,l=T(a),d=t==null;++i<a;)l[i]=d?n:Ko(t,e[i]);return l}function un(t,e,i){return t===t&&(i!==n&&(t=t<=i?t:i),e!==n&&(t=t>=e?t:e)),t}function fe(t,e,i,a,l,d){var g,_=e&w,x=e&k,C=e&A;if(i&&(g=l?i(t,a,l,d):i(t)),g!==n)return g;if(!vt(t))return t;var O=q(t);if(O){if(g=vp(t),!_)return Vt(t,g)}else{var j=Ut(t),B=j==Er||j==Hs;if(Ze(t))return hu(t,_);if(j==je||j==se||B&&!l){if(g=x||B?{}:ju(t),!_)return x?ap(t,Rd(g,t)):sp(t,za(g,t))}else{if(!ct[j])return l?t:{};g=_p(t,j,_)}}d||(d=new be);var $=d.get(t);if($)return $;d.set(t,g),sc(t)?t.forEach(function(W){g.add(fe(W,e,i,W,t,d))}):ic(t)&&t.forEach(function(W,X){g.set(X,fe(W,e,i,X,t,d))});var z=C?x?Bo:Po:x?Kt:Ot,K=O?n:z(t);return ue(K||t,function(W,X){K&&(X=W,W=t[X]),sr(g,X,fe(W,e,i,X,t,d))}),g}function jd(t){var e=Ot(t);return function(i){return Wa(i,t,e)}}function Wa(t,e,i){var a=i.length;if(t==null)return!a;for(t=ut(t);a--;){var l=i[a],d=e[l],g=t[l];if(g===n&&!(l in t)||!d(g))return!1}return!0}function Ha(t,e,i){if(typeof t!="function")throw new ce(f);return dr(function(){t.apply(n,i)},e)}function ar(t,e,i,a){var l=-1,d=Cr,g=!0,_=t.length,x=[],C=e.length;if(!_)return x;i&&(e=mt(e,te(i))),a?(d=Qi,g=!1):e.length>=u&&(d=tr,g=!1,e=new an(e));t:for(;++l<_;){var O=t[l],j=i==null?O:i(O);if(O=a||O!==0?O:0,g&&j===j){for(var B=C;B--;)if(e[B]===j)continue t;x.push(O)}else d(e,j,a)||x.push(O)}return x}var Ke=yu(Ce),qa=yu(go,!0);function Fd(t,e){var i=!0;return Ke(t,function(a,l,d){return i=!!e(a,l,d),i}),i}function Vr(t,e,i){for(var a=-1,l=t.length;++a<l;){var d=t[a],g=e(d);if(g!=null&&(_===n?g===g&&!ne(g):i(g,_)))var _=g,x=d}return x}function Pd(t,e,i,a){var l=t.length;for(i=J(i),i<0&&(i=-i>l?0:l+i),a=a===n||a>l?l:J(a),a<0&&(a+=l),a=i>a?0:uc(a);i<a;)t[i++]=e;return t}function Va(t,e){var i=[];return Ke(t,function(a,l,d){e(a,l,d)&&i.push(a)}),i}function Ft(t,e,i,a,l){var d=-1,g=t.length;for(i||(i=bp),l||(l=[]);++d<g;){var _=t[d];e>0&&i(_)?e>1?Ft(_,e-1,i,a,l):qe(l,_):a||(l[l.length]=_)}return l}var mo=vu(),Ja=vu(!0);function Ce(t,e){return t&&mo(t,e,Ot)}function go(t,e){return t&&Ja(t,e,Ot)}function Jr(t,e){return He(e,function(i){return Ie(t[i])})}function cn(t,e){e=Xe(e,t);for(var i=0,a=e.length;t!=null&&i<a;)t=t[Re(e[i++])];return i&&i==a?t:n}function Ka(t,e,i){var a=e(t);return q(t)?a:qe(a,i(t))}function Wt(t){return t==null?t===n?uf:sf:on&&on in ut(t)?mp(t):Cp(t)}function yo(t,e){return t>e}function Bd(t,e){return t!=null&&st.call(t,e)}function Dd(t,e){return t!=null&&e in ut(t)}function Nd(t,e,i){return t>=Lt(e,i)&&t<kt(e,i)}function vo(t,e,i){for(var a=i?Qi:Cr,l=t[0].length,d=t.length,g=d,_=T(d),x=1/0,C=[];g--;){var O=t[g];g&&e&&(O=mt(O,te(e))),x=Lt(O.length,x),_[g]=!i&&(e||l>=120&&O.length>=120)?new an(g&&O):n}O=t[0];var j=-1,B=_[0];t:for(;++j<l&&C.length<x;){var $=O[j],z=e?e($):$;if($=i||$!==0?$:0,!(B?tr(B,z):a(C,z,i))){for(g=d;--g;){var K=_[g];if(!(K?tr(K,z):a(t[g],z,i)))continue t}B&&B.push(z),C.push($)}}return C}function Md(t,e,i,a){return Ce(t,function(l,d,g){e(a,i(l),d,g)}),a}function ur(t,e,i){e=Xe(e,t),t=Du(t,e);var a=t==null?t:t[Re(de(e))];return a==null?n:Qt(a,t,i)}function Ya(t){return bt(t)&&Wt(t)==se}function Id(t){return bt(t)&&Wt(t)==Qn}function $d(t){return bt(t)&&Wt(t)==Kn}function cr(t,e,i,a,l){return t===e?!0:t==null||e==null||!bt(t)&&!bt(e)?t!==t&&e!==e:Ld(t,e,i,a,cr,l)}function Ld(t,e,i,a,l,d){var g=q(t),_=q(e),x=g?Vn:Ut(t),C=_?Vn:Ut(e);x=x==se?je:x,C=C==se?je:C;var O=x==je,j=C==je,B=x==C;if(B&&Ze(t)){if(!Ze(e))return!1;g=!0,O=!1}if(B&&!O)return d||(d=new be),g||Fn(t)?Cu(t,e,i,a,l,d):dp(t,e,x,i,a,l,d);if(!(i&F)){var $=O&&st.call(t,"__wrapped__"),z=j&&st.call(e,"__wrapped__");if($||z){var K=$?t.value():t,W=z?e.value():e;return d||(d=new be),l(K,W,i,a,d)}}return B?(d||(d=new be),pp(t,e,i,a,l,d)):!1}function Ud(t){return bt(t)&&Ut(t)==ve}function _o(t,e,i,a){var l=i.length,d=l,g=!a;if(t==null)return!d;for(t=ut(t);l--;){var _=i[l];if(g&&_[2]?_[1]!==t[_[0]]:!(_[0]in t))return!1}for(;++l<d;){_=i[l];var x=_[0],C=t[x],O=_[1];if(g&&_[2]){if(C===n&&!(x in t))return!1}else{var j=new be;if(a)var B=a(C,O,x,t,e,j);if(!(B===n?cr(O,C,F|P,a,j):B))return!1}}return!0}function Xa(t){if(!vt(t)||Ep(t))return!1;var e=Ie(t)?Uh:jf;return e.test(fn(t))}function zd(t){return bt(t)&&Wt(t)==Xn}function Wd(t){return bt(t)&&Ut(t)==_e}function Hd(t){return bt(t)&&li(t.length)&&!!pt[Wt(t)]}function Ga(t){return typeof t=="function"?t:t==null?Yt:typeof t=="object"?q(t)?tu(t[0],t[1]):Qa(t):_c(t)}function wo(t){if(!hr(t))return Jh(t);var e=[];for(var i in ut(t))st.call(t,i)&&i!="constructor"&&e.push(i);return e}function qd(t){if(!vt(t))return kp(t);var e=hr(t),i=[];for(var a in t)a=="constructor"&&(e||!st.call(t,a))||i.push(a);return i}function bo(t,e){return t<e}function Za(t,e){var i=-1,a=Jt(t)?T(t.length):[];return Ke(t,function(l,d,g){a[++i]=e(l,d,g)}),a}function Qa(t){var e=No(t);return e.length==1&&e[0][2]?Pu(e[0][0],e[0][1]):function(i){return i===t||_o(i,t,e)}}function tu(t,e){return Io(t)&&Fu(e)?Pu(Re(t),e):function(i){var a=Ko(i,t);return a===n&&a===e?Yo(i,t):cr(e,a,F|P)}}function Kr(t,e,i,a,l){t!==e&&mo(e,function(d,g){if(l||(l=new be),vt(d))Vd(t,e,g,i,Kr,a,l);else{var _=a?a(Lo(t,g),d,g+"",t,e,l):n;_===n&&(_=d),ho(t,g,_)}},Kt)}function Vd(t,e,i,a,l,d,g){var _=Lo(t,i),x=Lo(e,i),C=g.get(x);if(C){ho(t,i,C);return}var O=d?d(_,x,i+"",t,e,g):n,j=O===n;if(j){var B=q(x),$=!B&&Ze(x),z=!B&&!$&&Fn(x);O=x,B||$||z?q(_)?O=_:Et(_)?O=Vt(_):$?(j=!1,O=hu(x,!0)):z?(j=!1,O=du(x,!0)):O=[]:pr(x)||hn(x)?(O=_,hn(_)?O=cc(_):(!vt(_)||Ie(_))&&(O=ju(x))):j=!1}j&&(g.set(x,O),l(O,x,a,d,g),g.delete(x)),ho(t,i,O)}function eu(t,e){var i=t.length;if(i)return e+=e<0?i:0,Me(e,i)?t[e]:n}function nu(t,e,i){e.length?e=mt(e,function(d){return q(d)?function(g){return cn(g,d.length===1?d[0]:d)}:d}):e=[Yt];var a=-1;e=mt(e,te(U()));var l=Za(t,function(d,g,_){var x=mt(e,function(C){return C(d)});return{criteria:x,index:++a,value:d}});return _h(l,function(d,g){return op(d,g,i)})}function Jd(t,e){return ru(t,e,function(i,a){return Yo(t,a)})}function ru(t,e,i){for(var a=-1,l=e.length,d={};++a<l;){var g=e[a],_=cn(t,g);i(_,g)&&lr(d,Xe(g,t),_)}return d}function Kd(t){return function(e){return cn(e,t)}}function xo(t,e,i,a){var l=a?vh:bn,d=-1,g=e.length,_=t;for(t===e&&(e=Vt(e)),i&&(_=mt(t,te(i)));++d<g;)for(var x=0,C=e[d],O=i?i(C):C;(x=l(_,O,x,a))>-1;)_!==t&&Ir.call(_,x,1),Ir.call(t,x,1);return t}function iu(t,e){for(var i=t?e.length:0,a=i-1;i--;){var l=e[i];if(i==a||l!==d){var d=l;Me(l)?Ir.call(t,l,1):So(t,l)}}return t}function Eo(t,e){return t+Ur(Ia()*(e-t+1))}function Yd(t,e,i,a){for(var l=-1,d=kt(Lr((e-t)/(i||1)),0),g=T(d);d--;)g[a?d:++l]=t,t+=i;return g}function To(t,e){var i="";if(!t||e<1||e>It)return i;do e%2&&(i+=t),e=Ur(e/2),e&&(t+=t);while(e);return i}function Y(t,e){return Uo(Bu(t,e,Yt),t+"")}function Xd(t){return Ua(Pn(t))}function Gd(t,e){var i=Pn(t);return ii(i,un(e,0,i.length))}function lr(t,e,i,a){if(!vt(t))return t;e=Xe(e,t);for(var l=-1,d=e.length,g=d-1,_=t;_!=null&&++l<d;){var x=Re(e[l]),C=i;if(x==="__proto__"||x==="constructor"||x==="prototype")return t;if(l!=g){var O=_[x];C=a?a(O,x,_):n,C===n&&(C=vt(O)?O:Me(e[l+1])?[]:{})}sr(_,x,C),_=_[x]}return t}var ou=zr?function(t,e){return zr.set(t,e),t}:Yt,Zd=$r?function(t,e){return $r(t,"toString",{configurable:!0,enumerable:!1,value:Go(e),writable:!0})}:Yt;function Qd(t){return ii(Pn(t))}function he(t,e,i){var a=-1,l=t.length;e<0&&(e=-e>l?0:l+e),i=i>l?l:i,i<0&&(i+=l),l=e>i?0:i-e>>>0,e>>>=0;for(var d=T(l);++a<l;)d[a]=t[a+e];return d}function tp(t,e){var i;return Ke(t,function(a,l,d){return i=e(a,l,d),!i}),!!i}function Yr(t,e,i){var a=0,l=t==null?a:t.length;if(typeof e=="number"&&e===e&&l<=ye){for(;a<l;){var d=a+l>>>1,g=t[d];g!==null&&!ne(g)&&(i?g<=e:g<e)?a=d+1:l=d}return l}return Ao(t,e,Yt,i)}function Ao(t,e,i,a){var l=0,d=t==null?0:t.length;if(d===0)return 0;e=i(e);for(var g=e!==e,_=e===null,x=ne(e),C=e===n;l<d;){var O=Ur((l+d)/2),j=i(t[O]),B=j!==n,$=j===null,z=j===j,K=ne(j);if(g)var W=a||z;else C?W=z&&(a||B):_?W=z&&B&&(a||!$):x?W=z&&B&&!$&&(a||!K):$||K?W=!1:W=a?j<=e:j<e;W?l=O+1:d=O}return Lt(d,Bi)}function su(t,e){for(var i=-1,a=t.length,l=0,d=[];++i<a;){var g=t[i],_=e?e(g):g;if(!i||!xe(_,x)){var x=_;d[l++]=g===0?0:g}}return d}function au(t){return typeof t=="number"?t:ne(t)?xt:+t}function ee(t){if(typeof t=="string")return t;if(q(t))return mt(t,ee)+"";if(ne(t))return $a?$a.call(t):"";var e=t+"";return e=="0"&&1/t==-Ct?"-0":e}function Ye(t,e,i){var a=-1,l=Cr,d=t.length,g=!0,_=[],x=_;if(i)g=!1,l=Qi;else if(d>=u){var C=e?null:fp(t);if(C)return Rr(C);g=!1,l=tr,x=new an}else x=e?[]:_;t:for(;++a<d;){var O=t[a],j=e?e(O):O;if(O=i||O!==0?O:0,g&&j===j){for(var B=x.length;B--;)if(x[B]===j)continue t;e&&x.push(j),_.push(O)}else l(x,j,i)||(x!==_&&x.push(j),_.push(O))}return _}function So(t,e){return e=Xe(e,t),t=Du(t,e),t==null||delete t[Re(de(e))]}function uu(t,e,i,a){return lr(t,e,i(cn(t,e)),a)}function Xr(t,e,i,a){for(var l=t.length,d=a?l:-1;(a?d--:++d<l)&&e(t[d],d,t););return i?he(t,a?0:d,a?d+1:l):he(t,a?d+1:0,a?l:d)}function cu(t,e){var i=t;return i instanceof G&&(i=i.value()),to(e,function(a,l){return l.func.apply(l.thisArg,qe([a],l.args))},i)}function ko(t,e,i){var a=t.length;if(a<2)return a?Ye(t[0]):[];for(var l=-1,d=T(a);++l<a;)for(var g=t[l],_=-1;++_<a;)_!=l&&(d[l]=ar(d[l]||g,t[_],e,i));return Ye(Ft(d,1),e,i)}function lu(t,e,i){for(var a=-1,l=t.length,d=e.length,g={};++a<l;){var _=a<d?e[a]:n;i(g,t[a],_)}return g}function Co(t){return Et(t)?t:[]}function Oo(t){return typeof t=="function"?t:Yt}function Xe(t,e){return q(t)?t:Io(t,e)?[t]:$u(it(t))}var ep=Y;function Ge(t,e,i){var a=t.length;return i=i===n?a:i,!e&&i>=a?t:he(t,e,i)}var fu=zh||function(t){return jt.clearTimeout(t)};function hu(t,e){if(e)return t.slice();var i=t.length,a=Pa?Pa(i):new t.constructor(i);return t.copy(a),a}function Ro(t){var e=new t.constructor(t.byteLength);return new Nr(e).set(new Nr(t)),e}function np(t,e){var i=e?Ro(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}function rp(t){var e=new t.constructor(t.source,Ys.exec(t));return e.lastIndex=t.lastIndex,e}function ip(t){return or?ut(or.call(t)):{}}function du(t,e){var i=e?Ro(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function pu(t,e){if(t!==e){var i=t!==n,a=t===null,l=t===t,d=ne(t),g=e!==n,_=e===null,x=e===e,C=ne(e);if(!_&&!C&&!d&&t>e||d&&g&&x&&!_&&!C||a&&g&&x||!i&&x||!l)return 1;if(!a&&!d&&!C&&t<e||C&&i&&l&&!a&&!d||_&&i&&l||!g&&l||!x)return-1}return 0}function op(t,e,i){for(var a=-1,l=t.criteria,d=e.criteria,g=l.length,_=i.length;++a<g;){var x=pu(l[a],d[a]);if(x){if(a>=_)return x;var C=i[a];return x*(C=="desc"?-1:1)}}return t.index-e.index}function mu(t,e,i,a){for(var l=-1,d=t.length,g=i.length,_=-1,x=e.length,C=kt(d-g,0),O=T(x+C),j=!a;++_<x;)O[_]=e[_];for(;++l<g;)(j||l<d)&&(O[i[l]]=t[l]);for(;C--;)O[_++]=t[l++];return O}function gu(t,e,i,a){for(var l=-1,d=t.length,g=-1,_=i.length,x=-1,C=e.length,O=kt(d-_,0),j=T(O+C),B=!a;++l<O;)j[l]=t[l];for(var $=l;++x<C;)j[$+x]=e[x];for(;++g<_;)(B||l<d)&&(j[$+i[g]]=t[l++]);return j}function Vt(t,e){var i=-1,a=t.length;for(e||(e=T(a));++i<a;)e[i]=t[i];return e}function Oe(t,e,i,a){var l=!i;i||(i={});for(var d=-1,g=e.length;++d<g;){var _=e[d],x=a?a(i[_],t[_],_,i,t):n;x===n&&(x=t[_]),l?Be(i,_,x):sr(i,_,x)}return i}function sp(t,e){return Oe(t,Mo(t),e)}function ap(t,e){return Oe(t,Ou(t),e)}function Gr(t,e){return function(i,a){var l=q(i)?hh:Od,d=e?e():{};return l(i,t,U(a,2),d)}}function On(t){return Y(function(e,i){var a=-1,l=i.length,d=l>1?i[l-1]:n,g=l>2?i[2]:n;for(d=t.length>3&&typeof d=="function"?(l--,d):n,g&&Ht(i[0],i[1],g)&&(d=l<3?n:d,l=1),e=ut(e);++a<l;){var _=i[a];_&&t(e,_,a,d)}return e})}function yu(t,e){return function(i,a){if(i==null)return i;if(!Jt(i))return t(i,a);for(var l=i.length,d=e?l:-1,g=ut(i);(e?d--:++d<l)&&a(g[d],d,g)!==!1;);return i}}function vu(t){return function(e,i,a){for(var l=-1,d=ut(e),g=a(e),_=g.length;_--;){var x=g[t?_:++l];if(i(d[x],x,d)===!1)break}return e}}function up(t,e,i){var a=e&D,l=fr(t);function d(){var g=this&&this!==jt&&this instanceof d?l:t;return g.apply(a?i:this,arguments)}return d}function _u(t){return function(e){e=it(e);var i=xn(e)?we(e):n,a=i?i[0]:e.charAt(0),l=i?Ge(i,1).join(""):e.slice(1);return a[t]()+l}}function Rn(t){return function(e){return to(yc(gc(e).replace(Zf,"")),t,"")}}function fr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Cn(t.prototype),a=t.apply(i,e);return vt(a)?a:i}}function cp(t,e,i){var a=fr(t);function l(){for(var d=arguments.length,g=T(d),_=d,x=jn(l);_--;)g[_]=arguments[_];var C=d<3&&g[0]!==x&&g[d-1]!==x?[]:Ve(g,x);if(d-=C.length,d<i)return Tu(t,e,Zr,l.placeholder,n,g,C,n,n,i-d);var O=this&&this!==jt&&this instanceof l?a:t;return Qt(O,this,g)}return l}function wu(t){return function(e,i,a){var l=ut(e);if(!Jt(e)){var d=U(i,3);e=Ot(e),i=function(_){return d(l[_],_,l)}}var g=t(e,i,a);return g>-1?l[d?e[g]:g]:n}}function bu(t){return Ne(function(e){var i=e.length,a=i,l=le.prototype.thru;for(t&&e.reverse();a--;){var d=e[a];if(typeof d!="function")throw new ce(f);if(l&&!g&&ni(d)=="wrapper")var g=new le([],!0)}for(a=g?a:i;++a<i;){d=e[a];var _=ni(d),x=_=="wrapper"?Do(d):n;x&&$o(x[0])&&x[1]==(yt|M|Z|Nt)&&!x[4].length&&x[9]==1?g=g[ni(x[0])].apply(g,x[3]):g=d.length==1&&$o(d)?g[_]():g.thru(d)}return function(){var C=arguments,O=C[0];if(g&&C.length==1&&q(O))return g.plant(O).value();for(var j=0,B=i?e[j].apply(this,C):O;++j<i;)B=e[j].call(this,B);return B}})}function Zr(t,e,i,a,l,d,g,_,x,C){var O=e&yt,j=e&D,B=e&N,$=e&(M|ot),z=e&At,K=B?n:fr(t);function W(){for(var X=arguments.length,tt=T(X),re=X;re--;)tt[re]=arguments[re];if($)var qt=jn(W),ie=bh(tt,qt);if(a&&(tt=mu(tt,a,l,$)),d&&(tt=gu(tt,d,g,$)),X-=ie,$&&X<C){var Tt=Ve(tt,qt);return Tu(t,e,Zr,W.placeholder,i,tt,Tt,_,x,C-X)}var Ee=j?i:this,Le=B?Ee[t]:t;return X=tt.length,_?tt=Op(tt,_):z&&X>1&&tt.reverse(),O&&x<X&&(tt.length=x),this&&this!==jt&&this instanceof W&&(Le=K||fr(Le)),Le.apply(Ee,tt)}return W}function xu(t,e){return function(i,a){return Md(i,t,e(a),{})}}function Qr(t,e){return function(i,a){var l;if(i===n&&a===n)return e;if(i!==n&&(l=i),a!==n){if(l===n)return a;typeof i=="string"||typeof a=="string"?(i=ee(i),a=ee(a)):(i=au(i),a=au(a)),l=t(i,a)}return l}}function jo(t){return Ne(function(e){return e=mt(e,te(U())),Y(function(i){var a=this;return t(e,function(l){return Qt(l,a,i)})})})}function ti(t,e){e=e===n?" ":ee(e);var i=e.length;if(i<2)return i?To(e,t):e;var a=To(e,Lr(t/En(e)));return xn(e)?Ge(we(a),0,t).join(""):a.slice(0,t)}function lp(t,e,i,a){var l=e&D,d=fr(t);function g(){for(var _=-1,x=arguments.length,C=-1,O=a.length,j=T(O+x),B=this&&this!==jt&&this instanceof g?d:t;++C<O;)j[C]=a[C];for(;x--;)j[C++]=arguments[++_];return Qt(B,l?i:this,j)}return g}function Eu(t){return function(e,i,a){return a&&typeof a!="number"&&Ht(e,i,a)&&(i=a=n),e=$e(e),i===n?(i=e,e=0):i=$e(i),a=a===n?e<i?1:-1:$e(a),Yd(e,i,a,t)}}function ei(t){return function(e,i){return typeof e=="string"&&typeof i=="string"||(e=pe(e),i=pe(i)),t(e,i)}}function Tu(t,e,i,a,l,d,g,_,x,C){var O=e&M,j=O?g:n,B=O?n:g,$=O?d:n,z=O?n:d;e|=O?Z:ht,e&=~(O?ht:Z),e&L||(e&=~(D|N));var K=[t,e,l,$,j,z,B,_,x,C],W=i.apply(n,K);return $o(t)&&Nu(W,K),W.placeholder=a,Mu(W,t,e)}function Fo(t){var e=St[t];return function(i,a){if(i=pe(i),a=a==null?0:Lt(J(a),292),a&&Ma(i)){var l=(it(i)+"e").split("e"),d=e(l[0]+"e"+(+l[1]+a));return l=(it(d)+"e").split("e"),+(l[0]+"e"+(+l[1]-a))}return e(i)}}var fp=Sn&&1/Rr(new Sn([,-0]))[1]==Ct?function(t){return new Sn(t)}:ts;function Au(t){return function(e){var i=Ut(e);return i==ve?ao(e):i==_e?Ch(e):wh(e,t(e))}}function De(t,e,i,a,l,d,g,_){var x=e&N;if(!x&&typeof t!="function")throw new ce(f);var C=a?a.length:0;if(C||(e&=~(Z|ht),a=l=n),g=g===n?g:kt(J(g),0),_=_===n?_:J(_),C-=l?l.length:0,e&ht){var O=a,j=l;a=l=n}var B=x?n:Do(t),$=[t,e,i,a,l,O,j,d,g,_];if(B&&Sp($,B),t=$[0],e=$[1],i=$[2],a=$[3],l=$[4],_=$[9]=$[9]===n?x?0:t.length:kt($[9]-C,0),!_&&e&(M|ot)&&(e&=~(M|ot)),!e||e==D)var z=up(t,e,i);else e==M||e==ot?z=cp(t,e,_):(e==Z||e==(D|Z))&&!l.length?z=lp(t,e,i,a):z=Zr.apply(n,$);var K=B?ou:Nu;return Mu(K(z,$),t,e)}function Su(t,e,i,a){return t===n||xe(t,An[i])&&!st.call(a,i)?e:t}function ku(t,e,i,a,l,d){return vt(t)&&vt(e)&&(d.set(e,t),Kr(t,e,n,ku,d),d.delete(e)),t}function hp(t){return pr(t)?n:t}function Cu(t,e,i,a,l,d){var g=i&F,_=t.length,x=e.length;if(_!=x&&!(g&&x>_))return!1;var C=d.get(t),O=d.get(e);if(C&&O)return C==e&&O==t;var j=-1,B=!0,$=i&P?new an:n;for(d.set(t,e),d.set(e,t);++j<_;){var z=t[j],K=e[j];if(a)var W=g?a(K,z,j,e,t,d):a(z,K,j,t,e,d);if(W!==n){if(W)continue;B=!1;break}if($){if(!eo(e,function(X,tt){if(!tr($,tt)&&(z===X||l(z,X,i,a,d)))return $.push(tt)})){B=!1;break}}else if(!(z===K||l(z,K,i,a,d))){B=!1;break}}return d.delete(t),d.delete(e),B}function dp(t,e,i,a,l,d,g){switch(i){case _n:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Qn:return!(t.byteLength!=e.byteLength||!d(new Nr(t),new Nr(e)));case Jn:case Kn:case Yn:return xe(+t,+e);case xr:return t.name==e.name&&t.message==e.message;case Xn:case Gn:return t==e+"";case ve:var _=ao;case _e:var x=a&F;if(_||(_=Rr),t.size!=e.size&&!x)return!1;var C=g.get(t);if(C)return C==e;a|=P,g.set(t,e);var O=Cu(_(t),_(e),a,l,d,g);return g.delete(t),O;case Tr:if(or)return or.call(t)==or.call(e)}return!1}function pp(t,e,i,a,l,d){var g=i&F,_=Po(t),x=_.length,C=Po(e),O=C.length;if(x!=O&&!g)return!1;for(var j=x;j--;){var B=_[j];if(!(g?B in e:st.call(e,B)))return!1}var $=d.get(t),z=d.get(e);if($&&z)return $==e&&z==t;var K=!0;d.set(t,e),d.set(e,t);for(var W=g;++j<x;){B=_[j];var X=t[B],tt=e[B];if(a)var re=g?a(tt,X,B,e,t,d):a(X,tt,B,t,e,d);if(!(re===n?X===tt||l(X,tt,i,a,d):re)){K=!1;break}W||(W=B=="constructor")}if(K&&!W){var qt=t.constructor,ie=e.constructor;qt!=ie&&"constructor"in t&&"constructor"in e&&!(typeof qt=="function"&&qt instanceof qt&&typeof ie=="function"&&ie instanceof ie)&&(K=!1)}return d.delete(t),d.delete(e),K}function Ne(t){return Uo(Bu(t,n,Wu),t+"")}function Po(t){return Ka(t,Ot,Mo)}function Bo(t){return Ka(t,Kt,Ou)}var Do=zr?function(t){return zr.get(t)}:ts;function ni(t){for(var e=t.name+"",i=kn[e],a=st.call(kn,e)?i.length:0;a--;){var l=i[a],d=l.func;if(d==null||d==t)return l.name}return e}function jn(t){var e=st.call(h,"placeholder")?h:t;return e.placeholder}function U(){var t=h.iteratee||Zo;return t=t===Zo?Ga:t,arguments.length?t(arguments[0],arguments[1]):t}function ri(t,e){var i=t.__data__;return xp(e)?i[typeof e=="string"?"string":"hash"]:i.map}function No(t){for(var e=Ot(t),i=e.length;i--;){var a=e[i],l=t[a];e[i]=[a,l,Fu(l)]}return e}function ln(t,e){var i=Ah(t,e);return Xa(i)?i:n}function mp(t){var e=st.call(t,on),i=t[on];try{t[on]=n;var a=!0}catch(d){}var l=Br.call(t);return a&&(e?t[on]=i:delete t[on]),l}var Mo=co?function(t){return t==null?[]:(t=ut(t),He(co(t),function(e){return Da.call(t,e)}))}:es,Ou=co?function(t){for(var e=[];t;)qe(e,Mo(t)),t=Mr(t);return e}:es,Ut=Wt;(lo&&Ut(new lo(new ArrayBuffer(1)))!=_n||nr&&Ut(new nr)!=ve||fo&&Ut(fo.resolve())!=qs||Sn&&Ut(new Sn)!=_e||rr&&Ut(new rr)!=Zn)&&(Ut=function(t){var e=Wt(t),i=e==je?t.constructor:n,a=i?fn(i):"";if(a)switch(a){case Gh:return _n;case Zh:return ve;case Qh:return qs;case td:return _e;case ed:return Zn}return e});function gp(t,e,i){for(var a=-1,l=i.length;++a<l;){var d=i[a],g=d.size;switch(d.type){case"drop":t+=g;break;case"dropRight":e-=g;break;case"take":e=Lt(e,t+g);break;case"takeRight":t=kt(t,e-g);break}}return{start:t,end:e}}function yp(t){var e=t.match(Ef);return e?e[1].split(Tf):[]}function Ru(t,e,i){e=Xe(e,t);for(var a=-1,l=e.length,d=!1;++a<l;){var g=Re(e[a]);if(!(d=t!=null&&i(t,g)))break;t=t[g]}return d||++a!=l?d:(l=t==null?0:t.length,!!l&&li(l)&&Me(g,l)&&(q(t)||hn(t)))}function vp(t){var e=t.length,i=new t.constructor(e);return e&&typeof t[0]=="string"&&st.call(t,"index")&&(i.index=t.index,i.input=t.input),i}function ju(t){return typeof t.constructor=="function"&&!hr(t)?Cn(Mr(t)):{}}function _p(t,e,i){var a=t.constructor;switch(e){case Qn:return Ro(t);case Jn:case Kn:return new a(+t);case _n:return np(t,i);case Di:case Ni:case Mi:case Ii:case $i:case Li:case Ui:case zi:case Wi:return du(t,i);case ve:return new a;case Yn:case Gn:return new a(t);case Xn:return rp(t);case _e:return new a;case Tr:return ip(t)}}function wp(t,e){var i=e.length;if(!i)return t;var a=i-1;return e[a]=(i>1?"& ":"")+e[a],e=e.join(i>2?", ":" "),t.replace(xf,`{
/* [wrapped with `+e+`] */
`)}function bp(t){return q(t)||hn(t)||!!(Na&&t&&t[Na])}function Me(t,e){var i=typeof t;return e=e==null?It:e,!!e&&(i=="number"||i!="symbol"&&Pf.test(t))&&t>-1&&t%1==0&&t<e}function Ht(t,e,i){if(!vt(i))return!1;var a=typeof e;return(a=="number"?Jt(i)&&Me(e,i.length):a=="string"&&e in i)?xe(i[e],t):!1}function Io(t,e){if(q(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||ne(t)?!0:vf.test(t)||!yf.test(t)||e!=null&&t in ut(e)}function xp(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function $o(t){var e=ni(t),i=h[e];if(typeof i!="function"||!(e in G.prototype))return!1;if(t===i)return!0;var a=Do(i);return!!a&&t===a[0]}function Ep(t){return!!Fa&&Fa in t}var Tp=Fr?Ie:ns;function hr(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||An;return t===i}function Fu(t){return t===t&&!vt(t)}function Pu(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==n||t in ut(i))}}function Ap(t){var e=ui(t,function(a){return i.size===p&&i.clear(),a}),i=e.cache;return e}function Sp(t,e){var i=t[1],a=e[1],l=i|a,d=l<(D|N|yt),g=a==yt&&i==M||a==yt&&i==Nt&&t[7].length<=e[8]||a==(yt|Nt)&&e[7].length<=e[8]&&i==M;if(!(d||g))return t;a&D&&(t[2]=e[2],l|=i&D?0:L);var _=e[3];if(_){var x=t[3];t[3]=x?mu(x,_,e[4]):_,t[4]=x?Ve(t[3],v):e[4]}return _=e[5],_&&(x=t[5],t[5]=x?gu(x,_,e[6]):_,t[6]=x?Ve(t[5],v):e[6]),_=e[7],_&&(t[7]=_),a&yt&&(t[8]=t[8]==null?e[8]:Lt(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=l,t}function kp(t){var e=[];if(t!=null)for(var i in ut(t))e.push(i);return e}function Cp(t){return Br.call(t)}function Bu(t,e,i){return e=kt(e===n?t.length-1:e,0),function(){for(var a=arguments,l=-1,d=kt(a.length-e,0),g=T(d);++l<d;)g[l]=a[e+l];l=-1;for(var _=T(e+1);++l<e;)_[l]=a[l];return _[e]=i(g),Qt(t,this,_)}}function Du(t,e){return e.length<2?t:cn(t,he(e,0,-1))}function Op(t,e){for(var i=t.length,a=Lt(e.length,i),l=Vt(t);a--;){var d=e[a];t[a]=Me(d,i)?l[d]:n}return t}function Lo(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Nu=Iu(ou),dr=Hh||function(t,e){return jt.setTimeout(t,e)},Uo=Iu(Zd);function Mu(t,e,i){var a=e+"";return Uo(t,wp(a,Rp(yp(a),i)))}function Iu(t){var e=0,i=0;return function(){var a=Kh(),l=nn-(a-i);if(i=a,l>0){if(++e>=qn)return arguments[0]}else e=0;return t.apply(n,arguments)}}function ii(t,e){var i=-1,a=t.length,l=a-1;for(e=e===n?a:e;++i<e;){var d=Eo(i,l),g=t[d];t[d]=t[i],t[i]=g}return t.length=e,t}var $u=Ap(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(_f,function(i,a,l,d){e.push(l?d.replace(kf,"$1"):a||i)}),e});function Re(t){if(typeof t=="string"||ne(t))return t;var e=t+"";return e=="0"&&1/t==-Ct?"-0":e}function fn(t){if(t!=null){try{return Pr.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Rp(t,e){return ue(ke,function(i){var a="_."+i[0];e&i[1]&&!Cr(t,a)&&t.push(a)}),t.sort()}function Lu(t){if(t instanceof G)return t.clone();var e=new le(t.__wrapped__,t.__chain__);return e.__actions__=Vt(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function jp(t,e,i){(i?Ht(t,e,i):e===n)?e=1:e=kt(J(e),0);var a=t==null?0:t.length;if(!a||e<1)return[];for(var l=0,d=0,g=T(Lr(a/e));l<a;)g[d++]=he(t,l,l+=e);return g}function Fp(t){for(var e=-1,i=t==null?0:t.length,a=0,l=[];++e<i;){var d=t[e];d&&(l[a++]=d)}return l}function Pp(){var t=arguments.length;if(!t)return[];for(var e=T(t-1),i=arguments[0],a=t;a--;)e[a-1]=arguments[a];return qe(q(i)?Vt(i):[i],Ft(e,1))}var Bp=Y(function(t,e){return Et(t)?ar(t,Ft(e,1,Et,!0)):[]}),Dp=Y(function(t,e){var i=de(e);return Et(i)&&(i=n),Et(t)?ar(t,Ft(e,1,Et,!0),U(i,2)):[]}),Np=Y(function(t,e){var i=de(e);return Et(i)&&(i=n),Et(t)?ar(t,Ft(e,1,Et,!0),n,i):[]});function Mp(t,e,i){var a=t==null?0:t.length;return a?(e=i||e===n?1:J(e),he(t,e<0?0:e,a)):[]}function Ip(t,e,i){var a=t==null?0:t.length;return a?(e=i||e===n?1:J(e),e=a-e,he(t,0,e<0?0:e)):[]}function $p(t,e){return t&&t.length?Xr(t,U(e,3),!0,!0):[]}function Lp(t,e){return t&&t.length?Xr(t,U(e,3),!0):[]}function Up(t,e,i,a){var l=t==null?0:t.length;return l?(i&&typeof i!="number"&&Ht(t,e,i)&&(i=0,a=l),Pd(t,e,i,a)):[]}function Uu(t,e,i){var a=t==null?0:t.length;if(!a)return-1;var l=i==null?0:J(i);return l<0&&(l=kt(a+l,0)),Or(t,U(e,3),l)}function zu(t,e,i){var a=t==null?0:t.length;if(!a)return-1;var l=a-1;return i!==n&&(l=J(i),l=i<0?kt(a+l,0):Lt(l,a-1)),Or(t,U(e,3),l,!0)}function Wu(t){var e=t==null?0:t.length;return e?Ft(t,1):[]}function zp(t){var e=t==null?0:t.length;return e?Ft(t,Ct):[]}function Wp(t,e){var i=t==null?0:t.length;return i?(e=e===n?1:J(e),Ft(t,e)):[]}function Hp(t){for(var e=-1,i=t==null?0:t.length,a={};++e<i;){var l=t[e];a[l[0]]=l[1]}return a}function Hu(t){return t&&t.length?t[0]:n}function qp(t,e,i){var a=t==null?0:t.length;if(!a)return-1;var l=i==null?0:J(i);return l<0&&(l=kt(a+l,0)),bn(t,e,l)}function Vp(t){var e=t==null?0:t.length;return e?he(t,0,-1):[]}var Jp=Y(function(t){var e=mt(t,Co);return e.length&&e[0]===t[0]?vo(e):[]}),Kp=Y(function(t){var e=de(t),i=mt(t,Co);return e===de(i)?e=n:i.pop(),i.length&&i[0]===t[0]?vo(i,U(e,2)):[]}),Yp=Y(function(t){var e=de(t),i=mt(t,Co);return e=typeof e=="function"?e:n,e&&i.pop(),i.length&&i[0]===t[0]?vo(i,n,e):[]});function Xp(t,e){return t==null?"":Vh.call(t,e)}function de(t){var e=t==null?0:t.length;return e?t[e-1]:n}function Gp(t,e,i){var a=t==null?0:t.length;if(!a)return-1;var l=a;return i!==n&&(l=J(i),l=l<0?kt(a+l,0):Lt(l,a-1)),e===e?Rh(t,e,l):Or(t,Ta,l,!0)}function Zp(t,e){return t&&t.length?eu(t,J(e)):n}var Qp=Y(qu);function qu(t,e){return t&&t.length&&e&&e.length?xo(t,e):t}function tm(t,e,i){return t&&t.length&&e&&e.length?xo(t,e,U(i,2)):t}function em(t,e,i){return t&&t.length&&e&&e.length?xo(t,e,n,i):t}var nm=Ne(function(t,e){var i=t==null?0:t.length,a=po(t,e);return iu(t,mt(e,function(l){return Me(l,i)?+l:l}).sort(pu)),a});function rm(t,e){var i=[];if(!(t&&t.length))return i;var a=-1,l=[],d=t.length;for(e=U(e,3);++a<d;){var g=t[a];e(g,a,t)&&(i.push(g),l.push(a))}return iu(t,l),i}function zo(t){return t==null?t:Xh.call(t)}function im(t,e,i){var a=t==null?0:t.length;return a?(i&&typeof i!="number"&&Ht(t,e,i)?(e=0,i=a):(e=e==null?0:J(e),i=i===n?a:J(i)),he(t,e,i)):[]}function om(t,e){return Yr(t,e)}function sm(t,e,i){return Ao(t,e,U(i,2))}function am(t,e){var i=t==null?0:t.length;if(i){var a=Yr(t,e);if(a<i&&xe(t[a],e))return a}return-1}function um(t,e){return Yr(t,e,!0)}function cm(t,e,i){return Ao(t,e,U(i,2),!0)}function lm(t,e){var i=t==null?0:t.length;if(i){var a=Yr(t,e,!0)-1;if(xe(t[a],e))return a}return-1}function fm(t){return t&&t.length?su(t):[]}function hm(t,e){return t&&t.length?su(t,U(e,2)):[]}function dm(t){var e=t==null?0:t.length;return e?he(t,1,e):[]}function pm(t,e,i){return t&&t.length?(e=i||e===n?1:J(e),he(t,0,e<0?0:e)):[]}function mm(t,e,i){var a=t==null?0:t.length;return a?(e=i||e===n?1:J(e),e=a-e,he(t,e<0?0:e,a)):[]}function gm(t,e){return t&&t.length?Xr(t,U(e,3),!1,!0):[]}function ym(t,e){return t&&t.length?Xr(t,U(e,3)):[]}var vm=Y(function(t){return Ye(Ft(t,1,Et,!0))}),_m=Y(function(t){var e=de(t);return Et(e)&&(e=n),Ye(Ft(t,1,Et,!0),U(e,2))}),wm=Y(function(t){var e=de(t);return e=typeof e=="function"?e:n,Ye(Ft(t,1,Et,!0),n,e)});function bm(t){return t&&t.length?Ye(t):[]}function xm(t,e){return t&&t.length?Ye(t,U(e,2)):[]}function Em(t,e){return e=typeof e=="function"?e:n,t&&t.length?Ye(t,n,e):[]}function Wo(t){if(!(t&&t.length))return[];var e=0;return t=He(t,function(i){if(Et(i))return e=kt(i.length,e),!0}),oo(e,function(i){return mt(t,no(i))})}function Vu(t,e){if(!(t&&t.length))return[];var i=Wo(t);return e==null?i:mt(i,function(a){return Qt(e,n,a)})}var Tm=Y(function(t,e){return Et(t)?ar(t,e):[]}),Am=Y(function(t){return ko(He(t,Et))}),Sm=Y(function(t){var e=de(t);return Et(e)&&(e=n),ko(He(t,Et),U(e,2))}),km=Y(function(t){var e=de(t);return e=typeof e=="function"?e:n,ko(He(t,Et),n,e)}),Cm=Y(Wo);function Om(t,e){return lu(t||[],e||[],sr)}function Rm(t,e){return lu(t||[],e||[],lr)}var jm=Y(function(t){var e=t.length,i=e>1?t[e-1]:n;return i=typeof i=="function"?(t.pop(),i):n,Vu(t,i)});function Ju(t){var e=h(t);return e.__chain__=!0,e}function Fm(t,e){return e(t),t}function oi(t,e){return e(t)}var Pm=Ne(function(t){var e=t.length,i=e?t[0]:0,a=this.__wrapped__,l=function(d){return po(d,t)};return e>1||this.__actions__.length||!(a instanceof G)||!Me(i)?this.thru(l):(a=a.slice(i,+i+(e?1:0)),a.__actions__.push({func:oi,args:[l],thisArg:n}),new le(a,this.__chain__).thru(function(d){return e&&!d.length&&d.push(n),d}))});function Bm(){return Ju(this)}function Dm(){return new le(this.value(),this.__chain__)}function Nm(){this.__values__===n&&(this.__values__=ac(this.value()));var t=this.__index__>=this.__values__.length,e=t?n:this.__values__[this.__index__++];return{done:t,value:e}}function Mm(){return this}function Im(t){for(var e,i=this;i instanceof Hr;){var a=Lu(i);a.__index__=0,a.__values__=n,e?l.__wrapped__=a:e=a;var l=a;i=i.__wrapped__}return l.__wrapped__=t,e}function $m(){var t=this.__wrapped__;if(t instanceof G){var e=t;return this.__actions__.length&&(e=new G(this)),e=e.reverse(),e.__actions__.push({func:oi,args:[zo],thisArg:n}),new le(e,this.__chain__)}return this.thru(zo)}function Lm(){return cu(this.__wrapped__,this.__actions__)}var Um=Gr(function(t,e,i){st.call(t,i)?++t[i]:Be(t,i,1)});function zm(t,e,i){var a=q(t)?xa:Fd;return i&&Ht(t,e,i)&&(e=n),a(t,U(e,3))}function Wm(t,e){var i=q(t)?He:Va;return i(t,U(e,3))}var Hm=wu(Uu),qm=wu(zu);function Vm(t,e){return Ft(si(t,e),1)}function Jm(t,e){return Ft(si(t,e),Ct)}function Km(t,e,i){return i=i===n?1:J(i),Ft(si(t,e),i)}function Ku(t,e){var i=q(t)?ue:Ke;return i(t,U(e,3))}function Yu(t,e){var i=q(t)?dh:qa;return i(t,U(e,3))}var Ym=Gr(function(t,e,i){st.call(t,i)?t[i].push(e):Be(t,i,[e])});function Xm(t,e,i,a){t=Jt(t)?t:Pn(t),i=i&&!a?J(i):0;var l=t.length;return i<0&&(i=kt(l+i,0)),fi(t)?i<=l&&t.indexOf(e,i)>-1:!!l&&bn(t,e,i)>-1}var Gm=Y(function(t,e,i){var a=-1,l=typeof e=="function",d=Jt(t)?T(t.length):[];return Ke(t,function(g){d[++a]=l?Qt(e,g,i):ur(g,e,i)}),d}),Zm=Gr(function(t,e,i){Be(t,i,e)});function si(t,e){var i=q(t)?mt:Za;return i(t,U(e,3))}function Qm(t,e,i,a){return t==null?[]:(q(e)||(e=e==null?[]:[e]),i=a?n:i,q(i)||(i=i==null?[]:[i]),nu(t,e,i))}var t0=Gr(function(t,e,i){t[i?0:1].push(e)},function(){return[[],[]]});function e0(t,e,i){var a=q(t)?to:Sa,l=arguments.length<3;return a(t,U(e,4),i,l,Ke)}function n0(t,e,i){var a=q(t)?ph:Sa,l=arguments.length<3;return a(t,U(e,4),i,l,qa)}function r0(t,e){var i=q(t)?He:Va;return i(t,ci(U(e,3)))}function i0(t){var e=q(t)?Ua:Xd;return e(t)}function o0(t,e,i){(i?Ht(t,e,i):e===n)?e=1:e=J(e);var a=q(t)?kd:Gd;return a(t,e)}function s0(t){var e=q(t)?Cd:Qd;return e(t)}function a0(t){if(t==null)return 0;if(Jt(t))return fi(t)?En(t):t.length;var e=Ut(t);return e==ve||e==_e?t.size:wo(t).length}function u0(t,e,i){var a=q(t)?eo:tp;return i&&Ht(t,e,i)&&(e=n),a(t,U(e,3))}var c0=Y(function(t,e){if(t==null)return[];var i=e.length;return i>1&&Ht(t,e[0],e[1])?e=[]:i>2&&Ht(e[0],e[1],e[2])&&(e=[e[0]]),nu(t,Ft(e,1),[])}),ai=Wh||function(){return jt.Date.now()};function l0(t,e){if(typeof e!="function")throw new ce(f);return t=J(t),function(){if(--t<1)return e.apply(this,arguments)}}function Xu(t,e,i){return e=i?n:e,e=t&&e==null?t.length:e,De(t,yt,n,n,n,n,e)}function Gu(t,e){var i;if(typeof e!="function")throw new ce(f);return t=J(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=n),i}}var Ho=Y(function(t,e,i){var a=D;if(i.length){var l=Ve(i,jn(Ho));a|=Z}return De(t,a,e,i,l)}),Zu=Y(function(t,e,i){var a=D|N;if(i.length){var l=Ve(i,jn(Zu));a|=Z}return De(e,a,t,i,l)});function Qu(t,e,i){e=i?n:e;var a=De(t,M,n,n,n,n,n,e);return a.placeholder=Qu.placeholder,a}function tc(t,e,i){e=i?n:e;var a=De(t,ot,n,n,n,n,n,e);return a.placeholder=tc.placeholder,a}function ec(t,e,i){var a,l,d,g,_,x,C=0,O=!1,j=!1,B=!0;if(typeof t!="function")throw new ce(f);e=pe(e)||0,vt(i)&&(O=!!i.leading,j="maxWait"in i,d=j?kt(pe(i.maxWait)||0,e):d,B="trailing"in i?!!i.trailing:B);function $(Tt){var Ee=a,Le=l;return a=l=n,C=Tt,g=t.apply(Le,Ee),g}function z(Tt){return C=Tt,_=dr(X,e),O?$(Tt):g}function K(Tt){var Ee=Tt-x,Le=Tt-C,wc=e-Ee;return j?Lt(wc,d-Le):wc}function W(Tt){var Ee=Tt-x,Le=Tt-C;return x===n||Ee>=e||Ee<0||j&&Le>=d}function X(){var Tt=ai();if(W(Tt))return tt(Tt);_=dr(X,K(Tt))}function tt(Tt){return _=n,B&&a?$(Tt):(a=l=n,g)}function re(){_!==n&&fu(_),C=0,a=x=l=_=n}function qt(){return _===n?g:tt(ai())}function ie(){var Tt=ai(),Ee=W(Tt);if(a=arguments,l=this,x=Tt,Ee){if(_===n)return z(x);if(j)return fu(_),_=dr(X,e),$(x)}return _===n&&(_=dr(X,e)),g}return ie.cancel=re,ie.flush=qt,ie}var f0=Y(function(t,e){return Ha(t,1,e)}),h0=Y(function(t,e,i){return Ha(t,pe(e)||0,i)});function d0(t){return De(t,At)}function ui(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new ce(f);var i=function(){var a=arguments,l=e?e.apply(this,a):a[0],d=i.cache;if(d.has(l))return d.get(l);var g=t.apply(this,a);return i.cache=d.set(l,g)||d,g};return i.cache=new(ui.Cache||Pe),i}ui.Cache=Pe;function ci(t){if(typeof t!="function")throw new ce(f);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function p0(t){return Gu(2,t)}var m0=ep(function(t,e){e=e.length==1&&q(e[0])?mt(e[0],te(U())):mt(Ft(e,1),te(U()));var i=e.length;return Y(function(a){for(var l=-1,d=Lt(a.length,i);++l<d;)a[l]=e[l].call(this,a[l]);return Qt(t,this,a)})}),qo=Y(function(t,e){var i=Ve(e,jn(qo));return De(t,Z,n,e,i)}),nc=Y(function(t,e){var i=Ve(e,jn(nc));return De(t,ht,n,e,i)}),g0=Ne(function(t,e){return De(t,Nt,n,n,n,e)});function y0(t,e){if(typeof t!="function")throw new ce(f);return e=e===n?e:J(e),Y(t,e)}function v0(t,e){if(typeof t!="function")throw new ce(f);return e=e==null?0:kt(J(e),0),Y(function(i){var a=i[e],l=Ge(i,0,e);return a&&qe(l,a),Qt(t,this,l)})}function _0(t,e,i){var a=!0,l=!0;if(typeof t!="function")throw new ce(f);return vt(i)&&(a="leading"in i?!!i.leading:a,l="trailing"in i?!!i.trailing:l),ec(t,e,{leading:a,maxWait:e,trailing:l})}function w0(t){return Xu(t,1)}function b0(t,e){return qo(Oo(e),t)}function x0(){if(!arguments.length)return[];var t=arguments[0];return q(t)?t:[t]}function E0(t){return fe(t,A)}function T0(t,e){return e=typeof e=="function"?e:n,fe(t,A,e)}function A0(t){return fe(t,w|A)}function S0(t,e){return e=typeof e=="function"?e:n,fe(t,w|A,e)}function k0(t,e){return e==null||Wa(t,e,Ot(e))}function xe(t,e){return t===e||t!==t&&e!==e}var C0=ei(yo),O0=ei(function(t,e){return t>=e}),hn=Ya(function(){return arguments}())?Ya:function(t){return bt(t)&&st.call(t,"callee")&&!Da.call(t,"callee")},q=T.isArray,R0=ga?te(ga):Id;function Jt(t){return t!=null&&li(t.length)&&!Ie(t)}function Et(t){return bt(t)&&Jt(t)}function j0(t){return t===!0||t===!1||bt(t)&&Wt(t)==Jn}var Ze=qh||ns,F0=ya?te(ya):$d;function P0(t){return bt(t)&&t.nodeType===1&&!pr(t)}function B0(t){if(t==null)return!0;if(Jt(t)&&(q(t)||typeof t=="string"||typeof t.splice=="function"||Ze(t)||Fn(t)||hn(t)))return!t.length;var e=Ut(t);if(e==ve||e==_e)return!t.size;if(hr(t))return!wo(t).length;for(var i in t)if(st.call(t,i))return!1;return!0}function D0(t,e){return cr(t,e)}function N0(t,e,i){i=typeof i=="function"?i:n;var a=i?i(t,e):n;return a===n?cr(t,e,n,i):!!a}function Vo(t){if(!bt(t))return!1;var e=Wt(t);return e==xr||e==of||typeof t.message=="string"&&typeof t.name=="string"&&!pr(t)}function M0(t){return typeof t=="number"&&Ma(t)}function Ie(t){if(!vt(t))return!1;var e=Wt(t);return e==Er||e==Hs||e==rf||e==af}function rc(t){return typeof t=="number"&&t==J(t)}function li(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=It}function vt(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function bt(t){return t!=null&&typeof t=="object"}var ic=va?te(va):Ud;function I0(t,e){return t===e||_o(t,e,No(e))}function $0(t,e,i){return i=typeof i=="function"?i:n,_o(t,e,No(e),i)}function L0(t){return oc(t)&&t!=+t}function U0(t){if(Tp(t))throw new H(c);return Xa(t)}function z0(t){return t===null}function W0(t){return t==null}function oc(t){return typeof t=="number"||bt(t)&&Wt(t)==Yn}function pr(t){if(!bt(t)||Wt(t)!=je)return!1;var e=Mr(t);if(e===null)return!0;var i=st.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&Pr.call(i)==$h}var Jo=_a?te(_a):zd;function H0(t){return rc(t)&&t>=-It&&t<=It}var sc=wa?te(wa):Wd;function fi(t){return typeof t=="string"||!q(t)&&bt(t)&&Wt(t)==Gn}function ne(t){return typeof t=="symbol"||bt(t)&&Wt(t)==Tr}var Fn=ba?te(ba):Hd;function q0(t){return t===n}function V0(t){return bt(t)&&Ut(t)==Zn}function J0(t){return bt(t)&&Wt(t)==cf}var K0=ei(bo),Y0=ei(function(t,e){return t<=e});function ac(t){if(!t)return[];if(Jt(t))return fi(t)?we(t):Vt(t);if(er&&t[er])return kh(t[er]());var e=Ut(t),i=e==ve?ao:e==_e?Rr:Pn;return i(t)}function $e(t){if(!t)return t===0?t:0;if(t=pe(t),t===Ct||t===-Ct){var e=t<0?-1:1;return e*$t}return t===t?t:0}function J(t){var e=$e(t),i=e%1;return e===e?i?e-i:e:0}function uc(t){return t?un(J(t),0,wt):0}function pe(t){if(typeof t=="number")return t;if(ne(t))return xt;if(vt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ka(t);var i=Rf.test(t);return i||Ff.test(t)?lh(t.slice(2),i?2:8):Of.test(t)?xt:+t}function cc(t){return Oe(t,Kt(t))}function X0(t){return t?un(J(t),-It,It):t===0?t:0}function it(t){return t==null?"":ee(t)}var G0=On(function(t,e){if(hr(e)||Jt(e)){Oe(e,Ot(e),t);return}for(var i in e)st.call(e,i)&&sr(t,i,e[i])}),lc=On(function(t,e){Oe(e,Kt(e),t)}),hi=On(function(t,e,i,a){Oe(e,Kt(e),t,a)}),Z0=On(function(t,e,i,a){Oe(e,Ot(e),t,a)}),Q0=Ne(po);function tg(t,e){var i=Cn(t);return e==null?i:za(i,e)}var eg=Y(function(t,e){t=ut(t);var i=-1,a=e.length,l=a>2?e[2]:n;for(l&&Ht(e[0],e[1],l)&&(a=1);++i<a;)for(var d=e[i],g=Kt(d),_=-1,x=g.length;++_<x;){var C=g[_],O=t[C];(O===n||xe(O,An[C])&&!st.call(t,C))&&(t[C]=d[C])}return t}),ng=Y(function(t){return t.push(n,ku),Qt(fc,n,t)});function rg(t,e){return Ea(t,U(e,3),Ce)}function ig(t,e){return Ea(t,U(e,3),go)}function og(t,e){return t==null?t:mo(t,U(e,3),Kt)}function sg(t,e){return t==null?t:Ja(t,U(e,3),Kt)}function ag(t,e){return t&&Ce(t,U(e,3))}function ug(t,e){return t&&go(t,U(e,3))}function cg(t){return t==null?[]:Jr(t,Ot(t))}function lg(t){return t==null?[]:Jr(t,Kt(t))}function Ko(t,e,i){var a=t==null?n:cn(t,e);return a===n?i:a}function fg(t,e){return t!=null&&Ru(t,e,Bd)}function Yo(t,e){return t!=null&&Ru(t,e,Dd)}var hg=xu(function(t,e,i){e!=null&&typeof e.toString!="function"&&(e=Br.call(e)),t[e]=i},Go(Yt)),dg=xu(function(t,e,i){e!=null&&typeof e.toString!="function"&&(e=Br.call(e)),st.call(t,e)?t[e].push(i):t[e]=[i]},U),pg=Y(ur);function Ot(t){return Jt(t)?La(t):wo(t)}function Kt(t){return Jt(t)?La(t,!0):qd(t)}function mg(t,e){var i={};return e=U(e,3),Ce(t,function(a,l,d){Be(i,e(a,l,d),a)}),i}function gg(t,e){var i={};return e=U(e,3),Ce(t,function(a,l,d){Be(i,l,e(a,l,d))}),i}var yg=On(function(t,e,i){Kr(t,e,i)}),fc=On(function(t,e,i,a){Kr(t,e,i,a)}),vg=Ne(function(t,e){var i={};if(t==null)return i;var a=!1;e=mt(e,function(d){return d=Xe(d,t),a||(a=d.length>1),d}),Oe(t,Bo(t),i),a&&(i=fe(i,w|k|A,hp));for(var l=e.length;l--;)So(i,e[l]);return i});function _g(t,e){return hc(t,ci(U(e)))}var wg=Ne(function(t,e){return t==null?{}:Jd(t,e)});function hc(t,e){if(t==null)return{};var i=mt(Bo(t),function(a){return[a]});return e=U(e),ru(t,i,function(a,l){return e(a,l[0])})}function bg(t,e,i){e=Xe(e,t);var a=-1,l=e.length;for(l||(l=1,t=n);++a<l;){var d=t==null?n:t[Re(e[a])];d===n&&(a=l,d=i),t=Ie(d)?d.call(t):d}return t}function xg(t,e,i){return t==null?t:lr(t,e,i)}function Eg(t,e,i,a){return a=typeof a=="function"?a:n,t==null?t:lr(t,e,i,a)}var dc=Au(Ot),pc=Au(Kt);function Tg(t,e,i){var a=q(t),l=a||Ze(t)||Fn(t);if(e=U(e,4),i==null){var d=t&&t.constructor;l?i=a?new d:[]:vt(t)?i=Ie(d)?Cn(Mr(t)):{}:i={}}return(l?ue:Ce)(t,function(g,_,x){return e(i,g,_,x)}),i}function Ag(t,e){return t==null?!0:So(t,e)}function Sg(t,e,i){return t==null?t:uu(t,e,Oo(i))}function kg(t,e,i,a){return a=typeof a=="function"?a:n,t==null?t:uu(t,e,Oo(i),a)}function Pn(t){return t==null?[]:so(t,Ot(t))}function Cg(t){return t==null?[]:so(t,Kt(t))}function Og(t,e,i){return i===n&&(i=e,e=n),i!==n&&(i=pe(i),i=i===i?i:0),e!==n&&(e=pe(e),e=e===e?e:0),un(pe(t),e,i)}function Rg(t,e,i){return e=$e(e),i===n?(i=e,e=0):i=$e(i),t=pe(t),Nd(t,e,i)}function jg(t,e,i){if(i&&typeof i!="boolean"&&Ht(t,e,i)&&(e=i=n),i===n&&(typeof e=="boolean"?(i=e,e=n):typeof t=="boolean"&&(i=t,t=n)),t===n&&e===n?(t=0,e=1):(t=$e(t),e===n?(e=t,t=0):e=$e(e)),t>e){var a=t;t=e,e=a}if(i||t%1||e%1){var l=Ia();return Lt(t+l*(e-t+ch("1e-"+((l+"").length-1))),e)}return Eo(t,e)}var Fg=Rn(function(t,e,i){return e=e.toLowerCase(),t+(i?mc(e):e)});function mc(t){return Xo(it(t).toLowerCase())}function gc(t){return t=it(t),t&&t.replace(Bf,xh).replace(Qf,"")}function Pg(t,e,i){t=it(t),e=ee(e);var a=t.length;i=i===n?a:un(J(i),0,a);var l=i;return i-=e.length,i>=0&&t.slice(i,l)==e}function Bg(t){return t=it(t),t&&pf.test(t)?t.replace(Js,Eh):t}function Dg(t){return t=it(t),t&&wf.test(t)?t.replace(Hi,"\\$&"):t}var Ng=Rn(function(t,e,i){return t+(i?"-":"")+e.toLowerCase()}),Mg=Rn(function(t,e,i){return t+(i?" ":"")+e.toLowerCase()}),Ig=_u("toLowerCase");function $g(t,e,i){t=it(t),e=J(e);var a=e?En(t):0;if(!e||a>=e)return t;var l=(e-a)/2;return ti(Ur(l),i)+t+ti(Lr(l),i)}function Lg(t,e,i){t=it(t),e=J(e);var a=e?En(t):0;return e&&a<e?t+ti(e-a,i):t}function Ug(t,e,i){t=it(t),e=J(e);var a=e?En(t):0;return e&&a<e?ti(e-a,i)+t:t}function zg(t,e,i){return i||e==null?e=0:e&&(e=+e),Yh(it(t).replace(qi,""),e||0)}function Wg(t,e,i){return(i?Ht(t,e,i):e===n)?e=1:e=J(e),To(it(t),e)}function Hg(){var t=arguments,e=it(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var qg=Rn(function(t,e,i){return t+(i?"_":"")+e.toLowerCase()});function Vg(t,e,i){return i&&typeof i!="number"&&Ht(t,e,i)&&(e=i=n),i=i===n?wt:i>>>0,i?(t=it(t),t&&(typeof e=="string"||e!=null&&!Jo(e))&&(e=ee(e),!e&&xn(t))?Ge(we(t),0,i):t.split(e,i)):[]}var Jg=Rn(function(t,e,i){return t+(i?" ":"")+Xo(e)});function Kg(t,e,i){return t=it(t),i=i==null?0:un(J(i),0,t.length),e=ee(e),t.slice(i,i+e.length)==e}function Yg(t,e,i){var a=h.templateSettings;i&&Ht(t,e,i)&&(e=n),t=it(t),e=hi({},e,a,Su);var l=hi({},e.imports,a.imports,Su),d=Ot(l),g=so(l,d),_,x,C=0,O=e.interpolate||Ar,j="__p += '",B=uo((e.escape||Ar).source+"|"+O.source+"|"+(O===Ks?Cf:Ar).source+"|"+(e.evaluate||Ar).source+"|$","g"),$="//# sourceURL="+(st.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ih+"]")+`
`;t.replace(B,function(W,X,tt,re,qt,ie){return tt||(tt=re),j+=t.slice(C,ie).replace(Df,Th),X&&(_=!0,j+=`' +
__e(`+X+`) +
'`),qt&&(x=!0,j+=`';
`+qt+`;
__p += '`),tt&&(j+=`' +
((__t = (`+tt+`)) == null ? '' : __t) +
'`),C=ie+W.length,W}),j+=`';
`;var z=st.call(e,"variable")&&e.variable;if(!z)j=`with (obj) {
`+j+`
}
`;else if(Sf.test(z))throw new H(m);j=(x?j.replace(lf,""):j).replace(ff,"$1").replace(hf,"$1;"),j="function("+(z||"obj")+`) {
`+(z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_?", __e = _.escape":"")+(x?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+j+`return __p
}`;var K=vc(function(){return rt(d,$+"return "+j).apply(n,g)});if(K.source=j,Vo(K))throw K;return K}function Xg(t){return it(t).toLowerCase()}function Gg(t){return it(t).toUpperCase()}function Zg(t,e,i){if(t=it(t),t&&(i||e===n))return ka(t);if(!t||!(e=ee(e)))return t;var a=we(t),l=we(e),d=Ca(a,l),g=Oa(a,l)+1;return Ge(a,d,g).join("")}function Qg(t,e,i){if(t=it(t),t&&(i||e===n))return t.slice(0,ja(t)+1);if(!t||!(e=ee(e)))return t;var a=we(t),l=Oa(a,we(e))+1;return Ge(a,0,l).join("")}function ty(t,e,i){if(t=it(t),t&&(i||e===n))return t.replace(qi,"");if(!t||!(e=ee(e)))return t;var a=we(t),l=Ca(a,we(e));return Ge(a,l).join("")}function ey(t,e){var i=Mt,a=ge;if(vt(e)){var l="separator"in e?e.separator:l;i="length"in e?J(e.length):i,a="omission"in e?ee(e.omission):a}t=it(t);var d=t.length;if(xn(t)){var g=we(t);d=g.length}if(i>=d)return t;var _=i-En(a);if(_<1)return a;var x=g?Ge(g,0,_).join(""):t.slice(0,_);if(l===n)return x+a;if(g&&(_+=x.length-_),Jo(l)){if(t.slice(_).search(l)){var C,O=x;for(l.global||(l=uo(l.source,it(Ys.exec(l))+"g")),l.lastIndex=0;C=l.exec(O);)var j=C.index;x=x.slice(0,j===n?_:j)}}else if(t.indexOf(ee(l),_)!=_){var B=x.lastIndexOf(l);B>-1&&(x=x.slice(0,B))}return x+a}function ny(t){return t=it(t),t&&df.test(t)?t.replace(Vs,jh):t}var ry=Rn(function(t,e,i){return t+(i?" ":"")+e.toUpperCase()}),Xo=_u("toUpperCase");function yc(t,e,i){return t=it(t),e=i?n:e,e===n?Sh(t)?Bh(t):yh(t):t.match(e)||[]}var vc=Y(function(t,e){try{return Qt(t,n,e)}catch(i){return Vo(i)?i:new H(i)}}),iy=Ne(function(t,e){return ue(e,function(i){i=Re(i),Be(t,i,Ho(t[i],t))}),t});function oy(t){var e=t==null?0:t.length,i=U();return t=e?mt(t,function(a){if(typeof a[1]!="function")throw new ce(f);return[i(a[0]),a[1]]}):[],Y(function(a){for(var l=-1;++l<e;){var d=t[l];if(Qt(d[0],this,a))return Qt(d[1],this,a)}})}function sy(t){return jd(fe(t,w))}function Go(t){return function(){return t}}function ay(t,e){return t==null||t!==t?e:t}var uy=bu(),cy=bu(!0);function Yt(t){return t}function Zo(t){return Ga(typeof t=="function"?t:fe(t,w))}function ly(t){return Qa(fe(t,w))}function fy(t,e){return tu(t,fe(e,w))}var hy=Y(function(t,e){return function(i){return ur(i,t,e)}}),dy=Y(function(t,e){return function(i){return ur(t,i,e)}});function Qo(t,e,i){var a=Ot(e),l=Jr(e,a);i==null&&!(vt(e)&&(l.length||!a.length))&&(i=e,e=t,t=this,l=Jr(e,Ot(e)));var d=!(vt(i)&&"chain"in i)||!!i.chain,g=Ie(t);return ue(l,function(_){var x=e[_];t[_]=x,g&&(t.prototype[_]=function(){var C=this.__chain__;if(d||C){var O=t(this.__wrapped__),j=O.__actions__=Vt(this.__actions__);return j.push({func:x,args:arguments,thisArg:t}),O.__chain__=C,O}return x.apply(t,qe([this.value()],arguments))})}),t}function py(){return jt._===this&&(jt._=Lh),this}function ts(){}function my(t){return t=J(t),Y(function(e){return eu(e,t)})}var gy=jo(mt),yy=jo(xa),vy=jo(eo);function _c(t){return Io(t)?no(Re(t)):Kd(t)}function _y(t){return function(e){return t==null?n:cn(t,e)}}var wy=Eu(),by=Eu(!0);function es(){return[]}function ns(){return!1}function xy(){return{}}function Ey(){return""}function Ty(){return!0}function Ay(t,e){if(t=J(t),t<1||t>It)return[];var i=wt,a=Lt(t,wt);e=U(e),t-=wt;for(var l=oo(a,e);++i<t;)e(i);return l}function Sy(t){return q(t)?mt(t,Re):ne(t)?[t]:Vt($u(it(t)))}function ky(t){var e=++Ih;return it(t)+e}var Cy=Qr(function(t,e){return t+e},0),Oy=Fo("ceil"),Ry=Qr(function(t,e){return t/e},1),jy=Fo("floor");function Fy(t){return t&&t.length?Vr(t,Yt,yo):n}function Py(t,e){return t&&t.length?Vr(t,U(e,2),yo):n}function By(t){return Aa(t,Yt)}function Dy(t,e){return Aa(t,U(e,2))}function Ny(t){return t&&t.length?Vr(t,Yt,bo):n}function My(t,e){return t&&t.length?Vr(t,U(e,2),bo):n}var Iy=Qr(function(t,e){return t*e},1),$y=Fo("round"),Ly=Qr(function(t,e){return t-e},0);function Uy(t){return t&&t.length?io(t,Yt):0}function zy(t,e){return t&&t.length?io(t,U(e,2)):0}return h.after=l0,h.ary=Xu,h.assign=G0,h.assignIn=lc,h.assignInWith=hi,h.assignWith=Z0,h.at=Q0,h.before=Gu,h.bind=Ho,h.bindAll=iy,h.bindKey=Zu,h.castArray=x0,h.chain=Ju,h.chunk=jp,h.compact=Fp,h.concat=Pp,h.cond=oy,h.conforms=sy,h.constant=Go,h.countBy=Um,h.create=tg,h.curry=Qu,h.curryRight=tc,h.debounce=ec,h.defaults=eg,h.defaultsDeep=ng,h.defer=f0,h.delay=h0,h.difference=Bp,h.differenceBy=Dp,h.differenceWith=Np,h.drop=Mp,h.dropRight=Ip,h.dropRightWhile=$p,h.dropWhile=Lp,h.fill=Up,h.filter=Wm,h.flatMap=Vm,h.flatMapDeep=Jm,h.flatMapDepth=Km,h.flatten=Wu,h.flattenDeep=zp,h.flattenDepth=Wp,h.flip=d0,h.flow=uy,h.flowRight=cy,h.fromPairs=Hp,h.functions=cg,h.functionsIn=lg,h.groupBy=Ym,h.initial=Vp,h.intersection=Jp,h.intersectionBy=Kp,h.intersectionWith=Yp,h.invert=hg,h.invertBy=dg,h.invokeMap=Gm,h.iteratee=Zo,h.keyBy=Zm,h.keys=Ot,h.keysIn=Kt,h.map=si,h.mapKeys=mg,h.mapValues=gg,h.matches=ly,h.matchesProperty=fy,h.memoize=ui,h.merge=yg,h.mergeWith=fc,h.method=hy,h.methodOf=dy,h.mixin=Qo,h.negate=ci,h.nthArg=my,h.omit=vg,h.omitBy=_g,h.once=p0,h.orderBy=Qm,h.over=gy,h.overArgs=m0,h.overEvery=yy,h.overSome=vy,h.partial=qo,h.partialRight=nc,h.partition=t0,h.pick=wg,h.pickBy=hc,h.property=_c,h.propertyOf=_y,h.pull=Qp,h.pullAll=qu,h.pullAllBy=tm,h.pullAllWith=em,h.pullAt=nm,h.range=wy,h.rangeRight=by,h.rearg=g0,h.reject=r0,h.remove=rm,h.rest=y0,h.reverse=zo,h.sampleSize=o0,h.set=xg,h.setWith=Eg,h.shuffle=s0,h.slice=im,h.sortBy=c0,h.sortedUniq=fm,h.sortedUniqBy=hm,h.split=Vg,h.spread=v0,h.tail=dm,h.take=pm,h.takeRight=mm,h.takeRightWhile=gm,h.takeWhile=ym,h.tap=Fm,h.throttle=_0,h.thru=oi,h.toArray=ac,h.toPairs=dc,h.toPairsIn=pc,h.toPath=Sy,h.toPlainObject=cc,h.transform=Tg,h.unary=w0,h.union=vm,h.unionBy=_m,h.unionWith=wm,h.uniq=bm,h.uniqBy=xm,h.uniqWith=Em,h.unset=Ag,h.unzip=Wo,h.unzipWith=Vu,h.update=Sg,h.updateWith=kg,h.values=Pn,h.valuesIn=Cg,h.without=Tm,h.words=yc,h.wrap=b0,h.xor=Am,h.xorBy=Sm,h.xorWith=km,h.zip=Cm,h.zipObject=Om,h.zipObjectDeep=Rm,h.zipWith=jm,h.entries=dc,h.entriesIn=pc,h.extend=lc,h.extendWith=hi,Qo(h,h),h.add=Cy,h.attempt=vc,h.camelCase=Fg,h.capitalize=mc,h.ceil=Oy,h.clamp=Og,h.clone=E0,h.cloneDeep=A0,h.cloneDeepWith=S0,h.cloneWith=T0,h.conformsTo=k0,h.deburr=gc,h.defaultTo=ay,h.divide=Ry,h.endsWith=Pg,h.eq=xe,h.escape=Bg,h.escapeRegExp=Dg,h.every=zm,h.find=Hm,h.findIndex=Uu,h.findKey=rg,h.findLast=qm,h.findLastIndex=zu,h.findLastKey=ig,h.floor=jy,h.forEach=Ku,h.forEachRight=Yu,h.forIn=og,h.forInRight=sg,h.forOwn=ag,h.forOwnRight=ug,h.get=Ko,h.gt=C0,h.gte=O0,h.has=fg,h.hasIn=Yo,h.head=Hu,h.identity=Yt,h.includes=Xm,h.indexOf=qp,h.inRange=Rg,h.invoke=pg,h.isArguments=hn,h.isArray=q,h.isArrayBuffer=R0,h.isArrayLike=Jt,h.isArrayLikeObject=Et,h.isBoolean=j0,h.isBuffer=Ze,h.isDate=F0,h.isElement=P0,h.isEmpty=B0,h.isEqual=D0,h.isEqualWith=N0,h.isError=Vo,h.isFinite=M0,h.isFunction=Ie,h.isInteger=rc,h.isLength=li,h.isMap=ic,h.isMatch=I0,h.isMatchWith=$0,h.isNaN=L0,h.isNative=U0,h.isNil=W0,h.isNull=z0,h.isNumber=oc,h.isObject=vt,h.isObjectLike=bt,h.isPlainObject=pr,h.isRegExp=Jo,h.isSafeInteger=H0,h.isSet=sc,h.isString=fi,h.isSymbol=ne,h.isTypedArray=Fn,h.isUndefined=q0,h.isWeakMap=V0,h.isWeakSet=J0,h.join=Xp,h.kebabCase=Ng,h.last=de,h.lastIndexOf=Gp,h.lowerCase=Mg,h.lowerFirst=Ig,h.lt=K0,h.lte=Y0,h.max=Fy,h.maxBy=Py,h.mean=By,h.meanBy=Dy,h.min=Ny,h.minBy=My,h.stubArray=es,h.stubFalse=ns,h.stubObject=xy,h.stubString=Ey,h.stubTrue=Ty,h.multiply=Iy,h.nth=Zp,h.noConflict=py,h.noop=ts,h.now=ai,h.pad=$g,h.padEnd=Lg,h.padStart=Ug,h.parseInt=zg,h.random=jg,h.reduce=e0,h.reduceRight=n0,h.repeat=Wg,h.replace=Hg,h.result=bg,h.round=$y,h.runInContext=b,h.sample=i0,h.size=a0,h.snakeCase=qg,h.some=u0,h.sortedIndex=om,h.sortedIndexBy=sm,h.sortedIndexOf=am,h.sortedLastIndex=um,h.sortedLastIndexBy=cm,h.sortedLastIndexOf=lm,h.startCase=Jg,h.startsWith=Kg,h.subtract=Ly,h.sum=Uy,h.sumBy=zy,h.template=Yg,h.times=Ay,h.toFinite=$e,h.toInteger=J,h.toLength=uc,h.toLower=Xg,h.toNumber=pe,h.toSafeInteger=X0,h.toString=it,h.toUpper=Gg,h.trim=Zg,h.trimEnd=Qg,h.trimStart=ty,h.truncate=ey,h.unescape=ny,h.uniqueId=ky,h.upperCase=ry,h.upperFirst=Xo,h.each=Ku,h.eachRight=Yu,h.first=Hu,Qo(h,function(){var t={};return Ce(h,function(e,i){st.call(h.prototype,i)||(t[i]=e)}),t}(),{chain:!1}),h.VERSION=s,ue(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){h[t].placeholder=h}),ue(["drop","take"],function(t,e){G.prototype[t]=function(i){i=i===n?1:kt(J(i),0);var a=this.__filtered__&&!e?new G(this):this.clone();return a.__filtered__?a.__takeCount__=Lt(i,a.__takeCount__):a.__views__.push({size:Lt(i,wt),type:t+(a.__dir__<0?"Right":"")}),a},G.prototype[t+"Right"]=function(i){return this.reverse()[t](i).reverse()}}),ue(["filter","map","takeWhile"],function(t,e){var i=e+1,a=i==br||i==dt;G.prototype[t]=function(l){var d=this.clone();return d.__iteratees__.push({iteratee:U(l,3),type:i}),d.__filtered__=d.__filtered__||a,d}}),ue(["head","last"],function(t,e){var i="take"+(e?"Right":"");G.prototype[t]=function(){return this[i](1).value()[0]}}),ue(["initial","tail"],function(t,e){var i="drop"+(e?"":"Right");G.prototype[t]=function(){return this.__filtered__?new G(this):this[i](1)}}),G.prototype.compact=function(){return this.filter(Yt)},G.prototype.find=function(t){return this.filter(t).head()},G.prototype.findLast=function(t){return this.reverse().find(t)},G.prototype.invokeMap=Y(function(t,e){return typeof t=="function"?new G(this):this.map(function(i){return ur(i,t,e)})}),G.prototype.reject=function(t){return this.filter(ci(U(t)))},G.prototype.slice=function(t,e){t=J(t);var i=this;return i.__filtered__&&(t>0||e<0)?new G(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==n&&(e=J(e),i=e<0?i.dropRight(-e):i.take(e-t)),i)},G.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},G.prototype.toArray=function(){return this.take(wt)},Ce(G.prototype,function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),a=/^(?:head|last)$/.test(e),l=h[a?"take"+(e=="last"?"Right":""):e],d=a||/^find/.test(e);!l||(h.prototype[e]=function(){var g=this.__wrapped__,_=a?[1]:arguments,x=g instanceof G,C=_[0],O=x||q(g),j=function(X){var tt=l.apply(h,qe([X],_));return a&&B?tt[0]:tt};O&&i&&typeof C=="function"&&C.length!=1&&(x=O=!1);var B=this.__chain__,$=!!this.__actions__.length,z=d&&!B,K=x&&!$;if(!d&&O){g=K?g:new G(this);var W=t.apply(g,_);return W.__actions__.push({func:oi,args:[j],thisArg:n}),new le(W,B)}return z&&K?t.apply(this,_):(W=this.thru(j),z?a?W.value()[0]:W.value():W)})}),ue(["pop","push","shift","sort","splice","unshift"],function(t){var e=jr[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",a=/^(?:pop|shift)$/.test(t);h.prototype[t]=function(){var l=arguments;if(a&&!this.__chain__){var d=this.value();return e.apply(q(d)?d:[],l)}return this[i](function(g){return e.apply(q(g)?g:[],l)})}}),Ce(G.prototype,function(t,e){var i=h[e];if(i){var a=i.name+"";st.call(kn,a)||(kn[a]=[]),kn[a].push({name:e,func:i})}}),kn[Zr(n,N).name]=[{name:"wrapper",func:n}],G.prototype.clone=nd,G.prototype.reverse=rd,G.prototype.value=id,h.prototype.at=Pm,h.prototype.chain=Bm,h.prototype.commit=Dm,h.prototype.next=Nm,h.prototype.plant=Im,h.prototype.reverse=$m,h.prototype.toJSON=h.prototype.valueOf=h.prototype.value=Lm,h.prototype.first=h.prototype.head,er&&(h.prototype[er]=Mm),h},Tn=Dh();rn?((rn.exports=Tn)._=Tn,Gi._=Tn):jt._=Tn}).call(gr)})(ws,ws.exports);const gi=[],Fl=r=>{for(const o of gi)if(o.status==="running")try{for(const n of o.funcs)n(r-o.startTime)}catch(n){o.destroy(),console.error(n)}requestAnimationFrame(Fl)};requestAnimationFrame(Fl);class Fs{constructor(){E(this,"funcs",[]),E(this,"status","stop"),E(this,"startTime",0),this.status="running",gi.push(this),requestAnimationFrame(o=>this.startTime=o)}add(o,n=!1){return n?this.funcs.unshift(o):this.funcs.push(o),this}remove(o){const n=this.funcs.findIndex(s=>s===o);if(n===-1)throw new ReferenceError("You are going to remove nonexistent ticker function.");return this.funcs.splice(n,1),this}clear(){this.funcs=[]}destroy(){this.clear(),this.stop()}stop(){this.status="stop";const o=gi.findIndex(n=>n===this);gi.splice(o,1)}}const d1={move:[],moveend:[],movestart:[],resize:[],resizeend:[],resizestart:[],rotate:[],rotateend:[],rotatestart:[],shake:[],shakeend:[],shakestart:[],start:[],end:[],animating:[]};async function Ci(r){await new Promise(o=>setTimeout(o,r))}class Oi{constructor(o){E(this,"timing"),E(this,"shakeTiming"),E(this,"path"),E(this,"ticker",new Fs),E(this,"custom",{}),E(this,"relation","absolute"),E(this,"easeTime",0),E(this,"size",1),E(this,"angle",0),E(this,"game"),E(this,"listener",ws.exports.cloneDeep(d1)),E(this,"targetValue",{system:{move:[0,0],resize:0,rotate:0,shake:0},custom:{}}),E(this,"animateFn",{system:{move:[()=>0,()=>0],moveAs:()=>0,resize:()=>0,rotate:()=>0,shake:()=>0},custom:{}}),E(this,"ox",0),E(this,"oy",0),E(this,"sx",0),E(this,"sy",0),E(this,"animating",{}),this.game=o,this.timing=n=>n,this.shakeTiming=n=>n,this.path=n=>[n,n],this.animating={move:!1,scale:!1,rotate:!1,shake:!1},this.ticker.add(()=>{const{animating:n}=this.listener;for(const s of n)s(this,"all")})}get x(){return this.ox+this.sx}get y(){return this.oy+this.sy}mode(o,n=!1){return n?this.shakeTiming=o:this.timing=o,this}time(o){return this.easeTime=o,this}relative(){return this.relation="relative",this}absolute(){return this.relation="absolute",this}move(o,n){return this.animating.move&&this.end(!0,"move"),this.applySys("ox",o,"move"),this.applySys("oy",n,"move"),this}rotate(o){return this.applySys("angle",o,"rotate"),this}scale(o){return this.applySys("size",o,"resize"),this}shake(o,n){var s,u;this.animating.shake===!0&&this.end(!0,"shake"),this.animating.shake=!0;const{easeTime:c,shakeTiming:f}=this,m=(u=(s=this.game)==null?void 0:s.time)!=null?u:Date.now();this.hook("start","shakestart");const y=()=>{var p,v;const w=((v=(p=this.game)==null?void 0:p.time)!=null?v:Date.now())-m;w>c&&(this.ticker.remove(y),this.animating.shake=!1,this.sx=0,this.sy=0,this.hook("end","shakeend"));const k=w/c,A=f(k);this.sx=A*o,this.sy=A*n};return this.ticker.add(y),this}moveAs(o){var n,s;this.animating.moveAs&&this.end(!0,"move"),this.animating.moveAs=!0,this.path=o;const{easeTime:u,relation:c,timing:f}=this,m=(s=(n=this.game)==null?void 0:n.time)!=null?s:Date.now(),[y,p]=[this.x,this.y],[v,w]=(()=>{if(c==="absolute")return o(1);{const[A,F]=o(1);return[y+A,p+F]}})();this.hook("start","movestart");const k=()=>{var A,F;const P=((F=(A=this.game)==null?void 0:A.time)!=null?F:Date.now())-m;if(P>u){this.ticker.remove(k),this.animating.move=!1,this.ox=v,this.oy=w,this.hook("end","moveend");return}const D=P/u,[N,L]=o(f(D));c==="absolute"?(this.ox=N,this.oy=L):(this.ox=y+N,this.oy=p+L)};return this.ticker.add(k,!0),this.animateFn.system.moveAs=k,this.targetValue.system.move=[v,w],this}async all(){if(Object.values(this.animating).every(o=>o===!0))return this.error("There is no animates to be waited.");await new Promise(o=>{const n=()=>{Object.values(this.animating).every(s=>s===!1)&&(this.unlisten("end",n),o("all animated."))};this.listen("end",n)})}async n(o){const n=Object.values(this.animating).filter(u=>u===!0).length;if(n<o)return this.error(`You are trying to wait ${o} animate, but there are only ${n} animate animating.`);let s=0;await new Promise(u=>{const c=()=>{s++,s===o&&(this.unlisten("end",c),u(`${o} animated.`))};this.listen("end",c)})}async w(o){if(this.animating[o]===!1)return this.error(`The ${o} animate is not animating.`);await new Promise(n=>{const s=()=>{this.animating[o]===!1&&(this.unlisten("end",s),n(`${o} animated.`))};this.listen("end",s)})}listen(o,n){this.listener[o].push(n)}unlisten(o,n){const s=this.listener[o].findIndex(u=>u===n);if(s===-1)return this.error("You are trying to remove a nonexistent listener.");this.listener[o].splice(s,1)}register(o,n){if(typeof this.custom[o]=="number")return this.error(`Property ${o} has been regietered twice.`,"reregister");this.custom[o]=n,this.animating[o]=!1}apply(o,n,s=!1){var u,c;this.animating[o]===!0&&this.end(!1,o),o in this.custom||this.error(`You are trying to execute nonexistent property ${o}.`),this.animating[o]=!0;const f=this.custom[o],m=(c=(u=this.game)==null?void 0:u.time)!=null?c:Date.now(),{timing:y,relation:p,easeTime:v}=this,w=p==="absolute"?n-f:n;this.hook("start");const k=()=>{var A,F;const P=((F=(A=this.game)==null?void 0:A.time)!=null?F:Date.now())-m;if(P>v){this.end(!1,o);return}const D=P/v,N=y(D);this.custom[o]=f+N*w};return this.ticker.add(k,s),this.animateFn.custom[o]=k,this.targetValue.custom[o]=w+f,this}applySys(o,n,s){var u,c;s!=="move"&&this.animating[s]===!0&&this.end(!0,s),this.animating[s]=!0;const f=this[o],m=(c=(u=this.game)==null?void 0:u.time)!=null?c:Date.now(),y=this.timing,p=this.relation,v=this.easeTime,w=p==="absolute"?n-f:n;this.hook("start",`${s}start`);const k=()=>{var A,F;const P=((F=(A=this.game)==null?void 0:A.time)!=null?F:Date.now())-m;if(P>v){this.end(!0,s);return}const D=P/v,N=y(D);this[o]=f+w*N,o!=="oy"&&this.hook(s)};this.ticker.add(k,!0),o==="ox"?this.animateFn.system.move[0]=k:o==="oy"?this.animateFn.system.move[1]=k:this.animateFn.system[s]=k,s==="move"?(o==="ox"&&(this.targetValue.system.move[0]=w+f),o==="oy"&&(this.targetValue.system.move[1]=w+f)):s!=="shake"&&(this.targetValue.system[s]=w+f)}error(o,n){throw n==="repeat"?new Error(`Cannot execute the same animation twice. Info: ${o}`):n==="reregister"?new Error(`Cannot register a animated property twice. Info: ${o}`):new Error(o)}hook(...o){const n=Object.entries(this.listener).filter(s=>o.includes(s[0]));for(const[s,u]of n)for(const c of u)c(this,s)}end(o,n){if(o===!0)if(this.animating[n]=!1,n==="move"?(this.ticker.remove(this.animateFn.system.move[0]),this.ticker.remove(this.animateFn.system.move[1])):this.ticker.remove(this.animateFn.system[n]),n==="move"){const[s,u]=this.targetValue.system.move;this.ox=s,this.oy=u,this.hook("moveend","end")}else n==="rotate"?(this.angle=this.targetValue.system.rotate,this.hook("rotateend","end")):n==="resize"?(this.size=this.targetValue.system.resize,this.hook("resizeend","end")):(this.sx=0,this.sy=0,this.hook("shakeend","end"));else this.animating[n]=!1,this.ticker.remove(this.animateFn.custom[n]),this.custom[n]=this.targetValue.custom[n],this.hook("end")}}const Ae=Object.freeze(Object.defineProperty({__proto__:null,sleep:Ci,AnimationBase:Oi},Symbol.toStringTag,{value:"Module"}));class p1 extends Oi{constructor(o,n,s){super(o),E(this,"saveStack",[]),E(this,"inited",!1),E(this,"effectFn",this.defaultEffect),E(this,"trigo",[0,0]),E(this,"target"),E(this,"id"),E(this,"game"),this.target=s,this.id=n,this.game=o,this.ticker.add(()=>{const u=this.angle/180*Math.PI;this.trigo=[Math.cos(u),Math.sin(u)]})}save(){return this.saveStack.push({x:this.ox,y:this.oy,angle:this.angle,size:this.size}),this}restore(){const o=this.saveStack.pop();if(!o)throw new RangeError("There is no saves to be restored.");return this.ox=o.x,this.oy=o.y,this.size=o.size,this.angle=o.angle,this}effect(){this.effectFn(this)}css(o){const n=this.target.canvas,s=o.replaceAll(`
`,";").replace(/;+/g,";").trim().split(";");for(const u of s){const[c,f]=u.split(/\s*:\s*/);let m=c.replace(/-([a-z])/g,y=>`-${y.toUpperCase()}`);m.length!==0&&(m=m[0].toLowerCase()+m.slice(1),c in n.style&&(n.style[c]=f))}}setGlobalEffects(o){this.effectFn=o}defaultEffect(){const o=this.target,n=this.game.scale,s=960*n,u=540*n,c=this.x*n,f=this.y*n;o.translate(-c,-f),o.translate(s,u),o.rotate(this.angle*Math.PI/180),o.scale(this.size,this.size),o.translate(-s,-u),o.shadowBlur=4,o.shadowColor="black"}}const bs=(...r)=>r.reduce((o,n)=>o+n,0),ss=r=>{if(r===0)return 1;let o=r;for(;r>1;)r--,o*=r;return o},Pl=(r,o)=>Math.round(ss(o)/(ss(r)*ss(o-r))),en=(r,o,n=s=>1-o(1-s))=>r==="in"?o:r==="out"?n:r==="in-out"?s=>s<.5?o(s*2)/2:.5+n((s-.5)*2)/2:s=>s<.5?n(s*2)/2:.5+o((s-.5)*2)/2,m1=Math.cosh(2),g1=Math.acosh(2),y1=Math.tanh(3),v1=Math.atan(5);function xi(){return r=>r}function _1(...r){const o=[0].concat(r);o.push(1);const n=o.length,s=Array(n).fill(0).map((u,c)=>Pl(c,n-1));return u=>{const c=s.map((f,m)=>f*o[m]*(1-u)**(n-m-1)*u**m);return bs(...c)}}function w1(r,o){if(r==="sin"){const n=s=>Math.sin(s*Math.PI/2);return en(o,s=>1-n(1-s),n)}if(r==="sec"){const n=s=>1/Math.cos(s);return en(o,s=>n(s*Math.PI/3)-1)}throw new TypeError("Unexpected parameters are delivered in trigo timing function.")}function b1(r,o){if(!Number.isInteger(r))throw new TypeError("The first parameter of power timing function only allow integer.");return en(o,n=>n**r)}function x1(r,o){if(r==="sin")return en(o,n=>(Math.cosh(n*2)-1)/(m1-1));if(r==="tan"){const n=s=>Math.tanh(s*3)*1/y1;return en(o,s=>1-n(1-s),n)}if(r==="sec"){const n=s=>1/Math.cosh(s);return en(o,s=>1-(n(s*g1)-.5)*2)}throw new TypeError("Unexpected parameters are delivered in hyper timing function.")}function E1(r,o){if(r==="sin"){const n=s=>Math.asin(s)/Math.PI*2;return en(o,s=>1-n(1-s),n)}if(r==="tan"){const n=s=>Math.atan(s*5)/v1;return en(o,s=>1-n(1-s),n)}throw new TypeError("Unexpected parameters are delivered in inverse trigo timing function.")}function T1(r,o=()=>1){let n=-1;return s=>(n*=-1,s<.5?r*o(s*2)*n:r*o((1-s)*2)*n)}const Bl=(1920**2+1080**2)/4;function V(r){return r!=null}function A1(r,o){return typeof r===o}function Dl(r){return V(r)&&V(r.fnType)&&(r.fnType==="timing"||r.fnType==="generator"||r.fnType==="path")}function S1(r,o,...n){return typeof r(...n)===o}const Ps=Object.freeze(Object.defineProperty({__proto__:null,radius:Bl,has:V,is:A1,isMTTFn:Dl,isReturnType:S1},Symbol.toStringTag,{value:"Module"})),Nl=class extends Oi{constructor(r,o,n,s,u,c){super(o),E(this,"bpm",100),E(this,"lastNode",-1),E(this,"lastAngle",0),E(this,"rad",0),E(this,"inited",!1),E(this,"ctxFilter",""),E(this,"game"),E(this,"notes",[]),E(this,"num",Nl.cnt++),E(this,"id"),E(this,"timeNodes",[]),E(this,"initAngle"),this.id=r,this.game=o,this.register("radius",u),this.register("r",255),this.register("g",180),this.register("b",32),this.register("a",1),this.ox=n,this.oy=s,this.initAngle=c}addNote(r){this.notes.push(r)}sort(){this.timeNodes.sort(([r],[o])=>r-o),this.notes.sort((r,o)=>{if(!V(r.noteTime)||!V(o.noteTime))throw new TypeError(`A note without note time is appended on the base ${this.id}`);return r.noteTime-o.noteTime})}setRadius(r){return this.mode(xi()).time(1).apply("radius",r),this}rgba(r,o,n,s){return this.mode(xi()).time(1),V(r)&&this.apply("r",r),V(o)&&this.apply("g",o),V(n)&&this.apply("b",n),V(s)&&this.apply("a",s),this}filter(r){return this.ctxFilter=r,this}setSpeed(r){this.bpm=r}calRad(){this.checkNode();const[r,o]=this.timeNodes[this.lastNode];return this.rad=this.lastAngle+(this.game.time-r)*o/3e4*Math.PI+this.initAngle*Math.PI/180}checkNode(){var r,o;const n=this.game.time;let s=!1;for(let u=this.lastNode+1;u<this.timeNodes.length;u++){const[c]=this.timeNodes[u];c<=n&&(this.lastNode=u,s=!0)}if(s){let u=0;for(let c=0;c<this.lastNode;c++){const[f,m]=this.timeNodes[c];u+=(((o=(r=this.timeNodes[c+1])==null?void 0:r[0])!=null?o:0)-f)*m/3e4*Math.PI}this.lastAngle=u}}};let xs=Nl;E(xs,"cnt",0);class Bs{constructor(o){E(this,"events"),this.events=o}on(o,n,s={}){this.events[o].push({fn:n,option:s})}off(o,n){const s=this.events[o].findIndex(u=>u.fn===n);if(s===-1)throw new ReferenceError("You are trying to remove a nonexistent listener.");this.events[o].splice(s,1)}dispatch(o,n,s={}){try{for(const{fn:u,option:c}of this.events[o])u(n)}catch(u){throw u}return!0}}class k1 extends Bs{constructor(o){super({hit:[],hold:[],holdend:[]}),E(this,"toJudge",[]),E(this,"holding",[]),E(this,"holdingKeys",[]),E(this,"perfect",0),E(this,"good",0),E(this,"miss",0),E(this,"maxCombo",0),E(this,"early",0),E(this,"late",0),E(this,"touching",0),E(this,"auto",!1),E(this,"chart"),E(this,"c",0),E(this,"keydown",n=>{this.holdingKeys.includes(n.keyCode)||(this.chart.game.ac.sync(),this.holdingKeys.push(n.keyCode),this.judge(n.keyCode))}),E(this,"keyup",n=>{this.chart.game.ac.sync();const s=this.holdingKeys.findIndex(c=>c===n.keyCode);this.holdingKeys.splice(s,1);const u=this.holding.find(c=>c.key===n.keyCode);!V(u)||this.judgeHold(!1,u,n.keyCode)}),E(this,"touchstart",n=>{this.chart.game.ac.sync(),this.touching++,this.judge()}),E(this,"touchend",n=>{this.chart.game.ac.sync(),this.touching--,this.judgeHold(!1)}),this.chart=o,document.addEventListener("keydown",this.keydown),document.addEventListener("keyup",this.keyup)}set combo(o){this.c=o,o>this.maxCombo&&(this.maxCombo=o)}get combo(){return this.c}inJudge(o){return o<=this.perfect+this.good+this.miss+this.toJudge.length}judge(o){if(this.auto)return;const n=this.toJudge.slice(0,1)[0];if(!V(n))return;if(this.toJudge.length===0&&this.next(),n.noteType==="hold")return this.judgeHold(!0,n,o!=null?o:-10);if(n.noteType==="drag")return;const s=this.chart.game.time,u=n.noteTime;if(!V(u))return;const c=f=>s>u-f&&s<u+f;if(c(n.perfectTime))this.toJudge.shift(),n.perfect(),this.perfect++;else if(c(n.goodTime)){this.toJudge.shift();const f=s-u>n.perfectTime?"late":"early";n.good(f),this[f]++,this.good++}else if(c(n.missTime)){this.toJudge.shift();const f=s-u>n.goodTime?"late":"early";n.miss(f),this[f]++,this.miss++}}judgeHold(o,n,s){if(!this.auto){if(o)if(V(n)&&V(n.noteTime)){const u=this.chart.game.time,c=n.noteTime,f=y=>u>c-y&&u<c+y;f(n.perfectTime)?n.hold("perfect","perfect",s):f(n.goodTime)?n.hold("good",u-c>n.perfectTime?"late":"early",s):f(n.missTime)&&n.hold("miss",u-c>n.goodTime?"late":"early",s);const m=this.toJudge.findIndex(y=>y===n);this.toJudge.splice(m,1);return}else throw new TypeError("There is no note on judging first hold.");if(V(n)&&V(s)){if(n.key===s){const u=this.holding.findIndex(c=>c===n);return this.holding.splice(u,1),n.miss("late")}}else{const u=this.holding;if(u.length>this.touching){const c=u.length-this.touching;u.splice(0,c).forEach(f=>{const m=this.holding.findIndex(y=>y===n);this.holding.splice(m,1),f.miss("late")})}}}}judgeMissAndDrag(){const o=()=>{this.toJudge.length===0&&this.next(),this.toJudge=this.toJudge.filter(n=>{if(!V(n.noteTime))throw new TypeError("The note to be judge doesn't have the property 'noteTime'.");if(this.auto){if(this.chart.game.time>n.noteTime){if(n.noteType!=="hold")n.perfect(),this.perfect++;else{n.hold("perfect","perfect");const s=this.toJudge.findIndex(u=>n===u);this.toJudge.splice(s,1)}return!1}return!0}else return n.noteType==="drag"&&this.chart.game.time>n.noteTime-n.perfectTime&&(this.holdingKeys.length>0||this.touching>0)?(n.perfect(),this.perfect++,!1):this.chart.game.time>n.noteTime+n.missTime?(n.miss("late"),this.late++,this.miss++,!1):!0}),this.holding=this.holding.filter(n=>{if(!V(n.noteTime))throw new TypeError("The note to be judge doesn't have the property 'noteTime'.");if(!V(n.holdTime))throw new TypeError("The note to be judge doesn't have the property 'holdTime'.");if(this.auto){if(n.holdTime>this.chart.game.time-n.noteTime-100)return n.perfect(),this.perfect++,!1}else if(n.holdTime>this.chart.game.time-n.noteTime-100){if(n.res==="pre")throw new TypeError("The note type is unexpected 'pre' when judging hold note.");return n[n.res](n.detail),n.res!=="miss"&&this[n.res]++,!1}return!0})};this.chart.game.ticker.add(o)}isMulti(o){if(!V(o.noteTime))return!1;const n=o.num,s=this.chart.notes[n-1];if(V(s)&&V(s.noteTime)&&s.noteTime===o.noteTime)return!0;const u=this.chart.notes[n+1];return!!(V(u)&&V(u.noteTime)&&u.noteTime===o.noteTime)}dispatchEvent(o,n){this.dispatch(o,n)}next(){const o=this.chart.notesArr,n=o.find(c=>V(c.noteTime));let s=o.findIndex(c=>V(c.noteTime)&&(c.noteTime>(n==null?void 0:n.noteTime)||c.noteType==="drag"&&c.noteTime<this.chart.game.time));s===-1&&(s=o.length+1);const u=o.splice(0,s);this.toJudge=u.filter(c=>V(c.noteTime))}}const Ml=class extends Oi{constructor(r,o,n){var s,u,c;super(o.game),E(this,"played",!1),E(this,"speed",500),E(this,"alpha",1),E(this,"ctxFilter",""),E(this,"ctxShadow",{x:0,y:0,blur:0,color:""}),E(this,"key",0),E(this,"holding",!1),E(this,"destroyed",!1),E(this,"res","pre"),E(this,"detail","early"),E(this,"lastNode",-1),E(this,"lastD",0),E(this,"multi",!1),E(this,"px",0),E(this,"py",0),E(this,"inited",!1),E(this,"num",Ml.cnt++),E(this,"noteType"),E(this,"base"),E(this,"holdTime"),E(this,"noteTime"),E(this,"perfectTime"),E(this,"goodTime"),E(this,"missTime"),E(this,"timeNodes",[]),E(this,"dir",[0,0]),E(this,"rad",0),this.noteType=r,this.noteTime=n==null?void 0:n.playTime,this.base=o,this.perfectTime=(s=n==null?void 0:n.perfectTime)!=null?s:o.game.perfect,this.goodTime=(u=n==null?void 0:n.goodTime)!=null?u:o.game.good,this.missTime=(c=n==null?void 0:n.goodTime)!=null?c:o.game.miss,this.holdTime=n==null?void 0:n.time,V(this.noteTime)&&(this.dir=this.calDir(),this.rad=Math.atan(this.dir[1]/this.dir[0])),this.register("opacity",1)}setSpeed(r){this.speed=r}perfect(){if(this.noteType==="hold")return this.holdEnd("perfect");const r=()=>{this.base.game.time>=this.noteTime&&this.hit("perfect")};this.noteType==="drag"?this.base.game.time>=this.noteTime?this.hit("perfect"):this.ticker.add(r):this.hit("perfect")}good(r){if(this.detail=r,this.noteType==="hold")return this.holdEnd("good");this.hit("good")}miss(r){if(this.detail=r,this.noteType==="hold")return this.holdEnd("miss");this.hit("miss",!0)}hold(r,o,n){if(this.noteType!=="hold")throw new TypeError("You are trying to hold non-hold note.");if(!V(this.holdTime)||!V(this.noteTime))throw new TypeError("This note has no noteTime or holdTime.");this.holding=!0,V(n)&&(this.key=n),this.base.game.chart.judger.holding.push(this);const s={target:this.base.game.chart.judger,type:"hold",time:this.base.game.time-this.noteTime,totalTime:this.holdTime,res:r,note:this,base:this.base,detail:o};this.base.game.chart.judger.dispatchEvent("hold",s)}filter(r){return this.ctxFilter=r,this}opacity(r){return this.mode(xi()).time(1).apply("opacity",r),this}shadow(r,o,n,s){return this.ctxShadow={x:r,y:o,blur:n,color:s},this}destroy(){this.destroyed=!0,this.ticker.destroy()}sort(){this.timeNodes.sort(([r],[o])=>r-o)}calDistance(){return V(this.noteTime)?(this.checkNode(),-(this.base.game.time-this.timeNodes[this.lastNode][0])*this.speed/1e3+this.lastD):0}calPosition(){if(this.destroyed)return[this.px,this.py,NaN];const r=this.calDistance()+this.base.custom.radius;if(r<0)return[NaN,NaN,NaN];const o=r*this.dir[0]+this.x,n=r*this.dir[1]+this.y,s=o+this.base.x,u=n+this.base.y;return this.px=s,this.py=u,[s,u,r]}playSound(){this.base.game.ac.playSound(this.noteType)}calDir(){var r,o;if(!V(this.noteTime))throw new TypeError("The note doesn't have noteTime.");const n=this.base.timeNodes;let s=this.base.initAngle*Math.PI/180;for(let u=0;u<n.length;u++){const[c,f]=n[u],m=(o=(r=n[u+1])==null?void 0:r[0])!=null?o:this.noteTime;if(m>this.noteTime){s+=(this.noteTime-c)*f/3e4*Math.PI;break}s+=(m-c)*f/3e4*Math.PI}return[Math.cos(s),Math.sin(s)]}checkNode(){var r,o;const n=this.base.game.time;let s=!1;for(let u=this.lastNode+1;u<this.timeNodes.length;u++){const[c]=this.timeNodes[u];c<=n&&(this.lastNode=u,s=!0)}if(s){let u=0;for(let c=this.timeNodes.length-1;c>=this.lastNode;c--){const[f,m]=this.timeNodes[c];u+=(((o=(r=this.timeNodes[c+1])==null?void 0:r[0])!=null?o:this.noteTime)-f)*m/1e3}this.lastD=u}}hit(r,o=!1){o||this.playSound(),this.res=r,this.played=!0,this.destroy(),this.base.game.renderer.addHitEffect(this),r==="miss"?this.base.game.chart.judger.combo=0:this.base.game.chart.judger.combo++;const n={target:this.base.game.chart.judger,type:"hit",res:r,note:this,base:this.base,detail:this.detail};this.base.game.chart.judger.dispatchEvent("hit",n)}holdEnd(r){this.played=!0,this.destroy(),this.base.game.renderer.addHitEffect(this),r==="miss"?this.base.game.chart.judger.combo=0:this.base.game.chart.judger.combo++;const o={target:this.base.game.chart.judger,type:"holdend",res:r,note:this,base:this.base,detail:this.detail,time:this.base.game.time-this.noteTime,totalTime:this.holdTime};this.base.game.chart.judger.dispatchEvent("holdend",o)}};let Es=Ml;E(Es,"cnt",0);class C1{constructor(o){E(this,"camera"),E(this,"notes",{}),E(this,"bases",{}),E(this,"basesDict",{}),E(this,"notesArr",[]),E(this,"game"),E(this,"judger",new k1(this)),E(this,"animate",{timing:{},generator:{},path:{},pathG:{}}),E(this,"attrSet",{note:{},base:{},camera:{}}),this.game=o}async extract(o){const{bases:n,notes:s,camera:u,option:c}=o;await new Promise(f=>{var m;for(const p of n){const v=p.id,w=new xs(v,this.game,p.x,p.y,Object.values(p.r)[0],p.angle);this.bases[w.num]=w,this.basesDict[v]=w,w.timeNodes.push(...Object.entries(p.bpm).map(k=>[parseFloat(k[0]),k[1]])),w.sort(),this.execute("base",p,w),this.executeAnimate("base",p.animate,w.num)}s.sort((p,v)=>{var w,k;const A=V(p.config)&&V(p.config.playTime),F=V(v.config)&&V(v.config.playTime);return A&&F?((w=p.config)==null?void 0:w.playTime)-((k=v.config)==null?void 0:k.playTime):A&&!F?-1:!A&&F?1:0});for(const p of s){const v=this.basesDict[p.base],w=new Es(p.type,v,p.config);this.notes[w.num]=w,this.notesArr.push(w),w.timeNodes.push(...Object.entries(p.speed).map(k=>[parseFloat(k[0]),k[1]])),w.sort(),this.execute("note",p,w),this.executeAnimate("note",p.animate,w.num)}this.notesArr.forEach(p=>{p.multi=this.judger.isMulti(p)});const y=new p1(this.game,u.id,this.game.ctx);this.camera=y,this.executeAnimate("camera",u.animate),this.execute("camera",u,y),this.game.target.style.background=(m=c.background)!=null?m:"black",f("extract success.")}),this.game.length=this.notesArr.filter(f=>V(f.noteTime)).length,this.judger.judgeMissAndDrag()}async restart(){Object.values(this.notes).forEach(o=>o.ticker.destroy()),Object.values(this.bases).forEach(o=>o.ticker.destroy()),this.notes={},this.bases={},this.notesArr=[],this.basesDict={},Es.cnt=0,xs.cnt=0,this.judger.perfect=0,this.judger.good=0,this.judger.miss=0,this.judger.combo=0,this.judger.maxCombo=0,await Ci(1e3),await this.extract(this.game.mtt)}register(o,n,s){this.animate[o][n]=s}registerExecute(o,n,s){this.attrSet[o][n]=s}sortMTT(o){return Object.keys(o).map(n=>parseFloat(n)).sort((n,s)=>n-s)}extractMTTAnimate(o){const n=(c,f,m)=>{const y=m.map(v=>Dl(v)?n(v.fn,v.fnType,v.args):v),p=this.animate[f][c];return f==="timing"?p:p.apply(this,y)},s=n(o.mode.fn,o.mode.fnType,o.mode.args);let u;return o.type==="moveAs"?u=n(o.mode.pathFn,o.mode.pathType,o.mode.pathArg):u=void 0,{fn:s,path:u,...o}}executeAnimate(o,n,s){let u;o==="base"?u=this.bases[s]:o==="note"?u=this.notes[s]:u=this.camera;const c=n.sort((y,p)=>y.start-p.start).map(y=>this.extractMTTAnimate(y));let f=-1;const m=()=>{const y=c[f+1];if(!y)return this.game.ticker.remove(m);const p=y.start;this.game.time<p||(f++,u.mode(y.fn,y.shake).time(y.time),y.relation==="absolute"?u.absolute():u.relative(),y.custom?u.apply(y.type,y.n,y.first):y.path?u.moveAs(y.path):y.type==="move"?u.move(y.x,y.y):y.type==="rotate"?u.rotate(y.n):y.type==="resize"||y.type==="scale"?u.scale(y.n):y.type==="shake"&&u.shake(y.x,y.y))};this.game.ticker.add(m)}execute(o,n,s){const u=this.attrSet[o],c=f=>{let m=-1;const y=n[f],p=this.sortMTT(y),v=u[f],w=()=>{const k=p[m+1];if(!V(k))return this.game.ticker.remove(w);this.game.time<k||(k===0&&setTimeout(()=>s.inited=!0,50),this.game.time>0&&!s.inited&&setTimeout(()=>s.inited=!0,50),m++,v(n[f][k],s))};this.game.ticker.add(w)};for(const f in u)c(f)}}function O1(r,o=1,n=u=>1,s=!1){return u=>{const c=o*u*Math.PI*2,f=Math.cos(c),m=Math.sin(c),y=r*n(n(s?1-u:u));return[y*f,y*m]}}function R1(r,o,...n){const s=[r].concat(n);s.push(o);const u=s.length,c=Array(u).fill(0).map((f,m)=>Pl(m,u-1));return f=>{const m=c.map((p,v)=>p*s[v][0]*(1-f)**(u-v-1)*f**v),y=c.map((p,v)=>p*s[v][1]*(1-f)**(u-v-1)*f**v);return[bs(...m),bs(...y)]}}class j1 extends Bs{constructor(o){super({before:[],after:[],effectadd:[],effectend:[]}),E(this,"time",0),E(this,"game"),E(this,"renderer",{base:this.renderBases,tap:this.renderTap,hold:this.renderHold,drag:this.renderDrag}),E(this,"effect",{perfect:this.perfectEffect,good:this.goodEffect,miss:this.missEffect}),E(this,"effects",[]),this.game=o}start(){const o=()=>{this.game.status!=="playing"||this.game.time<=0||this.render()};this.game.ticker.add(o)}render(o){const n=this.game.ctx;n.clearRect(0,0,n.canvas.width,n.canvas.height),n.save();const s={target:this,type:"before",canvas:this.game.target,ctx:this.game.ctx};this.dispatch("before",s),this.game.chart.camera.effect();const u=this.game.chart.bases;for(const y in u){const p=u[y];p.custom.a!==0&&this.renderer.base.call(this,p)}const c=this.game.chart.notes;for(const y in c){const p=c[y];p.custom.opacity!==0&&(p.played||(p.noteType==="tap"&&this.renderer.tap.call(this,p),p.noteType==="hold"&&this.renderer.hold.call(this,p),p.noteType==="drag"&&this.renderer.drag.call(this,p)))}const f=this.effects;for(const y of f)y.res==="perfect"&&this.effect.perfect.call(this,y),y.res==="good"&&this.effect.good.call(this,y),y.res==="miss"&&this.effect.miss.call(this,y);n.restore();const m={target:this,type:"after",canvas:this.game.target,ctx:this.game.ctx};this.dispatch("after",m)}setBase(o){this.renderer.base=o}setNote(o,n){this.renderer[o]=n}setEffect(o,n){this.effect[o]=n}inGame(o,n,s=10){const u=this.game.chart.camera,c=u.size,f=o-960,m=n-540,[y,p]=u.trigo,v=f*y-m*p-u.x/c,w=f*p+m*y-u.y/c;return v**2+w**2-s**2<=Bl/c**2}addHitEffect(o){const n={start:this.game.time,end:!1,res:o.res,note:o},s={set:(f,m,y)=>{if(typeof m=="symbol")return!1;if(m==="end"&&y===!0){const p=this.effects.findIndex(w=>w===u);this.effects.splice(p,1);const v={target:this,type:"effectend",canvas:this.game.target,ctx:this.game.ctx,effect:u};this.dispatch("effectend",v)}return f[m]=y,!0}},u=new Proxy(n,s);this.effects.push(u);const c={target:this,type:"effectadd",canvas:this.game.target,ctx:this.game.ctx,effect:u};this.dispatch("effectadd",c)}clearEffect(){this.effects=[]}renderTap(o){this.renderNonHold(o,"#00d2eb")}renderHold(o){}renderDrag(o){this.renderNonHold(o,"#f500d6")}renderNonHold(o,n){if(o.destroyed||V(o.noteTime)&&this.game.time>o.noteTime+o.missTime||!o.inited)return;const[s,u,c]=o.calPosition();if(isNaN(s)||!this.inGame(s,u,this.game.drawWidth/2))return;const f=o.rad+o.angle*Math.PI/180,m=this.game.ctx,y=this.game.halfWidth,p=this.game.halfTopWidth,v=this.game.halfHeight,w=this.game.multiStroke,k=o.custom.opacity;m.save(),m.translate(s*this.game.scale,u*this.game.scale),m.rotate(f+Math.PI/2),m.filter=o.ctxFilter,m.strokeStyle="#fff",m.fillStyle=n,m.lineWidth=4*this.game.drawScale,o.multi&&(m.shadowColor="gold",m.strokeStyle=w),m.globalAlpha=k,c<o.base.custom.radius&&(m.globalAlpha=c/o.base.custom.radius*k),m.beginPath(),m.moveTo(-y,0),m.lineTo(-p,-v),m.lineTo(p,-v),m.lineTo(y,0),m.lineTo(p,v),m.lineTo(-p,v),m.closePath(),m.fill(),m.stroke(),m.restore()}renderBases(o){if(!this.inGame(o.x,o.y)||!o.inited)return;const n=o.calRad()+o.angle*Math.PI/180,s=this.game.ctx,u=this.game.scale,c=o.x*u,f=o.y*u,m=o.custom.radius*u,{r:y,g:p,b:v,a:w}=o.custom;s.save(),s.translate(c,f),s.rotate(n+Math.PI),s.filter=o.ctxFilter,s.moveTo(0,0),s.fillStyle=s.strokeStyle=`rgba(${y}, ${p}, ${v}, ${w})`,s.fillRect(-m,-m*.06,m,m*.12),s.beginPath(),s.arc(0,0,m*2/5,0,Math.PI*2),s.closePath(),s.lineWidth=m/10*u,s.fill(),s.beginPath(),s.lineCap="round",s.arc(0,0,m*.6,-Math.PI/8,+Math.PI/8),s.stroke(),s.closePath(),s.beginPath(),s.arc(0,0,m,0,Math.PI*2),s.lineWidth=2*u,s.globalAlpha=.6,s.stroke(),s.closePath(),s.restore()}playEffect(o,n){const s=this.game.time-o.start;if(s>500){o.end=!0;return}const[u,c]=o.note.calPosition(),f=s/4,m=this.game.ctx,y=this.game.scale;m.save(),m.strokeStyle=n,m.shadowBlur=5,m.shadowColor=n,m.globalAlpha=2-s/250,m.beginPath(),m.arc(u*y,c*y,f*this.game.drawScale*.8,0,Math.PI*2),m.closePath(),m.lineWidth=5,m.stroke(),m.restore()}perfectEffect(o){this.playEffect(o,"gold")}goodEffect(o){this.playEffect(o,"#19aff0")}missEffect(o){this.playEffect(o,"#8f0067")}}var Il={exports:{}},Ds={exports:{}},$l=function(r,o){return function(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];return r.apply(o,n)}},F1=$l,Ns=Object.prototype.toString,Ms=function(r){return function(o){var n=Ns.call(o);return r[n]||(r[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function yn(r){return r=r.toLowerCase(),function(o){return Ms(o)===r}}function Is(r){return Array.isArray(r)}function Ei(r){return typeof r>"u"}function P1(r){return r!==null&&!Ei(r)&&r.constructor!==null&&!Ei(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}var Ll=yn("ArrayBuffer");function B1(r){var o;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?o=ArrayBuffer.isView(r):o=r&&r.buffer&&Ll(r.buffer),o}function D1(r){return typeof r=="string"}function N1(r){return typeof r=="number"}function Ul(r){return r!==null&&typeof r=="object"}function yi(r){if(Ms(r)!=="object")return!1;var o=Object.getPrototypeOf(r);return o===null||o===Object.prototype}var M1=yn("Date"),I1=yn("File"),$1=yn("Blob"),L1=yn("FileList");function $s(r){return Ns.call(r)==="[object Function]"}function U1(r){return Ul(r)&&$s(r.pipe)}function z1(r){var o="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||Ns.call(r)===o||$s(r.toString)&&r.toString()===o)}var W1=yn("URLSearchParams");function H1(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function q1(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Ls(r,o){if(!(r===null||typeof r>"u"))if(typeof r!="object"&&(r=[r]),Is(r))for(var n=0,s=r.length;n<s;n++)o.call(null,r[n],n,r);else for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&o.call(null,r[u],u,r)}function Ts(){var r={};function o(u,c){yi(r[c])&&yi(u)?r[c]=Ts(r[c],u):yi(u)?r[c]=Ts({},u):Is(u)?r[c]=u.slice():r[c]=u}for(var n=0,s=arguments.length;n<s;n++)Ls(arguments[n],o);return r}function V1(r,o,n){return Ls(o,function(s,u){n&&typeof s=="function"?r[u]=F1(s,n):r[u]=s}),r}function J1(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}function K1(r,o,n,s){r.prototype=Object.create(o.prototype,s),r.prototype.constructor=r,n&&Object.assign(r.prototype,n)}function Y1(r,o,n){var s,u,c,f={};o=o||{};do{for(s=Object.getOwnPropertyNames(r),u=s.length;u-- >0;)c=s[u],f[c]||(o[c]=r[c],f[c]=!0);r=Object.getPrototypeOf(r)}while(r&&(!n||n(r,o))&&r!==Object.prototype);return o}function X1(r,o,n){r=String(r),(n===void 0||n>r.length)&&(n=r.length),n-=o.length;var s=r.indexOf(o,n);return s!==-1&&s===n}function G1(r){if(!r)return null;var o=r.length;if(Ei(o))return null;for(var n=new Array(o);o-- >0;)n[o]=r[o];return n}var Z1=function(r){return function(o){return r&&o instanceof r}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Dt={isArray:Is,isArrayBuffer:Ll,isBuffer:P1,isFormData:z1,isArrayBufferView:B1,isString:D1,isNumber:N1,isObject:Ul,isPlainObject:yi,isUndefined:Ei,isDate:M1,isFile:I1,isBlob:$1,isFunction:$s,isStream:U1,isURLSearchParams:W1,isStandardBrowserEnv:q1,forEach:Ls,merge:Ts,extend:V1,trim:H1,stripBOM:J1,inherits:K1,toFlatObject:Y1,kindOf:Ms,kindOfTest:yn,endsWith:X1,toArray:G1,isTypedArray:Z1,isFileList:L1},Dn=Dt;function Pc(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var zl=function(r,o,n){if(!o)return r;var s;if(n)s=n(o);else if(Dn.isURLSearchParams(o))s=o.toString();else{var u=[];Dn.forEach(o,function(f,m){f===null||typeof f>"u"||(Dn.isArray(f)?m=m+"[]":f=[f],Dn.forEach(f,function(y){Dn.isDate(y)?y=y.toISOString():Dn.isObject(y)&&(y=JSON.stringify(y)),u.push(Pc(m)+"="+Pc(y))}))}),s=u.join("&")}if(s){var c=r.indexOf("#");c!==-1&&(r=r.slice(0,c)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r},Q1=Dt;function Ri(){this.handlers=[]}Ri.prototype.use=function(r,o,n){return this.handlers.push({fulfilled:r,rejected:o,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Ri.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)};Ri.prototype.forEach=function(r){Q1.forEach(this.handlers,function(o){o!==null&&r(o)})};var t_=Ri,e_=Dt,n_=function(r,o){e_.forEach(r,function(n,s){s!==o&&s.toUpperCase()===o.toUpperCase()&&(r[o]=n,delete r[s])})},Wl=Dt;function $n(r,o,n,s,u){Error.call(this),this.message=r,this.name="AxiosError",o&&(this.code=o),n&&(this.config=n),s&&(this.request=s),u&&(this.response=u)}Wl.inherits($n,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Hl=$n.prototype,ql={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(r){ql[r]={value:r}});Object.defineProperties($n,ql);Object.defineProperty(Hl,"isAxiosError",{value:!0});$n.from=function(r,o,n,s,u,c){var f=Object.create(Hl);return Wl.toFlatObject(r,f,function(m){return m!==Error.prototype}),$n.call(f,r.message,o,n,s,u),f.name=r.name,c&&Object.assign(f,c),f};var Hn=$n,Vl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Te=Dt;function r_(r,o){o=o||new FormData;var n=[];function s(c){return c===null?"":Te.isDate(c)?c.toISOString():Te.isArrayBuffer(c)||Te.isTypedArray(c)?typeof Blob=="function"?new Blob([c]):Buffer.from(c):c}function u(c,f){if(Te.isPlainObject(c)||Te.isArray(c)){if(n.indexOf(c)!==-1)throw Error("Circular reference detected in "+f);n.push(c),Te.forEach(c,function(m,y){if(!Te.isUndefined(m)){var p=f?f+"."+y:y,v;if(m&&!f&&typeof m=="object"){if(Te.endsWith(y,"{}"))m=JSON.stringify(m);else if(Te.endsWith(y,"[]")&&(v=Te.toArray(m))){v.forEach(function(w){!Te.isUndefined(w)&&o.append(p,s(w))});return}}u(m,p)}}),n.pop()}else o.append(f,s(c))}return u(r),o}var Jl=r_,as,Bc;function i_(){if(Bc)return as;Bc=1;var r=Hn;return as=function(o,n,s){var u=s.config.validateStatus;!s.status||!u||u(s.status)?o(s):n(new r("Request failed with status code "+s.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))},as}var us,Dc;function o_(){if(Dc)return us;Dc=1;var r=Dt;return us=r.isStandardBrowserEnv()?function(){return{write:function(o,n,s,u,c,f){var m=[];m.push(o+"="+encodeURIComponent(n)),r.isNumber(s)&&m.push("expires="+new Date(s).toGMTString()),r.isString(u)&&m.push("path="+u),r.isString(c)&&m.push("domain="+c),f===!0&&m.push("secure"),document.cookie=m.join("; ")},read:function(o){var n=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),us}var s_=function(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)},a_=function(r,o){return o?r.replace(/\/+$/,"")+"/"+o.replace(/^\/+/,""):r},u_=s_,c_=a_,Kl=function(r,o){return r&&!u_(o)?c_(r,o):o},cs,Nc;function l_(){if(Nc)return cs;Nc=1;var r=Dt,o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return cs=function(n){var s={},u,c,f;return n&&r.forEach(n.split(`
`),function(m){if(f=m.indexOf(":"),u=r.trim(m.substr(0,f)).toLowerCase(),c=r.trim(m.substr(f+1)),u){if(s[u]&&o.indexOf(u)>=0)return;u==="set-cookie"?s[u]=(s[u]?s[u]:[]).concat([c]):s[u]=s[u]?s[u]+", "+c:c}}),s},cs}var ls,Mc;function f_(){if(Mc)return ls;Mc=1;var r=Dt;return ls=r.isStandardBrowserEnv()?function(){var o=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),s;function u(c){var f=c;return o&&(n.setAttribute("href",f),f=n.href),n.setAttribute("href",f),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=u(window.location.href),function(c){var f=r.isString(c)?u(c):c;return f.protocol===s.protocol&&f.host===s.host}}():function(){return function(){return!0}}(),ls}var fs,Ic;function ji(){if(Ic)return fs;Ic=1;var r=Hn,o=Dt;function n(s){r.call(this,s==null?"canceled":s,r.ERR_CANCELED),this.name="CanceledError"}return o.inherits(n,r,{__CANCEL__:!0}),fs=n,fs}var $c,Lc;function h_(){return Lc||(Lc=1,$c=function(r){var o=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return o&&o[1]||""}),$c}var hs,Uc;function d_(){if(Uc)return hs;Uc=1;var r=Dt,o=i_(),n=o_(),s=zl,u=Kl,c=l_(),f=f_(),m=Vl,y=Hn,p=ji(),v=h_();return hs=function(w){return new Promise(function(k,A){var F=w.data,P=w.headers,D=w.responseType,N;function L(){w.cancelToken&&w.cancelToken.unsubscribe(N),w.signal&&w.signal.removeEventListener("abort",N)}r.isFormData(F)&&r.isStandardBrowserEnv()&&delete P["Content-Type"];var M=new XMLHttpRequest;if(w.auth){var ot=w.auth.username||"",Z=w.auth.password?unescape(encodeURIComponent(w.auth.password)):"";P.Authorization="Basic "+btoa(ot+":"+Z)}var ht=u(w.baseURL,w.url);M.open(w.method.toUpperCase(),s(ht,w.params,w.paramsSerializer),!0),M.timeout=w.timeout;function yt(){if(M){var Mt="getAllResponseHeaders"in M?c(M.getAllResponseHeaders()):null,ge=!D||D==="text"||D==="json"?M.responseText:M.response,qn={data:ge,status:M.status,statusText:M.statusText,headers:Mt,config:w,request:M};o(function(nn){k(nn),L()},function(nn){A(nn),L()},qn),M=null}}if("onloadend"in M?M.onloadend=yt:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(yt)},M.onabort=function(){!M||(A(new y("Request aborted",y.ECONNABORTED,w,M)),M=null)},M.onerror=function(){A(new y("Network Error",y.ERR_NETWORK,w,M,M)),M=null},M.ontimeout=function(){var Mt=w.timeout?"timeout of "+w.timeout+"ms exceeded":"timeout exceeded",ge=w.transitional||m;w.timeoutErrorMessage&&(Mt=w.timeoutErrorMessage),A(new y(Mt,ge.clarifyTimeoutError?y.ETIMEDOUT:y.ECONNABORTED,w,M)),M=null},r.isStandardBrowserEnv()){var Nt=(w.withCredentials||f(ht))&&w.xsrfCookieName?n.read(w.xsrfCookieName):void 0;Nt&&(P[w.xsrfHeaderName]=Nt)}"setRequestHeader"in M&&r.forEach(P,function(Mt,ge){typeof F>"u"&&ge.toLowerCase()==="content-type"?delete P[ge]:M.setRequestHeader(ge,Mt)}),r.isUndefined(w.withCredentials)||(M.withCredentials=!!w.withCredentials),D&&D!=="json"&&(M.responseType=w.responseType),typeof w.onDownloadProgress=="function"&&M.addEventListener("progress",w.onDownloadProgress),typeof w.onUploadProgress=="function"&&M.upload&&M.upload.addEventListener("progress",w.onUploadProgress),(w.cancelToken||w.signal)&&(N=function(Mt){!M||(A(!Mt||Mt&&Mt.type?new p:Mt),M.abort(),M=null)},w.cancelToken&&w.cancelToken.subscribe(N),w.signal&&(w.signal.aborted?N():w.signal.addEventListener("abort",N))),F||(F=null);var At=v(ht);if(At&&["http","https","file"].indexOf(At)===-1){A(new y("Unsupported protocol "+At+":",y.ERR_BAD_REQUEST,w));return}M.send(F)})},hs}var zc,Wc;function p_(){return Wc||(Wc=1,zc=null),zc}var Rt=Dt,Hc=n_,qc=Hn,m_=Vl,g_=Jl,y_={"Content-Type":"application/x-www-form-urlencoded"};function Vc(r,o){!Rt.isUndefined(r)&&Rt.isUndefined(r["Content-Type"])&&(r["Content-Type"]=o)}function v_(){var r;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(r=d_()),r}function __(r,o,n){if(Rt.isString(r))try{return(o||JSON.parse)(r),Rt.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(r)}var Fi={transitional:m_,adapter:v_(),transformRequest:[function(r,o){if(Hc(o,"Accept"),Hc(o,"Content-Type"),Rt.isFormData(r)||Rt.isArrayBuffer(r)||Rt.isBuffer(r)||Rt.isStream(r)||Rt.isFile(r)||Rt.isBlob(r))return r;if(Rt.isArrayBufferView(r))return r.buffer;if(Rt.isURLSearchParams(r))return Vc(o,"application/x-www-form-urlencoded;charset=utf-8"),r.toString();var n=Rt.isObject(r),s=o&&o["Content-Type"],u;if((u=Rt.isFileList(r))||n&&s==="multipart/form-data"){var c=this.env&&this.env.FormData;return g_(u?{"files[]":r}:r,c&&new c)}else if(n||s==="application/json")return Vc(o,"application/json"),__(r);return r}],transformResponse:[function(r){var o=this.transitional||Fi.transitional,n=o&&o.silentJSONParsing,s=o&&o.forcedJSONParsing,u=!n&&this.responseType==="json";if(u||s&&Rt.isString(r)&&r.length)try{return JSON.parse(r)}catch(c){if(u)throw c.name==="SyntaxError"?qc.from(c,qc.ERR_BAD_RESPONSE,this,null,this.response):c}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:p_()},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Rt.forEach(["delete","get","head"],function(r){Fi.headers[r]={}});Rt.forEach(["post","put","patch"],function(r){Fi.headers[r]=Rt.merge(y_)});var Us=Fi,w_=Dt,b_=Us,x_=function(r,o,n){var s=this||b_;return w_.forEach(n,function(u){r=u.call(s,r,o)}),r},Jc,Kc;function Yl(){return Kc||(Kc=1,Jc=function(r){return!!(r&&r.__CANCEL__)}),Jc}var Yc=Dt,ds=x_,E_=Yl(),T_=Us,A_=ji();function ps(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new A_}var S_=function(r){ps(r),r.headers=r.headers||{},r.data=ds.call(r,r.data,r.headers,r.transformRequest),r.headers=Yc.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),Yc.forEach(["delete","get","head","post","put","patch","common"],function(n){delete r.headers[n]});var o=r.adapter||T_.adapter;return o(r).then(function(n){return ps(r),n.data=ds.call(r,n.data,n.headers,r.transformResponse),n},function(n){return E_(n)||(ps(r),n&&n.response&&(n.response.data=ds.call(r,n.response.data,n.response.headers,r.transformResponse))),Promise.reject(n)})},oe=Dt,Xl=function(r,o){o=o||{};var n={};function s(p,v){return oe.isPlainObject(p)&&oe.isPlainObject(v)?oe.merge(p,v):oe.isPlainObject(v)?oe.merge({},v):oe.isArray(v)?v.slice():v}function u(p){if(oe.isUndefined(o[p])){if(!oe.isUndefined(r[p]))return s(void 0,r[p])}else return s(r[p],o[p])}function c(p){if(!oe.isUndefined(o[p]))return s(void 0,o[p])}function f(p){if(oe.isUndefined(o[p])){if(!oe.isUndefined(r[p]))return s(void 0,r[p])}else return s(void 0,o[p])}function m(p){if(p in o)return s(r[p],o[p]);if(p in r)return s(void 0,r[p])}var y={url:c,method:c,data:c,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:m};return oe.forEach(Object.keys(r).concat(Object.keys(o)),function(p){var v=y[p]||u,w=v(p);oe.isUndefined(w)&&v!==m||(n[p]=w)}),n},Xc,Gc;function Gl(){return Gc||(Gc=1,Xc={version:"0.27.2"}),Xc}var k_=Gl().version,Qe=Hn,zs={};["object","boolean","number","function","string","symbol"].forEach(function(r,o){zs[r]=function(n){return typeof n===r||"a"+(o<1?"n ":" ")+r}});var Zc={};zs.transitional=function(r,o,n){function s(u,c){return"[Axios v"+k_+"] Transitional option '"+u+"'"+c+(n?". "+n:"")}return function(u,c,f){if(r===!1)throw new Qe(s(c," has been removed"+(o?" in "+o:"")),Qe.ERR_DEPRECATED);return o&&!Zc[c]&&(Zc[c]=!0,console.warn(s(c," has been deprecated since v"+o+" and will be removed in the near future"))),r?r(u,c,f):!0}};function C_(r,o,n){if(typeof r!="object")throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);for(var s=Object.keys(r),u=s.length;u-- >0;){var c=s[u],f=o[c];if(f){var m=r[c],y=m===void 0||f(m,c,r);if(y!==!0)throw new Qe("option "+c+" must be "+y,Qe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Qe("Unknown option "+c,Qe.ERR_BAD_OPTION)}}var O_={assertOptions:C_,validators:zs},Zl=Dt,R_=zl,Qc=t_,tl=S_,Pi=Xl,j_=Kl,Ql=O_,Nn=Ql.validators;function Ln(r){this.defaults=r,this.interceptors={request:new Qc,response:new Qc}}Ln.prototype.request=function(r,o){typeof r=="string"?(o=o||{},o.url=r):o=r||{},o=Pi(this.defaults,o),o.method?o.method=o.method.toLowerCase():this.defaults.method?o.method=this.defaults.method.toLowerCase():o.method="get";var n=o.transitional;n!==void 0&&Ql.assertOptions(n,{silentJSONParsing:Nn.transitional(Nn.boolean),forcedJSONParsing:Nn.transitional(Nn.boolean),clarifyTimeoutError:Nn.transitional(Nn.boolean)},!1);var s=[],u=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(o)===!1||(u=u&&w.synchronous,s.unshift(w.fulfilled,w.rejected))});var c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});var f;if(!u){var m=[tl,void 0];for(Array.prototype.unshift.apply(m,s),m=m.concat(c),f=Promise.resolve(o);m.length;)f=f.then(m.shift(),m.shift());return f}for(var y=o;s.length;){var p=s.shift(),v=s.shift();try{y=p(y)}catch(w){v(w);break}}try{f=tl(y)}catch(w){return Promise.reject(w)}for(;c.length;)f=f.then(c.shift(),c.shift());return f};Ln.prototype.getUri=function(r){r=Pi(this.defaults,r);var o=j_(r.baseURL,r.url);return R_(o,r.params,r.paramsSerializer)};Zl.forEach(["delete","get","head","options"],function(r){Ln.prototype[r]=function(o,n){return this.request(Pi(n||{},{method:r,url:o,data:(n||{}).data}))}});Zl.forEach(["post","put","patch"],function(r){function o(n){return function(s,u,c){return this.request(Pi(c||{},{method:r,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:u}))}}Ln.prototype[r]=o(),Ln.prototype[r+"Form"]=o(!0)});var F_=Ln,ms,el;function P_(){if(el)return ms;el=1;var r=ji();function o(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(c){s=c});var u=this;this.promise.then(function(c){if(u._listeners){var f,m=u._listeners.length;for(f=0;f<m;f++)u._listeners[f](c);u._listeners=null}}),this.promise.then=function(c){var f,m=new Promise(function(y){u.subscribe(y),f=y}).then(c);return m.cancel=function(){u.unsubscribe(f)},m},n(function(c){u.reason||(u.reason=new r(c),s(u.reason))})}return o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},o.prototype.unsubscribe=function(n){if(this._listeners){var s=this._listeners.indexOf(n);s!==-1&&this._listeners.splice(s,1)}},o.source=function(){var n,s=new o(function(u){n=u});return{token:s,cancel:n}},ms=o,ms}var nl,rl;function B_(){return rl||(rl=1,nl=function(r){return function(o){return r.apply(null,o)}}),nl}var gs,il;function D_(){if(il)return gs;il=1;var r=Dt;return gs=function(o){return r.isObject(o)&&o.isAxiosError===!0},gs}var ol=Dt,N_=$l,vi=F_,M_=Xl,I_=Us;function tf(r){var o=new vi(r),n=N_(vi.prototype.request,o);return ol.extend(n,vi.prototype,o),ol.extend(n,o),n.create=function(s){return tf(M_(r,s))},n}var Zt=tf(I_);Zt.Axios=vi;Zt.CanceledError=ji();Zt.CancelToken=P_();Zt.isCancel=Yl();Zt.VERSION=Gl().version;Zt.toFormData=Jl;Zt.AxiosError=Hn;Zt.Cancel=Zt.CanceledError;Zt.all=function(r){return Promise.all(r)};Zt.spread=B_();Zt.isAxiosError=D_();Ds.exports=Zt;Ds.exports.default=Zt;(function(r){r.exports=Ds.exports})(Il);const $_=h1(Il.exports);class L_{constructor(o){E(this,"audio"),E(this,"status","pre"),E(this,"startTime",0),E(this,"seVolume",.5),E(this,"musicVolume",1),E(this,"offset",-100),E(this,"game"),E(this,"ac",new AudioContext),E(this,"sounds",{}),E(this,"mainGain",this.ac.createGain()),E(this,"musicNode"),this.game=o,this.syncTime()}set volume(o){this.mainGain.gain.value=o}get volume(){return this.mainGain.gain.value}async extract(o){const n=await this.ac.decodeAudioData(o);return this.audio=n,n}play(){if(this.status==="playing")throw new TypeError("The game music is playing now.");this.startTime=this.ac.currentTime,this.game.time=(this.ac.currentTime-this.startTime)*1e3;const o=this.ac.createGain(),n=this.ac.createBufferSource();this.musicNode=n,n.buffer=this.audio,n.connect(o),o.gain.value=this.musicVolume,o.connect(this.mainGain),this.mainGain.connect(this.ac.destination),n.start(),this.status="playing",this.startTime=this.ac.currentTime,n.addEventListener("ended",s=>{this.musicEnd()})}async pause(){if(this.status!=="playing")throw new TypeError("You are trying to pause an already paused music.");await this.ac.suspend(),this.status="pause"}async resume(){if(this.status!=="pause")throw new TypeError("You are trying to resume an already playing music.");await this.ac.resume(),this.status="playing"}async addSound(o,n){const s=await this.ac.decodeAudioData(n);this.sounds[o]=s}playSound(o){if(!V(this.sounds[o]))return;const n=this.ac.createGain(),s=this.ac.createBufferSource();n.gain.value=this.seVolume,s.buffer=this.sounds[o],s.connect(n),n.connect(this.mainGain),this.mainGain.connect(this.ac.destination),s.start()}restart(){this.musicNode.stop(),this.syncTime(),this.status="pre",this.game.time=this.offset}sync(){this.status==="pre"?this.game.time=this.offset:this.game.time=(this.ac.currentTime-this.startTime)*1e3+this.offset}syncTime(){const o=()=>this.sync();this.game.ticker.add(o,!0)}async musicEnd(){await Ci(1e3),this.game.end()}}class U_ extends Bs{constructor(o,n){var s,u,c,f,m;if(super({load:[],start:[],restart:[],pause:[],resume:[],end:[]}),E(this,"audio"),E(this,"mtt"),E(this,"status","pre"),E(this,"time",0),E(this,"length",0),E(this,"ended",!1),E(this,"scoreCalculator",this.defaultScoreCalculator),E(this,"isMobile",window.innerWidth<window.innerHeight),E(this,"target"),E(this,"ctx"),E(this,"ticker",new Fs),E(this,"ac",new L_(this)),E(this,"chart",new C1(this)),E(this,"renderer",new j1(this)),E(this,"width"),E(this,"height"),E(this,"scale"),E(this,"noteScale",1),E(this,"noteWidth",this.isMobile?200:150),E(this,"drawScale"),E(this,"drawWidth"),E(this,"halfWidth"),E(this,"drawHeight"),E(this,"halfHeight"),E(this,"topWidth"),E(this,"halfTopWidth"),E(this,"multiStroke"),E(this,"perfect",50),E(this,"good",80),E(this,"miss",120),this.target=o,this.ctx=o.getContext("2d"),this.ctx.save(),this.width=o.width,this.height=o.height,this.scale=Math.min(this.width/1920,this.height/1080),o.width/o.height!==parseFloat((16/9).toFixed(7))){const y=this.width/1920,p=this.height/1080;if(y<p){const v=o.width*9/16;o.height=v,o.style.height=`${v}px`}else{const v=o.height*16/9;o.width=v,o.style.width=`${v}px`}}this.noteScale=(s=n==null?void 0:n.noteScale)!=null?s:1,this.noteWidth=(u=n==null?void 0:n.noteWidth)!=null?u:this.noteWidth,this.perfect=(c=n==null?void 0:n.perfect)!=null?c:50,this.good=(f=n==null?void 0:n.good)!=null?f:80,this.miss=(m=n==null?void 0:n.miss)!=null?m:120,this.drawScale=this.scale*this.noteScale,this.drawWidth=this.noteWidth*this.drawScale,this.halfWidth=this.drawWidth/2,this.drawHeight=this.drawWidth/10,this.halfHeight=this.drawHeight/2,this.topWidth=this.drawWidth-this.halfHeight*2,this.halfTopWidth=this.topWidth/2,this.multiStroke=this.ctx.createLinearGradient(0,-this.halfHeight,0,this.halfHeight),this.multiStroke.addColorStop(0,"#fff"),this.multiStroke.addColorStop(.5,"#fef267"),this.multiStroke.addColorStop(1,"#fff"),o.addEventListener("touchstart",this.chart.judger.touchstart),o.addEventListener("touchend",this.chart.judger.touchend),this.chart.register("generator","linear",xi),this.chart.register("generator","bezier",_1),this.chart.register("generator","trigo",w1),this.chart.register("generator","power",b1),this.chart.register("generator","hyper",x1),this.chart.register("generator","inverseTrigo",E1),this.chart.register("generator","shake",T1),this.chart.register("pathG","circle",O1),this.chart.register("pathG","bezier",R1),this.chart.registerExecute("base","r",(y,p)=>p.setRadius(y)),this.chart.registerExecute("base","bpm",(y,p)=>p.setSpeed(y)),this.chart.registerExecute("base","rgba",(y,p)=>p.rgba(...y)),this.chart.registerExecute("base","filter",(y,p)=>p.filter(y)),this.chart.registerExecute("note","speed",(y,p)=>p.setSpeed(y)),this.chart.registerExecute("note","filter",(y,p)=>p.filter(y)),this.chart.registerExecute("note","shadow",(y,p)=>p.shadow(y.x,y.y,y.blur,y.color)),this.chart.registerExecute("note","opacity",(y,p)=>p.opacity(y)),this.chart.registerExecute("camera","css",(y,p)=>p.css(y))}async load(o,n,s,u){const c=Date.now();if(V(this.audio)||V(this.mtt))throw new TypeError("The game's music or chart has already been loaded.");const f=[this.loadMusic(o,s),this.loadMTT(n,u)];await Promise.all(f);const m={target:this,type:"load",time:Date.now()-c};this.dispatch("load",m)}async start(o=1e3){if(this.status!=="pre")throw new TypeError("The game has already started or ended.");await Ci(o),this.status="playing",this.ac.play(),this.renderer.start();const n={target:this,type:"start",music:this.ac.audio,mtt:this.mtt};this.dispatch("start",n)}pause(){const o=this.status;if(this.status==="pause")throw new TypeError("The game has already paused.");this.status="pause",this.ac.pause();const n={target:this,type:"pause",from:o,to:this.status};this.dispatch("pause",n)}resume(){const o=this.status;if(this.status==="playing")throw new TypeError("The game has already resumed.");this.status="playing",this.ac.resume();const n={target:this,type:"resume",from:o,to:this.status};this.dispatch("resume",n)}async restart(o=1e3){this.ticker.clear(),this.ctx.restore(),this.ctx.clearRect(0,0,this.target.width,this.target.height),this.renderer.clearEffect(),this.status="pre",this.chart.judger.toJudge=[],this.chart.camera.ticker.destroy(),this.ac.restart(),await this.chart.restart();const n={target:this,type:"restart",music:this.ac.audio,mtt:this.mtt};this.dispatch("restart",n),this.start(o)}end(){if(this.status==="exit")throw new TypeError("The game has already ended.");const o=this.status;this.ticker.destroy(),this.ac.pause(),this.ended=!0,this.status="exit",this.chart.camera.ticker.destroy();const n=this.chart.bases;Object.values(n).forEach(c=>c.ticker.destroy());const s=this.chart.notes;Object.values(s).forEach(c=>c.ticker.destroy());const u={target:this,type:"end",from:o,to:this.status};this.dispatch("end",u)}setOffset(o){if(this.status!=="pre")throw new TypeError("Offset can only be set before the game starts.");this.ac.offset=o}getScore(){const o={...this.getDetail(),length:this.length,maxCombo:this.chart.judger.maxCombo};return this.scoreCalculator(o)}getDetail(){const{perfect:o,good:n,miss:s,early:u,late:c}=this.chart.judger;return{perfect:o,good:n,miss:s,early:u,late:c}}setScoreCalculator(o){this.scoreCalculator=o}async setSound(o,n){const s=await this.post(n,"arraybuffer");await this.ac.addSound(o,s.data)}async post(o,n,s){const u={responseType:n,onDownloadProgress:s};return await $_.get(o,u)}async loadMusic(o,n){const s=await this.post(o,"arraybuffer",n);if(s.status!==200)return this.fail(`Fail to load url [${o}]`,s.status);const u=await this.ac.extract(s.data);this.audio=u}async loadMTT(o,n){const s=await this.post(o,"json",n);if(s.status!==200)return this.fail(`Fail to load url [${o}]`,s.status);this.mtt=s.data,this.chart.extract(this.mtt)}fail(o,n){console.error(`${n}: ${o}`)}defaultScoreCalculator(o){const n=9e5/this.length,s=this.chart.judger,u=s.maxCombo/this.length*1e5;return Math.round(n*s.perfect+n*.5*s.good+u)}}function z_(r,o){return new U_(r,o)}const W_=z_,Un=Fs,ef={},_i={};let sl=0;const Se=new AudioContext,Ti=ft(0);async function H_(r,o){const n=await Bt.get(r,{responseType:"arraybuffer",onDownloadProgress:o}),s=await Se.decodeAudioData(n.data);return _i[r]=s,n}async function wi(r,o=!1){const n=Se.createGain(),s=Se.createBufferSource();if(Ps.has(_i[r]))s.buffer=_i[r];else{const c=await Bt.get(r,{responseType:"arraybuffer"}),f=await Se.decodeAudioData(c.data);_i[r]=f,s.buffer=f}s.loop=o,ef[sl]=[s,n],s.connect(n),n.connect(Se.destination),s.start();const u=sl++;return r==="/Mutate-HTML/music/mutate.mp3"&&(Ti.value=u),u}function al(r){const o=ef[r];if(!Ps.has(o))throw new ReferenceError("You are trying to get a nonexistent audio.");return o}const q_=window.innerWidth<=window.innerHeight;function Ws(){return _t()?{w:window.innerHeight*.95,h:window.innerWidth*.95}:{w:window.innerWidth*.95,h:window.innerHeight*.95}}function _t(){return q_}function In(r){return r<1024?`${r}B`:r<1024**2?`${(r/1024).toFixed(2)}KB`:r<1024**3?`${(r/1024**2).toFixed(2)}MB`:r<1024**4?`${(r/1024**3).toFixed(2)}GB`:`${r}B`}function ul(r){return`${Math.floor(r/60)}:${(r%60).toString().padStart(2,"0")}`}const V_=mn({__name:"cover",setup(r){const o=Wy("select");let n=new Un;function s(){const u=document.getElementById("cover");u.style.opacity="0",u.addEventListener("transitionend",c=>{o.value=!0,n.destroy()})}return gn(async()=>{await Ae.sleep(500);const u=document.getElementById("cover"),c=u.getContext("2d");Ti.value=await wi("/Mutate-HTML/music/mutate.mp3",!0);const f=Se.currentTime;u.style.border="1px solid #fff",u.style.opacity="1";const{w:m,h:y}=Ws();u.width=m,u.height=y;let p=110,v=1.5;const w=[],k=A=>{for(let F=0;F<A;F++){let P,D;const N=~~(Math.random()*4);let L;N===1?(P=0,D=Math.random()*y,L=(Math.random()-.5)*Math.PI*.6):N===2?(P=m,D=Math.random()*y,L=(Math.random()+.5)*Math.PI*.6):N===3?(D=0,P=Math.random()*m,L=Math.random()*Math.PI*.6):(D=y,P=Math.random()*m,L=(Math.random()-1)*Math.PI*.6);const M=Math.cos(L),ot=Math.sin(L),Z=Math.random()*10+50,ht=`rgba(${~~(Math.random()*255)}, ${~~(Math.random()*255)}, ${~~(Math.random()*255)}, 0.5)`;w.push({x:P,y:D,r:Z,vx:M,vy:ot,color:ht})}};k(20),c.save(),n.add(A=>{c.restore(),c.save(),c.clearRect(0,0,u.width,u.height);const F=Se.currentTime*1e3;A<1e3?(u.style.filter=`blur(${5-A/200}px)`,p=55-A/20,v=1+2*(A/2e3-.5)**2):(p=3,v=1),w.length<30&&k(1);const P=(~~F-f)%462;let D=0;P>362&&(D=(P-362)/100),P<100&&(D=1-P/100);for(let N=0;N<w.length;N++){const L=w[N];if(L.x+=L.vx*p,L.y+=L.vy*p,L.x<0-L.r||L.x>u.width+L.r||L.y<0-L.r||L.y>u.height+L.r){w.splice(N,1),N--;continue}c.filter="blur(25px)",c.fillStyle=L.color,c.beginPath(),c.arc(L.x,L.y,L.r,0,Math.PI*2),c.closePath(),c.fill(),c.filter="none"}c.shadowColor="#3df0ff",c.shadowBlur=8,c.shadowOffsetX=2,c.shadowOffsetY=2,c.textAlign="center",c.fillStyle="#f78fff",c.strokeStyle="#3df0ff",c.font=`${v*12+D}em normal`,c.filter=`blur(${(p-10)/10}px)`,c.fillText("MUTATE",u.width/2,u.height/2),c.strokeText("MUTATE",u.width/2,u.height/2),c.fillStyle="#fff",c.shadowBlur=0,c.shadowColor="",c.shadowOffsetX=0,c.shadowOffsetY=0,c.font="2em normal",c.fillText("\u70B9\u51FB\u5F00\u59CB\u6E38\u620F",u.width/2,u.height/2+40)})}),(u,c)=>(gt(),Pt("canvas",{id:"cover",onClick:s}))}});const vn=(r,o)=>{const n=r.__vccOpts||r;for(const[s,u]of o)n[s]=u;return n},J_=vn(V_,[["__scopeId","data-v-124f3c94"]]),nf={};async function K_(r,o){await Bt.get(r,{onDownloadProgress:o});const n=new Image;return n.src=r,await new Promise(s=>{n.addEventListener("load",u=>s("success"))}),nf[r.split("/").at(-1)]=n,n}const Y_=r=>(As("data-v-fe80d0a2"),r=r(),Ss(),r),X_={key:0,id:"start-load"},G_=Y_(()=>at("canvas",{id:"loading"},null,-1)),Z_={key:1,id:"start-page"},Q_=mn({__name:"start",setup(r){const o=ft(!1),n=ft(0),s=3410663,u=ft(0);let c={};const f="/Mutate-HTML/";function m(){const v=Object.values(c).reduce((w,k)=>w+k,0);n.value=parseFloat((v/s*100).toFixed(2)),u.value=v}async function y(){const v=[p(`${f}music/mutate.mp3`,0,"arraybuffer"),p(`${f}se/tap.wav`,1,"arraybuffer"),p(`${f}se/drag.wav`,2,"arraybuffer"),p(`${f}image/base1.png`,3,"arraybuffer"),p(`${f}image/base2.png`,4,"arraybuffer"),p(`${f}image/base3.png`,5,"arraybuffer"),(async()=>{const w=await p(`${f}font/normal.ttf`,3,"arraybuffer"),k=new FontFace("normal",w.data);await k.load(),document.fonts.add(k)})()];await Promise.all(v)}async function p(v,w,k){const A=F=>{c[w]=F.loaded,m()};return v.endsWith(".mp3")||v.endsWith(".wav")?await H_(v,A):v.endsWith(".png")||v.endsWith(".jpg")||v.endsWith(".jpeg")?await K_(v,A):await Bt.get(v,{responseType:k,onDownloadProgress:A})}return gn(async()=>{const v=new Un,w=document.getElementById("loading"),k=w.getContext("2d");setTimeout(()=>{w.style.opacity="1",w.style.width="80%",w.style.height="80%",w.style.filter="none"},50),_t()?(w.width=window.innerHeight*.95,w.height=window.innerWidth*.95):(w.width=window.innerWidth*.95,w.height=window.innerHeight*.95),k.strokeStyle="#eee",k.lineWidth=5,k.lineCap="round",v.add(A=>{const F=Math.PI*A/700,P=w.width,D=w.height,N=P/2,L=D/2;k.clearRect(0,0,w.width,w.height),k.beginPath(),k.arc(N,L,Math.min(P,D)/16,0,Math.PI*2),k.strokeStyle="#444",k.stroke(),k.beginPath(),k.arc(N,L,Math.min(P,D)/16,F,F+Math.PI/2),k.strokeStyle="#eee",k.stroke(),k.closePath(),k.textAlign="center",k.font="normal 4em Verdana",k.fillStyle="#eee",k.fillText(`loading${".".repeat(Math.floor(A/800)%4)}`,N,L+L/2),k.textAlign="right",k.font=`normal ${_t()?1:2}em Verdana`,k.fillText(`${In(u.value)} / ${In(s)}`,w.width-30,w.height-30)}),await y(),n.value=100,w.style.opacity="0",w.style.width="100%",w.style.height="100%",w.style.filter="blur(5px)",m(),w.addEventListener("transitionend",async()=>{o.value||(o.value=!0,v.destroy())})}),(v,w)=>{const k=ll;return gt(),Pt(pi,null,[o.value?Ue("",!0):(gt(),Pt("div",X_,[G_,lt(k,{percent:n.value,style:{width:"90%"}},null,8,["percent"])])),o.value?(gt(),Pt("div",Z_,[lt(J_)])):Ue("",!0)],64)}}});const tw=vn(Q_,[["__scopeId","data-v-fe80d0a2"]]);const ew={\u5355\u66F2:["\u7075","\u7EA2\u67AB"]},tn={\u7075:{file:{music:"1.mp3",image:"1.jpg",chart:{easy:"1_1.mtt",normal:"1_2.mtt",hard:"1_3.mtt"}},author:"\u5F31\u9E21\u7EFF\u6BDB\u602A",chart:"\u53E4\u7960",duration:158,hard:{easy:4,normal:7,hard:12}},\u7EA2\u67AB:{file:{music:"2.mp3",image:"2.jpg",chart:{easy:"2_1.mtt",normal:"2_2.mtt",hard:"2_3.mtt"}},author:"\u5F31\u9E21\u7EFF\u6BDB\u602A",chart:"\u53E4\u7960",duration:135,hard:{easy:3,normal:8,hard:14}}},nw=["id"],rw=mn({__name:"scroll",props:{total:null,now:null,id:null},emits:["scroll"],setup(r,{expose:o,emit:n}){const s=r;let u,c=!1,f=s.now;function m(y=s.now){f=y;const p=s.total;if(p===0)return;f>p&&(console.warn("\u5F53\u524D\u6EDA\u52A8\u6761\u4F4D\u7F6E\u5927\u4E8E\u4E86\u603B\u957F\u5EA6"),f=p);const v=Math.min(u.canvas.height/p,1)*u.canvas.height,w=f/p*u.canvas.height;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.moveTo(20,Math.max(w+5,5)),u.lineTo(20,Math.min(w+v-5,u.canvas.height-5)),u.lineCap="round",u.lineWidth=6,u.strokeStyle="#fff",u.stroke()}return Hy(()=>{m()}),gn(()=>{const y=document.getElementById(`scroll-${s.id}`);u=y.getContext("2d");const p=getComputedStyle(y);y.width=40,y.height=parseFloat(p.height),m(),y.addEventListener("mousedown",v=>{c=!0}),document.addEventListener("mouseup",v=>{c=!1,y.height<s.total&&n("scroll",f)}),document.addEventListener("mousemove",v=>{if(!c)return;const w=v.movementY;y.height<s.total&&(m(w+f),n("scroll",f+w))})}),o({draw:m}),(y,p)=>(gt(),Pt("canvas",{id:`scroll-${s.id}`,class:"scroll"},null,8,nw))}});const cl=vn(rw,[["__scopeId","data-v-e19906a4"]]),iw={id:"leftbar"},ow={id:"song-selector"},sw={id:"song-menu"},aw={id:"rightbar"},uw={id:"song-image"},cw={id:"song-top-info"},lw=["src"],fw={id:"info"},hw={id:"hard"},dw={id:"song-info"},pw={id:"music"},mw={id:"chart"},gw={id:"chart"},yw={id:"score"},vw={id:"score-num"},_w={id:"rank"},ww={id:"start"},bw=mn({__name:"select",emits:["start","setting"],setup(r,{emit:o}){let n=localStorage.getItem("@mutate:select");n||(localStorage.setItem("@mutate:select","\u5355\u66F2@@\u7075@@0"),n="\u5355\u66F2@@\u7075@@0");const s=n.split("@@"),u=ft(s[0].split(",")),c=ft([s[1]]),f=ft("easy"),m=ft(parseFloat(s[2])),y=ft(0),p=ft(cl),v=_t()?window.innerHeight:window.innerWidth,w=ft(!1);let k,A,F,P,D,N,L;const M=qy(()=>Nt(f.value));bi(c,Q=>{localStorage.setItem("@mutate:select",`${u.value.join(",")}@@${Q[0]}@@${m.value}`)});function ot(){requestAnimationFrame(()=>p.value.draw())}function Z(Q){if(parseFloat(getComputedStyle(A).height)>=y.value)return;const dt=parseFloat(getComputedStyle(A).height);Q+dt>=y.value?(m.value=y.value-dt,k.style.top=`${-m.value}px`):Q<=0?(m.value=0,k.style.top="0px"):(m.value=Q,k.style.top=`${-Q}px`),ot()}async function ht(Q=0){await Ae.sleep(Q);const dt=getComputedStyle(k),Ct=getComputedStyle(F);y.value=parseFloat(dt.height)+2*parseFloat(Ct.padding)}function yt(Q){f.value=Q}function Nt(Q){return Q==="easy"?"#348f00":Q==="normal"?"#b8b400":Q==="hard"?"#7a0003":"#8f008a"}function At(Q){const dt=Q%60;return`${Math.floor(Q/60)}m${dt}s`}function Mt(){let Q=localStorage.getItem(`@mutate:score-${c.value[0]}-${f.value}`);return Q||(Q="0F"),Q.padStart(8,"0")}function ge(){return localStorage.getItem(`@mutate:score-${c.value[0]}-${f.value}`)!==null}function qn(Q){return`/Mutate-HTML/image/${Q}`}async function nn(){const Q={music:c.value[0],hard:f.value,auto:w.value};A.style.opacity="0";const dt=new Un,[Ct,It]=al(Ti.value);dt.add($t=>{It.gain.value=(700-$t)/700}),await Ae.sleep(700),dt.destroy(),Ct.stop(),o("start",Q)}async function br(){A.style.opacity="0";const Q=new Un,[dt,Ct]=al(Ti.value);Q.add(It=>{Ct.gain.value=(700-It)/700}),await Ae.sleep(700),Q.destroy(),dt.stop(),o("setting")}return gn(async()=>{await Ae.sleep(200),A=document.getElementById("select"),F=document.getElementById("leftbar"),k=document.getElementById("song-menu"),P=document.getElementById("rightbar"),D=document.getElementById("song-info"),N=document.getElementById("score-num"),L=document.getElementById("rank"),ht(),F.addEventListener("wheel",$t=>{if(parseFloat(getComputedStyle(A).height)>=y.value)return;const xt=Math.sign($t.deltaY)*100;m.value+=xt,Z(m.value)});let Q=0;F.addEventListener("touchstart",$t=>{const xt=$t.touches[0];Q=_t()?xt.clientX:xt.clientY}),F.addEventListener("touchmove",$t=>{if($t.preventDefault(),parseFloat(getComputedStyle(A).height)>=y.value)return;const xt=$t.touches[0],wt=_t()?xt.clientX:xt.clientY;m.value+=wt-Q,Z(m.value),Q=wt});const dt=_t()?window.innerHeight/window.innerWidth:window.innerWidth/window.innerHeight;_t()&&(F.style.width="calc(25% + 48px)",P.style.width="calc(75% - 48px)"),D.style.fontSize=_t()?`${v/1e3}em`:`${v/900}em`,A.style.opacity="1",L.style.fontSize=_t()?`${v/800}em`:`${v/600}em`,N.style.fontSize=_t()?`${v/1e3}em`:`${v/800}em`;const{w:Ct,h:It}=Ws();if(dt>16/9){const $t=It*16/9,wt=(parseFloat(getComputedStyle(A).width)-$t)/2;A.style.paddingLeft=`${wt}px`,A.style.paddingRight=`${wt}px`}if(dt<16/9){const $t=Ct*9/16,wt=(parseFloat(getComputedStyle(A).height)-$t)/2;A.style.paddingTop=`${wt}px`,A.style.paddingBottom=`${wt}px`}await Ae.sleep(200),Z(m.value)}),(Q,dt)=>{const Ct=hl,It=Gy,$t=fl,xt=Vy,wt=Jy,Bi=Ky;return gt(),Pt("div",{id:"select",style:Xt({"background-color":`${et(M)}22`})},[at("div",iw,[at("div",ow,[at("div",sw,[lt($t,{mode:"inline",theme:"dark",openKeys:u.value,"onUpdate:openKeys":dt[1]||(dt[1]=ye=>u.value=ye),selectedKeys:c.value,"onUpdate:selectedKeys":dt[2]||(dt[2]=ye=>c.value=ye),style:Xt({"font-size":et(_t)()?"1em":"1.5em"})},{default:Gt(()=>[(gt(!0),Pt(pi,null,rs(et(ew),(ye,ke)=>(gt(),dn(It,{key:ke,onTitleClick:dt[0]||(dt[0]=se=>ht(300))},{title:Gt(()=>[Mn(zt(ke),1)]),default:Gt(()=>[(gt(!0),Pt(pi,null,rs(ye,(se,Vn)=>(gt(),dn(Ct,{key:se,style:Xt({"font-size":et(_t)()?"1em":"1.5em"})},{default:Gt(()=>[Mn(zt(se)+"\xA0-\xA0"+zt(et(tn)[se].author),1)]),_:2},1032,["style"]))),128))]),_:2},1024))),128))]),_:1},8,["openKeys","selectedKeys","style"])])]),lt(cl,{id:"select",now:m.value,total:y.value,ref_key:"scroll",ref:p,onScroll:Z},null,8,["now","total"]),lt(xt,{style:{"border-color":"#ddd4",height:"96%",top:"2%",margin:"0","margin-right":"8px"},type:"vertical",dashed:""})]),at("div",aw,[at("div",uw,[at("div",cw,[at("span",{id:"song-name",style:Xt({"font-size":et(_t)()?`${et(v)/800}em`:`${et(v)/600}em`})},zt(c.value[0]),5),lt(et(Yy),{id:"settings",style:Xt({"margin-top":"2%","margin-right":"5%",transform:`scale(${et(v)/9}%)`,cursor:"pointer",transition:"all 0.2s linear"}),onClick:br},null,8,["style"])]),lt(xt,{style:{"border-color":"#ddd4",margin:"0"},dashed:""}),at("img",{src:qn(et(tn)[c.value[0]].file.image),id:"image"},null,8,lw)]),lt(xt,{style:{"border-color":"#ddd4",height:"100%"},type:"vertical",dashed:""}),at("div",fw,[at("div",hw,[(gt(!0),Pt(pi,null,rs(et(tn)[c.value[0]].hard,(ye,ke)=>(gt(),dn(wt,{key:ke,type:ke===f.value?"primary":"default",size:"large",style:Xt({height:et(_t)()?"50%":"100%",margin:"1%","font-size":et(_t)()?`${et(v)/1e3}em`:`${et(v)/550}em`,"text-align":"center","vertical-align":"middle","line-height":"100%","background-color":`${f.value===ke?et(M):"transparent"}`}),onClick:se=>yt(ke)},{default:Gt(()=>[Mn(zt(ke)+"\xA0-\xA0"+zt(ye),1)]),_:2},1032,["type","style","onClick"]))),128))]),lt(xt,{style:{"border-color":"#ddd4","margin-bottom":"1%"},dashed:""}),at("div",dw,[at("span",pw,"\u66F2\u5E08\xA0\xA0\xA0\xA0"+zt(et(tn)[c.value[0]].author),1),at("span",mw,"\u8C31\u5E08\xA0\xA0\xA0\xA0"+zt(et(tn)[c.value[0]].chart),1),at("span",gw,"\u65F6\u957F\xA0\xA0\xA0\xA0"+zt(At(et(tn)[c.value[0]].duration)),1)]),lt(xt,{style:{"border-color":"#ddd4",margin:"1%"},dashed:""}),at("div",yw,[at("span",vw,"\u6210\u7EE9\xA0\xA0\xA0\xA0"+zt(Mt().slice(0,-1)),1),at("span",_w,zt(ge()?Mt().slice(-1):""),1)]),lt(xt,{style:{"border-color":"#ddd4",margin:"1%"},dashed:""}),at("div",ww,[lt(Bi,{checked:w.value,"onUpdate:checked":dt[3]||(dt[3]=ye=>w.value=ye),style:Xt({"font-size":et(_t)()?`${et(v)/3e3}em`:`${et(v)/1500}em`,"margin-left":"3%"})},{default:Gt(()=>[Mn("\u81EA\u52A8\u64AD\u653E")]),_:1},8,["checked","style"]),lt(wt,{style:{width:"50%",height:"80%","background-color":"#ccc"},onClick:nn},{default:Gt(()=>[lt(et(Xy),{style:Xt({transform:`scale(${et(v)/4}%)`,color:"#000"})},null,8,["style"])]),_:1})])])])],4)}}});const xw=vn(bw,[["__scopeId","data-v-587f59a9"]]);function Ew(r){r.renderer.setBase(Aw),r.chart.camera.setGlobalEffects(Sw)}function Tw(r){const o=r.target,n=r.ctx,s=o.game,u=n.canvas;n.save(),n.textBaseline="top",n.fillStyle="#fff",n.textAlign="right",n.font="100 32px normal",n.fillText(s.getScore().toString().padStart(7,"0"),u.width-20,15);const c=s.chart.judger.combo;n.beginPath(),n.moveTo(0,0),n.lineTo(u.width*o.game.time/1e3/o.game.ac.audio.duration,0),n.lineCap="square",n.lineWidth=8,n.stroke();const f=`${ul(Math.floor(o.game.time/1e3))} / ${ul(Math.floor(o.game.ac.audio.duration+1))}`;n.textAlign="left",n.font="100 24px normal",n.fillText(f,10,10),!(c<3&&!o.game.chart.judger.auto)&&(n.textAlign="center",n.font="100 48px normal",n.fillText(`${c}`,u.width/2,10),n.font="100 32px normal",o.game.chart.judger.auto?n.fillText("autoplay",u.width/2,50):n.fillText("combo",u.width/2,50),n.restore())}function Aw(r){if(!this.inGame(r.x,r.y)||!r.inited)return;const o=r.calRad()+r.angle*Math.PI/180;let n="";r.id.endsWith("-j")&&(n="base1.png"),r.id.endsWith("-i1")&&(n="base2.png"),r.id.endsWith("-i2")&&(n="base3.png");const s=nf[n];if(!s)return;const u=this.game.ctx,c=this.game.scale,f=r.x*c,m=r.y*c,y=r.custom.radius*c,{a:p}=r.custom;u.save(),u.translate(f,m),n!=="base1.png"&&u.rotate(o+Math.PI),r.ctxFilter.length>0&&(u.filter=r.ctxFilter),u.globalAlpha=p,u.drawImage(s,-y,-y,y*2,y*2),u.restore()}function Sw(r){const o=r.target,n=r.game.scale,s=960*n,u=540*n,c=r.x*n,f=r.y*n;o.translate(-c+s,-f+u),o.rotate(r.angle*Math.PI/180),o.scale(r.size,r.size),o.translate(-s,-u),o.shadowBlur=4,o.shadowColor="black"}const kw=r=>(As("data-v-a28969c1"),r=r(),Ss(),r),Cw={id:"mutate-div"},Ow={id:"mutate-core"},Rw=kw(()=>at("canvas",{id:"mutate-game",style:{width:"100%",height:"100%"}},null,-1)),jw=mn({__name:"play",props:{chart:null,music:null,auto:{type:Boolean}},setup(r){var m;const o=r,n=ft([0,0]),s=ft([0,0]),u=ft(["0","0"]),c=ft(0),f=parseFloat((m=localStorage.getItem("@mutate:offset"))!=null?m:"0");return gn(async()=>{const y=document.getElementById("mutate-core"),p=document.getElementById("mutate-game"),v=p.getContext("2d");let{w,h:k}=Ws();if(w-=10,k-=10,w/k>16/9){const D=k*16/9;p.height=k,p.width=D,y.style.width=`${D}px`,y.style.height=`${k}px`}else{const D=w*9/16;p.height=D,p.width=w,y.style.width=`${w}px`,y.style.height=`${D}px`}await Ae.sleep(600);const A=W_(p),F="/Mutate-HTML/";p.style.opacity="1",c.value=1;const P=new Un;P.add(D=>{const N=Math.PI*D/700,L=p.width,M=p.height,ot=L/2,Z=M/5*2;v.lineWidth=5,v.lineCap="round",v.clearRect(0,0,p.width,p.height),v.beginPath(),v.arc(ot,Z,Math.min(L,M)/16,0,Math.PI*2),v.strokeStyle="#444",v.stroke(),v.beginPath(),v.arc(ot,Z,Math.min(L,M)/16,N,N+Math.PI/2),v.strokeStyle="#eee",v.stroke(),v.closePath(),v.textAlign="center",v.font="normal 4em Verdana",v.fillStyle="#eee",v.fillText(`loading${".".repeat(Math.floor(D/800)%4)}`,ot,Z+Z/2);const ht=In(n.value[0]),yt=In(s.value[0]);v.textAlign="left",v.font=`normal ${24*p.width/1920}px Verdana`,v.fillText(`\u97F3\u4E50\u52A0\u8F7D\u8FDB\u5EA6    ${ht} / ${yt}`,p.width/11,p.height*(1-.11));const Nt=In(n.value[1]),At=In(s.value[1]);v.fillText(`\u8C31\u9762\u52A0\u8F7D\u8FDB\u5EA6    ${Nt} / ${At}`,p.width/11,p.height*(1-.21)),u.value=[(n.value[0]/s.value[0]*100).toFixed(2),(n.value[1]/s.value[1]*100).toFixed(2)]}),await A.load(`${F}music/${o.music}`,`${F}chart/${o.chart}`,D=>{n.value[0]=D.loaded,s.value[0]=D.total},D=>{n.value[1]=D.loaded,s.value[1]=D.total}),p.style.opacity="0",c.value=0,await Ae.sleep(600),P.destroy(),v.clearRect(0,0,p.width,p.height),p.style.opacity="1",p.style.transition="",A.setOffset(-f),Ew(A),A.start(),A.setSound("tap","/Mutate-HTML/se/tap.wav"),A.setSound("drag","/Mutate-HTML/se/drag.wav"),o.auto&&(A.chart.judger.auto=!0),A.renderer.on("after",Tw)}),(y,p)=>{const v=ll;return gt(),Pt("div",Cw,[at("div",Ow,[Rw,lt(v,{percent:parseFloat(u.value[0]),style:Xt({position:"absolute",bottom:"7%",width:"50%",left:"7%",opacity:c.value,transition:"opacity 0.6s linear"})},null,8,["percent","style"]),lt(v,{percent:parseFloat(u.value[1]),style:Xt({position:"absolute",bottom:"17%",width:"50%",left:"7%",opacity:c.value,transition:"opacity 0.6s linear"})},null,8,["percent","style"])])])}}});const Fw=vn(jw,[["__scopeId","data-v-a28969c1"]]);const Pw=r=>(As("data-v-8ec746ca"),r=r(),Ss(),r),Bw={id:"settings"},Dw={id:"back-div",style:{display:"flex","justify-content":"center","align-items":"center","justify-items":"center"}},Nw={key:0,id:"offset"},Mw=Pw(()=>at("canvas",{id:"offset-canvas"},null,-1)),Iw={id:"slider"},$w={id:"slider-main"},Lw={key:0,style:{"font-size":"1.4vw"}},Uw={key:1,style:{"font-size":"1.4vw"}},zw={key:1,id:"option"},Ww=mn({__name:"setting",emits:["exit"],setup(r,{emit:o}){const n=ft(["offset"]),s=ft(0),u=ft(0),c=new Un,f=localStorage.getItem("@mutate:offset");Ps.has(f)?s.value=parseInt(f):(localStorage.setItem("@mutate:offset","0"),s.value=0),bi(s,p=>{localStorage.setItem("@mutate:offset",p.toString())}),bi(n,p=>{c.clear(),p[0]==="offset"&&y()},{immediate:!0}),gn(async()=>{await Ae.sleep(200);const p=document.getElementById("settings");p.style.opacity="1"});async function m(){const p=document.getElementById("settings");p.style.opacity="0",await Ae.sleep(600),wi("/Mutate-HTML/music/mutate.mp3"),c.destroy(),o("exit")}async function y(){await Ae.sleep(200);const p=document.getElementById("offset-canvas"),v=p.getContext("2d"),w=getComputedStyle(p);p.width=parseFloat(w.width),p.height=parseFloat(w.height);const k=p.width,A=p.height,F=Se.currentTime;let P=0,D=0,N=1e3;c.add(async()=>{v.clearRect(0,0,k,A);const Z=(Se.currentTime-F)*1e3%2400;v.save();const ht=k*3/4+s.value/2400*k;v.strokeStyle="#ddd",v.lineWidth=2,v.beginPath(),v.moveTo(ht,0),v.lineTo(ht,A),v.stroke();const yt=Z/2400*k;v.beginPath(),v.moveTo(yt,A/4),v.lineTo(yt+7,A/4+7),v.lineTo(yt+7,A*3/4-7),v.lineTo(yt,A*3/4),v.lineTo(yt-7,A*3/4-7),v.lineTo(yt-7,A/4+7),v.closePath(),v.fillStyle="#00d2eb",v.lineWidth=4,v.fill(),v.stroke(),N+=16.7;let Nt=2-N/500;Nt<0&&(Nt=0),v.globalAlpha=Nt,v.strokeStyle="#5f9",v.beginPath(),v.moveTo(D,0),v.lineTo(D,A),v.stroke(),v.restore();const At=Math.floor(Z/600)%4;(At===1||At===2)&&P!==At?(P=At,await wi("/Mutate-HTML/se/drag.wav")):At===3&&P!==At&&(P=At,await wi("/Mutate-HTML/se/tap.wav"))});let L=[];document.addEventListener("keydown",ot=>{if(!L.includes(ot.keyCode)){L.push(ot.keyCode);const Z=(Se.currentTime-F)*1e3%2400;D=Z/2400*k,N=0,u.value=Math.round(Z-1800-s.value)}}),document.addEventListener("keyup",ot=>{const Z=L.findIndex(ht=>ht===ot.keyCode);Z!==-1&&L.splice(Z,1)});let M=0;p.addEventListener("touchstart",ot=>{const Z=M;if(ot.touches.length>Z){const ht=(Se.currentTime-F)*1e3%2400;D=ht/2400*k,N=0,u.value=Math.round(ht-1800-s.value)}M=ot.touches.length}),p.addEventListener("touchend",ot=>{M=ot.touches.length})}return(p,v)=>{const w=hl,k=fl,A=nv,F=rv,P=iv,D=Zy;return gt(),Pt("div",Bw,[lt(D,{style:Xt({width:et(_t)()?"95vh":"95vw",height:et(_t)()?"95vw":"95vh"})},{default:Gt(()=>[lt(A,null,{default:Gt(()=>[at("div",Dw,[lt(et(Qy),{onClick:m,id:"back",style:{"font-size":"24px",cursor:"pointer",transition:"all 0.2s linear"}})]),lt(k,{selectedKeys:n.value,"onUpdate:selectedKeys":v[0]||(v[0]=N=>n.value=N),theme:"dark",mode:"horizontal",style:{"font-size":"28px","font-family":"normal"}},{default:Gt(()=>[lt(w,{key:"offset",style:{margin:"0 2% 0 2%"}},{default:Gt(()=>[Mn("\u6821\u51C6")]),_:1}),lt(w,{key:"option",style:{margin:"0 2% 0 2%"}},{default:Gt(()=>[Mn("\u8BBE\u7F6E")]),_:1})]),_:1},8,["selectedKeys"])]),_:1}),lt(P,null,{default:Gt(()=>[n.value[0]==="offset"?(gt(),Pt("div",Nw,[at("span",{id:"hint",style:Xt({"font-size":et(_t)()?"2.5vh":"3vw"})},"\u8C03\u6574\u6ED1\u52A8\u6761\u4F7F\u5728\u7B2C\u4E09\u4E2A\u8282\u62CD\u6253\u51FB\u65F6\u6070\u597D\u5728\u6807\u51C6\u7EBF\u5904"+zt(et(_t)()?"\uFF08\u624B\u673A\u7AEF\u4E0D\u53EF\u62D6\u52A8\u6ED1\u52A8\u6761\uFF09":""),5),Mw,at("div",Iw,[at("span",{style:Xt({"font-size":et(_t)()?"2vh":"2vw"})}," \u6253\u51FB\u5EF6\u8FDF\xA0\xA0\xA0\xA0"+zt(u.value>0?`+${u.value}`:u.value)+"ms ",5),at("span",{style:Xt({"font-size":et(_t)()?"2vh":"2vw"})},zt(s.value>0?`+${s.value}`:s.value)+"ms",5),at("div",$w,[lt(et(tv),{style:{"font-size":"3vw",cursor:"pointer"},onClick:v[1]||(v[1]=N=>s.value<-300?s.value=-300:s.value-=5)}),lt(F,{value:s.value,"onUpdate:value":v[2]||(v[2]=N=>s.value=N),id:"slider-slider",step:5,"tip-formatter":N=>`${N>0?`+${N}`:N}ms`,min:-300,max:300,included:!1,marks:{"-300":"-300ms","-200":"-200ms","-100":"-100ms",0:"0",100:"+100ms",200:"+200ms",300:"+300ms"}},{mark:Gt(({label:N,point:L})=>[L===0?(gt(),Pt("strong",Lw,zt(N),1)):(gt(),Pt("p",Uw,zt(N),1))]),_:1},8,["value","tip-formatter"]),lt(et(ev),{style:{"font-size":"3vw",cursor:"pointer"},onClick:v[3]||(v[3]=N=>s.value>300?s.value=300:s.value+=5)})])])])):Ue("",!0),n.value[0]==="option"?(gt(),Pt("div",zw)):Ue("",!0)]),_:1})]),_:1},8,["style"])])}}});const Hw=vn(Ww,[["__scopeId","data-v-8ec746ca"]]),qw={key:0,id:"start-tip"},Vw=mn({__name:"App",setup(r){const o=ft(!1),n=ft(!1),s=ft(!1),u=ft(!1),c=ft(""),f=ft(""),m=ft(!1),y=ft(!1);bi(s,A=>{A===!0&&(o.value=!1);const F=document.getElementById("game");F.style.border="1px solid #fff"}),ov("select",s),gn(()=>{const A=document.getElementById("game"),F=document.getElementById("start-tip");window.innerHeight>window.innerWidth&&(A.style.transform="rotate(90deg)",A.style.width="95vh",A.style.height="95vw"),F.style.opacity="1",A.addEventListener("touchmove",P=>P.preventDefault())});function p(){if(n.value)return;const A=document.getElementById("start-tip");A.style.opacity="0",A.addEventListener("transitionend",()=>{o.value=!0,n.value=!0})}function v(A){const{music:F,hard:P}=A,D=tn[F].file.music,N=tn[F].file.chart[P];c.value=D,f.value=N,m.value=!0,s.value=!1,y.value=A.auto}function w(){s.value=!1,u.value=!0}function k(){u.value=!1,s.value=!0}return(A,F)=>(gt(),Pt("div",{id:"game",onClick:p},[n.value?Ue("",!0):(gt(),Pt("span",qw,"\u70B9\u51FB\u4EE5\u52A0\u8F7D\u6E38\u620F")),o.value?(gt(),dn(tw,{key:1})):Ue("",!0),s.value?(gt(),dn(xw,{key:2,onStart:v,onSetting:w})):Ue("",!0),m.value?(gt(),dn(Fw,{key:3,chart:f.value,music:c.value,auto:y.value},null,8,["chart","music","auto"])):Ue("",!0),u.value?(gt(),dn(Hw,{key:4,onExit:k})):Ue("",!0)]))}});const Jw=vn(Vw,[["__scopeId","data-v-484fdfa3"]]);sv(Jw).mount("#app");export{Kw as __vite_legacy_guard};
